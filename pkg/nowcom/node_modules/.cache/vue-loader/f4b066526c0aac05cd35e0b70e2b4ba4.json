{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/DetailTop.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/DetailTop.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBUYWcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFnJzsKaW1wb3J0IGlzRW1wdHkgZnJvbSAnbG9kYXNoL2lzRW1wdHknOwppbXBvcnQgRGV0YWlsVGV4dCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9EZXRhaWxUZXh0JzsKaW1wb3J0IHsgX1ZJRVcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IEV4dGVuc2lvblBvaW50LCBQYW5lbExvY2F0aW9uIH0gZnJvbSAnQHNoZWxsL2NvcmUvdHlwZXMnOwppbXBvcnQgRXh0ZW5zaW9uUGFuZWwgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvRXh0ZW5zaW9uUGFuZWwnOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERldGFpbFRleHQsIFRhZywgRXh0ZW5zaW9uUGFuZWwKICB9LAoKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAoKICAgIG1vcmVEZXRhaWxzOiB7CiAgICAgIHR5cGU6ICAgIEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogT3B0aW9uYWxseSByZXBsYWNlIGtleS92YWx1ZSBhbmQgZGlzcGxheSB0b29sdGlwcyBmb3IgdGhlIHRhYgogICAgICogRGljdGlvbmFyeSBrZXkgYmFzZWQKICAgICAqLwogICAgdG9vbHRpcHM6IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogT3B0aW9uYWxseSBkaXNwbGF5IGljb25zIG5leHQgdG8gdGhlIHRhYgogICAgICogRGljdGlvbmFyeSBrZXkgYmFzZWQKICAgICAqLwogICAgaWNvbnM6IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGV4dGVuc2lvblR5cGU6ICAgICAgRXh0ZW5zaW9uUG9pbnQuUEFORUwsCiAgICAgIGV4dGVuc2lvbkxvY2F0aW9uOiAgUGFuZWxMb2NhdGlvbi5ERVRBSUxfVE9QLAogICAgICBhbm5vdGF0aW9uc1Zpc2libGU6IGZhbHNlLAogICAgICBzaG93QWxsTGFiZWxzOiAgICAgIGZhbHNlLAogICAgICB2aWV3OiAgICAgICAgICAgICAgIF9WSUVXCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBuYW1lc3BhY2VzKCkgewogICAgICByZXR1cm4gKHRoaXMudmFsdWU/Lm5hbWVzcGFjZXMgfHwgW10pLm1hcCgobmFtZXNwYWNlKSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5hbWU6ICAgICAgICAgICBuYW1lc3BhY2U/Lm1ldGFkYXRhPy5uYW1lLAogICAgICAgICAgZGV0YWlsTG9jYXRpb246IG5hbWVzcGFjZS5kZXRhaWxMb2NhdGlvbgogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIGRldGFpbHMoKSB7CiAgICAgIGNvbnN0IGl0ZW1zID0gWwogICAgICAgIC4uLih0aGlzLm1vcmVEZXRhaWxzIHx8IFtdKSwKICAgICAgICAuLi4odGhpcy52YWx1ZT8uZGV0YWlscyB8fCBbXSksCiAgICAgIF0uZmlsdGVyKCh4KSA9PiB4LnNlcGFyYXRvciB8fCAoISFgJHsgeC5jb250ZW50IH1gICYmIHguY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHguY29udGVudCAhPT0gbnVsbCkpOwoKICAgICAgY29uc3QgZ3JvdXBzID0gW107CiAgICAgIGxldCBjdXJyZW50R3JvdXAgPSBbXTsKCiAgICAgIGl0ZW1zLmZvckVhY2goKGkpID0+IHsKICAgICAgICBpZiAoaS5zZXBhcmF0b3IpIHsKICAgICAgICAgIGdyb3Vwcy5wdXNoKGN1cnJlbnRHcm91cCk7CiAgICAgICAgICBjdXJyZW50R3JvdXAgPSBbXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3VycmVudEdyb3VwLnB1c2goaSk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChjdXJyZW50R3JvdXAubGVuZ3RoKSB7CiAgICAgICAgZ3JvdXBzLnB1c2goY3VycmVudEdyb3VwKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdyb3VwczsKICAgIH0sCgogICAgbGFiZWxzKCkgewogICAgICBpZiAoIXRoaXMuc2hvd0ZpbHRlcmVkU3lzdGVtTGFiZWxzKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU/LmxhYmVscyB8fCB7fTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMudmFsdWU/LmZpbHRlcmVkU3lzdGVtTGFiZWxzOwogICAgfSwKCiAgICBpbnRlcm5hbFRvb2x0aXBzKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZT8uZGV0YWlsVG9wVG9vbHRpcHMgfHwgdGhpcy50b29sdGlwczsKICAgIH0sCgogICAgaW50ZXJuYWxJY29ucygpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWU/LmRldGFpbFRvcEljb25zIHx8IHRoaXMuaWNvbnM7CiAgICB9LAoKICAgIGFubm90YXRpb25zKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZT8uYW5ub3RhdGlvbnMgfHwge307CiAgICB9LAoKICAgIGRlc2NyaXB0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZT8uZGVzY3JpcHRpb247CiAgICB9LAoKICAgIGhhc0RldGFpbHMoKSB7CiAgICAgIHJldHVybiAhaXNFbXB0eSh0aGlzLmRldGFpbHMpOwogICAgfSwKCiAgICBoYXNMYWJlbHMoKSB7CiAgICAgIHJldHVybiAhaXNFbXB0eSh0aGlzLmxhYmVscyk7CiAgICB9LAoKICAgIGhhc0Fubm90YXRpb25zKCkgewogICAgICByZXR1cm4gIWlzRW1wdHkodGhpcy5hbm5vdGF0aW9ucyk7CiAgICB9LAoKICAgIGhhc0Rlc2NyaXB0aW9uKCkgewogICAgICByZXR1cm4gIWlzRW1wdHkodGhpcy5kZXNjcmlwdGlvbik7CiAgICB9LAoKICAgIGhhc05hbWVzcGFjZXMoKSB7CiAgICAgIHJldHVybiAhaXNFbXB0eSh0aGlzLm5hbWVzcGFjZXMpOwogICAgfSwKCiAgICBhbm5vdGF0aW9uQ291bnQoKSB7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmFubm90YXRpb25zIHx8IHt9KS5sZW5ndGg7CiAgICB9LAoKICAgIGlzRW1wdHkoKSB7CiAgICAgIGNvbnN0IGhhc0FueXRoaW5nID0gdGhpcy5oYXNEZXRhaWxzIHx8IHRoaXMuaGFzTGFiZWxzIHx8IHRoaXMuaGFzQW5ub3RhdGlvbnMgfHwgdGhpcy5oYXNEZXNjcmlwdGlvbiB8fCB0aGlzLmhhc05hbWVzcGFjZXM7CgogICAgICByZXR1cm4gIWhhc0FueXRoaW5nOwogICAgfSwKCiAgICBzaG93RmlsdGVyZWRTeXN0ZW1MYWJlbHMoKSB7CiAgICAgIC8vIEl0IHdvdWxkIGJlIG5pY2VyIHRvIHVzZSBoYXNTeXN0ZW1MYWJlbHMgaGVyZSwgYnV0IG5vdCBhbGwgcGxhY2VzIGhhdmUgaW1wbGVtZW50ZWQgaXQKICAgICAgLy8gSW5zdGVhZCBjaGVjayB0aGF0IHRoZXJlJ3MgYSBkaXNjcmVwYW5jeSBiZXR3ZWVuIGFsbCBsYWJlbHMgYW5kIGFsbCBsYWJlbHMgd2l0aG91dCBzeXN0ZW0gb25lcwogICAgICBpZiAodGhpcy52YWx1ZT8ubGFiZWxzICYmIHRoaXMudmFsdWU/LmZpbHRlcmVkU3lzdGVtTGFiZWxzKSB7CiAgICAgICAgY29uc3QgbGFiZWxDb3VudCA9IE9iamVjdC5rZXlzKHRoaXMudmFsdWUubGFiZWxzKS5sZW5ndGg7CiAgICAgICAgY29uc3QgZmlsdGVyZWRTeXN0ZW1MYWJlbHNDb3VudCA9IE9iamVjdC5rZXlzKHRoaXMudmFsdWUuZmlsdGVyZWRTeXN0ZW1MYWJlbHMpLmxlbmd0aDsKCiAgICAgICAgcmV0dXJuIGxhYmVsQ291bnQgIT09IGZpbHRlcmVkU3lzdGVtTGFiZWxzQ291bnQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICB0b2dnbGVMYWJlbHMoKSB7CiAgICAgIHRoaXMuc2hvd0FsbExhYmVscyA9ICF0aGlzLnNob3dBbGxMYWJlbHM7CiAgICB9LAoKICAgIHRvZ2dsZUFubm90YXRpb25zKGV2KSB7CiAgICAgIHRoaXMuYW5ub3RhdGlvbnNWaXNpYmxlID0gIXRoaXMuYW5ub3RhdGlvbnNWaXNpYmxlOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["DetailTop.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"DetailTop.vue","sourceRoot":"../../node_modules/@rancher/shell/components","sourcesContent":["<script>\nimport Tag from '@shell/components/Tag';\nimport isEmpty from 'lodash/isEmpty';\nimport DetailText from '@shell/components/DetailText';\nimport { _VIEW } from '@shell/config/query-params';\nimport { ExtensionPoint, PanelLocation } from '@shell/core/types';\nimport ExtensionPanel from '@shell/components/ExtensionPanel';\n\nexport default {\n  components: {\n    DetailText, Tag, ExtensionPanel\n  },\n\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    moreDetails: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    },\n\n    /**\n     * Optionally replace key/value and display tooltips for the tab\n     * Dictionary key based\n     */\n    tooltips: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    /**\n     * Optionally display icons next to the tab\n     * Dictionary key based\n     */\n    icons: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n\n  data() {\n    return {\n      extensionType:      ExtensionPoint.PANEL,\n      extensionLocation:  PanelLocation.DETAIL_TOP,\n      annotationsVisible: false,\n      showAllLabels:      false,\n      view:               _VIEW\n    };\n  },\n\n  computed: {\n    namespaces() {\n      return (this.value?.namespaces || []).map((namespace) => {\n        return {\n          name:           namespace?.metadata?.name,\n          detailLocation: namespace.detailLocation\n        };\n      });\n    },\n    details() {\n      const items = [\n        ...(this.moreDetails || []),\n        ...(this.value?.details || []),\n      ].filter((x) => x.separator || (!!`${ x.content }` && x.content !== undefined && x.content !== null));\n\n      const groups = [];\n      let currentGroup = [];\n\n      items.forEach((i) => {\n        if (i.separator) {\n          groups.push(currentGroup);\n          currentGroup = [];\n        } else {\n          currentGroup.push(i);\n        }\n      });\n\n      if (currentGroup.length) {\n        groups.push(currentGroup);\n      }\n\n      return groups;\n    },\n\n    labels() {\n      if (!this.showFilteredSystemLabels) {\n        return this.value?.labels || {};\n      }\n\n      return this.value?.filteredSystemLabels;\n    },\n\n    internalTooltips() {\n      return this.value?.detailTopTooltips || this.tooltips;\n    },\n\n    internalIcons() {\n      return this.value?.detailTopIcons || this.icons;\n    },\n\n    annotations() {\n      return this.value?.annotations || {};\n    },\n\n    description() {\n      return this.value?.description;\n    },\n\n    hasDetails() {\n      return !isEmpty(this.details);\n    },\n\n    hasLabels() {\n      return !isEmpty(this.labels);\n    },\n\n    hasAnnotations() {\n      return !isEmpty(this.annotations);\n    },\n\n    hasDescription() {\n      return !isEmpty(this.description);\n    },\n\n    hasNamespaces() {\n      return !isEmpty(this.namespaces);\n    },\n\n    annotationCount() {\n      return Object.keys(this.annotations || {}).length;\n    },\n\n    isEmpty() {\n      const hasAnything = this.hasDetails || this.hasLabels || this.hasAnnotations || this.hasDescription || this.hasNamespaces;\n\n      return !hasAnything;\n    },\n\n    showFilteredSystemLabels() {\n      // It would be nicer to use hasSystemLabels here, but not all places have implemented it\n      // Instead check that there's a discrepancy between all labels and all labels without system ones\n      if (this.value?.labels && this.value?.filteredSystemLabels) {\n        const labelCount = Object.keys(this.value.labels).length;\n        const filteredSystemLabelsCount = Object.keys(this.value.filteredSystemLabels).length;\n\n        return labelCount !== filteredSystemLabelsCount;\n      }\n\n      return false;\n    },\n  },\n  methods: {\n    toggleLabels() {\n      this.showAllLabels = !this.showAllLabels;\n    },\n\n    toggleAnnotations(ev) {\n      this.annotationsVisible = !this.annotationsVisible;\n    }\n  }\n};\n</script>\n\n<template>\n  <div\n    class=\"detail-top\"\n    :class=\"{empty: isEmpty}\"\n  >\n    <div\n      v-if=\"hasNamespaces\"\n      class=\"labels\"\n    >\n      <span class=\"label\">\n        {{ t('resourceDetail.detailTop.namespaces') }}:\n      </span>\n      <span>\n        <nuxt-link\n          v-for=\"namespace in namespaces\"\n          :key=\"namespace.name\"\n          :to=\"namespace.detailLocation\"\n          class=\"namespaceLinkList\"\n        >\n          {{ namespace.name }}\n        </nuxt-link>\n      </span>\n    </div>\n\n    <div\n      v-if=\"description\"\n      class=\"description\"\n    >\n      <span class=\"label\">\n        {{ t('resourceDetail.detailTop.description') }}:\n      </span>\n      <span class=\"content\">{{ description }}</span>\n    </div>\n\n    <div v-if=\"hasDetails\">\n      <div\n        v-for=\"group, index in details\"\n        :key=\"index\"\n        class=\"details\"\n      >\n        <div\n          v-for=\"detail in group\"\n          :key=\"detail.label || detail.slotName\"\n          class=\"detail\"\n        >\n          <span class=\"label\">\n            {{ detail.label }}:\n          </span>\n          <component\n            :is=\"detail.formatter\"\n            v-if=\"detail.formatter\"\n            :value=\"detail.content\"\n            v-bind=\"detail.formatterOpts\"\n          />\n          <span v-else>{{ detail.content }}</span>\n        </div>\n      </div>\n    </div>\n\n    <div\n      v-if=\"hasLabels\"\n      class=\"labels\"\n    >\n      <div class=\"tags\">\n        <span class=\"label\">\n          {{ t('resourceDetail.detailTop.labels') }}:\n        </span>\n        <Tag\n          v-for=\"(prop, key) in labels\"\n          :key=\"key + prop\"\n        >\n          <i\n            v-if=\"internalIcons[key]\"\n            class=\"icon\"\n            :class=\"internalIcons[key]\"\n          />\n          <span\n            v-if=\"internalTooltips[key]\"\n            v-clean-tooltip=\"prop ? `${key} : ${prop}` : key\"\n          >\n            <span>{{ internalTooltips[key] ? internalTooltips[key] : key }}</span>\n            <span v-if=\"showAllLabels\">: {{ key }}</span>\n          </span>\n          <span v-else>{{ prop ? `${key} : ${prop}` : key }}</span>\n        </Tag>\n        <a\n          v-if=\"showFilteredSystemLabels\"\n          href=\"#\"\n          class=\"detail-top__label-button\"\n          @click.prevent=\"toggleLabels\"\n        >\n          {{ t(`resourceDetail.detailTop.${showAllLabels? 'hideLabels' : 'showLabels'}`) }}\n        </a>\n      </div>\n    </div>\n\n    <div\n      v-if=\"hasAnnotations\"\n      class=\"annotations\"\n    >\n      <span class=\"label\">\n        {{ t('resourceDetail.detailTop.annotations') }}:\n      </span>\n      <a\n        href=\"#\"\n        @click.prevent=\"toggleAnnotations\"\n      >\n        {{ t(`resourceDetail.detailTop.${annotationsVisible? 'hideAnnotations' : 'showAnnotations'}`, {annotations: annotationCount}) }}\n      </a>\n      <div v-if=\"annotationsVisible\">\n        <DetailText\n          v-for=\"(val, key) in annotations\"\n          :key=\"key\"\n          class=\"annotation\"\n          :value=\"val\"\n          :label=\"key\"\n        />\n      </div>\n    </div>\n\n    <!-- Extensions area -->\n    <ExtensionPanel\n      :resource=\"value\"\n      :type=\"extensionType\"\n      :location=\"extensionLocation\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\">\n  .detail-top {\n    $spacing: 4px;\n\n    &:not(.empty) {\n      // Flip of .masthead padding/margin\n      padding-top: 10px;\n      border-top: 1px solid var(--border);\n      margin-top: 10px;\n    }\n\n    .namespaceLinkList:not(:first-child):before {\n      content: \", \";\n    }\n\n    .tags {\n      display: inline-flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      position: relative;\n      top: $spacing * math.div(-1, 2);\n\n      .label {\n        position: relative;\n        top: $spacing;\n      }\n\n      .tag {\n        margin: math.div($spacing, 2) $spacing 0 math.div($spacing, 2);\n        font-size: 12px;\n      }\n    }\n\n    .annotation {\n      margin-top: 10px;\n    }\n\n    .label {\n      color: var(--input-label);\n      margin: 0 4px 0 0;\n    }\n\n    &__label-button {\n      padding: 4px;\n    }\n\n    .details {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n\n      .detail {\n        margin-right: 20px;\n        margin-bottom: 3px;\n      }\n      &:not(:first-of-type) {\n        margin-top: 3px;\n      }\n    }\n\n    & > div {\n      &:not(:last-of-type) {\n        margin-bottom: $spacing;\n      }\n    }\n\n    .icon {\n      vertical-align: top;\n    }\n  }\n</style>\n"]}]}