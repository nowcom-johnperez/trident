{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceList/Masthead.vue?vue&type=style&index=0&id=c734c0f4&prod&lang=scss&scoped=true","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceList/Masthead.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":1716430467357},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1716430467929},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/postcss-loader/src/index.js","mtime":1716430467882},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/postcss-loader/src/index.js","mtime":1716430467882},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/sass-loader/dist/cjs.js","mtime":1716430453705},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci50aXRsZSB7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBkaXNwbGF5OiBmbGV4OwogIGgxIHsKICAgIG1hcmdpbjogMDsKICB9Cn0KCmhlYWRlciB7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQo="},{"version":3,"sources":["Masthead.vue"],"names":[],"mappings":";AAiOA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Masthead.vue","sourceRoot":"../../node_modules/@rancher/shell/components/ResourceList","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport Favorite from '@shell/components/nav/Favorite';\nimport TypeDescription from '@shell/components/TypeDescription';\nimport { get } from '@shell/utils/object';\nimport { AS, _YAML } from '@shell/config/query-params';\nimport ResourceLoadingIndicator from './ResourceLoadingIndicator';\n\n/**\n * Resource List Masthead component.\n */\nexport default {\n\n  name: 'MastheadResourceList',\n\n  components: {\n    Favorite,\n    TypeDescription,\n    ResourceLoadingIndicator,\n  },\n  props: {\n    resource: {\n      type:     String,\n      required: true,\n    },\n    favoriteResource: {\n      type:    String,\n      default: null\n    },\n    schema: {\n      type:    Object,\n      default: null,\n    },\n    typeDisplay: {\n      type:    String,\n      default: null,\n    },\n    isCreatable: {\n      type:    Boolean,\n      default: null,\n    },\n    isYamlCreatable: {\n      type:    Boolean,\n      default: null,\n    },\n    createLocation: {\n      type:    Object,\n      default: null,\n    },\n    yamlCreateLocation: {\n      type:    Object,\n      default: null,\n    },\n    createButtonLabel: {\n      type:    String,\n      default: null\n    },\n    loadResources: {\n      type:    Array,\n      default: () => []\n    },\n\n    loadIndeterminate: {\n      type:    Boolean,\n      default: false\n    },\n\n    showIncrementalLoadingIndicator: {\n      type:    Boolean,\n      default: false\n    },\n\n    /**\n     * Inherited global identifier prefix for tests\n     * Define a term based on the parent component to avoid conflicts on multiple components\n     */\n    componentTestid: {\n      type:    String,\n      default: 'masthead'\n    }\n  },\n\n  data() {\n    const params = { ...this.$route.params };\n\n    const formRoute = { name: `${ this.$route.name }-create`, params };\n\n    const hasEditComponent = this.$store.getters['type-map/hasCustomEdit'](this.resource);\n\n    const yamlRoute = {\n      name:  `${ this.$route.name }-create`,\n      params,\n      query: { [AS]: _YAML },\n    };\n\n    return {\n      formRoute,\n      yamlRoute,\n      hasEditComponent,\n    };\n  },\n\n  computed: {\n    get,\n    ...mapGetters(['isExplorer']),\n\n    resourceName() {\n      if (this.schema) {\n        return this.$store.getters['type-map/labelFor'](this.schema);\n      }\n\n      return this.resource;\n    },\n\n    _typeDisplay() {\n      if ( this.typeDisplay !== null) {\n        return this.typeDisplay;\n      }\n\n      if ( !this.schema ) {\n        return '?';\n      }\n\n      return this.$store.getters['type-map/labelFor'](this.schema, 99);\n    },\n\n    _isYamlCreatable() {\n      if ( this.isYamlCreatable !== null) {\n        return this.isYamlCreatable;\n      }\n\n      return this.schema && this._isCreatable && this.$store.getters['type-map/optionsFor'](this.resource).canYaml;\n    },\n\n    _isCreatable() {\n      // Does not take into account hasEditComponent, such that _isYamlCreatable works\n      if ( this.isCreatable !== null) {\n        return this.isCreatable;\n      }\n\n      // blocked-post means you can post through norman, but not through steve.\n      if ( this.schema && !this.schema?.collectionMethods.find((x) => ['blocked-post', 'post'].includes(x.toLowerCase())) ) {\n        return false;\n      }\n\n      return this.$store.getters['type-map/optionsFor'](this.resource).isCreatable;\n    },\n\n    _createLocation() {\n      return this.createLocation || this.formRoute;\n    },\n\n    _yamlCreateLocation() {\n      return this.yamlCreateLocation || this.yamlRoute;\n    },\n\n    _createButtonlabel() {\n      return this.createButtonLabel || this.t('resourceList.head.create');\n    }\n\n  },\n};\n</script>\n\n<template>\n  <header>\n    <slot name=\"typeDescription\">\n      <TypeDescription :resource=\"resource\" />\n    </slot>\n    <div class=\"title\">\n      <h1 class=\"m-0\">\n        {{ _typeDisplay }} <Favorite\n          v-if=\"isExplorer\"\n          :resource=\"favoriteResource || resource\"\n        />\n      </h1>\n      <ResourceLoadingIndicator\n        v-if=\"showIncrementalLoadingIndicator\"\n        :resources=\"loadResources\"\n        :indeterminate=\"loadIndeterminate\"\n      />\n    </div>\n    <div class=\"actions-container\">\n      <slot name=\"actions\">\n        <div class=\"actions\">\n          <slot name=\"extraActions\" />\n\n          <slot name=\"createButton\">\n            <n-link\n              v-if=\"hasEditComponent && _isCreatable\"\n              :to=\"_createLocation\"\n              class=\"btn role-primary\"\n              :data-testid=\"componentTestid+'-create'\"\n            >\n              {{ _createButtonlabel }}\n            </n-link>\n            <n-link\n              v-else-if=\"_isYamlCreatable\"\n              :to=\"_yamlCreateLocation\"\n              class=\"btn role-primary\"\n              :data-testid=\"componentTestid+'-create-yaml'\"\n            >\n              {{ t(\"resourceList.head.createFromYaml\") }}\n            </n-link>\n          </slot>\n        </div>\n      </slot>\n    </div>\n  </header>\n</template>\n\n<style lang=\"scss\" scoped>\n  .title {\n    align-items: center;\n    display: flex;\n    h1 {\n      margin: 0;\n    }\n  }\n\n  header {\n    margin-bottom: 20px;\n  }\n</style>\n"]}]}