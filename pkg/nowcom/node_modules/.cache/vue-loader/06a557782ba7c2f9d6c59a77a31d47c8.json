{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceDetail/Masthead.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceDetail/Masthead.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IEtVQkVSTkVURVMsIFBST0pFQ1QgfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmltcG9ydCB7IEZMRUVULCBOQU1FU1BBQ0UsIE1BTkFHRU1FTlQsIEhFTE0gfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IEJ1dHRvbkdyb3VwIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0J1dHRvbkdyb3VwJzsKaW1wb3J0IHsgQmFkZ2VTdGF0ZSB9IGZyb20gJ0Bjb21wb25lbnRzL0JhZGdlU3RhdGUnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgeyBnZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgTkFNRSBhcyBGTEVFVF9OQU1FIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wcm9kdWN0L2ZsZWV0JzsKaW1wb3J0IHsgSElERV9TRU5TSVRJVkUgfSBmcm9tICdAc2hlbGwvc3RvcmUvcHJlZnMnOwppbXBvcnQgewogIEFTLCBfREVUQUlMLCBfQ09ORklHLCBfWUFNTCwgTU9ERSwgX0NSRUFURSwgX0VESVQsIF9WSUVXLCBfVU5GTEFHLCBfR1JBUEgKfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IEV4dGVuc2lvblBvaW50LCBQYW5lbExvY2F0aW9uIH0gZnJvbSAnQHNoZWxsL2NvcmUvdHlwZXMnOwppbXBvcnQgRXh0ZW5zaW9uUGFuZWwgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvRXh0ZW5zaW9uUGFuZWwnOwoKLyoqCiAqIFJlc291cmNlIERldGFpbCBNYXN0aGVhZCBjb21wb25lbnQuCiAqCiAqIFRvRG86IHRoaXMgY29tcG9uZW50IHNlZW0gdG8gYmUgcGlja2luZyB1cCBhIGxvdCBvZiBsb2dpYyBmcm9tIHNwZWNpYWwgY2FzZXMsIGNvdWxkIGJlIHNpbXBsaWZpZWQgZG93biB0byBwYXJhbWV0ZXJzIGFuZCB0aGVuIGN1c3RvbWl6ZWQgcGVyIHVzZS1jYXNlIHZpYSB3cmFwcGVyIGNvbXBvbmVudAogKi8KZXhwb3J0IGRlZmF1bHQgewoKICBuYW1lOiAnTWFzdGhlYWRSZXNvdXJjZURldGFpbCcsCgogIGNvbXBvbmVudHM6IHsKICAgIEJhZGdlU3RhdGUsIEJhbm5lciwgQnV0dG9uR3JvdXAsIEV4dGVuc2lvblBhbmVsCiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAoKICAgIG1vZGU6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY3JlYXRlJwogICAgfSwKCiAgICByZWFsTW9kZTogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjcmVhdGUnCiAgICB9LAoKICAgIGFzOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogX1lBTUwsCiAgICB9LAoKICAgIGhhc0dyYXBoOiB7CiAgICAgIHR5cGU6ICAgIEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAoKICAgIGhhc0RldGFpbDogewogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKCiAgICBoYXNFZGl0OiB7CiAgICAgIHR5cGU6ICAgIEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAoKICAgIHN0b3JlT3ZlcnJpZGU6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsLAogICAgfSwKCiAgICByZXNvdXJjZTogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAoKICAgIHJlc291cmNlU3VidHlwZTogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAoKICAgIHBhcmVudFJvdXRlT3ZlcnJpZGU6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsLAogICAgfSwKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgREVUQUlMX1ZJRVc6ICAgICAgIF9ERVRBSUwsCiAgICAgIGV4dGVuc2lvblR5cGU6ICAgICBFeHRlbnNpb25Qb2ludC5QQU5FTCwKICAgICAgZXh0ZW5zaW9uTG9jYXRpb246IFBhbmVsTG9jYXRpb24uREVUQUlMU19NQVNUSEVBRCwKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIHNjaGVtYSgpIHsKICAgICAgY29uc3QgaW5TdG9yZSA9IHRoaXMuc3RvcmVPdmVycmlkZSB8fCB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50U3RvcmUnXSh0aGlzLnJlc291cmNlKTsKCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzW2AkeyBpblN0b3JlIH0vc2NoZW1hRm9yYF0oIHRoaXMucmVzb3VyY2UgKTsKICAgIH0sCgogICAgaXNWaWV3KCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSBfVklFVzsKICAgIH0sCgogICAgaXNFZGl0KCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSBfRURJVDsKICAgIH0sCgogICAgaXNDcmVhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09IF9DUkVBVEU7CiAgICB9LAoKICAgIGlzTmFtZXNwYWNlKCkgewogICAgICByZXR1cm4gdGhpcy5zY2hlbWE/LmlkID09PSBOQU1FU1BBQ0U7CiAgICB9LAoKICAgIGlzUHJvamVjdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hPy5pZCA9PT0gTUFOQUdFTUVOVC5QUk9KRUNUOwogICAgfSwKCiAgICBpc1Byb2plY3RIZWxtQ2hhcnQoKSB7CiAgICAgIHJldHVybiB0aGlzLnNjaGVtYT8uaWQgPT09IEhFTE0uUFJPSkVDVEhFTE1DSEFSVDsKICAgIH0sCgogICAgaGFzTXVsdGlwbGVOYW1lc3BhY2VzKCkgewogICAgICByZXR1cm4gISF0aGlzLnZhbHVlLm5hbWVzcGFjZXM7CiAgICB9LAoKICAgIG5hbWVzcGFjZSgpIHsKICAgICAgaWYgKHRoaXMudmFsdWU/Lm1ldGFkYXRhPy5uYW1lc3BhY2UpIHsKICAgICAgICByZXR1cm4gdGhpcy52YWx1ZT8ubWV0YWRhdGE/Lm5hbWVzcGFjZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAoKICAgIGRldGFpbHNBY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlPy5kZXRhaWxzQWN0aW9uOwogICAgfSwKCiAgICBzaG91bGRIaWZlbml6ZSgpIHsKICAgICAgcmV0dXJuICh0aGlzLm1vZGUgPT09ICd2aWV3JyB8fCB0aGlzLm1vZGUgPT09ICdlZGl0JykgJiYgdGhpcy5yZXNvdXJjZVN1YnR5cGU/Lmxlbmd0aCAmJiB0aGlzLnZhbHVlPy5uYW1lRGlzcGxheT8ubGVuZ3RoOwogICAgfSwKCiAgICBuYW1lc3BhY2VMb2NhdGlvbigpIHsKICAgICAgaWYgKCF0aGlzLmlzTmFtZXNwYWNlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUubmFtZXNwYWNlTG9jYXRpb24gfHwgewogICAgICAgICAgbmFtZTogICAnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UtaWQnLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGNsdXN0ZXI6ICB0aGlzLiRyb3V0ZS5wYXJhbXMuY2x1c3RlciwKICAgICAgICAgICAgcHJvZHVjdDogIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3Byb2R1Y3RJZCddLAogICAgICAgICAgICByZXNvdXJjZTogTkFNRVNQQUNFLAogICAgICAgICAgICBpZDogICAgICAgdGhpcy4kcm91dGUucGFyYW1zLm5hbWVzcGFjZQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKCiAgICBpc1dvcmtzcGFjZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3Byb2R1Y3RJZCddID09PSBGTEVFVF9OQU1FICYmICEhdGhpcy52YWx1ZT8ubWV0YWRhdGE/Lm5hbWVzcGFjZTsKICAgIH0sCgogICAgd29ya3NwYWNlTG9jYXRpb24oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogICAnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UtaWQnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgY2x1c3RlcjogIHRoaXMuJHJvdXRlLnBhcmFtcy5jbHVzdGVyLAogICAgICAgICAgcHJvZHVjdDogIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3Byb2R1Y3RJZCddLAogICAgICAgICAgcmVzb3VyY2U6IEZMRUVULldPUktTUEFDRSwKICAgICAgICAgIGlkOiAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMubmFtZXNwYWNlCiAgICAgICAgfQogICAgICB9OwogICAgfSwKCiAgICBwcm9qZWN0KCkgewogICAgICBpZiAodGhpcy5pc05hbWVzcGFjZSkgewogICAgICAgIGNvbnN0IGlkID0gKHRoaXMudmFsdWU/Lm1ldGFkYXRhPy5sYWJlbHMgfHwge30pW1BST0pFQ1RdOwogICAgICAgIGNvbnN0IGNsdXN0ZXJJZCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRDbHVzdGVyJ10uaWQ7CgogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L2J5SWQnXShNQU5BR0VNRU5ULlBST0pFQ1QsIGAkeyBjbHVzdGVySWQgfS8keyBpZCB9YCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCgogICAgYmFubmVyKCkgewogICAgICBpZiAodGhpcy52YWx1ZT8uc3RhdGVPYmo/LmVycm9yKSB7CiAgICAgICAgY29uc3QgZGVmYXVsdEVycm9yTWVzc2FnZSA9IHRoaXMudCgncmVzb3VyY2VEZXRhaWwubWFzdGhlYWQuZGVmYXVsdEJhbm5lck1lc3NhZ2UuZXJyb3InLCB1bmRlZmluZWQsIHRydWUpOwoKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29sb3I6ICAgJ2Vycm9yJywKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMudmFsdWUuc3RhdGVPYmoubWVzc2FnZSB8fCBkZWZhdWx0RXJyb3JNZXNzYWdlCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudmFsdWU/LnNwZWM/LnBhdXNlZCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBjb2xvcjogICAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLnQoJ2FzeW5jQnV0dG9uLnBhdXNlLmRlc2NyaXB0aW9uJykKICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAodGhpcy52YWx1ZT8uc3RhdGVPYmo/LnRyYW5zaXRpb25pbmcpIHsKICAgICAgICBjb25zdCBkZWZhdWx0VHJhbnNpdGlvbmluZ01lc3NhZ2UgPSB0aGlzLnQoJ3Jlc291cmNlRGV0YWlsLm1hc3RoZWFkLmRlZmF1bHRCYW5uZXJNZXNzYWdlLnRyYW5zaXRpb25pbmcnLCB1bmRlZmluZWQsIHRydWUpOwoKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29sb3I6ICAgJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogdGhpcy52YWx1ZS5zdGF0ZU9iai5tZXNzYWdlIHx8IGRlZmF1bHRUcmFuc2l0aW9uaW5nTWVzc2FnZQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKCiAgICBwYXJlbnQoKSB7CiAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gdGhpcy52YWx1ZT8ucGFyZW50TmFtZU92ZXJyaWRlIHx8IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2xhYmVsRm9yJ10odGhpcy5zY2hlbWEpOwogICAgICBjb25zdCBwcm9kdWN0ID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY3VycmVudFByb2R1Y3QnXS5uYW1lOwoKICAgICAgY29uc3QgZGVmYXVsdExvY2F0aW9uID0gewogICAgICAgIG5hbWU6ICAgJ2MtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHJlc291cmNlOiB0aGlzLnJlc291cmNlLAogICAgICAgICAgcHJvZHVjdCwKICAgICAgICB9CiAgICAgIH07CgogICAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMudmFsdWU/LnBhcmVudExvY2F0aW9uT3ZlcnJpZGUgfHwgZGVmYXVsdExvY2F0aW9uOwoKICAgICAgaWYgKHRoaXMucGFyZW50Um91dGVPdmVycmlkZSkgewogICAgICAgIGxvY2F0aW9uLm5hbWUgPSB0aGlzLnBhcmVudFJvdXRlT3ZlcnJpZGU7CiAgICAgIH0KCiAgICAgIGNvbnN0IHR5cGVPcHRpb25zID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1tgdHlwZS1tYXAvb3B0aW9uc0ZvcmBdKCB0aGlzLnJlc291cmNlICk7CiAgICAgIGNvbnN0IG91dCA9IHsKICAgICAgICBkaXNwbGF5TmFtZSwgbG9jYXRpb24sIC4uLnR5cGVPcHRpb25zCiAgICAgIH07CgogICAgICByZXR1cm4gb3V0OwogICAgfSwKCiAgICBoaWRlU2Vuc2l0aXZlRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ByZWZzL2dldCddKEhJREVfU0VOU0lUSVZFKTsKICAgIH0sCgogICAgc2Vuc2l0aXZlT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIFsKICAgICAgICB7CiAgICAgICAgICB0b29sdGlwS2V5OiAncmVzb3VyY2VEZXRhaWwubWFzdGhlYWQuc2Vuc2l0aXZlLmhpZGUnLAogICAgICAgICAgaWNvbjogICAgICAgJ2ljb24taGlkZScsCiAgICAgICAgICB2YWx1ZTogICAgICB0cnVlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdG9vbHRpcEtleTogJ3Jlc291cmNlRGV0YWlsLm1hc3RoZWFkLnNlbnNpdGl2ZS5zaG93JywKICAgICAgICAgIGljb246ICAgICAgICdpY29uLXNob3cnLAogICAgICAgICAgdmFsdWU6ICAgICAgZmFsc2UKICAgICAgICB9CiAgICAgIF07CiAgICB9LAoKICAgIHZpZXdPcHRpb25zKCkgewogICAgICBjb25zdCBvdXQgPSBbXTsKCiAgICAgIGlmICggdGhpcy5oYXNEZXRhaWwgKSB7CiAgICAgICAgb3V0LnB1c2goewogICAgICAgICAgbGFiZWxLZXk6ICdyZXNvdXJjZURldGFpbC5tYXN0aGVhZC5kZXRhaWwnLAogICAgICAgICAgdmFsdWU6ICAgIF9ERVRBSUwsCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICggdGhpcy5oYXNFZGl0ICYmIHRoaXMucGFyZW50Py5zaG93Q29uZmlnVmlldyAhPT0gZmFsc2UpIHsKICAgICAgICBvdXQucHVzaCh7CiAgICAgICAgICBsYWJlbEtleTogJ3Jlc291cmNlRGV0YWlsLm1hc3RoZWFkLmNvbmZpZycsCiAgICAgICAgICB2YWx1ZTogICAgX0NPTkZJRywKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKCB0aGlzLmhhc0dyYXBoICkgewogICAgICAgIG91dC5wdXNoKHsKICAgICAgICAgIGxhYmVsS2V5OiAncmVzb3VyY2VEZXRhaWwubWFzdGhlYWQuZ3JhcGgnLAogICAgICAgICAgdmFsdWU6ICAgIF9HUkFQSCwKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKCB0aGlzLmNhblZpZXdZYW1sICkgewogICAgICAgIG91dC5wdXNoKHsKICAgICAgICAgIGxhYmVsS2V5OiAncmVzb3VyY2VEZXRhaWwubWFzdGhlYWQueWFtbCcsCiAgICAgICAgICB2YWx1ZTogICAgX1lBTUwsCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICggb3V0Lmxlbmd0aCA8IDIgKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAoKICAgIGN1cnJlbnRWaWV3OiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5hczsKICAgICAgfSwKCiAgICAgIHNldCh2YWwpIHsKICAgICAgICBzd2l0Y2ggKCB2YWwgKSB7CiAgICAgICAgY2FzZSBfREVUQUlMOgogICAgICAgICAgdGhpcy4kcm91dGVyLmFwcGx5UXVlcnkoewogICAgICAgICAgICBbTU9ERV06IF9VTkZMQUcsCiAgICAgICAgICAgIFtBU106ICAgX1VORkxBRywKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBfQ09ORklHOgogICAgICAgICAgdGhpcy4kcm91dGVyLmFwcGx5UXVlcnkoewogICAgICAgICAgICBbTU9ERV06IF9VTkZMQUcsCiAgICAgICAgICAgIFtBU106ICAgX0NPTkZJRywKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBfR1JBUEg6CiAgICAgICAgICB0aGlzLiRyb3V0ZXIuYXBwbHlRdWVyeSh7CiAgICAgICAgICAgIFtNT0RFXTogX1VORkxBRywKICAgICAgICAgICAgW0FTXTogICBfR1JBUEgsCiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgX1lBTUw6CiAgICAgICAgICB0aGlzLiRyb3V0ZXIuYXBwbHlRdWVyeSh7CiAgICAgICAgICAgIFtNT0RFXTogX1VORkxBRywKICAgICAgICAgICAgW0FTXTogICBfWUFNTCwKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKCiAgICBzaG93U2Vuc2l0aXZlVG9nZ2xlKCkgewogICAgICByZXR1cm4gISF0aGlzLnZhbHVlLmhhc1NlbnNpdGl2ZURhdGEgJiYgdGhpcy5tb2RlID09PSBfVklFVyAmJiB0aGlzLmFzICE9PSBfWUFNTDsKICAgIH0sCgogICAgbWFuYWdlZFdhcm5pbmcoKSB7CiAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHRoaXM7CiAgICAgIGNvbnN0IGxhYmVscyA9IHZhbHVlPy5tZXRhZGF0YT8ubGFiZWxzIHx8IHt9OwoKICAgICAgY29uc3QgbWFuYWdlZEJ5ID0gbGFiZWxzW0tVQkVSTkVURVMuTUFOQUdFRF9CWV0gfHwgJyc7CiAgICAgIGNvbnN0IGFwcE5hbWUgPSBsYWJlbHNbS1VCRVJORVRFUy5NQU5BR0VEX05BTUVdIHx8IGxhYmVsc1tLVUJFUk5FVEVTLklOU1RBTkNFXSB8fCAnJzsKCiAgICAgIHJldHVybiB7CiAgICAgICAgc2hvdzogICAgdGhpcy5tb2RlID09PSBfRURJVCAmJiAhIW1hbmFnZWRCeSwKICAgICAgICB0eXBlOiAgICB2YWx1ZT8ua2luZCB8fCAnJywKICAgICAgICBoYXNOYW1lOiBhcHBOYW1lID8gJ3llcycgOiAnbm8nLAogICAgICAgIGFwcE5hbWUsCiAgICAgICAgbWFuYWdlZEJ5LAogICAgICB9OwogICAgfSwKCiAgICBkaXNwbGF5TmFtZSgpIHsKICAgICAgbGV0IGRpc3BsYXlOYW1lID0gdGhpcy52YWx1ZS5uYW1lRGlzcGxheTsKCiAgICAgIGlmICh0aGlzLmlzUHJvamVjdEhlbG1DaGFydCkgewogICAgICAgIGRpc3BsYXlOYW1lID0gdGhpcy52YWx1ZS5wcm9qZWN0RGlzcGxheU5hbWU7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnNob3VsZEhpZmVuaXplID8gYCAtICR7IGRpc3BsYXlOYW1lIH1gIDogZGlzcGxheU5hbWU7CiAgICB9LAoKICAgIGxvY2F0aW9uKCkgewogICAgICBjb25zdCB7IHBhcmVudCB9ID0gdGhpczsKCiAgICAgIHJldHVybiBwYXJlbnQ/LmxvY2F0aW9uOwogICAgfSwKCiAgICBoaWRlTmFtZXNwYWNlTG9jYXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50UHJvZHVjdCddLmhpZGVOYW1lc3BhY2VMb2NhdGlvbjsKICAgIH0sCiAgfSwKCiAgbWV0aG9kczogewogICAgZ2V0LAoKICAgIHNob3dBY3Rpb25zKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FjdGlvbi1tZW51L3Nob3cnLCB7CiAgICAgICAgcmVzb3VyY2VzOiB0aGlzLnZhbHVlLAogICAgICAgIGVsZW06ICAgICAgdGhpcy4kcmVmcy5hY3Rpb25zLAogICAgICB9KTsKICAgIH0sCgogICAgdG9nZ2xlU2Vuc2l0aXZlRGF0YShlKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdwcmVmcy9zZXQnLCB7IGtleTogSElERV9TRU5TSVRJVkUsIHZhbHVlOiAhIWUgfSk7CiAgICB9LAoKICAgIGludm9rZURldGFpbHNBY3Rpb24oKSB7CiAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuZGV0YWlsc0FjdGlvbjsKCiAgICAgIGlmIChhY3Rpb24pIHsKICAgICAgICBjb25zdCBmbiA9IHRoaXMudmFsdWVbYWN0aW9uLmFjdGlvbl07CgogICAgICAgIGlmIChmbikgewogICAgICAgICAgZm4uYXBwbHkodGhpcy52YWx1ZSwgW10pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["Masthead.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Masthead.vue","sourceRoot":"../../node_modules/@rancher/shell/components/ResourceDetail","sourcesContent":["<script>\nimport { KUBERNETES, PROJECT } from '@shell/config/labels-annotations';\nimport { FLEET, NAMESPACE, MANAGEMENT, HELM } from '@shell/config/types';\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport { BadgeState } from '@components/BadgeState';\nimport { Banner } from '@components/Banner';\nimport { get } from '@shell/utils/object';\nimport { NAME as FLEET_NAME } from '@shell/config/product/fleet';\nimport { HIDE_SENSITIVE } from '@shell/store/prefs';\nimport {\n  AS, _DETAIL, _CONFIG, _YAML, MODE, _CREATE, _EDIT, _VIEW, _UNFLAG, _GRAPH\n} from '@shell/config/query-params';\nimport { ExtensionPoint, PanelLocation } from '@shell/core/types';\nimport ExtensionPanel from '@shell/components/ExtensionPanel';\n\n/**\n * Resource Detail Masthead component.\n *\n * ToDo: this component seem to be picking up a lot of logic from special cases, could be simplified down to parameters and then customized per use-case via wrapper component\n */\nexport default {\n\n  name: 'MastheadResourceDetail',\n\n  components: {\n    BadgeState, Banner, ButtonGroup, ExtensionPanel\n  },\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    realMode: {\n      type:    String,\n      default: 'create'\n    },\n\n    as: {\n      type:    String,\n      default: _YAML,\n    },\n\n    hasGraph: {\n      type:    Boolean,\n      default: false\n    },\n\n    hasDetail: {\n      type:    Boolean,\n      default: false\n    },\n\n    hasEdit: {\n      type:    Boolean,\n      default: false\n    },\n\n    storeOverride: {\n      type:    String,\n      default: null,\n    },\n\n    resource: {\n      type:    String,\n      default: null,\n    },\n\n    resourceSubtype: {\n      type:    String,\n      default: null,\n    },\n\n    parentRouteOverride: {\n      type:    String,\n      default: null,\n    },\n  },\n\n  data() {\n    return {\n      DETAIL_VIEW:       _DETAIL,\n      extensionType:     ExtensionPoint.PANEL,\n      extensionLocation: PanelLocation.DETAILS_MASTHEAD,\n    };\n  },\n\n  computed: {\n    schema() {\n      const inStore = this.storeOverride || this.$store.getters['currentStore'](this.resource);\n\n      return this.$store.getters[`${ inStore }/schemaFor`]( this.resource );\n    },\n\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    isNamespace() {\n      return this.schema?.id === NAMESPACE;\n    },\n\n    isProject() {\n      return this.schema?.id === MANAGEMENT.PROJECT;\n    },\n\n    isProjectHelmChart() {\n      return this.schema?.id === HELM.PROJECTHELMCHART;\n    },\n\n    hasMultipleNamespaces() {\n      return !!this.value.namespaces;\n    },\n\n    namespace() {\n      if (this.value?.metadata?.namespace) {\n        return this.value?.metadata?.namespace;\n      }\n\n      return null;\n    },\n\n    detailsAction() {\n      return this.value?.detailsAction;\n    },\n\n    shouldHifenize() {\n      return (this.mode === 'view' || this.mode === 'edit') && this.resourceSubtype?.length && this.value?.nameDisplay?.length;\n    },\n\n    namespaceLocation() {\n      if (!this.isNamespace) {\n        return this.value.namespaceLocation || {\n          name:   'c-cluster-product-resource-id',\n          params: {\n            cluster:  this.$route.params.cluster,\n            product:  this.$store.getters['productId'],\n            resource: NAMESPACE,\n            id:       this.$route.params.namespace\n          }\n        };\n      }\n\n      return null;\n    },\n\n    isWorkspace() {\n      return this.$store.getters['productId'] === FLEET_NAME && !!this.value?.metadata?.namespace;\n    },\n\n    workspaceLocation() {\n      return {\n        name:   'c-cluster-product-resource-id',\n        params: {\n          cluster:  this.$route.params.cluster,\n          product:  this.$store.getters['productId'],\n          resource: FLEET.WORKSPACE,\n          id:       this.$route.params.namespace\n        }\n      };\n    },\n\n    project() {\n      if (this.isNamespace) {\n        const id = (this.value?.metadata?.labels || {})[PROJECT];\n        const clusterId = this.$store.getters['currentCluster'].id;\n\n        return this.$store.getters['management/byId'](MANAGEMENT.PROJECT, `${ clusterId }/${ id }`);\n      } else {\n        return null;\n      }\n    },\n\n    banner() {\n      if (this.value?.stateObj?.error) {\n        const defaultErrorMessage = this.t('resourceDetail.masthead.defaultBannerMessage.error', undefined, true);\n\n        return {\n          color:   'error',\n          message: this.value.stateObj.message || defaultErrorMessage\n        };\n      }\n\n      if (this.value?.spec?.paused) {\n        return {\n          color:   'info',\n          message: this.t('asyncButton.pause.description')\n        };\n      }\n\n      if (this.value?.stateObj?.transitioning) {\n        const defaultTransitioningMessage = this.t('resourceDetail.masthead.defaultBannerMessage.transitioning', undefined, true);\n\n        return {\n          color:   'info',\n          message: this.value.stateObj.message || defaultTransitioningMessage\n        };\n      }\n\n      return null;\n    },\n\n    parent() {\n      const displayName = this.value?.parentNameOverride || this.$store.getters['type-map/labelFor'](this.schema);\n      const product = this.$store.getters['currentProduct'].name;\n\n      const defaultLocation = {\n        name:   'c-cluster-product-resource',\n        params: {\n          resource: this.resource,\n          product,\n        }\n      };\n\n      const location = this.value?.parentLocationOverride || defaultLocation;\n\n      if (this.parentRouteOverride) {\n        location.name = this.parentRouteOverride;\n      }\n\n      const typeOptions = this.$store.getters[`type-map/optionsFor`]( this.resource );\n      const out = {\n        displayName, location, ...typeOptions\n      };\n\n      return out;\n    },\n\n    hideSensitiveData() {\n      return this.$store.getters['prefs/get'](HIDE_SENSITIVE);\n    },\n\n    sensitiveOptions() {\n      return [\n        {\n          tooltipKey: 'resourceDetail.masthead.sensitive.hide',\n          icon:       'icon-hide',\n          value:      true,\n        },\n        {\n          tooltipKey: 'resourceDetail.masthead.sensitive.show',\n          icon:       'icon-show',\n          value:      false\n        }\n      ];\n    },\n\n    viewOptions() {\n      const out = [];\n\n      if ( this.hasDetail ) {\n        out.push({\n          labelKey: 'resourceDetail.masthead.detail',\n          value:    _DETAIL,\n        });\n      }\n\n      if ( this.hasEdit && this.parent?.showConfigView !== false) {\n        out.push({\n          labelKey: 'resourceDetail.masthead.config',\n          value:    _CONFIG,\n        });\n      }\n\n      if ( this.hasGraph ) {\n        out.push({\n          labelKey: 'resourceDetail.masthead.graph',\n          value:    _GRAPH,\n        });\n      }\n\n      if ( this.canViewYaml ) {\n        out.push({\n          labelKey: 'resourceDetail.masthead.yaml',\n          value:    _YAML,\n        });\n      }\n\n      if ( out.length < 2 ) {\n        return null;\n      }\n\n      return out;\n    },\n\n    currentView: {\n      get() {\n        return this.as;\n      },\n\n      set(val) {\n        switch ( val ) {\n        case _DETAIL:\n          this.$router.applyQuery({\n            [MODE]: _UNFLAG,\n            [AS]:   _UNFLAG,\n          });\n          break;\n        case _CONFIG:\n          this.$router.applyQuery({\n            [MODE]: _UNFLAG,\n            [AS]:   _CONFIG,\n          });\n          break;\n        case _GRAPH:\n          this.$router.applyQuery({\n            [MODE]: _UNFLAG,\n            [AS]:   _GRAPH,\n          });\n          break;\n        case _YAML:\n          this.$router.applyQuery({\n            [MODE]: _UNFLAG,\n            [AS]:   _YAML,\n          });\n          break;\n        }\n      },\n    },\n\n    showSensitiveToggle() {\n      return !!this.value.hasSensitiveData && this.mode === _VIEW && this.as !== _YAML;\n    },\n\n    managedWarning() {\n      const { value } = this;\n      const labels = value?.metadata?.labels || {};\n\n      const managedBy = labels[KUBERNETES.MANAGED_BY] || '';\n      const appName = labels[KUBERNETES.MANAGED_NAME] || labels[KUBERNETES.INSTANCE] || '';\n\n      return {\n        show:    this.mode === _EDIT && !!managedBy,\n        type:    value?.kind || '',\n        hasName: appName ? 'yes' : 'no',\n        appName,\n        managedBy,\n      };\n    },\n\n    displayName() {\n      let displayName = this.value.nameDisplay;\n\n      if (this.isProjectHelmChart) {\n        displayName = this.value.projectDisplayName;\n      }\n\n      return this.shouldHifenize ? ` - ${ displayName }` : displayName;\n    },\n\n    location() {\n      const { parent } = this;\n\n      return parent?.location;\n    },\n\n    hideNamespaceLocation() {\n      return this.$store.getters['currentProduct'].hideNamespaceLocation;\n    },\n  },\n\n  methods: {\n    get,\n\n    showActions() {\n      this.$store.commit('action-menu/show', {\n        resources: this.value,\n        elem:      this.$refs.actions,\n      });\n    },\n\n    toggleSensitiveData(e) {\n      this.$store.dispatch('prefs/set', { key: HIDE_SENSITIVE, value: !!e });\n    },\n\n    invokeDetailsAction() {\n      const action = this.detailsAction;\n\n      if (action) {\n        const fn = this.value[action.action];\n\n        if (fn) {\n          fn.apply(this.value, []);\n        }\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"masthead\">\n    <header>\n      <div class=\"title\">\n        <div class=\"primaryheader\">\n          <h1>\n            <nuxt-link\n              v-if=\"location\"\n              :to=\"location\"\n            >\n              {{ parent.displayName }}:\n            </nuxt-link>\n            <span v-else>{{ parent.displayName }}:</span>\n            <span v-if=\"value.detailPageHeaderActionOverride && value.detailPageHeaderActionOverride(realMode)\">{{ value.detailPageHeaderActionOverride(realMode) }}</span>\n            <t\n              v-else\n              :k=\"'resourceDetail.header.' + realMode\"\n              :subtype=\"resourceSubtype\"\n              :name=\"displayName\"\n              :escapehtml=\"false\"\n            />\n            <BadgeState\n              v-if=\"!isCreate && parent.showState\"\n              class=\"masthead-state\"\n              :value=\"value\"\n            />\n            <span\n              v-if=\"!isCreate && value.injectionEnabled\"\n              class=\"masthead-istio\"\n            >\n              <i\n                v-clean-tooltip=\"t('projectNamespaces.isIstioInjectionEnabled')\"\n                class=\"icon icon-sm icon-istio\"\n              />\n            </span>\n          </h1>\n        </div>\n        <div\n          v-if=\"!isCreate\"\n          class=\"subheader\"\n        >\n          <span v-if=\"isNamespace && project\">{{ t(\"resourceDetail.masthead.project\") }}: <nuxt-link :to=\"project.detailLocation\">{{ project.nameDisplay }}</nuxt-link></span>\n          <span v-else-if=\"isWorkspace\">{{ t(\"resourceDetail.masthead.workspace\") }}: <nuxt-link :to=\"workspaceLocation\">{{ namespace }}</nuxt-link></span>\n          <span v-else-if=\"namespace && !hasMultipleNamespaces\">\n            {{ t(\"resourceDetail.masthead.namespace\") }}:\n            <nuxt-link\n              v-if=\"!hideNamespaceLocation\"\n              :to=\"namespaceLocation\"\n            >\n              {{ namespace }}\n            </nuxt-link>\n            <span v-else>\n              {{ namespace }}\n            </span>\n          </span>\n          <span v-if=\"parent.showAge\">{{ t(\"resourceDetail.masthead.age\") }}: <LiveDate\n            class=\"live-date\"\n            :value=\"value.creationTimestamp\"\n          /></span>\n          <span v-if=\"value.showPodRestarts\">{{ t(\"resourceDetail.masthead.restartCount\") }}:<span class=\"live-data\"> {{ value.restartCount }}</span></span>\n        </div>\n      </div>\n      <slot name=\"right\">\n        <div class=\"actions-container align-start\">\n          <div class=\"actions\">\n            <button\n              v-if=\"detailsAction && currentView === DETAIL_VIEW && isView\"\n              type=\"button\"\n              class=\"btn role-primary actions mr-10\"\n              :disabled=\"!detailsAction.enabled\"\n              @click=\"invokeDetailsAction\"\n            >\n              {{ detailsAction.label }}\n            </button>\n            <ButtonGroup\n              v-if=\"showSensitiveToggle\"\n              :value=\"!!hideSensitiveData\"\n              icon-size=\"lg\"\n              :options=\"sensitiveOptions\"\n              class=\"mr-10\"\n              @input=\"toggleSensitiveData\"\n            />\n\n            <ButtonGroup\n              v-if=\"viewOptions && isView\"\n              v-model=\"currentView\"\n              :options=\"viewOptions\"\n              class=\"mr-10\"\n            />\n\n            <button\n              v-if=\"isView\"\n              ref=\"actions\"\n              aria-haspopup=\"true\"\n              type=\"button\"\n              class=\"btn role-multi-action actions\"\n              @click=\"showActions\"\n            >\n              <i class=\"icon icon-actions\" />\n            </button>\n          </div>\n        </div>\n      </slot>\n    </header>\n\n    <!-- Extension area -->\n    <ExtensionPanel\n      :resource=\"value\"\n      :type=\"extensionType\"\n      :location=\"extensionLocation\"\n    />\n\n    <Banner\n      v-if=\"banner && isView && !parent.hideBanner\"\n      class=\"state-banner mb-10\"\n      :color=\"banner.color\"\n      :label=\"banner.message\"\n    />\n    <Banner\n      v-if=\"managedWarning.show\"\n      color=\"warning\"\n      class=\"mb-20\"\n      :label=\"t('resourceDetail.masthead.managedWarning', managedWarning)\"\n    />\n\n    <slot />\n  </div>\n</template>\n\n<style lang='scss' scoped>\n  .masthead {\n    padding-bottom: 10px;\n    border-bottom: 1px solid var(--border);\n    margin-bottom: 10px;\n  }\n\n  HEADER {\n    margin: 0;\n  }\n\n  .primaryheader {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    h1 {\n      margin: 0;\n    }\n  }\n\n  .subheader{\n    display: flex;\n    flex-direction: row;\n    color: var(--input-label);\n    & > * {\n      margin: 5px 20px 5px 0px;\n    }\n\n    .live-data {\n      color: var(--body-text)\n    }\n  }\n\n  .state-banner {\n    margin: 3px 0 0 0;\n  }\n\n  .masthead-state {\n    font-size: initial;\n    display: inline-block;\n    position: relative;\n    top: -2px;\n  }\n\n  .masthead-istio {\n    .icon {\n      vertical-align: middle;\n      color: var(--primary);\n    }\n  }\n\n  .left-right-split {\n    display: grid;\n    align-items: center;\n\n    .left-half {\n      grid-column: 1;\n    }\n\n    .right-half {\n      grid-column: 2;\n    }\n  }\n\n  div.actions-container > div.actions {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n  }\n\n</style>\n"]}]}