{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--15-3!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/gc/gc.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/gc/gc.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgU0VUVElORyB9IGZyb20gJ0BzaGVsbC9jb25maWcvc2V0dGluZ3MnOwppbXBvcnQgeyBDT1VOVCwgTUFOQUdFTUVOVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBHQ19ERUZBVUxUUyB9IGZyb20gJy4vZ2MtdHlwZXMnOwpjbGFzcyBHYXJiYWdlQ29sbGVjdCB7CiAgY29uc3RydWN0b3IoKSB7CiAgICB0aGlzLmNhY2hlZEdjUHJlZnMgPSBHQ19ERUZBVUxUUzsKICAgIHRoaXMuY2FjaGVkR2NQcmVmc1N0YW1wID0gJyc7CiAgICB0aGlzLmRlYnVnTG9nID0gKC4uLmFyZ3MpID0+IHsKICAgICAgaWYgKEdhcmJhZ2VDb2xsZWN0LkVOQUJMRV9ERUJVR19MT0dHSU5HKSB7CiAgICAgICAgY29uc29sZS5kZWJ1ZygnR0MnLCAuLi5hcmdzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgIH0KICAgIH07CiAgICAvKioKICAgICAqIFRpbWUgdGhlIEdDIGxhc3QgcmFuCiAgICAgKi8KICAgIHRoaXMuZ2NMYXN0UnVuID0gMDsKICAgIC8qKgogICAgICogVG8gYXZvaWQgSlNPTi5wYXJzZSBvbiB0aGUgYHVpLXBlcmZvcm1hbmNlYCBzZXR0aW5nIGtlZXAgYSBsb2NhbCBjYWNoZQogICAgICovCiAgICB0aGlzLmdldFVpUGVyZkdhcmJhZ2VDb2xsZWN0aW9uID0gcm9vdFN0YXRlID0+IHsKICAgICAgdmFyIF9yb290U3RhdGUkbWFuYWdlbWVudDsKICAgICAgY29uc3QgdWlQZXJmU2V0dGluZyA9IChfcm9vdFN0YXRlJG1hbmFnZW1lbnQgPSByb290U3RhdGUubWFuYWdlbWVudC50eXBlc1tNQU5BR0VNRU5ULlNFVFRJTkddKSA9PT0gbnVsbCB8fCBfcm9vdFN0YXRlJG1hbmFnZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yb290U3RhdGUkbWFuYWdlbWVudC5saXN0LmZpbmQocyA9PiBzLmlkID09PSBTRVRUSU5HLlVJX1BFUkZPUk1BTkNFKTsKICAgICAgaWYgKCF1aVBlcmZTZXR0aW5nIHx8ICF1aVBlcmZTZXR0aW5nLnZhbHVlKSB7CiAgICAgICAgLy8gQ291bGQgYmUgaW4gdGhlIHByb2Nlc3Mgb2YgbG9nZ2luZyBvdXQKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICB9CiAgICAgIGNvbnN0IHN0YW1wID0gYCR7dWlQZXJmU2V0dGluZy5tZXRhZGF0YS5nZW5lcmF0aW9ufS0ke3VpUGVyZlNldHRpbmcubWV0YWRhdGEucmVzb3VyY2VWZXJzaW9ufWA7CiAgICAgIGlmICh0aGlzLmNhY2hlZEdjUHJlZnNTdGFtcCAhPT0gc3RhbXApIHsKICAgICAgICB0aGlzLmRlYnVnTG9nKGBVcGRhdGluZyAke1NFVFRJTkcuVUlfUEVSRk9STUFOQ0V9IGNhY2hlYCk7CiAgICAgICAgdGhpcy5jYWNoZWRHY1ByZWZzU3RhbXAgPSBzdGFtcDsKICAgICAgICBjb25zdCB1aVBlcmZTZXR0aW5nUGFyc2VkID0gSlNPTi5wYXJzZSh1aVBlcmZTZXR0aW5nLnZhbHVlKTsKICAgICAgICB0aGlzLmNhY2hlZEdjUHJlZnMgPSB1aVBlcmZTZXR0aW5nUGFyc2VkLmdhcmJhZ2VDb2xsZWN0aW9uOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmNhY2hlZEdjUHJlZnM7CiAgICB9OwogICAgLyoqCiAgICAgKiBUaGUgbGFzdCB0aW1lIGEgcmVzb3VyY2Ugd2FzIGFjY2Vzc2VkIGJ5IGVpdGhlciBmaW5kIG9yIGdldHRlcnMgc3R5bGUgZnVuY3Rpb25zCiAgICAgKi8KICAgIHRoaXMubGFzdEFjY2Vzc2VkQ2FjaGUgPSB7fTsKICAgIC8qKgogICAgICogVHJhY2sgd2hlbiBhIGxvZ2dlZCBpbiByb3V0ZSBjaGFuZ2VzLgogICAgICovCiAgICB0aGlzLmxhc3RSb3V0ZUNoYW5nZSA9IDA7CiAgfQogIC8vIC0tLS0tLS0tLS0tLS0gR0MgRW5hYmxlZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0KICBnY0VuYWJsZWRBbGwocHNldWRvQ3R4LCB0eXBlKSB7CiAgICByZXR1cm4gdGhpcy5nY0VuYWJsZWRGb3JTdG9yZShwc2V1ZG9DdHguc3RhdGUpICYmIHRoaXMuZ2NFbmFibGVkU2V0dGluZyhwc2V1ZG9DdHgpICYmIHRoaXMuZ2NFbmFibGVkRm9yVHlwZShwc2V1ZG9DdHgsIHR5cGUpOwogIH0KICBnY0VuYWJsZWRTZXR0aW5nKHBzZXVkb0N0eCkgewogICAgY29uc3QgewogICAgICByb290U3RhdGUKICAgIH0gPSBwc2V1ZG9DdHg7CiAgICAvLyBEb24ndCB1c2UgYSBnZXR0ZXIuLi4gYXMgd2UnbGwgZW5kIHVwIHRyaWdnZXJpbmcgb3Vyc2VsdmVzIGFnYWluCiAgICBjb25zdCB1aVBlcmZHYXJiYWdlQ29sbGVjdGlvbiA9IHRoaXMuZ2V0VWlQZXJmR2FyYmFnZUNvbGxlY3Rpb24ocm9vdFN0YXRlKTsKICAgIHJldHVybiB1aVBlcmZHYXJiYWdlQ29sbGVjdGlvbiA9PT0gbnVsbCB8fCB1aVBlcmZHYXJiYWdlQ29sbGVjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdWlQZXJmR2FyYmFnZUNvbGxlY3Rpb24uZW5hYmxlZDsKICB9CiAgZ2NFbmFibGVkRm9yU3RvcmUoc3RhdGUpIHsKICAgIHZhciBfc3RhdGUkY29uZmlnOwogICAgcmV0dXJuIHN0YXRlID09PSBudWxsIHx8IHN0YXRlID09PSB2b2lkIDAgfHwgKF9zdGF0ZSRjb25maWcgPSBzdGF0ZS5jb25maWcpID09PSBudWxsIHx8IF9zdGF0ZSRjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdGF0ZSRjb25maWcuc3VwcG9ydHNHYzsKICB9CiAgLyoqCiAgICogU3RvcmUgY2FuIHJlcXVpcmUgY2VydGFpbiB0eXBlcyBhcmUgbm90IEdDJ2QgKGZvciBleGFtcGxlIGBjbHVzdGVyYCBhbmQgYHNjaGVtYWBzLCBgY291bnRzYCwgZXRjKQogICAqLwogIGdjRW5hYmxlZEZvclR5cGUocHNldWRvQ3R4LCB0eXBlKSB7CiAgICBjb25zdCB7CiAgICAgIGdldHRlcnMKICAgIH0gPSBwc2V1ZG9DdHg7CiAgICBpZiAoIXR5cGUgfHwgZ2V0dGVycy5nY0lnbm9yZVR5cGVzW3R5cGVdKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KICBnY0VuYWJsZWRJbnRlcnZhbChwc2V1ZG9DdHgpIHsKICAgIGNvbnN0IHsKICAgICAgcm9vdFN0YXRlCiAgICB9ID0gcHNldWRvQ3R4OwogICAgLy8gRG9uJ3QgdXNlIGEgZ2V0dGVyLi4uIGFzIHdlJ2xsIGVuZCB1cCB0cmlnZ2VyaW5nIG91cnNlbHZlcyBhZ2FpbgogICAgY29uc3QgdWlQZXJmR2FyYmFnZUNvbGxlY3Rpb24gPSB0aGlzLmdldFVpUGVyZkdhcmJhZ2VDb2xsZWN0aW9uKHJvb3RTdGF0ZSk7CiAgICByZXR1cm4gewogICAgICBlbmFibGVkOiB1aVBlcmZHYXJiYWdlQ29sbGVjdGlvbiA9PT0gbnVsbCB8fCB1aVBlcmZHYXJiYWdlQ29sbGVjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdWlQZXJmR2FyYmFnZUNvbGxlY3Rpb24uZW5hYmxlZEludGVydmFsLAogICAgICBpbnRlcnZhbDogKHVpUGVyZkdhcmJhZ2VDb2xsZWN0aW9uID09PSBudWxsIHx8IHVpUGVyZkdhcmJhZ2VDb2xsZWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1aVBlcmZHYXJiYWdlQ29sbGVjdGlvbi5pbnRlcnZhbCkgfHwgMAogICAgfTsKICB9CiAgZ2NFbmFibGVkUm91dGUocHNldWRvQ3R4KSB7CiAgICBjb25zdCB7CiAgICAgIHJvb3RTdGF0ZQogICAgfSA9IHBzZXVkb0N0eDsKICAgIC8vIERvbid0IHVzZSBhIGdldHRlci4uLiBhcyB3ZSdsbCBlbmQgdXAgdHJpZ2dlcmluZyBvdXJzZWx2ZXMgYWdhaW4KICAgIGNvbnN0IHVpUGVyZkdhcmJhZ2VDb2xsZWN0aW9uID0gdGhpcy5nZXRVaVBlcmZHYXJiYWdlQ29sbGVjdGlvbihyb290U3RhdGUpOwogICAgcmV0dXJuIHVpUGVyZkdhcmJhZ2VDb2xsZWN0aW9uID09PSBudWxsIHx8IHVpUGVyZkdhcmJhZ2VDb2xsZWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1aVBlcmZHYXJiYWdlQ29sbGVjdGlvbi5lbmFibGVkT25OYXZpZ2F0ZTsKICB9CiAgLy8gLS0tLS0tLS0tLS0tLSBHQyAoYWN0dWFsKSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvKioKICAgKiBSZW1vdmUgc3RhbGUgcmVzb3VyY2UgdHlwZXMgZnJvbSB0aGUgc3RvcmUgYW5kIHN0b3Agd2F0Y2hpbmcgdGhlbSBmb3IgY2hhbmdlcwogICAqLwogIGdhcmJhZ2VDb2xsZWN0KGN0eCwgaWdub3JlVHlwZXMgPSB7fSkgewogICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAvLyBJcyBnYyBjdXJyZW50bHkgcnVubmluZyBPUiBoYXMgcnVuIGluIHRoZSBwYXN0IEdDX1JFX1JVTl9HQVAgcmV0dXJuIGVhcmx5CiAgICBpZiAodGhpcy5nY0xhc3RSdW4gPT09IG51bGwgfHwgbm93IC0gdGhpcy5nY0xhc3RSdW4gPCBHYXJiYWdlQ29sbGVjdC5HQ19SRV9SVU5fR0FQKSB7CiAgICAgIHRoaXMuZGVidWdMb2coJ1NraXBwaW5nIChydW5uaW5nIG9yIHJlY2VudGx5IHJ1biknLCB0aGlzLmdjTGFzdFJ1biA/IG5ldyBEYXRlKHRoaXMuZ2NMYXN0UnVuKSA6ICdydW5uaW5nJyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHRoaXMuZ2NMYXN0UnVuID0gbnVsbDsKICAgIGNvbnN0IGdjZCA9IHt9OwogICAgdHJ5IHsKICAgICAgY29uc3QgewogICAgICAgIGdldHRlcnMsCiAgICAgICAgcm9vdFN0YXRlLAogICAgICAgIGRpc3BhdGNoCiAgICAgIH0gPSBjdHg7CiAgICAgIGlmICghcm9vdFN0YXRlLmNsdXN0ZXJSZWFkeSkgewogICAgICAgIHRoaXMuZGVidWdMb2coJ1NraXBwaW5nIChjbHVzdGVyIG5vdCByZWFkeSknKTsKICAgICAgICB0aGlzLmdjTGFzdFJ1biA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmRlYnVnTG9nKGAtLS0tLS0gU3RhcnRlZCAtLS0tLS1gKTsKICAgICAgY29uc3QgdWlQZXJmR2FyYmFnZUNvbGxlY3Rpb24gPSB0aGlzLmdldFVpUGVyZkdhcmJhZ2VDb2xsZWN0aW9uKHJvb3RTdGF0ZSk7CiAgICAgIGlmICghdWlQZXJmR2FyYmFnZUNvbGxlY3Rpb24pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgbWF4QWdlID0gdWlQZXJmR2FyYmFnZUNvbGxlY3Rpb24uYWdlVGhyZXNob2xkICogMTAwMDsKICAgICAgY29uc3QgbWF4Q291bnQgPSB1aVBlcmZHYXJiYWdlQ29sbGVjdGlvbi5jb3VudFRocmVzaG9sZDsKICAgICAgdGhpcy5kZWJ1Z0xvZyhgTWF4IEFnZTogJHttYXhBZ2V9LiBNYXggQ291bnQ6ICR7bWF4Q291bnR9YCk7IC8vICwgJ0NhY2hlJywgdGhpcy5sYXN0QWNjZXNzZWRDYWNoZQogICAgICBjb25zdCBzdG9yZSA9IGN0eC5zdGF0ZS5jb25maWcubmFtZXNwYWNlOwogICAgICAvLyB0aGlzLmRlYnVnTG9nKCdDYWNoZScsIHRoaXMubGFzdEFjY2Vzc2VkQ2FjaGUpOwogICAgICBPYmplY3QuZW50cmllcyh0aGlzLmxhc3RBY2Nlc3NlZENhY2hlW3N0b3JlXSB8fCB7fSkuZm9yRWFjaCgoW3R5cGUsIGxhc3RBY2Nlc3NlZF0pID0+IHsKICAgICAgICB2YXIgX2dldHRlcnMkYWxsJDAkY291bnRzOwogICAgICAgIGlmICghbGFzdEFjY2Vzc2VkKSB7CiAgICAgICAgICAvLyBUaGVyZSdzIG5vIGxhc3QgYWNjZXNzZWQgdGltZS4uLiBnYyBpcyBwcm9iYWJseSBkaXNhYmxlZCBpbiBhbm90aGVyIHdheQogICAgICAgICAgdGhpcy5kZWJ1Z0xvZyhgJHt0eXBlfTogU2tpcHBpbmcgKG5vIGFjY2Vzc2VkIHRpbWUpYCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy5nY0VuYWJsZWRGb3JUeXBlKGN0eCwgdHlwZSkpIHsKICAgICAgICAgIC8vIFRoaXMgc3BlY2lmaWMgc3RvcmUgaXMgdGVsbGluZyB1cyB0byBpZ25vcmUgdGhlIHR5cGUgKGZvciBleGFtcGxlIGBjbHVzdGVyYCBzdG9yZSB3aWxsIG5vdCBHQyBzY2hlbWEncywgY291bnRzLCBldGMpCiAgICAgICAgICB0aGlzLmRlYnVnTG9nKGAke3R5cGV9OiBTa2lwcGluZyAodHlwZSBpZ25vcmVkIGJ5IHN0b3JlKWApOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaWdub3JlVHlwZXNbdHlwZV0pIHsKICAgICAgICAgIC8vIFdlJ3JlIGdvaW5nIHRvIGEgcGxhY2UgdGhhdCBuZWVkcyB0aGUgcmVzb3VyY2UKICAgICAgICAgIHRoaXMuZGVidWdMb2coYCR7dHlwZX06IFNraXBwaW5nIChuYXZpZ2F0aW5nIHRvIHR5cGUpYCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChub3cgLSBsYXN0QWNjZXNzZWQgPD0gbWF4QWdlKSB7CiAgICAgICAgICAvLyBUaGUgcmVzb3VyY2Ugd2FzIHJlY2VudGx5IGFjY2Vzc2VkCiAgICAgICAgICB0aGlzLmRlYnVnTG9nKGAke3R5cGV9OiBTa2lwcGluZyAocmVjZW50bHkgYWNjZXNzZWQpYCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmxhc3RSb3V0ZUNoYW5nZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMubGFzdFJvdXRlQ2hhbmdlIDwgbGFzdEFjY2Vzc2VkKSB7CiAgICAgICAgICAvLyBUaGUgcmVzb3VyY2UgaXMgYmVpbmcgdXNlZCBpbiB0aGUgY3VycmVudCByb3V0ZS9wYWdlCiAgICAgICAgICB0aGlzLmRlYnVnTG9nKGAke3R5cGV9OiBTa2lwcGluZyAodXNlZCBpbiBjdXJyZW50IHJvdXRlL3BhZ2UpYCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvbnN0IGNvdW50RnJvbVJlc291cmNlID0gKF9nZXR0ZXJzJGFsbCQwJGNvdW50cyA9IGdldHRlcnMuYWxsKENPVU5UKVswXS5jb3VudHNbdHlwZV0pID09PSBudWxsIHx8IF9nZXR0ZXJzJGFsbCQwJGNvdW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dldHRlcnMkYWxsJDAkY291bnRzLnN1bW1hcnkuY291bnQ7CiAgICAgICAgY29uc3QgY3VycmVudENvdW50ID0gY291bnRGcm9tUmVzb3VyY2UgIT09IG51bGwgJiYgY291bnRGcm9tUmVzb3VyY2UgIT09IHZvaWQgMCA/IGNvdW50RnJvbVJlc291cmNlIDogMDsKICAgICAgICBpZiAoY3VycmVudENvdW50ID09PSB1bmRlZmluZWQgfHwgY3VycmVudENvdW50IDwgbWF4Q291bnQpIHsKICAgICAgICAgIC8vIFRoZXJlJ3MgdG9vIGZldyByZXNvdXJjZXMsIHdlIG1pZ2h0IGFzIHdlbGwga2VlcCB0aGVtIHRvIGF2b2lkIGEgbmV0d29yayByZXF1ZXN0IHdoZW4gd2UgbmVlZCB0aGVtIGFnYWluCiAgICAgICAgICB0aGlzLmRlYnVnTG9nKGAke3R5cGV9OiBTa2lwcGluZyAodG9vIGZldyBvZiByZXNvdXJjZSlgKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5kZWJ1Z0xvZyhgJHt0eXBlfTogUmVtb3ZpbmcgZnJvbSBzdG9yZWApOwogICAgICAgIGRpc3BhdGNoKCdmb3JnZXRUeXBlJywgdHlwZSk7CiAgICAgICAgZ2NkW3R5cGVdID0gY3VycmVudENvdW50OwogICAgICB9KTsKICAgICAgdGhpcy5nY0xhc3RSdW4gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhpcy5kZWJ1Z0xvZyhgOiBFcnJvcmAsIGUpOwogICAgICB0aGlzLmdjTGFzdFJ1biA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgfQogICAgaWYgKE9iamVjdC5rZXlzKGdjZCkubGVuZ3RoID4gMCkgewogICAgICBjb25zb2xlLmluZm8oJ0dhcmJhZ2UgQ29sbGVjdGVkIFJlc291cmNlcycsIGdjZCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgfQogICAgdGhpcy5kZWJ1Z0xvZyhgLS0tLS0tIEZpbmlzaGVkIC0tLS0tLWApOwogIH0KICAvLyAtLS0tLS0tLS0tLS0tIEdDIFVwZGF0ZSBsb2NhbCBjYWNoZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvKioKICAgKiBVcGRhdGUgdGhlIHRpbWUgdGhhdCB0aGUgcmVzb3VyY2UgdHlwZSB3YXMgYWNjZXNzZWQKICAgKiBUaGlzIG5lZWRzIHRvIHJ1biBhZnRlciBhbnkgdHlwZSBpbml0aWFsaXNhdGlvbiAoYWthIHJlZ2lzdGVyVHlwZSkKICAgKi8KICBnY1VwZGF0ZUxhc3RBY2Nlc3NlZChwc2V1ZG9DdHgsIHR5cGUpIHsKICAgIGlmICghdGhpcy5nY0VuYWJsZWRBbGwocHNldWRvQ3R4LCB0eXBlKSkgewogICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCBzdG9yZSA9IHBzZXVkb0N0eC5zdGF0ZS5jb25maWcubmFtZXNwYWNlOwogICAgaWYgKCF0aGlzLmxhc3RBY2Nlc3NlZENhY2hlW3N0b3JlXSkgewogICAgICB0aGlzLmxhc3RBY2Nlc3NlZENhY2hlW3N0b3JlXSA9IHt9OwogICAgfQogICAgdGhpcy5sYXN0QWNjZXNzZWRDYWNoZVtzdG9yZV1bdHlwZV0gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICB9CiAgLyoqCiAgICogVXBkYXRlIHRoZSB0aW1lIHRoZSB1c2VyIGxhc3QgY2hhbmdlZCByb3V0ZXMKICAgKi8KICBnY1VwZGF0ZVJvdXRlQ2hhbmdlZCgpIHsKICAgIHRoaXMubGFzdFJvdXRlQ2hhbmdlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgfQogIC8vIC0tLS0tLS0tLS0tLS0gR0MgcmVzZXQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgLyoqCiAgICogUmVtb3ZlIGFsbCBjYWNoZWQgYWNjZXNzIHRpbWVzIGZvciB0aGUgZ2l2ZW4gc3RvcmUKICAgKi8KICBnY1Jlc2V0U3RvcmUoc3RhdGUpIHsKICAgIGNvbnN0IHN0b3JlID0gc3RhdGUuY29uZmlnLm5hbWVzcGFjZTsKICAgIGRlbGV0ZSB0aGlzLmxhc3RBY2Nlc3NlZENhY2hlW3N0b3JlXTsKICAgIHRoaXMuZGVidWdMb2coJ0ZvcmdldHRpbmcgU3RvcmU6Jywgc3RvcmUpOwogIH0KICAvKioKICAgKiBSZW1vdmUgY2FjaGVkIGFjY2VzcyB0aW1lIGZvciB0aGUgZ2l2ZW4gcmVzb3VyY2UgdHlwZQogICAqLwogIGdjUmVzZXRUeXBlKHN0YXRlLCB0eXBlKSB7CiAgICBjb25zdCBzdG9yZSA9IHN0YXRlLmNvbmZpZy5uYW1lc3BhY2U7CiAgICBpZiAoIXRoaXMubGFzdEFjY2Vzc2VkQ2FjaGVbc3RvcmVdKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGRlbGV0ZSB0aGlzLmxhc3RBY2Nlc3NlZENhY2hlW3N0b3JlXVt0eXBlXTsKICAgIHRoaXMuZGVidWdMb2coJ0ZvcmdldHRpbmcgVHlwZTonLCBzdG9yZSwgdHlwZSk7CiAgfQp9CkdhcmJhZ2VDb2xsZWN0LkVOQUJMRV9ERUJVR19MT0dHSU5HID0gZmFsc2U7Ci8qKgogKiBEb24ndCBydW4gR0MgaWYgaXQncyBiZWVuIHJ1biB3aXRoaW4gNSBzZWNvbmRzCiAqLwpHYXJiYWdlQ29sbGVjdC5HQ19SRV9SVU5fR0FQID0gMTAwMCAqIDU7CmNvbnN0IGdjID0gbmV3IEdhcmJhZ2VDb2xsZWN0KCk7CmV4cG9ydCBkZWZhdWx0IGdjOw=="},{"version":3,"names":["SETTING","COUNT","MANAGEMENT","GC_DEFAULTS","GarbageCollect","constructor","cachedGcPrefs","cachedGcPrefsStamp","debugLog","args","ENABLE_DEBUG_LOGGING","console","debug","gcLastRun","getUiPerfGarbageCollection","rootState","_rootState$management","uiPerfSetting","management","types","list","find","s","id","UI_PERFORMANCE","value","undefined","stamp","metadata","generation","resourceVersion","uiPerfSettingParsed","JSON","parse","garbageCollection","lastAccessedCache","lastRouteChange","gcEnabledAll","pseudoCtx","type","gcEnabledForStore","state","gcEnabledSetting","gcEnabledForType","uiPerfGarbageCollection","enabled","_state$config","config","supportsGc","getters","gcIgnoreTypes","gcEnabledInterval","enabledInterval","interval","gcEnabledRoute","enabledOnNavigate","garbageCollect","ctx","ignoreTypes","now","Date","getTime","GC_RE_RUN_GAP","gcd","dispatch","clusterReady","maxAge","ageThreshold","maxCount","countThreshold","store","namespace","Object","entries","forEach","lastAccessed","_getters$all$0$counts","countFromResource","all","counts","summary","count","currentCount","e","keys","length","info","gcUpdateLastAccessed","gcUpdateRouteChanged","gcResetStore","gcResetType","gc"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/gc/gc.ts"],"sourcesContent":["import { SETTING } from '@shell/config/settings';\nimport { COUNT, MANAGEMENT } from '@shell/config/types';\nimport { GC_DEFAULTS, GC_PREFERENCES } from './gc-types';\n\nclass GarbageCollect {\n  private static ENABLE_DEBUG_LOGGING = false;\n\n  /**\n   * Don't run GC if it's been run within 5 seconds\n   */\n  private static GC_RE_RUN_GAP = 1000 * 5;\n\n  private cachedGcPrefs: GC_PREFERENCES = GC_DEFAULTS;\n\n  private cachedGcPrefsStamp = '';\n\n  private debugLog = (...args: any) => {\n    if (GarbageCollect.ENABLE_DEBUG_LOGGING) {\n      console.debug('GC', ...args); // eslint-disable-line no-console\n    }\n  };\n\n  /**\n   * Time the GC last ran\n   */\n  private gcLastRun: number | null = 0;\n\n  /**\n   * To avoid JSON.parse on the `ui-performance` setting keep a local cache\n   */\n  private getUiPerfGarbageCollection = (rootState: any) => {\n    const uiPerfSetting = rootState.management.types[MANAGEMENT.SETTING]?.list.find((s: any) => s.id === SETTING.UI_PERFORMANCE);\n\n    if (!uiPerfSetting || !uiPerfSetting.value) {\n      // Could be in the process of logging out\n      return undefined;\n    }\n    const stamp = `${ uiPerfSetting.metadata.generation }-${ uiPerfSetting.metadata.resourceVersion }`;\n\n    if (this.cachedGcPrefsStamp !== stamp) {\n      this.debugLog(`Updating ${ SETTING.UI_PERFORMANCE } cache`);\n      this.cachedGcPrefsStamp = stamp;\n      const uiPerfSettingParsed = JSON.parse(uiPerfSetting.value);\n\n      this.cachedGcPrefs = uiPerfSettingParsed.garbageCollection;\n    }\n\n    return this.cachedGcPrefs;\n  };\n\n  /**\n   * The last time a resource was accessed by either find or getters style functions\n   */\n  private lastAccessedCache: {\n    [store: string]: {\n      [type: string]: number;\n    }\n  } = {}\n\n  /**\n   * Track when a logged in route changes.\n   */\n  private lastRouteChange = 0;\n\n  // ------------- GC Enabled ---------------------\n\n  gcEnabledAll(pseudoCtx: any, type: string) {\n    return this.gcEnabledForStore(pseudoCtx.state) && this.gcEnabledSetting(pseudoCtx) && this.gcEnabledForType(pseudoCtx, type);\n  }\n\n  gcEnabledSetting(pseudoCtx: any) {\n    const { rootState } = pseudoCtx;\n\n    // Don't use a getter... as we'll end up triggering ourselves again\n    const uiPerfGarbageCollection = this.getUiPerfGarbageCollection(rootState);\n\n    return uiPerfGarbageCollection?.enabled;\n  }\n\n  gcEnabledForStore(state: any) {\n    return state?.config?.supportsGc;\n  }\n\n  /**\n   * Store can require certain types are not GC'd (for example `cluster` and `schema`s, `counts`, etc)\n   */\n  gcEnabledForType(pseudoCtx: any, type: string) {\n    const { getters } = pseudoCtx;\n\n    if (!type || getters.gcIgnoreTypes[type]) {\n      return false;\n    }\n\n    return true;\n  }\n\n  gcEnabledInterval(pseudoCtx: any) {\n    const { rootState } = pseudoCtx;\n\n    // Don't use a getter... as we'll end up triggering ourselves again\n    const uiPerfGarbageCollection = this.getUiPerfGarbageCollection(rootState);\n\n    return {\n      enabled:  uiPerfGarbageCollection?.enabledInterval,\n      interval: uiPerfGarbageCollection?.interval || 0\n    };\n  }\n\n  gcEnabledRoute(pseudoCtx: any) {\n    const { rootState } = pseudoCtx;\n\n    // Don't use a getter... as we'll end up triggering ourselves again\n    const uiPerfGarbageCollection = this.getUiPerfGarbageCollection(rootState);\n\n    return uiPerfGarbageCollection?.enabledOnNavigate;\n  }\n\n  // ------------- GC (actual) ---------------------\n\n  /**\n   * Remove stale resource types from the store and stop watching them for changes\n   */\n  garbageCollect(ctx: any, ignoreTypes: {[type: string]: boolean} = {}) {\n    const now = new Date().getTime();\n\n    // Is gc currently running OR has run in the past GC_RE_RUN_GAP return early\n    if (this.gcLastRun === null || now - this.gcLastRun < GarbageCollect.GC_RE_RUN_GAP) {\n      this.debugLog('Skipping (running or recently run)', this.gcLastRun ? new Date(this.gcLastRun) : 'running');\n\n      return;\n    }\n\n    this.gcLastRun = null;\n    const gcd: {[type: string]: number} = {};\n\n    try {\n      const { getters, rootState, dispatch } = ctx;\n\n      if (!rootState.clusterReady) {\n        this.debugLog('Skipping (cluster not ready)');\n        this.gcLastRun = new Date().getTime();\n\n        return ;\n      }\n      this.debugLog(`------ Started ------`);\n\n      const uiPerfGarbageCollection = this.getUiPerfGarbageCollection(rootState);\n\n      if (!uiPerfGarbageCollection) {\n        return ;\n      }\n      const maxAge = uiPerfGarbageCollection.ageThreshold * 1000;\n      const maxCount = uiPerfGarbageCollection.countThreshold;\n\n      this.debugLog(`Max Age: ${ maxAge }. Max Count: ${ maxCount }`);// , 'Cache', this.lastAccessedCache\n\n      const store = ctx.state.config.namespace;\n\n      // this.debugLog('Cache', this.lastAccessedCache);\n\n      Object.entries((this.lastAccessedCache[store] || {})).forEach(([type, lastAccessed]) => {\n        if (!lastAccessed) {\n          // There's no last accessed time... gc is probably disabled in another way\n          this.debugLog(`${ type }: Skipping (no accessed time)`);\n\n          return;\n        }\n\n        if (!this.gcEnabledForType(ctx, type)) {\n          // This specific store is telling us to ignore the type (for example `cluster` store will not GC schema's, counts, etc)\n          this.debugLog(`${ type }: Skipping (type ignored by store)`);\n\n          return;\n        }\n\n        if (ignoreTypes[type]) {\n          // We're going to a place that needs the resource\n          this.debugLog(`${ type }: Skipping (navigating to type)`);\n\n          return;\n        }\n\n        if (now - lastAccessed <= maxAge) {\n          // The resource was recently accessed\n\n          this.debugLog(`${ type }: Skipping (recently accessed)`);\n\n          return;\n        }\n\n        if (this.lastRouteChange !== undefined && this.lastRouteChange < lastAccessed ) {\n          // The resource is being used in the current route/page\n          this.debugLog(`${ type }: Skipping (used in current route/page)`);\n\n          return;\n        }\n\n        const countFromResource = getters.all(COUNT)[0].counts[type]?.summary.count;\n        const currentCount = countFromResource ?? 0;\n\n        if (currentCount === undefined || currentCount < maxCount) {\n          // There's too few resources, we might as well keep them to avoid a network request when we need them again\n          this.debugLog(`${ type }: Skipping (too few of resource)`);\n\n          return;\n        }\n\n        this.debugLog(`${ type }: Removing from store`);\n        dispatch('forgetType', type);\n        gcd[type] = currentCount;\n      });\n\n      this.gcLastRun = new Date().getTime();\n    } catch (e) {\n      this.debugLog(`: Error`, e);\n      this.gcLastRun = new Date().getTime();\n    }\n\n    if (Object.keys(gcd).length > 0) {\n      console.info('Garbage Collected Resources', gcd); // eslint-disable-line no-console\n    }\n\n    this.debugLog(`------ Finished ------`);\n  }\n\n  // ------------- GC Update local cache ---------------------\n\n  /**\n   * Update the time that the resource type was accessed\n   * This needs to run after any type initialisation (aka registerType)\n   */\n  gcUpdateLastAccessed(pseudoCtx: any, type: string) {\n    if (!this.gcEnabledAll(pseudoCtx, type)) {\n      return;\n    }\n    const store = pseudoCtx.state.config.namespace;\n\n    if (!this.lastAccessedCache[store]) {\n      this.lastAccessedCache[store] = {};\n    }\n\n    this.lastAccessedCache[store][type] = new Date().getTime();\n  }\n\n  /**\n   * Update the time the user last changed routes\n   */\n  gcUpdateRouteChanged() {\n    this.lastRouteChange = new Date().getTime();\n  }\n\n  // ------------- GC reset ---------------------\n\n  /**\n   * Remove all cached access times for the given store\n   */\n  gcResetStore(state: any) {\n    const store = state.config.namespace;\n\n    delete this.lastAccessedCache[store];\n\n    this.debugLog('Forgetting Store:', store);\n  }\n\n  /**\n   * Remove cached access time for the given resource type\n   */\n  gcResetType(state: any, type: string) {\n    const store = state.config.namespace;\n\n    if (!this.lastAccessedCache[store]) {\n      return;\n    }\n    delete this.lastAccessedCache[store][type];\n\n    this.debugLog('Forgetting Type:', store, type);\n  }\n}\n\nconst gc = new GarbageCollect();\n\nexport default gc;\n"],"mappings":"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"}]}