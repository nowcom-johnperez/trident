{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--2-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SingleClusterInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SingleClusterInfo.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENsdXN0ZXJQcm92aWRlckljb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ2x1c3RlclByb3ZpZGVySWNvbic7CmltcG9ydCBSZXNvdXJjZVN1bW1hcnksIHsgcmVzb3VyY2VDb3VudHMgfSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9SZXNvdXJjZVN1bW1hcnknOwppbXBvcnQgeyBOQU1FU1BBQ0UsIE1BTkFHRU1FTlQsIE5PREUsIENPVU5ULCBDQVRBTE9HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IFJFU09VUkNFUyB9IGZyb20gJ0BzaGVsbC9wYWdlcy9jL19jbHVzdGVyL2V4cGxvcmVyL2luZGV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENsdXN0ZXJQcm92aWRlckljb24sCiAgICBSZXNvdXJjZVN1bW1hcnkKICB9LAogIGFzeW5jIGZldGNoKCkgewogICAgdGhpcy5jbHVzdGVycyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgIHR5cGU6IE1BTkFHRU1FTlQuQ0xVU1RFUiwKICAgICAgb3B0OiB7CiAgICAgICAgdXJsOiBNQU5BR0VNRU5ULkNMVVNURVIKICAgICAgfQogICAgfSk7CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2x1c3RlcnM6IFtdLAogICAgICBjbHVzdGVyRGV0YWlsOiBudWxsLAogICAgICBjbHVzdGVyQ291bnRzOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBleHBsb3JlTGluaygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAnYy1jbHVzdGVyJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuY2x1c3RlckRldGFpbC5pZAogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBjbHVzdGVyVG9vbHNMaW5rKCkgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItZXhwbG9yZXItdG9vbHMnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgY2x1c3RlcjogdGhpcy5jbHVzdGVyRGV0YWlsLmlkCiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGFjY2Vzc2libGVSZXNvdXJjZXMoKSB7CiAgICAgIHJldHVybiBSRVNPVVJDRVMuZmlsdGVyKHJlc291cmNlID0+IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvc2NoZW1hRm9yJ10ocmVzb3VyY2UpKTsKICAgIH0sCiAgICB0b3RhbENvdW50R2F1Z2VJbnB1dCgpIHsKICAgICAgY29uc3QgdG90YWxJbnB1dCA9IHsKICAgICAgICBuYW1lOiB0aGlzLnQoJ2NsdXN0ZXJJbmRleFBhZ2UucmVzb3VyY2VHYXVnZS50b3RhbFJlc291cmNlcycpLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIHVzZWZ1bDogMCwKICAgICAgICB3YXJuaW5nQ291bnQ6IDAsCiAgICAgICAgZXJyb3JDb3VudDogMAogICAgICB9OwogICAgICB0aGlzLmFjY2Vzc2libGVSZXNvdXJjZXMuZm9yRWFjaChyZXNvdXJjZSA9PiB7CiAgICAgICAgY29uc3QgY291bnRzID0gcmVzb3VyY2VDb3VudHModGhpcy4kc3RvcmUsIHJlc291cmNlKTsKICAgICAgICBPYmplY3QuZW50cmllcyhjb3VudHMpLmZvckVhY2goZW50cnkgPT4gewogICAgICAgICAgdG90YWxJbnB1dFtlbnRyeVswXV0gKz0gZW50cnlbMV07CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gdG90YWxJbnB1dDsKICAgIH0sCiAgICBjYW5BY2Nlc3NOb2RlcygpIHsKICAgICAgdmFyIF90aGlzJGNsdXN0ZXJDb3VudHM7CiAgICAgIHJldHVybiAhISgoX3RoaXMkY2x1c3RlckNvdW50cyA9IHRoaXMuY2x1c3RlckNvdW50cykgIT09IG51bGwgJiYgX3RoaXMkY2x1c3RlckNvdW50cyAhPT0gdm9pZCAwICYmIChfdGhpcyRjbHVzdGVyQ291bnRzID0gX3RoaXMkY2x1c3RlckNvdW50c1swXSkgIT09IG51bGwgJiYgX3RoaXMkY2x1c3RlckNvdW50cyAhPT0gdm9pZCAwICYmIChfdGhpcyRjbHVzdGVyQ291bnRzID0gX3RoaXMkY2x1c3RlckNvdW50cy5jb3VudHMpICE9PSBudWxsICYmIF90aGlzJGNsdXN0ZXJDb3VudHMgIT09IHZvaWQgMCAmJiBfdGhpcyRjbHVzdGVyQ291bnRzW05PREVdKTsKICAgIH0sCiAgICBjYW5BY2Nlc3NOYW1lc3BhY2VzKCkgewogICAgICB2YXIgX3RoaXMkY2x1c3RlckNvdW50czI7CiAgICAgIHJldHVybiAhISgoX3RoaXMkY2x1c3RlckNvdW50czIgPSB0aGlzLmNsdXN0ZXJDb3VudHMpICE9PSBudWxsICYmIF90aGlzJGNsdXN0ZXJDb3VudHMyICE9PSB2b2lkIDAgJiYgKF90aGlzJGNsdXN0ZXJDb3VudHMyID0gX3RoaXMkY2x1c3RlckNvdW50czJbMF0pICE9PSBudWxsICYmIF90aGlzJGNsdXN0ZXJDb3VudHMyICE9PSB2b2lkIDAgJiYgKF90aGlzJGNsdXN0ZXJDb3VudHMyID0gX3RoaXMkY2x1c3RlckNvdW50czIuY291bnRzKSAhPT0gbnVsbCAmJiBfdGhpcyRjbHVzdGVyQ291bnRzMiAhPT0gdm9pZCAwICYmIF90aGlzJGNsdXN0ZXJDb3VudHMyW05BTUVTUEFDRV0pOwogICAgfSwKICAgIHNob3dDbHVzdGVyVG9vbHMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL2Nhbkxpc3QnXShDQVRBTE9HLkNMVVNURVJfUkVQTykgJiYgdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9jYW5MaXN0J10oQ0FUQUxPRy5BUFApOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGFzeW5jIGNsdXN0ZXJzKG5ldSkgewogICAgICB0aGlzLmNsdXN0ZXJEZXRhaWwgPSBuZXVbMF07CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2FkQ2x1c3RlcicsIHsKICAgICAgICBpZDogdGhpcy5jbHVzdGVyRGV0YWlsLmlkCiAgICAgIH0pOwogICAgICB0aGlzLmNsdXN0ZXJDb3VudHMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzW2BjbHVzdGVyL2FsbGBdKENPVU5UKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["ClusterProviderIcon","ResourceSummary","resourceCounts","NAMESPACE","MANAGEMENT","NODE","COUNT","CATALOG","RESOURCES","components","fetch","clusters","$store","dispatch","type","CLUSTER","opt","url","data","clusterDetail","clusterCounts","computed","exploreLink","name","params","cluster","id","clusterToolsLink","accessibleResources","filter","resource","getters","totalCountGaugeInput","totalInput","t","total","useful","warningCount","errorCount","forEach","counts","Object","entries","entry","canAccessNodes","_this$clusterCounts","canAccessNamespaces","_this$clusterCounts2","showClusterTools","CLUSTER_REPO","APP","watch","neu"],"sources":["../../node_modules/@rancher/shell/components/SingleClusterInfo.vue"],"sourcesContent":["<script>\nimport ClusterProviderIcon from '@shell/components/ClusterProviderIcon';\nimport ResourceSummary, { resourceCounts } from '@shell/components/ResourceSummary';\nimport {\n  NAMESPACE, MANAGEMENT, NODE, COUNT, CATALOG\n} from '@shell/config/types';\nimport { RESOURCES } from '@shell/pages/c/_cluster/explorer/index';\n\nexport default {\n  components: {\n    ClusterProviderIcon,\n    ResourceSummary\n  },\n\n  async fetch() {\n    this.clusters = await this.$store.dispatch('management/findAll', {\n      type: MANAGEMENT.CLUSTER,\n      opt:  { url: MANAGEMENT.CLUSTER }\n    });\n  },\n\n  data() {\n    return {\n      clusters:      [],\n      clusterDetail: null,\n      clusterCounts: {}\n    };\n  },\n\n  computed: {\n    exploreLink() {\n      return { name: 'c-cluster', params: { cluster: this.clusterDetail.id } };\n    },\n\n    clusterToolsLink() {\n      return { name: 'c-cluster-explorer-tools', params: { cluster: this.clusterDetail.id } };\n    },\n\n    accessibleResources() {\n      return RESOURCES.filter((resource) => this.$store.getters['cluster/schemaFor'](resource));\n    },\n\n    totalCountGaugeInput() {\n      const totalInput = {\n        name:         this.t('clusterIndexPage.resourceGauge.totalResources'),\n        total:        0,\n        useful:       0,\n        warningCount: 0,\n        errorCount:   0\n      };\n\n      this.accessibleResources.forEach((resource) => {\n        const counts = resourceCounts(this.$store, resource);\n\n        Object.entries(counts).forEach((entry) => {\n          totalInput[entry[0]] += entry[1];\n        });\n      });\n\n      return totalInput;\n    },\n\n    canAccessNodes() {\n      return !!this.clusterCounts?.[0]?.counts?.[NODE];\n    },\n\n    canAccessNamespaces() {\n      return !!this.clusterCounts?.[0]?.counts?.[NAMESPACE];\n    },\n\n    showClusterTools() {\n      return this.$store.getters['cluster/canList'](CATALOG.CLUSTER_REPO) &&\n             this.$store.getters['cluster/canList'](CATALOG.APP);\n    }\n  },\n\n  watch: {\n    async clusters(neu) {\n      this.clusterDetail = neu[0];\n      await this.$store.dispatch('loadCluster', { id: this.clusterDetail.id });\n      this.clusterCounts = this.$store.getters[`cluster/all`](COUNT);\n    }\n  }\n};\n</script>\n\n<template>\n  <div v-if=\"clusterDetail\">\n    <div class=\"single-cluster-header\">\n      <ClusterProviderIcon\n        :cluster=\"clusterDetail\"\n        class=\"rancher-icon\"\n        width=\"32\"\n      />\n      <h1>{{ t('glance.clusterInfo') }}</h1>\n    </div>\n\n    <div class=\"single-cluster-info\">\n      <div class=\"cluster-counts\">\n        <ResourceSummary :spoofed-counts=\"totalCountGaugeInput\" />\n        <ResourceSummary\n          v-if=\"canAccessNodes\"\n          :cluster=\"clusterDetail.id\"\n          resource=\"node\"\n        />\n        <ResourceSummary\n          v-if=\"canAccessNamespaces\"\n          :cluster=\"clusterDetail.id\"\n          resource=\"namespace\"\n        />\n      </div>\n      <div class=\"glance-item\">\n        <label>{{ t('glance.provider') }}: </label>\n        <span>{{ t(`cluster.provider.${ clusterDetail.status.provider || 'other' }`) }}</span>\n      </div>\n      <div\n        v-if=\"clusterDetail.kubernetesVersionRaw\"\n        class=\"glance-item\"\n      >\n        <label>{{ t('glance.version') }}: </label>\n        <span>{{ clusterDetail.kubernetesVersionBase }}</span>\n        <span\n          v-if=\"clusterDetail.kubernetesVersionExtension\"\n          style=\"font-size: 0.75em\"\n        >{{ clusterDetail.kubernetesVersionExtension }}</span>\n      </div>\n      <div class=\"glance-item\">\n        <label>{{ t('glance.created') }}: </label>\n        <span><LiveDate\n          :value=\"clusterDetail.metadata.creationTimestamp\"\n          :add-suffix=\"true\"\n          :show-tooltip=\"true\"\n        /></span>\n      </div>\n      <div class=\"section\">\n        {{ t('generic.links') }}\n      </div>\n      <div class=\"glance-item\">\n        <nuxt-link\n          :to=\"exploreLink\"\n          class=\"cluster-link\"\n        >\n          {{ t('nav.categories.explore') }}\n        </nuxt-link>\n      </div>\n      <div\n        v-if=\"showClusterTools\"\n        class=\"glance-item\"\n      >\n        <nuxt-link\n          :to=\"clusterToolsLink\"\n          class=\"cluster-link\"\n        >\n          {{ t('nav.clusterTools') }}\n        </nuxt-link>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n  .single-cluster-header {\n    align-items: center;\n    display: flex;\n\n    .rancher-icon {\n      margin-right: 10px;\n    }\n\n    h1 {\n      font-size: 20px;\n      margin: 0;\n    }\n  }\n  .single-cluster-info {\n    margin-top: 20px;\n\n    .section {\n      margin: 15px 0 5px 0;\n      font-weight: bold;\n    }\n\n    .cluster-counts {\n      display: flex;\n      margin: 10px 0;\n      > * {\n        flex: 1;\n        &:not(:last-child) {\n          margin-right: 20px;\n        }\n      }\n    }\n\n    .glance-item {\n      font-size: 14px;\n      padding: 5px 0;\n\n      .cluster-link {\n        font-size: 14px;\n      }\n    }\n  }\n</style>\n"],"mappings":"AACA,OAAAA,mBAAA;AACA,OAAAC,eAAA,IAAAC,cAAA;AACA,SACAC,SAAA,EAAAC,UAAA,EAAAC,IAAA,EAAAC,KAAA,EAAAC,OAAA,QACA;AACA,SAAAC,SAAA;AAEA;EACAC,UAAA;IACAT,mBAAA;IACAC;EACA;EAEA,MAAAS,MAAA;IACA,KAAAC,QAAA,cAAAC,MAAA,CAAAC,QAAA;MACAC,IAAA,EAAAV,UAAA,CAAAW,OAAA;MACAC,GAAA;QAAAC,GAAA,EAAAb,UAAA,CAAAW;MAAA;IACA;EACA;EAEAG,KAAA;IACA;MACAP,QAAA;MACAQ,aAAA;MACAC,aAAA;IACA;EACA;EAEAC,QAAA;IACAC,YAAA;MACA;QAAAC,IAAA;QAAAC,MAAA;UAAAC,OAAA,OAAAN,aAAA,CAAAO;QAAA;MAAA;IACA;IAEAC,iBAAA;MACA;QAAAJ,IAAA;QAAAC,MAAA;UAAAC,OAAA,OAAAN,aAAA,CAAAO;QAAA;MAAA;IACA;IAEAE,oBAAA;MACA,OAAApB,SAAA,CAAAqB,MAAA,CAAAC,QAAA,SAAAlB,MAAA,CAAAmB,OAAA,sBAAAD,QAAA;IACA;IAEAE,qBAAA;MACA,MAAAC,UAAA;QACAV,IAAA,OAAAW,CAAA;QACAC,KAAA;QACAC,MAAA;QACAC,YAAA;QACAC,UAAA;MACA;MAEA,KAAAV,mBAAA,CAAAW,OAAA,CAAAT,QAAA;QACA,MAAAU,MAAA,GAAAtC,cAAA,MAAAU,MAAA,EAAAkB,QAAA;QAEAW,MAAA,CAAAC,OAAA,CAAAF,MAAA,EAAAD,OAAA,CAAAI,KAAA;UACAV,UAAA,CAAAU,KAAA,QAAAA,KAAA;QACA;MACA;MAEA,OAAAV,UAAA;IACA;IAEAW,eAAA;MAAA,IAAAC,mBAAA;MACA,WAAAA,mBAAA,QAAAzB,aAAA,cAAAyB,mBAAA,gBAAAA,mBAAA,GAAAA,mBAAA,iBAAAA,mBAAA,gBAAAA,mBAAA,GAAAA,mBAAA,CAAAL,MAAA,cAAAK,mBAAA,eAAAA,mBAAA,CAAAxC,IAAA;IACA;IAEAyC,oBAAA;MAAA,IAAAC,oBAAA;MACA,WAAAA,oBAAA,QAAA3B,aAAA,cAAA2B,oBAAA,gBAAAA,oBAAA,GAAAA,oBAAA,iBAAAA,oBAAA,gBAAAA,oBAAA,GAAAA,oBAAA,CAAAP,MAAA,cAAAO,oBAAA,eAAAA,oBAAA,CAAA5C,SAAA;IACA;IAEA6C,iBAAA;MACA,YAAApC,MAAA,CAAAmB,OAAA,oBAAAxB,OAAA,CAAA0C,YAAA,KACA,KAAArC,MAAA,CAAAmB,OAAA,oBAAAxB,OAAA,CAAA2C,GAAA;IACA;EACA;EAEAC,KAAA;IACA,MAAAxC,SAAAyC,GAAA;MACA,KAAAjC,aAAA,GAAAiC,GAAA;MACA,WAAAxC,MAAA,CAAAC,QAAA;QAAAa,EAAA,OAAAP,aAAA,CAAAO;MAAA;MACA,KAAAN,aAAA,QAAAR,MAAA,CAAAmB,OAAA,gBAAAzB,KAAA;IACA;EACA;AACA"}]}