{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--2-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/pages/forms.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/pages/forms.vue","mtime":1716430386794},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEFzeW5jQnV0dG9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FzeW5jQnV0dG9uJzsKaW1wb3J0IHsgX0NSRUFURSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgZXhjZXB0aW9uVG9FcnJvcnNBcnJheSB9IGZyb20gJ0BzaGVsbC91dGlscy9lcnJvcic7CmltcG9ydCB7IE5BTUVTUEFDRSwgTk9ERSwgTk9STUFOLCBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBOYW1lc3BhY2UgZnJvbSAnQHNoZWxsL21vZGVscy9uYW1lc3BhY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXN5bmNCdXR0b24sCiAgICBleGNlcHRpb25Ub0Vycm9yc0FycmF5CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3JzOiBbXSwKICAgICAgdmFsdWU6IHsKICAgICAgICBuYW1lOiAnJwogICAgICB9LAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBtb2RlOiBfQ1JFQVRFCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgc3VibWl0KGJ1dHRvbkNiKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coInRlc3QgTkFNRVNQQUNFIikKICAgICAgICAvL2F3YWl0IHRoaXMuJHJlZnMuY2hhbmdlUGFzc3dvcmQuc2F2ZSgpOwogICAgICAgIHRoaXMudmFsdWUgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgdHlwZTogTUFOQUdFTUVOVCwKICAgICAgICAgIG1ldGFkYXRhOiB7CiAgICAgICAgICAgIG5hbWU6ICd0ZXN0aW5nJwogICAgICAgICAgfSwKICAgICAgICAgIGtpbmQ6ICJOYW1lc3BhY2VzIiwKICAgICAgICAgIGFwaVZlcnNpb246ICJ2MSIsCiAgICAgICAgICBzdGF0dXM6IHsKICAgICAgICAgICAgcGhhc2U6ICJBY3RpdmUiCiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLmdldHRlcnNbJ2RlZmF1bHROYW1lc3BhY2UnXSkKCiAgICAgICAgY29uc29sZS5sb2codGhpcy52YWx1ZSk7CiAgICAgICAgLy8idHlwZSI6Im5hbWVzcGFjZSIsIm1ldGFkYXRhIjp7ImFubm90YXRpb25zIjp7ImZpZWxkLmNhdHRsZS5pby9jb250YWluZXJEZWZhdWx0UmVzb3VyY2VMaW1pdCI6Int9In0sIm5hbWUiOiJ0ZXN0aW5nIn0sImRpc2FibGVPcGVuQXBpVmFsaWRhdGlvbiI6ZmFsc2V9CiAgICAgICAgLy8gdGhpcy5zaG93KGZhbHNlKTsKICAgICAgICBidXR0b25DYih0cnVlKTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coYGVycmAsIGVycik7CiAgICAgICAgYnV0dG9uQ2IoZmFsc2UpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgY3JlYXRlTmFtZXNwYWNlKGJ1dHRvbkNiKSB7CiAgICAgIC8vIEZ1bmN0aW9uIHRvIGdldCB0aGUgQ1NSRiB0b2tlbiBmcm9tIHRoZSAnQ1NSRicgY29va2llCiAgICAgIGZ1bmN0aW9uIGdldENzcmZUb2tlbkZyb21Db29raWUoKSB7CiAgICAgICAgY29uc3QgY3NyZkNvb2tpZU5hbWUgPSAnQ1NSRic7IC8vIFJlcGxhY2Ugd2l0aCB5b3VyIGFjdHVhbCBDU1JGIGNvb2tpZSBuYW1lCiAgICAgICAgY29uc3QgY29va2llVmFsdWUgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykuZmluZChyb3cgPT4gcm93LnN0YXJ0c1dpdGgoYCR7Y3NyZkNvb2tpZU5hbWV9PWApKTsKICAgICAgICBpZiAoY29va2llVmFsdWUpIHsKICAgICAgICAgIHJldHVybiBjb29raWVWYWx1ZS5zcGxpdCgnPScpWzFdOwogICAgICAgIH0KCiAgICAgICAgLy8gUmV0dXJuIGEgZGVmYXVsdCB2YWx1ZSBvciBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIGNvb2tpZSBpcyBub3QgZm91bmQKICAgICAgICByZXR1cm4gJ2RlZmF1bHQtY3NyZi10b2tlbic7CiAgICAgIH0KICAgICAgY29uc3QgcGF5bG9hZCA9IHsKICAgICAgICB0eXBlOiAnbmFtZXNwYWNlJywKICAgICAgICBtZXRhZGF0YTogewogICAgICAgICAgYW5ub3RhdGlvbnM6IHsKICAgICAgICAgICAgJ2ZpZWxkLmNhdHRsZS5pby9jb250YWluZXJEZWZhdWx0UmVzb3VyY2VMaW1pdCc6ICd7fScKICAgICAgICAgIH0sCiAgICAgICAgICBuYW1lOiAndGVzdGluZycKICAgICAgICB9LAogICAgICAgIGRpc2FibGVPcGVuQXBpVmFsaWRhdGlvbjogZmFsc2UKICAgICAgfTsKCiAgICAgIC8vIE1ha2UgdGhlIHJlcXVlc3QgdXNpbmcgQXhpb3Mgd2l0aCB0aGUgJ1gtQXBpLUNzcmYnIGhlYWRlciBzZXQgdG8gdGhlICdDU1JGJyBjb29raWUgdmFsdWUKICAgICAgYXhpb3MucG9zdChgL3YxL25hbWVzcGFjZXNgLCBwYXlsb2FkLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgIC8vIFNldCB0aGUgQ29udGVudC1UeXBlIGhlYWRlcgogICAgICAgICAgJ1gtQXBpLUNzcmYnOiBnZXRDc3JmVG9rZW5Gcm9tQ29va2llKCksCiAgICAgICAgICAvLyBJbmNsdWRlIENTUkYgdG9rZW4gaW4gdGhlIGhlYWRlcnMKICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicgLy8gU3BlY2lmeSB0aGF0IHlvdSBleHBlY3QgSlNPTiBpbiB0aGUgcmVzcG9uc2UKICAgICAgICB9LAogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSAvLyBFbmFibGUgc2VuZGluZyBhbmQgcmVjZWl2aW5nIGNvb2tpZXMKICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgLy8gSGFuZGxlIHRoZSByZXNwb25zZSBoZXJlCiAgICAgICAgY29uc29sZS5sb2coJ05hbWVzcGFjZSBjcmVhdGVkOicsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIGJ1dHRvbkNiKHRydWUpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgLy8gSGFuZGxlIGFueSBlcnJvcnMgaGVyZQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIG5hbWVzcGFjZTonLCBlcnJvcik7CiAgICAgICAgYnV0dG9uQ2IoZmFsc2UpOwogICAgICB9KTsKICAgIH0KCiAgICAvLyBPdGhlciBtZXRob2RzIGhlcmUKICB9Cn07"},{"version":3,"names":["axios","AsyncButton","_CREATE","exceptionToErrorsArray","NAMESPACE","NODE","NORMAN","MANAGEMENT","Namespace","components","data","errors","value","name","submitted","mode","methods","submit","buttonCb","$store","dispatch","type","metadata","kind","apiVersion","status","phase","console","log","err","createNamespace","getCsrfTokenFromCookie","csrfCookieName","cookieValue","document","cookie","split","find","row","startsWith","payload","annotations","disableOpenApiValidation","post","headers","withCredentials","then","response","catch","error"],"sources":["pages/forms.vue"],"sourcesContent":["<script>\nimport axios from 'axios';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { _CREATE } from '@shell/config/query-params';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { NAMESPACE, NODE, NORMAN, MANAGEMENT} from '@shell/config/types';\nimport Namespace from '@shell/models/namespace';\n\nexport default {\ncomponents: {\n    AsyncButton,\n    exceptionToErrorsArray,\n  },\n  data() {\n    return {\n      errors:           [],\n      value:           { name: '' },\n      submitted:       false,\n      mode:            _CREATE\n    };\n  },\n  methods:{\n    async submit(buttonCb) {\n\n        try {\n            // console.log(\"test NAMESPACE\")\n            //await this.$refs.changePassword.save();\n            this.value = await this.$store.dispatch('management/findAll', {\n                type: MANAGEMENT,\n                metadata: {\n                    name: 'testing',\n                },\n                kind: \"Namespaces\",\n                apiVersion: \"v1\",\n                status: {\n                    phase: \"Active\"\n                }\n            });\n\n            // console.log(this.$store.getters['defaultNamespace'])\n\n            console.log(this.value)\n            //\"type\":\"namespace\",\"metadata\":{\"annotations\":{\"field.cattle.io/containerDefaultResourceLimit\":\"{}\"},\"name\":\"testing\"},\"disableOpenApiValidation\":false}\n            // this.show(false);\n            buttonCb(true);\n        } catch (err) {\n            console.log(`err`, err)\n            buttonCb(false);\n        }\n    },\n    async createNamespace(buttonCb) {\n        // Function to get the CSRF token from the 'CSRF' cookie\n        function getCsrfTokenFromCookie() {\n            const csrfCookieName = 'CSRF'; // Replace with your actual CSRF cookie name\n            const cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith(`${csrfCookieName}=`));\n\n            if (cookieValue) {\n            return cookieValue.split('=')[1];\n            }\n\n            // Return a default value or handle the case where the cookie is not found\n            return 'default-csrf-token';\n        }\n\n        const payload = {\n            type: 'namespace',\n            metadata: {\n            annotations: {\n                'field.cattle.io/containerDefaultResourceLimit': '{}',\n            },\n            name: 'testing',\n            },\n            disableOpenApiValidation: false,\n        };\n\n        // Make the request using Axios with the 'X-Api-Csrf' header set to the 'CSRF' cookie value\n        axios\n            .post(`/v1/namespaces`, payload, {\n            headers: {\n                'Content-Type': 'application/json', // Set the Content-Type header\n                'X-Api-Csrf': getCsrfTokenFromCookie(), // Include CSRF token in the headers\n                'Accept': 'application/json', // Specify that you expect JSON in the response\n            },\n            withCredentials: true, // Enable sending and receiving cookies\n            })\n            .then(response => {\n                // Handle the response here\n                console.log('Namespace created:', response.data);\n                buttonCb(true);\n            })\n            .catch(error => {\n                // Handle any errors here\n                console.error('Error creating namespace:', error);\n                buttonCb(false);\n            });\n    }\n\n\n     \n\n    // Other methods here\n  }\n\n};\n</script>\n<template>\n<AsyncButton\n  type=\"submit\"\n  mode=\"apply\"\n  class=\"btn bg-error ml-10\"\n  value=\"LOGIN\"\n  @click=\"submit\"\n/>\n</template>"],"mappings":"AACA,OAAAA,KAAA;AACA,OAAAC,WAAA;AACA,SAAAC,OAAA;AACA,SAAAC,sBAAA;AACA,SAAAC,SAAA,EAAAC,IAAA,EAAAC,MAAA,EAAAC,UAAA;AACA,OAAAC,SAAA;AAEA;EACAC,UAAA;IACAR,WAAA;IACAE;EACA;EACAO,KAAA;IACA;MACAC,MAAA;MACAC,KAAA;QAAAC,IAAA;MAAA;MACAC,SAAA;MACAC,IAAA,EAAAb;IACA;EACA;EACAc,OAAA;IACA,MAAAC,OAAAC,QAAA;MAEA;QACA;QACA;QACA,KAAAN,KAAA,cAAAO,MAAA,CAAAC,QAAA;UACAC,IAAA,EAAAd,UAAA;UACAe,QAAA;YACAT,IAAA;UACA;UACAU,IAAA;UACAC,UAAA;UACAC,MAAA;YACAC,KAAA;UACA;QACA;;QAEA;;QAEAC,OAAA,CAAAC,GAAA,MAAAhB,KAAA;QACA;QACA;QACAM,QAAA;MACA,SAAAW,GAAA;QACAF,OAAA,CAAAC,GAAA,QAAAC,GAAA;QACAX,QAAA;MACA;IACA;IACA,MAAAY,gBAAAZ,QAAA;MACA;MACA,SAAAa,uBAAA;QACA,MAAAC,cAAA;QACA,MAAAC,WAAA,GAAAC,QAAA,CAAAC,MAAA,CACAC,KAAA,OACAC,IAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAC,UAAA,IAAAP,cAAA;QAEA,IAAAC,WAAA;UACA,OAAAA,WAAA,CAAAG,KAAA;QACA;;QAEA;QACA;MACA;MAEA,MAAAI,OAAA;QACAnB,IAAA;QACAC,QAAA;UACAmB,WAAA;YACA;UACA;UACA5B,IAAA;QACA;QACA6B,wBAAA;MACA;;MAEA;MACA1C,KAAA,CACA2C,IAAA,mBAAAH,OAAA;QACAI,OAAA;UACA;UAAA;UACA,cAAAb,sBAAA;UAAA;UACA;QACA;QACAc,eAAA;MACA,GACAC,IAAA,CAAAC,QAAA;QACA;QACApB,OAAA,CAAAC,GAAA,uBAAAmB,QAAA,CAAArC,IAAA;QACAQ,QAAA;MACA,GACA8B,KAAA,CAAAC,KAAA;QACA;QACAtB,OAAA,CAAAsB,KAAA,8BAAAA,KAAA;QACA/B,QAAA;MACA;IACA;;IAKA;EACA;AAEA"}]}