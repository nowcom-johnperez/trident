{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/selection.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/selection.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgaXNNb3JlLCBpc1JhbmdlLCBzdXBwcmVzc0NvbnRleHRNZW51LCBpc0FsdGVybmF0ZSB9IGZyb20gJ0BzaGVsbC91dGlscy9wbGF0Zm9ybSc7CmltcG9ydCB7IGdldCB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgeyBmaWx0ZXJCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7CmltcG9ydCB7IGdldFBhcmVudCB9IGZyb20gJ0BzaGVsbC91dGlscy9kb20nOwpleHBvcnQgY29uc3QgQUxMID0gJ2FsbCc7CmV4cG9ydCBjb25zdCBTT01FID0gJ3NvbWUnOwpleHBvcnQgY29uc3QgTk9ORSA9ICdub25lJzsKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQoKSB7CiAgICBjb25zdCB0YWJsZSA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJ1RBQkxFJyk7CiAgICB0aGlzLl9vblJvd0NsaWNrQm91bmQgPSB0aGlzLm9uUm93Q2xpY2suYmluZCh0aGlzKTsKICAgIHRoaXMuX29uUm93TW91c2Vkb3duQm91bmQgPSB0aGlzLm9uUm93TW91c2Vkb3duLmJpbmQodGhpcyk7CiAgICB0aGlzLl9vblJvd0NvbnRleHRCb3VuZCA9IHRoaXMub25Sb3dDb250ZXh0LmJpbmQodGhpcyk7CiAgICB0YWJsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uUm93Q2xpY2tCb3VuZCk7CiAgICB0YWJsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vblJvd01vdXNlZG93bkJvdW5kKTsKICAgIHRhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5fb25Sb3dDb250ZXh0Qm91bmQpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGNvbnN0IHRhYmxlID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignVEFCTEUnKTsKICAgIHRhYmxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25Sb3dDbGlja0JvdW5kKTsKICAgIHRhYmxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uUm93TW91c2Vkb3duQm91bmQpOwogICAgdGFibGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLl9vblJvd0NvbnRleHRCb3VuZCk7CiAgfSwKICBjb21wdXRlZDogewogICAgLy8gVXNlZCBmb3IgdGhlIHRhYmxlLWxldmVsIHNlbGVjdGlvbiBjaGVjay1ib3ggdG8gc2hvdyBjaGVja2VkIChhbGwgc2VsZWN0ZWQpL2ludGVybWVkaWF0ZSAoc29tZSBzZWxlY3RlZCkvdW5jaGVja2VkIChub25lIHNlbGVjdGVkKQogICAgaG93TXVjaFNlbGVjdGVkKCkgewogICAgICBjb25zdCB0b3RhbCA9IHRoaXMucGFnZWRSb3dzLmxlbmd0aDsKICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkUm93cy5sZW5ndGg7CiAgICAgIGlmIChzZWxlY3RlZCA+PSB0b3RhbCAmJiB0b3RhbCA+IDApIHsKICAgICAgICByZXR1cm4gQUxMOwogICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkID4gMCkgewogICAgICAgIHJldHVybiBTT01FOwogICAgICB9CiAgICAgIHJldHVybiBOT05FOwogICAgfSwKICAgIC8vIE5PVEU6IFRoZSBsb2dpYyBoZXJlIGNvdWxkIGJlIHNpbXBsaWZpZWQgYW5kIG1hZGUgbW9yZSBwZXJmb3JtYW50CiAgICBidWxrQWN0aW9uc0ZvclNlbGVjdGlvbigpIHsKICAgICAgbGV0IGRpc2FibGVBbGwgPSBmYWxzZTsKICAgICAgLy8gcGFnZWRSb3dzIGlzIGFsbCByb3dzIGluIHRoZSBjdXJyZW50IHBhZ2UKICAgICAgY29uc3QgYWxsID0gdGhpcy5wYWdlZFJvd3M7CiAgICAgIGNvbnN0IGFsbFJvd3MgPSB0aGlzLmFycmFuZ2VkUm93czsKICAgICAgbGV0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZFJvd3M7CgogICAgICAvLyBOb3RoaW5nIGlzIHNlbGVjdGVkCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZFJvd3MubGVuZ3RoKSB7CiAgICAgICAgLy8gYW5kIHRoZXJlIGFyZSBubyByb3dzCiAgICAgICAgaWYgKCFhbGxSb3dzKSB7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfQogICAgICAgIGNvbnN0IGZpcnN0Tm9kZSA9IGFsbFJvd3NbMF07CiAgICAgICAgc2VsZWN0ZWQgPSBmaXJzdE5vZGUgPyBbZmlyc3ROb2RlXSA6IFtdOwogICAgICAgIGRpc2FibGVBbGwgPSB0cnVlOwogICAgICB9CiAgICAgIGNvbnN0IG1hcCA9IHt9OwoKICAgICAgLy8gRmluZCBhbmQgYWRkIGFsbCB0aGUgYWN0aW9ucyBmb3IgYWxsIHRoZSBub2RlcyBzbyB0aGF0IHdlIGtub3cKICAgICAgLy8gd2hhdCBhbGwgdGhlIHBvc3NpYmxlIGFjdGlvbnMgYXJlCiAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBhbGwpIHsKICAgICAgICBpZiAobm9kZS5hdmFpbGFibGVBY3Rpb25zKSB7CiAgICAgICAgICBmb3IgKGNvbnN0IGFjdCBvZiBub2RlLmF2YWlsYWJsZUFjdGlvbnMpIHsKICAgICAgICAgICAgaWYgKGFjdC5idWxrYWJsZSkgewogICAgICAgICAgICAgIF9hZGQobWFwLCBhY3QsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gR28gdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIGl0ZW1zIGFuZCBhZGQgdGhlIGFjdGlvbnMgKHdoaWNoIHdlcmUgYWxyZWFkeSBpZGVudGlmaWVkIGFib3ZlKQogICAgICAvLyBhcyBhdmFpbGFibGUgZm9yIHNvbWUgKG9yIGFsbCkgb2YgdGhlIHNlbGVjdGVkIG5vZGVzCiAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBzZWxlY3RlZCkgewogICAgICAgIGlmIChub2RlLmF2YWlsYWJsZUFjdGlvbnMpIHsKICAgICAgICAgIGZvciAoY29uc3QgYWN0IG9mIG5vZGUuYXZhaWxhYmxlQWN0aW9ucykgewogICAgICAgICAgICBpZiAoYWN0LmJ1bGthYmxlICYmIGFjdC5lbmFibGVkKSB7CiAgICAgICAgICAgICAgX2FkZChtYXAsIGFjdCwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBJZiB0aGVyZSdzIG5vIGl0ZW1zIGFjdHVhbGx5IHNlbGVjdGVkLCB3ZSB3YW50IHRvIHNlZSBhbGwgdGhlIGFjdGlvbnMKICAgICAgLy8gc28geW91IGtub3cgd2hhdCBleGlzdHMsIGJ1dCBoYXZlIHRoZW0gYWxsIGJlIGRpc2FibGVkIHNpbmNlIHRoZXJlJ3Mgbm90aGluZyB0byBkbyB0aGVtIG9uLgogICAgICBjb25zdCBvdXQgPSBfZmlsdGVyKG1hcCwgZGlzYWJsZUFsbCk7CgogICAgICAvLyBFbmFibGUgYSBidWxrYWN0aW9uIGlmIHNvbWUgb2YgdGhlIHNlbGVjdGVkIGl0ZW1zIGNhbiBwZXJmb3JtIHRoZSBhY3Rpb24KICAgICAgb3V0LmZvckVhY2goYnVsa0FjdGlvbiA9PiB7CiAgICAgICAgY29uc3QgYWN0aW9uRW5hYmxlZEZvclNvbWVTZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRSb3dzLnNvbWUobm9kZSA9PiB7CiAgICAgICAgICBjb25zdCBhdmFpbGFibGVBY3Rpb25zID0gbm9kZS5hdmFpbGFibGVBY3Rpb25zIHx8IFtdOwogICAgICAgICAgcmV0dXJuIGF2YWlsYWJsZUFjdGlvbnMuc29tZShhY3Rpb24gPT4gYWN0aW9uLmFjdGlvbiA9PT0gYnVsa0FjdGlvbi5hY3Rpb24gJiYgYWN0aW9uLmVuYWJsZWQpOwogICAgICAgIH0pOwogICAgICAgIGJ1bGtBY3Rpb24uZW5hYmxlZCA9IHRoaXMuc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDAgJiYgYWN0aW9uRW5hYmxlZEZvclNvbWVTZWxlY3RlZDsKICAgICAgfSk7CiAgICAgIHJldHVybiBvdXQuc29ydCgoYSwgYikgPT4gKGIud2VpZ2h0IHx8IDApIC0gKGEud2VpZ2h0IHx8IDApKTsKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBMaXN0IG9mIHNlbGVjdGVkIGl0ZW1zIGluIHRoZSB0YWJsZQogICAgICBzZWxlY3RlZFJvd3M6IFtdLAogICAgICBwcmV2Tm9kZTogbnVsbAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAvLyBPbiBwYWdlIGNoYW5nZQogICAgcGFnZWRSb3dzKCkgewogICAgICAvLyBXaGVuIHRoZSB0YWJsZSBjb250ZW50cyBjaGFuZ2VzOgogICAgICAvLyAtIFJlbW92ZSBpdGVtcyB0aGF0IGFyZSBpbiB0aGUgc2VsZWN0aW9uIGJ1dCBubyBsb25nZXIgaW4gdGhlIHRhYmxlLgoKICAgICAgY29uc3QgY29udGVudCA9IHRoaXMucGFnZWRSb3dzOwogICAgICBjb25zdCB0b1JlbW92ZSA9IFtdOwogICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5zZWxlY3RlZFJvd3MpIHsKICAgICAgICBpZiAoIWNvbnRlbnQuaW5jbHVkZXMobm9kZSkpIHsKICAgICAgICAgIHRvUmVtb3ZlLnB1c2gobm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMudXBkYXRlKFtdLCB0b1JlbW92ZSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblRvZ2dsZUFsbCh2YWx1ZSkgewogICAgICBpZiAodmFsdWUpIHsKICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnBhZ2VkUm93cywgW10pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXBkYXRlKFtdLCB0aGlzLnBhZ2VkUm93cyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgb25Sb3dNb3VzZWRvd24oZSkgewogICAgICBpZiAoaXNSYW5nZShlKSB8fCB0aGlzLmlzU2VsZWN0aW9uQ2hlY2tib3goZS50YXJnZXQpKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CiAgICB9LAogICAgb25Sb3dNb3VzZUVudGVyKGUpIHsKICAgICAgY29uc3QgdHIgPSBlLnRhcmdldC5jbG9zZXN0KCdUUicpOwogICAgICBpZiAodHIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWItcm93JykpIHsKICAgICAgICBjb25zdCB0ck1haW5Sb3cgPSB0ci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOwogICAgICAgIHRyTWFpblJvdy5jbGFzc0xpc3QuYWRkKCdzdWItcm93LWhvdmVyZWQnKTsKICAgICAgfQogICAgfSwKICAgIG9uUm93TW91c2VMZWF2ZShlKSB7CiAgICAgIGNvbnN0IHRyID0gZS50YXJnZXQuY2xvc2VzdCgnVFInKTsKICAgICAgaWYgKHRyLmNsYXNzTGlzdC5jb250YWlucygnc3ViLXJvdycpKSB7CiAgICAgICAgY29uc3QgdHJNYWluUm93ID0gdHIucHJldmlvdXNFbGVtZW50U2libGluZzsKICAgICAgICB0ck1haW5Sb3cuY2xhc3NMaXN0LnJlbW92ZSgnc3ViLXJvdy1ob3ZlcmVkJyk7CiAgICAgIH0KICAgIH0sCiAgICBub2RlRm9yRXZlbnQoZSkgewogICAgICBjb25zdCB0YWdOYW1lID0gZS50YXJnZXQudGFnTmFtZTsKICAgICAgY29uc3QgdGd0ID0gZS50YXJnZXQ7CiAgICAgIGNvbnN0IGFjdGlvbkVsZW1lbnQgPSB0Z3QuY2xvc2VzdCgnLmFjdGlvbnMnKTsKICAgICAgaWYgKHRndC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdC1hbGwtY2hlY2snKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoIWFjdGlvbkVsZW1lbnQpIHsKICAgICAgICBpZiAodGFnTmFtZSA9PT0gJ0EnIHx8IHRhZ05hbWUgPT09ICdCVVRUT04nIHx8IGdldFBhcmVudCh0Z3QsICcuYnRuJykpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgY29uc3QgdGd0Um93ID0gZS50YXJnZXQuY2xvc2VzdCgnVFInKTsKICAgICAgcmV0dXJuIHRoaXMubm9kZUZvclJvdyh0Z3RSb3cpOwogICAgfSwKICAgIG5vZGVGb3JSb3codGd0Um93KSB7CiAgICAgIHZhciBfdGd0Um93OwogICAgICBpZiAoKF90Z3RSb3cgPSB0Z3RSb3cpICE9PSBudWxsICYmIF90Z3RSb3cgIT09IHZvaWQgMCAmJiBfdGd0Um93LmNsYXNzTGlzdC5jb250YWlucygnc2VwYXJhdG9yLXJvdycpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHdoaWxlICh0Z3RSb3cgJiYgIXRndFJvdy5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tcm93JykpIHsKICAgICAgICB0Z3RSb3cgPSB0Z3RSb3cucHJldmlvdXNFbGVtZW50U2libGluZzsKICAgICAgfQogICAgICBpZiAoIXRndFJvdykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBub2RlSWQgPSB0Z3RSb3cuZGF0YXNldC5ub2RlSWQ7CiAgICAgIGlmICghbm9kZUlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhZ2VkUm93cy5maW5kKHggPT4gZ2V0KHgsIHRoaXMua2V5RmllbGQpID09PSBub2RlSWQpOwogICAgICByZXR1cm4gbm9kZTsKICAgIH0sCiAgICBhc3luYyBvblJvd0NsaWNrKGUpIHsKICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZUZvckV2ZW50KGUpOwogICAgICBjb25zdCB0ZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1REJyk7CiAgICAgIGNvbnN0IHNraXBTZWxlY3QgPSB0ZCA9PT0gbnVsbCB8fCB0ZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdza2lwLXNlbGVjdCcpOwogICAgICBpZiAoc2tpcFNlbGVjdCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGVkUm93czsKICAgICAgY29uc3QgaXNDaGVja2JveCA9IHRoaXMuaXNTZWxlY3Rpb25DaGVja2JveChlLnRhcmdldCkgfHwgKHRkID09PSBudWxsIHx8IHRkID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jvdy1jaGVjaycpKTsKICAgICAgY29uc3QgaXNFeHBhbmQgPSB0ZCA9PT0gbnVsbCB8fCB0ZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyb3ctZXhwYW5kJyk7CiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLnBhZ2VkUm93czsKICAgICAgdGhpcy4kZW1pdCgncm93Q2xpY2snLCBlKTsKICAgICAgaWYgKCFub2RlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmIChpc0V4cGFuZCkgewogICAgICAgIHRoaXMudG9nZ2xlRXhwYW5kKG5vZGUpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBhY3Rpb25FbGVtZW50ID0gZS50YXJnZXQuY2xvc2VzdCgnLmFjdGlvbnMnKTsKICAgICAgaWYgKGFjdGlvbkVsZW1lbnQpIHsKICAgICAgICBsZXQgcmVzb3VyY2VzID0gW25vZGVdOwogICAgICAgIGlmICh0aGlzLm1hbmdsZUFjdGlvblJlc291cmNlcykgewogICAgICAgICAgY29uc3QgaSA9IGFjdGlvbkVsZW1lbnQucXVlcnlTZWxlY3RvcignaScpOwogICAgICAgICAgaS5jbGFzc0xpc3QucmVtb3ZlKCdpY29uLWFjdGlvbnMnKTsKICAgICAgICAgIGkuY2xhc3NMaXN0LmFkZCgnaWNvbi1zcGlubmVyJyk7CiAgICAgICAgICBpLmNsYXNzTGlzdC5hZGQoJ2ljb24tc3BpbicpOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmVzb3VyY2VzID0gYXdhaXQgdGhpcy5tYW5nbGVBY3Rpb25SZXNvdXJjZXMocmVzb3VyY2VzKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGkuY2xhc3NMaXN0LnJlbW92ZSgnaWNvbi1zcGlubmVyJyk7CiAgICAgICAgICAgIGkuY2xhc3NMaXN0LnJlbW92ZSgnaWNvbi1zcGluJyk7CiAgICAgICAgICAgIGkuY2xhc3NMaXN0LmFkZCgnaWNvbi1hY3Rpb25zJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdChgYWN0aW9uLW1lbnUvc2hvd2AsIHsKICAgICAgICAgIHJlc291cmNlcywKICAgICAgICAgIGV2ZW50OiBlLAogICAgICAgICAgZWxlbTogYWN0aW9uRWxlbWVudAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0aW9uLmluY2x1ZGVzKG5vZGUpOwogICAgICBsZXQgcHJldk5vZGUgPSB0aGlzLnByZXZOb2RlOwoKICAgICAgLy8gUHJldk5vZGUgaXMgb25seSB2YWxpZCBpZiBpdCdzIGluIHRoZSBjdXJyZW50IGNvbnRlbnQKICAgICAgaWYgKCFwcmV2Tm9kZSB8fCAhY29udGVudC5pbmNsdWRlcyhwcmV2Tm9kZSkpIHsKICAgICAgICBwcmV2Tm9kZSA9IG5vZGU7CiAgICAgIH0KICAgICAgaWYgKGlzTW9yZShlKSkgewogICAgICAgIHRoaXMudG9nZ2xlKG5vZGUpOwogICAgICB9IGVsc2UgaWYgKGlzUmFuZ2UoZSkpIHsKICAgICAgICBjb25zdCB0b1RvZ2dsZSA9IHRoaXMubm9kZXNCZXR3ZWVuKHByZXZOb2RlLCBub2RlKTsKICAgICAgICBpZiAoaXNTZWxlY3RlZCkgewogICAgICAgICAgdGhpcy51cGRhdGUoW10sIHRvVG9nZ2xlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy51cGRhdGUodG9Ub2dnbGUsIFtdKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaXNDaGVja2JveCkgewogICAgICAgIHRoaXMudG9nZ2xlKG5vZGUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXBkYXRlKFtub2RlXSwgY29udGVudCk7CiAgICAgIH0KICAgICAgdGhpcy5wcmV2Tm9kZSA9IG5vZGU7CiAgICB9LAogICAgYXN5bmMgb25Sb3dDb250ZXh0KGUpIHsKICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZUZvckV2ZW50KGUpOwogICAgICBpZiAoc3VwcHJlc3NDb250ZXh0TWVudShlKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoIW5vZGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB0aGlzLnByZXZOb2RlID0gbm9kZTsKICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRSb3dzLmluY2x1ZGVzKG5vZGUpOwogICAgICBpZiAoIWlzU2VsZWN0ZWQpIHsKICAgICAgICB0aGlzLnVwZGF0ZShbbm9kZV0sIHRoaXMuc2VsZWN0ZWRSb3dzLnNsaWNlKCkpOwogICAgICB9CiAgICAgIGxldCByZXNvdXJjZXMgPSB0aGlzLnNlbGVjdGVkUm93czsKICAgICAgaWYgKHRoaXMubWFuZ2xlQWN0aW9uUmVzb3VyY2VzKSB7CiAgICAgICAgcmVzb3VyY2VzID0gYXdhaXQgdGhpcy5tYW5nbGVBY3Rpb25SZXNvdXJjZXMocmVzb3VyY2VzKTsKICAgICAgfQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoYGFjdGlvbi1tZW51L3Nob3dgLCB7CiAgICAgICAgcmVzb3VyY2VzLAogICAgICAgIGV2ZW50OiBlCiAgICAgIH0pOwogICAgfSwKICAgIGtleVNlbGVjdFJvdyhyb3csIG1vcmUgPSBmYWxzZSkgewogICAgICBjb25zdCBub2RlID0gdGhpcy5ub2RlRm9yUm93KHJvdyk7CiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLnBhZ2VkUm93czsKICAgICAgaWYgKCFub2RlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmIChtb3JlKSB7CiAgICAgICAgdGhpcy51cGRhdGUoW25vZGVdLCBbXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGRhdGUoW25vZGVdLCBjb250ZW50KTsKICAgICAgfQogICAgICB0aGlzLnByZXZOb2RlID0gbm9kZTsKICAgIH0sCiAgICBpc1NlbGVjdGlvbkNoZWNrYm94KGVsZW1lbnQpIHsKICAgICAgcmV0dXJuIGVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiBlbGVtZW50LnR5cGUgPT09ICdjaGVja2JveCcgJiYgZWxlbWVudC5jbG9zZXN0KCcuc2VsZWN0aW9uLWNoZWNrYm94JykgIT09IG51bGw7CiAgICB9LAogICAgbm9kZXNCZXR3ZWVuKGEsIGIpIHsKICAgICAgbGV0IHRvVG9nZ2xlID0gW107CiAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ3JvdXBCeTsKICAgICAgaWYgKGtleSkgewogICAgICAgIC8vIEdyb3VwZWQgaGFzIDIgbGV2ZWxzIHRvIGxvb2sgdGhyb3VnaAogICAgICAgIGNvbnN0IGdyb3VwZWQgPSB0aGlzLmdyb3VwZWRSb3dzOwogICAgICAgIGxldCBmcm9tID0gdGhpcy5ncm91cElkeChhKTsKICAgICAgICBsZXQgdG8gPSB0aGlzLmdyb3VwSWR4KGIpOwogICAgICAgIGlmICghZnJvbSB8fCAhdG8pIHsKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICB9CgogICAgICAgIC8vIEZyb20gaGFzIHRvIGNvbWUgYmVmb3JlIFRvCiAgICAgICAgaWYgKGZyb20uZ3JvdXAgPiB0by5ncm91cCB8fCBmcm9tLmdyb3VwID09PSB0by5ncm91cCAmJiBmcm9tLml0ZW0gPiB0by5pdGVtKSB7CiAgICAgICAgICBbZnJvbSwgdG9dID0gW3RvLCBmcm9tXTsKICAgICAgICB9CiAgICAgICAgZm9yIChsZXQgaSA9IGZyb20uZ3JvdXA7IGkgPD0gdG8uZ3JvdXA7IGkrKykgewogICAgICAgICAgY29uc3QgaXRlbXMgPSBncm91cGVkW2ldLnJvd3M7CiAgICAgICAgICBsZXQgaiA9IGZyb20uZ3JvdXAgPT09IGkgPyBmcm9tLml0ZW0gOiAwOwogICAgICAgICAgd2hpbGUgKGl0ZW1zW2pdICYmIChpIDwgdG8uZ3JvdXAgfHwgaiA8PSB0by5pdGVtKSkgewogICAgICAgICAgICB0b1RvZ2dsZS5wdXNoKGl0ZW1zW2pdKTsKICAgICAgICAgICAgaisrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBVbmdyb3VwZWQgaXMgbXVjaCBzaW1wbGVyCiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMucGFnZWRSb3dzOwogICAgICAgIGxldCBmcm9tID0gY29udGVudC5pbmRleE9mKGEpOwogICAgICAgIGxldCB0byA9IGNvbnRlbnQuaW5kZXhPZihiKTsKICAgICAgICBbZnJvbSwgdG9dID0gW01hdGgubWluKGZyb20sIHRvKSwgTWF0aC5tYXgoZnJvbSwgdG8pXTsKICAgICAgICB0b1RvZ2dsZSA9IGNvbnRlbnQuc2xpY2UoZnJvbSwgdG8gKyAxKTsKICAgICAgfQoKICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYWxyZWFkeSBkdXBsaWNhdGUgY29udGVudCBzZWxlY3RlZCAoc2VsZWN0ZWRSb3dzKSBvbiB0aGUgbGlzdCB0byB0b2dnbGUuLi4KICAgICAgdG9Ub2dnbGUgPSB0b1RvZ2dsZS5maWx0ZXIoaXRlbSA9PiAhdGhpcy5zZWxlY3RlZFJvd3MuaW5jbHVkZXMoaXRlbSkpOwogICAgICByZXR1cm4gdG9Ub2dnbGU7CiAgICB9LAogICAgZ3JvdXBJZHgobm9kZSkgewogICAgICBjb25zdCBncm91cGVkID0gdGhpcy5ncm91cGVkUm93czsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3Qgcm93cyA9IGdyb3VwZWRbaV0ucm93czsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJvd3MubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmIChyb3dzW2pdID09PSBub2RlKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgZ3JvdXA6IGksCiAgICAgICAgICAgICAgaXRlbTogagogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICB0b2dnbGUobm9kZSkgewogICAgICBjb25zdCBhZGQgPSBbXTsKICAgICAgY29uc3QgcmVtb3ZlID0gW107CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm93cy5pbmNsdWRlcyhub2RlKSkgewogICAgICAgIHJlbW92ZS5wdXNoKG5vZGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGFkZC5wdXNoKG5vZGUpOwogICAgICB9CiAgICAgIHRoaXMudXBkYXRlKGFkZCwgcmVtb3ZlKTsKICAgIH0sCiAgICB1cGRhdGUodG9BZGQsIHRvUmVtb3ZlKSB7CiAgICAgIHRvUmVtb3ZlLmZvckVhY2gocm93ID0+IHsKICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuc2VsZWN0ZWRSb3dzLmZpbmRJbmRleChyID0+IHIgPT09IHJvdyk7CiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3Muc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAodG9BZGQpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5wdXNoKC4uLnRvQWRkKTsKICAgICAgfQoKICAgICAgLy8gVW5jaGVjayBhbmQgY2hlY2sgdGhlIGNoZWNrYm94ZXMgb2Ygbm9kZXMgdGhhdCBoYXZlIGJlZW4gYWRkZWQvcmVtb3ZlZAogICAgICBpZiAodG9SZW1vdmUubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b1JlbW92ZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0KHRvUmVtb3ZlW2ldLCBmYWxzZSwgdGhpcy5rZXlGaWVsZCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRvQWRkLmxlbmd0aCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9BZGQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dCh0b0FkZFtpXSwgdHJ1ZSwgdGhpcy5rZXlGaWVsZCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdGlvbicsIHRoaXMuc2VsZWN0ZWRSb3dzKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlSW5wdXQobm9kZSwgb24sIGtleUZpZWxkKSB7CiAgICAgIGNvbnN0IGlkID0gZ2V0KG5vZGUsIGtleUZpZWxkKTsKICAgICAgaWYgKGlkKSB7CiAgICAgICAgLy8gTm90ZTogVGhpcyBpcyBsb29raW5nIGZvciB0aGUgY2hlY2tib3ggY29udHJvbCBmb3IgdGhlIHJvdwogICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcihgZGl2W2RhdGEtY2hlY2tib3gtY3RybF1bZGF0YS1ub2RlLWlkPSIke2lkfSJdYCk7CiAgICAgICAgaWYgKGlucHV0ICYmICFpbnB1dC5kaXNhYmxlZCkgewogICAgICAgICAgY29uc3QgbGFiZWwgPSBpbnB1dC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpOwogICAgICAgICAgaWYgKGxhYmVsKSB7CiAgICAgICAgICAgIGxhYmVsLnZhbHVlID0gb247CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgdHIgPSBpbnB1dC5jbG9zZXN0KCd0cicpOwogICAgICAgICAgbGV0IGZpcnN0ID0gdHJ1ZTsKICAgICAgICAgIHdoaWxlICh0ciAmJiAoZmlyc3QgfHwgdHIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWItcm93JykpKSB7CiAgICAgICAgICAgIGlmIChvbikgewogICAgICAgICAgICAgIHRyLmNsYXNzTGlzdC5hZGQoJ3Jvdy1zZWxlY3RlZCcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRyLmNsYXNzTGlzdC5yZW1vdmUoJ3Jvdy1zZWxlY3RlZCcpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyID0gdHIubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICBmaXJzdCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNlbGVjdChub2RlcykgewogICAgICBub2Rlcy5mb3JFYWNoKG5vZGUgPT4gewogICAgICAgIGNvbnN0IGlkID0gZ2V0KG5vZGUsIHRoaXMua2V5RmllbGQpOwogICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcihgbGFiZWxbZGF0YS1ub2RlLWlkPSIke2lkfSJdYCk7CiAgICAgICAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NsaWNrJykpOwogICAgICB9KTsKICAgIH0sCiAgICBhcHBseVRhYmxlQWN0aW9uKGFjdGlvbiwgYXJncywgZXZlbnQpIHsKICAgICAgY29uc3Qgb3B0cyA9IHsKICAgICAgICBhbHQ6IGV2ZW50ICYmIGlzQWx0ZXJuYXRlKGV2ZW50KSwKICAgICAgICBldmVudAogICAgICB9OwoKICAgICAgLy8gR28gdGhyb3VnaCB0aGUgdGFibGUgc2VsZWN0aW9uIGFuZCBmaWx0ZXIgb3V0IHRob3NlIGFjdGlvbnMgdGhhdCBjYW4ndCBydW4gdGhlIGNob3NlbiBhY3Rpb24KICAgICAgY29uc3QgZXhlY3V0YWJsZVNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0ZWRSb3dzLmZpbHRlcihyb3cgPT4gewogICAgICAgIGNvbnN0IG1hdGNoaW5nUmVzb3VyY2VBY3Rpb24gPSByb3cuYXZhaWxhYmxlQWN0aW9ucy5maW5kKGEgPT4gYS5hY3Rpb24gPT09IGFjdGlvbi5hY3Rpb24pOwogICAgICAgIHJldHVybiBtYXRjaGluZ1Jlc291cmNlQWN0aW9uID09PSBudWxsIHx8IG1hdGNoaW5nUmVzb3VyY2VBY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hdGNoaW5nUmVzb3VyY2VBY3Rpb24uZW5hYmxlZDsKICAgICAgfSk7CiAgICAgIF9leGVjdXRlKGV4ZWN1dGFibGVTZWxlY3Rpb24sIGFjdGlvbiwgYXJncywgb3B0cywgdGhpcyk7CiAgICAgIHRoaXMuYWN0aW9uT2ZJbnRlcmVzdCA9IG51bGw7CiAgICB9LAogICAgY2xlYXJTZWxlY3Rpb24oKSB7CiAgICAgIHRoaXMudXBkYXRlKFtdLCB0aGlzLnNlbGVjdGVkUm93cyk7CiAgICB9CiAgfQp9OwoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIC0tLSBIZWxwZXJzIHRoYXQgd2VyZSBpbiBzZWxlY3Rpb25TdG9yZS5qcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmxldCBhbm9uID0gMDsKZnVuY3Rpb24gX2FkZChtYXAsIGFjdCwgaW5jcmVtZW50Q291bnRzID0gdHJ1ZSkgewogIGxldCBpZCA9IGFjdC5hY3Rpb247CiAgaWYgKCFpZCkgewogICAgaWQgPSBgYW5vbiR7YW5vbn1gOwogICAgYW5vbisrOwogIH0KICBsZXQgb2JqID0gbWFwW2lkXTsKICBpZiAoIW9iaikgewogICAgb2JqID0gT2JqZWN0LmFzc2lnbih7fSwgYWN0KTsKICAgIG1hcFtpZF0gPSBvYmo7CiAgICBvYmouYWxsRW5hYmxlZCA9IGZhbHNlOwogIH0KICBpZiAoIWFjdC5lbmFibGVkKSB7CiAgICBvYmouYWxsRW5hYmxlZCA9IGZhbHNlOwogIH0gZWxzZSB7CiAgICBvYmouYW55RW5hYmxlZCA9IHRydWU7CiAgfQogIGlmIChpbmNyZW1lbnRDb3VudHMpIHsKICAgIG9iai5hdmFpbGFibGUgPSAob2JqLmF2YWlsYWJsZSB8fCAwKSArICghYWN0LmVuYWJsZWQgPyAwIDogMSk7CiAgICBvYmoudG90YWwgPSAob2JqLnRvdGFsIHx8IDApICsgMTsKICB9CiAgcmV0dXJuIG9iajsKfQpmdW5jdGlvbiBfZmlsdGVyKG1hcCwgZGlzYWJsZUFsbCA9IGZhbHNlKSB7CiAgY29uc3Qgb3V0ID0gZmlsdGVyQnkoT2JqZWN0LnZhbHVlcyhtYXApLCAnYW55RW5hYmxlZCcsIHRydWUpOwogIGZvciAoY29uc3QgYWN0IG9mIG91dCkgewogICAgaWYgKGRpc2FibGVBbGwpIHsKICAgICAgYWN0LmVuYWJsZWQgPSBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgIGFjdC5lbmFibGVkID0gYWN0LmF2YWlsYWJsZSA+PSBhY3QudG90YWw7CiAgICB9CiAgfQogIHJldHVybiBvdXQ7Cn0KZnVuY3Rpb24gX2V4ZWN1dGUocmVzb3VyY2VzLCBhY3Rpb24sIGFyZ3MsIG9wdHMgPSB7fSwgY3R4KSB7CiAgYXJncyA9IGFyZ3MgfHwgW107CgogIC8vIE5ldyBwYXR0ZXJuIGZvciBleHRlbnNpb25zIC0gYWx3YXlzIGNhbGwgaW52b2tlCiAgaWYgKGFjdGlvbi5pbnZva2UpIHsKICAgIGNvbnN0IGFjdGlvbk9wdHMgPSB7CiAgICAgIGFjdGlvbiwKICAgICAgZXZlbnQ6IG9wdHMuZXZlbnQsCiAgICAgIGlzQWx0OiAhIW9wdHMuYWx0CiAgICB9OwogICAgcmV0dXJuIGFjdGlvbi5pbnZva2UuYXBwbHkoY3R4LCBbYWN0aW9uT3B0cywgcmVzb3VyY2VzIHx8IFtdLCBhcmdzXSk7CiAgfQogIGlmIChyZXNvdXJjZXMubGVuZ3RoID4gMSAmJiBhY3Rpb24uYnVsa0FjdGlvbiAmJiAhb3B0cy5hbHQpIHsKICAgIGNvbnN0IGZuID0gcmVzb3VyY2VzWzBdW2FjdGlvbi5idWxrQWN0aW9uXTsKICAgIGlmIChmbikgewogICAgICByZXR1cm4gZm4uY2FsbChyZXNvdXJjZXNbMF0sIHJlc291cmNlcywgLi4uYXJncyk7CiAgICB9CiAgfQogIGNvbnN0IHByb21pc2VzID0gW107CiAgZm9yIChjb25zdCByZXNvdXJjZSBvZiByZXNvdXJjZXMpIHsKICAgIGxldCBmbjsKICAgIGlmIChvcHRzLmFsdCAmJiBhY3Rpb24uYWx0QWN0aW9uKSB7CiAgICAgIGZuID0gcmVzb3VyY2VbYWN0aW9uLmFsdEFjdGlvbl07CiAgICB9IGVsc2UgewogICAgICBmbiA9IHJlc291cmNlW2FjdGlvbi5hY3Rpb25dOwogICAgfQogICAgaWYgKGZuKSB7CiAgICAgIHByb21pc2VzLnB1c2goZm4uYXBwbHkocmVzb3VyY2UsIGFyZ3MpKTsKICAgIH0KICB9CiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTsKfQ=="},{"version":3,"names":["isMore","isRange","suppressContextMenu","isAlternate","get","filterBy","getParent","ALL","SOME","NONE","mounted","table","$el","querySelector","_onRowClickBound","onRowClick","bind","_onRowMousedownBound","onRowMousedown","_onRowContextBound","onRowContext","addEventListener","beforeDestroy","removeEventListener","computed","howMuchSelected","total","pagedRows","length","selected","selectedRows","bulkActionsForSelection","disableAll","all","allRows","arrangedRows","firstNode","map","node","availableActions","act","bulkable","_add","enabled","out","_filter","forEach","bulkAction","actionEnabledForSomeSelected","some","action","sort","a","b","weight","data","prevNode","watch","content","toRemove","includes","push","update","methods","onToggleAll","value","e","isSelectionCheckbox","target","preventDefault","onRowMouseEnter","tr","closest","classList","contains","trMainRow","previousElementSibling","add","onRowMouseLeave","remove","nodeForEvent","tagName","tgt","actionElement","tgtRow","nodeForRow","_tgtRow","nodeId","dataset","find","x","keyField","td","skipSelect","selection","isCheckbox","isExpand","$emit","toggleExpand","resources","mangleActionResources","i","$store","commit","event","elem","isSelected","toggle","toToggle","nodesBetween","stopPropagation","slice","keySelectRow","row","more","element","type","key","groupBy","grouped","groupedRows","from","groupIdx","to","group","item","items","rows","j","indexOf","Math","min","max","filter","toAdd","index","findIndex","r","splice","$nextTick","updateInput","on","id","input","disabled","label","first","nextElementSibling","select","nodes","dispatchEvent","Event","applyTableAction","args","opts","alt","executableSelection","matchingResourceAction","_execute","actionOfInterest","clearSelection","anon","incrementCounts","obj","Object","assign","allEnabled","anyEnabled","available","values","ctx","invoke","actionOpts","isAlt","apply","fn","call","promises","resource","altAction","Promise"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/selection.js"],"sourcesContent":["import { isMore, isRange, suppressContextMenu, isAlternate } from '@shell/utils/platform';\nimport { get } from '@shell/utils/object';\nimport { filterBy } from '@shell/utils/array';\nimport { getParent } from '@shell/utils/dom';\n\nexport const ALL = 'all';\nexport const SOME = 'some';\nexport const NONE = 'none';\n\nexport default {\n  mounted() {\n    const table = this.$el.querySelector('TABLE');\n\n    this._onRowClickBound = this.onRowClick.bind(this);\n    this._onRowMousedownBound = this.onRowMousedown.bind(this);\n    this._onRowContextBound = this.onRowContext.bind(this);\n\n    table.addEventListener('click', this._onRowClickBound);\n    table.addEventListener('mousedown', this._onRowMousedownBound);\n    table.addEventListener('contextmenu', this._onRowContextBound);\n  },\n\n  beforeDestroy() {\n    const table = this.$el.querySelector('TABLE');\n\n    table.removeEventListener('click', this._onRowClickBound);\n    table.removeEventListener('mousedown', this._onRowMousedownBound);\n    table.removeEventListener('contextmenu', this._onRowContextBound);\n  },\n\n  computed: {\n    // Used for the table-level selection check-box to show checked (all selected)/intermediate (some selected)/unchecked (none selected)\n    howMuchSelected() {\n      const total = this.pagedRows.length;\n      const selected = this.selectedRows.length;\n\n      if ( selected >= total && total > 0 ) {\n        return ALL;\n      } else if ( selected > 0 ) {\n        return SOME;\n      }\n\n      return NONE;\n    },\n\n    // NOTE: The logic here could be simplified and made more performant\n    bulkActionsForSelection() {\n      let disableAll = false;\n      // pagedRows is all rows in the current page\n      const all = this.pagedRows;\n      const allRows = this.arrangedRows;\n      let selected = this.selectedRows;\n\n      // Nothing is selected\n      if ( !this.selectedRows.length ) {\n        // and there are no rows\n        if ( !allRows ) {\n          return [];\n        }\n\n        const firstNode = allRows[0];\n\n        selected = firstNode ? [firstNode] : [];\n        disableAll = true;\n      }\n\n      const map = {};\n\n      // Find and add all the actions for all the nodes so that we know\n      // what all the possible actions are\n      for ( const node of all ) {\n        if (node.availableActions) {\n          for ( const act of node.availableActions ) {\n            if ( act.bulkable ) {\n              _add(map, act, false);\n            }\n          }\n        }\n      }\n\n      // Go through all the selected items and add the actions (which were already identified above)\n      // as available for some (or all) of the selected nodes\n      for ( const node of selected ) {\n        if (node.availableActions) {\n          for ( const act of node.availableActions ) {\n            if ( act.bulkable && act.enabled ) {\n              _add(map, act, false);\n            }\n          }\n        }\n      }\n\n      // If there's no items actually selected, we want to see all the actions\n      // so you know what exists, but have them all be disabled since there's nothing to do them on.\n      const out = _filter(map, disableAll);\n\n      // Enable a bulkaction if some of the selected items can perform the action\n      out.forEach((bulkAction) => {\n        const actionEnabledForSomeSelected = this.selectedRows.some((node) => {\n          const availableActions = node.availableActions || [];\n\n          return availableActions.some((action) => action.action === bulkAction.action && action.enabled);\n        });\n\n        bulkAction.enabled = this.selectedRows.length > 0 && actionEnabledForSomeSelected;\n      });\n\n      return out.sort((a, b) => (b.weight || 0) - (a.weight || 0));\n    }\n  },\n\n  data() {\n    return {\n      // List of selected items in the table\n      selectedRows: [],\n      prevNode:     null,\n    };\n  },\n\n  watch: {\n    // On page change\n    pagedRows() {\n      // When the table contents changes:\n      // - Remove items that are in the selection but no longer in the table.\n\n      const content = this.pagedRows;\n      const toRemove = [];\n\n      for (const node of this.selectedRows) {\n        if (!content.includes(node) ) {\n          toRemove.push(node);\n        }\n      }\n\n      this.update([], toRemove);\n    }\n  },\n\n  methods: {\n    onToggleAll(value) {\n      if ( value ) {\n        this.update(this.pagedRows, []);\n\n        return true;\n      } else {\n        this.update([], this.pagedRows);\n\n        return false;\n      }\n    },\n\n    onRowMousedown(e) {\n      if ( isRange(e) || this.isSelectionCheckbox(e.target) ) {\n        e.preventDefault();\n      }\n    },\n\n    onRowMouseEnter(e) {\n      const tr = e.target.closest('TR');\n\n      if (tr.classList.contains('sub-row')) {\n        const trMainRow = tr.previousElementSibling;\n\n        trMainRow.classList.add('sub-row-hovered');\n      }\n    },\n\n    onRowMouseLeave(e) {\n      const tr = e.target.closest('TR');\n\n      if (tr.classList.contains('sub-row')) {\n        const trMainRow = tr.previousElementSibling;\n\n        trMainRow.classList.remove('sub-row-hovered');\n      }\n    },\n\n    nodeForEvent(e) {\n      const tagName = e.target.tagName;\n      const tgt = e.target;\n      const actionElement = tgt.closest('.actions');\n\n      if ( tgt.classList.contains('select-all-check') ) {\n        return;\n      }\n\n      if ( !actionElement ) {\n        if (\n          tagName === 'A' ||\n          tagName === 'BUTTON' ||\n          getParent(tgt, '.btn')\n        ) {\n          return;\n        }\n      }\n\n      const tgtRow = e.target.closest('TR');\n\n      return this.nodeForRow(tgtRow);\n    },\n\n    nodeForRow(tgtRow) {\n      if ( tgtRow?.classList.contains('separator-row') ) {\n        return;\n      }\n\n      while ( tgtRow && !tgtRow.classList.contains('main-row') ) {\n        tgtRow = tgtRow.previousElementSibling;\n      }\n\n      if ( !tgtRow ) {\n        return;\n      }\n\n      const nodeId = tgtRow.dataset.nodeId;\n\n      if ( !nodeId ) {\n        return;\n      }\n\n      const node = this.pagedRows.find( (x) => get(x, this.keyField) === nodeId );\n\n      return node;\n    },\n\n    async onRowClick(e) {\n      const node = this.nodeForEvent(e);\n      const td = e.target.closest('TD');\n      const skipSelect = td?.classList.contains('skip-select');\n\n      if (skipSelect) {\n        return;\n      }\n      const selection = this.selectedRows;\n      const isCheckbox = this.isSelectionCheckbox(e.target) || td?.classList.contains('row-check');\n      const isExpand = td?.classList.contains('row-expand');\n      const content = this.pagedRows;\n\n      this.$emit('rowClick', e);\n\n      if ( !node ) {\n        return;\n      }\n\n      if ( isExpand ) {\n        this.toggleExpand(node);\n\n        return;\n      }\n\n      const actionElement = e.target.closest('.actions');\n\n      if ( actionElement ) {\n        let resources = [node];\n\n        if ( this.mangleActionResources ) {\n          const i = actionElement.querySelector('i');\n\n          i.classList.remove('icon-actions');\n          i.classList.add('icon-spinner');\n          i.classList.add('icon-spin');\n\n          try {\n            resources = await this.mangleActionResources(resources);\n          } finally {\n            i.classList.remove('icon-spinner');\n            i.classList.remove('icon-spin');\n            i.classList.add('icon-actions');\n          }\n        }\n\n        this.$store.commit(`action-menu/show`, {\n          resources,\n          event: e,\n          elem:  actionElement\n        });\n\n        return;\n      }\n\n      const isSelected = selection.includes(node);\n      let prevNode = this.prevNode;\n\n      // PrevNode is only valid if it's in the current content\n      if ( !prevNode || !content.includes(prevNode) ) {\n        prevNode = node;\n      }\n\n      if ( isMore(e) ) {\n        this.toggle(node);\n      } else if ( isRange(e) ) {\n        const toToggle = this.nodesBetween(prevNode, node);\n\n        if ( isSelected ) {\n          this.update([], toToggle);\n        } else {\n          this.update(toToggle, []);\n        }\n      } else if ( isCheckbox ) {\n        this.toggle(node);\n      } else {\n        this.update([node], content);\n      }\n\n      this.prevNode = node;\n    },\n\n    async onRowContext(e) {\n      const node = this.nodeForEvent(e);\n\n      if ( suppressContextMenu(e) ) {\n        return;\n      }\n\n      if ( !node ) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      this.prevNode = node;\n      const isSelected = this.selectedRows.includes(node);\n\n      if ( !isSelected ) {\n        this.update([node], this.selectedRows.slice());\n      }\n\n      let resources = this.selectedRows;\n\n      if ( this.mangleActionResources ) {\n        resources = await this.mangleActionResources(resources);\n      }\n\n      this.$store.commit(`action-menu/show`, {\n        resources,\n        event: e,\n      });\n    },\n\n    keySelectRow(row, more = false) {\n      const node = this.nodeForRow(row);\n      const content = this.pagedRows;\n\n      if ( !node ) {\n        return;\n      }\n\n      if ( more ) {\n        this.update([node], []);\n      } else {\n        this.update([node], content);\n      }\n\n      this.prevNode = node;\n    },\n\n    isSelectionCheckbox(element) {\n      return element.tagName === 'INPUT' &&\n        element.type === 'checkbox' &&\n        element.closest('.selection-checkbox') !== null;\n    },\n\n    nodesBetween(a, b) {\n      let toToggle = [];\n      const key = this.groupBy;\n\n      if ( key ) {\n        // Grouped has 2 levels to look through\n        const grouped = this.groupedRows;\n\n        let from = this.groupIdx(a);\n        let to = this.groupIdx(b);\n\n        if ( !from || !to ) {\n          return [];\n        }\n\n        // From has to come before To\n        if ( (from.group > to.group) || ((from.group === to.group) && (from.item > to.item)) ) {\n          [from, to] = [to, from];\n        }\n\n        for ( let i = from.group ; i <= to.group ; i++ ) {\n          const items = grouped[i].rows;\n          let j = (from.group === i ? from.item : 0);\n\n          while ( items[j] && ( i < to.group || j <= to.item )) {\n            toToggle.push(items[j]);\n            j++;\n          }\n        }\n      } else {\n        // Ungrouped is much simpler\n        const content = this.pagedRows;\n        let from = content.indexOf(a);\n        let to = content.indexOf(b);\n\n        [from, to] = [Math.min(from, to), Math.max(from, to)];\n        toToggle = content.slice(from, to + 1);\n      }\n\n      // check if there is already duplicate content selected (selectedRows) on the list to toggle...\n      toToggle = toToggle.filter((item) => !this.selectedRows.includes(item));\n\n      return toToggle;\n    },\n\n    groupIdx(node) {\n      const grouped = this.groupedRows;\n\n      for ( let i = 0 ; i < grouped.length ; i++ ) {\n        const rows = grouped[i].rows;\n\n        for ( let j = 0 ; j < rows.length ; j++ ) {\n          if ( rows[j] === node ) {\n            return {\n              group: i,\n              item:  j\n            };\n          }\n        }\n      }\n\n      return null;\n    },\n\n    toggle(node) {\n      const add = [];\n      const remove = [];\n\n      if (this.selectedRows.includes(node)) {\n        remove.push(node);\n      } else {\n        add.push(node);\n      }\n\n      this.update(add, remove);\n    },\n\n    update(toAdd, toRemove) {\n      toRemove.forEach((row) => {\n        const index = this.selectedRows.findIndex((r) => r === row);\n\n        if (index !== -1) {\n          this.selectedRows.splice(index, 1);\n        }\n      });\n\n      if ( toAdd ) {\n        this.selectedRows.push(...toAdd);\n      }\n\n      // Uncheck and check the checkboxes of nodes that have been added/removed\n      if (toRemove.length) {\n        this.$nextTick(() => {\n          for ( let i = 0 ; i < toRemove.length ; i++ ) {\n            this.updateInput(toRemove[i], false, this.keyField);\n          }\n        });\n      }\n\n      if (toAdd.length) {\n        this.$nextTick(() => {\n          for ( let i = 0 ; i < toAdd.length ; i++ ) {\n            this.updateInput(toAdd[i], true, this.keyField);\n          }\n        });\n      }\n\n      this.$nextTick(() => {\n        this.$emit('selection', this.selectedRows);\n      });\n    },\n\n    updateInput(node, on, keyField) {\n      const id = get(node, keyField);\n\n      if ( id ) {\n        // Note: This is looking for the checkbox control for the row\n        const input = this.$el.querySelector(`div[data-checkbox-ctrl][data-node-id=\"${ id }\"]`);\n\n        if ( input && !input.disabled ) {\n          const label = input.querySelector('label');\n\n          if (label) {\n            label.value = on;\n          }\n          let tr = input.closest('tr');\n          let first = true;\n\n          while ( tr && (first || tr.classList.contains('sub-row') ) ) {\n            if (on) {\n              tr.classList.add('row-selected');\n            } else {\n              tr.classList.remove('row-selected');\n            }\n            tr = tr.nextElementSibling;\n            first = false;\n          }\n        }\n      }\n    },\n\n    select(nodes) {\n      nodes.forEach((node) => {\n        const id = get(node, this.keyField);\n        const input = this.$el.querySelector(`label[data-node-id=\"${ id }\"]`);\n\n        input.dispatchEvent(new Event('click'));\n      });\n    },\n\n    applyTableAction(action, args, event) {\n      const opts = { alt: event && isAlternate(event), event };\n\n      // Go through the table selection and filter out those actions that can't run the chosen action\n      const executableSelection = this.selectedRows.filter((row) => {\n        const matchingResourceAction = row.availableActions.find((a) => a.action === action.action);\n\n        return matchingResourceAction?.enabled;\n      });\n\n      _execute(executableSelection, action, args, opts, this);\n\n      this.actionOfInterest = null;\n    },\n\n    clearSelection() {\n      this.update([], this.selectedRows);\n    },\n\n  }\n};\n\n// ---------------------------------------------------------------------\n// --- Helpers that were in selectionStore.js --------------------------\n// ---------------------------------------------------------------------\n\nlet anon = 0;\n\nfunction _add(map, act, incrementCounts = true) {\n  let id = act.action;\n\n  if ( !id ) {\n    id = `anon${ anon }`;\n    anon++;\n  }\n\n  let obj = map[id];\n\n  if ( !obj ) {\n    obj = Object.assign({}, act);\n    map[id] = obj;\n    obj.allEnabled = false;\n  }\n\n  if ( !act.enabled ) {\n    obj.allEnabled = false;\n  } else {\n    obj.anyEnabled = true;\n  }\n\n  if ( incrementCounts ) {\n    obj.available = (obj.available || 0) + (!act.enabled ? 0 : 1 );\n    obj.total = (obj.total || 0) + 1;\n  }\n\n  return obj;\n}\n\nfunction _filter(map, disableAll = false) {\n  const out = filterBy(Object.values(map), 'anyEnabled', true);\n\n  for ( const act of out ) {\n    if ( disableAll ) {\n      act.enabled = false;\n    } else {\n      act.enabled = ( act.available >= act.total );\n    }\n  }\n\n  return out;\n}\n\nfunction _execute(resources, action, args, opts = {}, ctx) {\n  args = args || [];\n\n  // New pattern for extensions - always call invoke\n  if (action.invoke) {\n    const actionOpts = {\n      action,\n      event: opts.event,\n      isAlt: !!opts.alt,\n    };\n\n    return action.invoke.apply(ctx, [actionOpts, resources || [], args]);\n  }\n\n  if ( resources.length > 1 && action.bulkAction && !opts.alt ) {\n    const fn = resources[0][action.bulkAction];\n\n    if ( fn ) {\n      return fn.call(resources[0], resources, ...args);\n    }\n  }\n\n  const promises = [];\n\n  for ( const resource of resources ) {\n    let fn;\n\n    if (opts.alt && action.altAction) {\n      fn = resource[action.altAction];\n    } else {\n      fn = resource[action.action];\n    }\n\n    if ( fn ) {\n      promises.push(fn.apply(resource, args));\n    }\n  }\n\n  return Promise.all(promises);\n}\n"],"mappings":"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"}]}