{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--2-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/EtcdInfoBanner.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/EtcdInfoBanner.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgaGFzTGVhZGVyLCBsZWFkZXJDaGFuZ2VzLCBmYWlsZWRQcm9wb3NhbHMgfSBmcm9tICdAc2hlbGwvdXRpbHMvZ3JhZmFuYSc7CmltcG9ydCB7IENBVEFMT0cgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJhbm5lciwKICAgIExvYWRpbmcKICB9LAogIGFzeW5jIGZldGNoKCkgewogICAgY29uc3QgaW5TdG9yZSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRQcm9kdWN0J10uaW5TdG9yZTsKICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKGAke2luU3RvcmV9L2ZpbmRgLCB7CiAgICAgIHR5cGU6IENBVEFMT0cuQVBQLAogICAgICBpZDogJ2NhdHRsZS1tb25pdG9yaW5nLXN5c3RlbS9yYW5jaGVyLW1vbml0b3JpbmcnCiAgICB9KTsKICAgIGNvbnN0IG1vbml0b3JpbmdWZXJzaW9uID0gcmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzLmN1cnJlbnRWZXJzaW9uOwogICAgY29uc3QgbGVhZGVyID0gYXdhaXQgaGFzTGVhZGVyKG1vbml0b3JpbmdWZXJzaW9uLCB0aGlzLiRzdG9yZS5kaXNwYXRjaCwgdGhpcy5jdXJyZW50Q2x1c3Rlci5pZCk7CiAgICB0aGlzLmhhc0xlYWRlciA9IGxlYWRlciA/IHRoaXMudCgnZ2VuZXJpYy55ZXMnKSA6IHRoaXMudCgnZ2VuZXJpYy5ubycpOwogICAgdGhpcy5sZWFkZXJDaGFuZ2VzID0gYXdhaXQgbGVhZGVyQ2hhbmdlcyhtb25pdG9yaW5nVmVyc2lvbiwgdGhpcy4kc3RvcmUuZGlzcGF0Y2gsIHRoaXMuY3VycmVudENsdXN0ZXIuaWQpOwogICAgdGhpcy5mYWlsZWRQcm9wb3NhbHMgPSBhd2FpdCBmYWlsZWRQcm9wb3NhbHMobW9uaXRvcmluZ1ZlcnNpb24sIHRoaXMuJHN0b3JlLmRpc3BhdGNoLCB0aGlzLmN1cnJlbnRDbHVzdGVyLmlkKTsKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoYXNMZWFkZXI6IHRoaXMudCgnZ2VuZXJpYy5ubycpLAogICAgICBsZWFkZXJDaGFuZ2VzOiAwLAogICAgICBmYWlsZWRQcm9wb3NhbHM6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ2N1cnJlbnRDbHVzdGVyJ10pCiAgfQp9Ow=="},{"version":3,"names":["Banner","Loading","mapGetters","hasLeader","leaderChanges","failedProposals","CATALOG","components","fetch","inStore","$store","getters","res","dispatch","type","APP","id","monitoringVersion","currentVersion","leader","currentCluster","t","data","computed"],"sources":["../../node_modules/@rancher/shell/components/EtcdInfoBanner.vue"],"sourcesContent":["<script>\r\nimport { Banner } from '@components/Banner';\r\nimport Loading from '@shell/components/Loading';\r\nimport { mapGetters } from 'vuex';\r\nimport { hasLeader, leaderChanges, failedProposals } from '@shell/utils/grafana';\r\nimport { CATALOG } from '@shell/config/types';\r\n\r\nexport default {\r\n  components: { Banner, Loading },\r\n  async fetch() {\r\n    const inStore = this.$store.getters['currentProduct'].inStore;\r\n    const res = await this.$store.dispatch(`${ inStore }/find`, { type: CATALOG.APP, id: 'cattle-monitoring-system/rancher-monitoring' });\r\n    const monitoringVersion = res?.currentVersion;\r\n    const leader = await hasLeader(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n\r\n    this.hasLeader = leader ? this.t('generic.yes') : this.t('generic.no');\r\n    this.leaderChanges = await leaderChanges(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n    this.failedProposals = await failedProposals(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n  },\r\n  data() {\r\n    return {\r\n      hasLeader:       this.t('generic.no'),\r\n      leaderChanges:   0,\r\n      failedProposals: 0\r\n    };\r\n  },\r\n  computed: { ...mapGetters(['currentCluster']) }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Loading v-if=\"$fetchState.pending\" />\r\n  <Banner\r\n    v-else\r\n    class=\"banner\"\r\n    color=\"info\"\r\n  >\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.hasLeader') }}</label> {{ hasLeader }}\r\n    </div>\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.leaderChanges') }}</label> {{ leaderChanges }}\r\n    </div>\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.failedProposals') }}</label> {{ failedProposals }}\r\n    </div>\r\n  </Banner>\r\n</template>\r\n\r\n<style lang='scss' scoped>\r\n    .banner {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        align-items: center;\r\n\r\n        .datum {\r\n            text-align: center;\r\n            margin-right: 5px;\r\n        }\r\n\r\n        & ::v-deep label {\r\n            color: var(--info);\r\n        }\r\n    }\r\n\r\n</style>\r\n"],"mappings":"AACA,SAAAA,MAAA;AACA,OAAAC,OAAA;AACA,SAAAC,UAAA;AACA,SAAAC,SAAA,EAAAC,aAAA,EAAAC,eAAA;AACA,SAAAC,OAAA;AAEA;EACAC,UAAA;IAAAP,MAAA;IAAAC;EAAA;EACA,MAAAO,MAAA;IACA,MAAAC,OAAA,QAAAC,MAAA,CAAAC,OAAA,mBAAAF,OAAA;IACA,MAAAG,GAAA,cAAAF,MAAA,CAAAG,QAAA,IAAAJ,OAAA;MAAAK,IAAA,EAAAR,OAAA,CAAAS,GAAA;MAAAC,EAAA;IAAA;IACA,MAAAC,iBAAA,GAAAL,GAAA,aAAAA,GAAA,uBAAAA,GAAA,CAAAM,cAAA;IACA,MAAAC,MAAA,SAAAhB,SAAA,CAAAc,iBAAA,OAAAP,MAAA,CAAAG,QAAA,OAAAO,cAAA,CAAAJ,EAAA;IAEA,KAAAb,SAAA,GAAAgB,MAAA,QAAAE,CAAA,uBAAAA,CAAA;IACA,KAAAjB,aAAA,SAAAA,aAAA,CAAAa,iBAAA,OAAAP,MAAA,CAAAG,QAAA,OAAAO,cAAA,CAAAJ,EAAA;IACA,KAAAX,eAAA,SAAAA,eAAA,CAAAY,iBAAA,OAAAP,MAAA,CAAAG,QAAA,OAAAO,cAAA,CAAAJ,EAAA;EACA;EACAM,KAAA;IACA;MACAnB,SAAA,OAAAkB,CAAA;MACAjB,aAAA;MACAC,eAAA;IACA;EACA;EACAkB,QAAA;IAAA,GAAArB,UAAA;EAAA;AACA"}]}