{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/favicon.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/favicon.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgU0VUVElORyB9IGZyb20gJ0BzaGVsbC9jb25maWcvc2V0dGluZ3MnOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmxldCBmYXZJY29uU2V0ID0gZmFsc2U7CmV4cG9ydCBmdW5jdGlvbiBoYXZlU2V0RmF2SWNvbigpIHsKICByZXR1cm4gZmF2SWNvblNldDsKfQpleHBvcnQgZnVuY3Rpb24gc2V0RmF2SWNvbihzdG9yZSkgewogIGNvbnN0IHJlcyA9IHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvYnlJZCddKE1BTkFHRU1FTlQuU0VUVElORywgU0VUVElORy5GQVZJQ09OKTsKICBjb25zdCBicmFuZFNldHRpbmcgPSBzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L2J5SWQnXShNQU5BR0VNRU5ULlNFVFRJTkcsIFNFVFRJTkcuQlJBTkQpOwogIGNvbnN0IGxpbmsgPSBmaW5kSWNvbkxpbmsoZG9jdW1lbnQuaGVhZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpKTsKICBpZiAobGluaykgewogICAgbGV0IGJyYW5kSW1hZ2U7CiAgICBpZiAoKGJyYW5kU2V0dGluZyA9PT0gbnVsbCB8fCBicmFuZFNldHRpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJyYW5kU2V0dGluZy52YWx1ZSkgPT09ICdzdXNlJykgewogICAgICBicmFuZEltYWdlID0gcmVxdWlyZSgnfnNoZWxsL2Fzc2V0cy9icmFuZC9zdXNlL2Zhdmljb24ucG5nJyk7CiAgICB9IGVsc2UgaWYgKChicmFuZFNldHRpbmcgPT09IG51bGwgfHwgYnJhbmRTZXR0aW5nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBicmFuZFNldHRpbmcudmFsdWUpID09PSAnY3NwJykgewogICAgICBicmFuZEltYWdlID0gcmVxdWlyZSgnfnNoZWxsL2Fzc2V0cy9icmFuZC9jc3AvZmF2aWNvbi5wbmcnKTsKICAgIH0KICAgIGxpbmsuaHJlZiA9IChyZXMgPT09IG51bGwgfHwgcmVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXMudmFsdWUpIHx8IGJyYW5kSW1hZ2UgfHwgZGVmYXVsdEZhdkljb247CiAgICBmYXZJY29uU2V0ID0gdHJ1ZTsKICB9Cn0KZnVuY3Rpb24gZ2V0Q3VycmVudEZhdkljb24oKSB7CiAgY29uc3QgbGluayA9IGZpbmRJY29uTGluayhkb2N1bWVudC5oZWFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaW5rJykpOwogIHJldHVybiBsaW5rID8gbGluay5ocmVmIDogJyc7Cn0KZnVuY3Rpb24gZmluZEljb25MaW5rKGxpbmtzKSB7CiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykgewogICAgdmFyIF9saW5rJHJlbDsKICAgIGNvbnN0IGxpbmsgPSBsaW5rc1tpXTsKICAgIGlmICgoX2xpbmskcmVsID0gbGluay5yZWwpICE9PSBudWxsICYmIF9saW5rJHJlbCAhPT0gdm9pZCAwICYmIF9saW5rJHJlbC5pbmNsdWRlcygnaWNvbicpKSB7CiAgICAgIHJldHVybiBsaW5rOwogICAgfQogIH0KICByZXR1cm4gdW5kZWZpbmVkOwp9CmNvbnN0IGRlZmF1bHRGYXZJY29uID0gZ2V0Q3VycmVudEZhdkljb24oKTs="},{"version":3,"names":["SETTING","MANAGEMENT","favIconSet","haveSetFavIcon","setFavIcon","store","res","getters","FAVICON","brandSetting","BRAND","link","findIconLink","document","head","getElementsByTagName","brandImage","value","require","href","defaultFavIcon","getCurrentFavIcon","links","i","length","_link$rel","rel","includes","undefined"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/favicon.js"],"sourcesContent":["import { SETTING } from '@shell/config/settings';\nimport { MANAGEMENT } from '@shell/config/types';\n\nlet favIconSet = false;\n\nexport function haveSetFavIcon() {\n  return favIconSet;\n}\n\nexport function setFavIcon(store) {\n  const res = store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.FAVICON);\n  const brandSetting = store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.BRAND);\n  const link = findIconLink(document.head.getElementsByTagName('link'));\n\n  if (link) {\n    let brandImage;\n\n    if (brandSetting?.value === 'suse') {\n      brandImage = require('~shell/assets/brand/suse/favicon.png');\n    } else if (brandSetting?.value === 'csp') {\n      brandImage = require('~shell/assets/brand/csp/favicon.png');\n    }\n\n    link.href = res?.value || brandImage || defaultFavIcon;\n    favIconSet = true;\n  }\n}\n\nfunction getCurrentFavIcon() {\n  const link = findIconLink(document.head.getElementsByTagName('link'));\n\n  return link ? link.href : '';\n}\n\nfunction findIconLink(links) {\n  for (let i = 0; i < links.length; i++) {\n    const link = links[i];\n\n    if (link.rel?.includes('icon')) {\n      return link;\n    }\n  }\n\n  return undefined;\n}\n\nconst defaultFavIcon = getCurrentFavIcon();\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,wBAAwB;AAChD,SAASC,UAAU,QAAQ,qBAAqB;AAEhD,IAAIC,UAAU,GAAG,KAAK;AAEtB,OAAO,SAASC,cAAcA,CAAA,EAAG;EAC/B,OAAOD,UAAU;AACnB;AAEA,OAAO,SAASE,UAAUA,CAACC,KAAK,EAAE;EAChC,MAAMC,GAAG,GAAGD,KAAK,CAACE,OAAO,CAAC,iBAAiB,CAAC,CAACN,UAAU,CAACD,OAAO,EAAEA,OAAO,CAACQ,OAAO,CAAC;EACjF,MAAMC,YAAY,GAAGJ,KAAK,CAACE,OAAO,CAAC,iBAAiB,CAAC,CAACN,UAAU,CAACD,OAAO,EAAEA,OAAO,CAACU,KAAK,CAAC;EACxF,MAAMC,IAAI,GAAGC,YAAY,CAACC,QAAQ,CAACC,IAAI,CAACC,oBAAoB,CAAC,MAAM,CAAC,CAAC;EAErE,IAAIJ,IAAI,EAAE;IACR,IAAIK,UAAU;IAEd,IAAI,CAAAP,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEQ,KAAK,MAAK,MAAM,EAAE;MAClCD,UAAU,GAAGE,OAAO,CAAC,sCAAsC,CAAC;IAC9D,CAAC,MAAM,IAAI,CAAAT,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEQ,KAAK,MAAK,KAAK,EAAE;MACxCD,UAAU,GAAGE,OAAO,CAAC,qCAAqC,CAAC;IAC7D;IAEAP,IAAI,CAACQ,IAAI,GAAG,CAAAb,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEW,KAAK,KAAID,UAAU,IAAII,cAAc;IACtDlB,UAAU,GAAG,IAAI;EACnB;AACF;AAEA,SAASmB,iBAAiBA,CAAA,EAAG;EAC3B,MAAMV,IAAI,GAAGC,YAAY,CAACC,QAAQ,CAACC,IAAI,CAACC,oBAAoB,CAAC,MAAM,CAAC,CAAC;EAErE,OAAOJ,IAAI,GAAGA,IAAI,CAACQ,IAAI,GAAG,EAAE;AAC9B;AAEA,SAASP,YAAYA,CAACU,KAAK,EAAE;EAC3B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IAAA,IAAAE,SAAA;IACrC,MAAMd,IAAI,GAAGW,KAAK,CAACC,CAAC,CAAC;IAErB,KAAAE,SAAA,GAAId,IAAI,CAACe,GAAG,cAAAD,SAAA,eAARA,SAAA,CAAUE,QAAQ,CAAC,MAAM,CAAC,EAAE;MAC9B,OAAOhB,IAAI;IACb;EACF;EAEA,OAAOiB,SAAS;AAClB;AAEA,MAAMR,cAAc,GAAGC,iBAAiB,CAAC,CAAC"}]}