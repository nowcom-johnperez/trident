{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--2-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/DetailText.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/DetailText.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBhc2NpaUxpa2UsIG5sVG9CciB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwppbXBvcnQgeyBISURFX1NFTlNJVElWRSB9IGZyb20gJ0BzaGVsbC9zdG9yZS9wcmVmcyc7CmltcG9ydCBDb3B5VG9DbGlwYm9hcmQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ29weVRvQ2xpcGJvYXJkJzsKaW1wb3J0IENvZGVNaXJyb3IgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ29kZU1pcnJvcic7CmltcG9ydCB7IGJpbmFyeVNpemUgfSBmcm9tICdAc2hlbGwvdXRpbHMvY3J5cHRvJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvcHlUb0NsaXBib2FyZCwKICAgIENvZGVNaXJyb3IKICB9LAogIHByb3BzOiB7CiAgICBsYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBsYWJlbEtleTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBtYXhMZW5ndGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA2NDAgLy8gT3VnaHQgdG8gYmUgZW5vdWdoIGZvciBhbnlib2R5CiAgICB9LAogICAgYmluYXJ5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IG51bGwgLy8gQXV0b2RldGVjdAogICAgfSwKICAgIGNvbmNlYWw6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBtb25vc3BhY2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGNvcHk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIGNvbnN0IGV4cGFuZGVkID0gdGhpcy52YWx1ZS5sZW5ndGggPD0gdGhpcy5tYXhMZW5ndGg7CiAgICByZXR1cm4gewogICAgICBleHBhbmRlZAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0JpbmFyeSgpIHsKICAgICAgaWYgKHRoaXMuYmluYXJ5ID09PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnZhbHVlID09PSAnc3RyaW5nJyAmJiAhYXNjaWlMaWtlKHRoaXMudmFsdWUpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmJpbmFyeTsKICAgIH0sCiAgICBzaXplKCkgewogICAgICByZXR1cm4gYCR7dGhpcy52YWx1ZX1gLmxlbmd0aDsKICAgIH0sCiAgICBpc0xvbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLnNpemUgPiB0aGlzLm1heExlbmd0aDsKICAgIH0sCiAgICBpc0VtcHR5KCkgewogICAgICByZXR1cm4gdGhpcy5zaXplID09PSAwOwogICAgfSwKICAgIGJvZHkoKSB7CiAgICAgIGlmICh0aGlzLmlzQmluYXJ5KSB7CiAgICAgICAgcmV0dXJuIHRoaXMudCgnZGV0YWlsVGV4dC5iaW5hcnknLCB7CiAgICAgICAgICBuOiB0aGlzLnZhbHVlLmxlbmd0aCA/IGJpbmFyeVNpemUodGhpcy52YWx1ZSkgOiAwCiAgICAgICAgfSwgdHJ1ZSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZXhwYW5kZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy52YWx1ZS5zbGljZSgwLCB0aGlzLm1heExlbmd0aCk7CiAgICB9LAogICAganNvblN0cigpIHsKICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlOwogICAgICBpZiAodmFsdWUgJiYgKHZhbHVlLnN0YXJ0c1dpdGgoJ3snKSB8fCB2YWx1ZS5zdGFydHNXaXRoKCdbJykpKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGxldCBwYXJzZWQgPSBKU09OLnBhcnNlKHZhbHVlKTsKICAgICAgICAgIHBhcnNlZCA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZCwgbnVsbCwgMik7CiAgICAgICAgICByZXR1cm4gcGFyc2VkOwogICAgICAgIH0gY2F0Y2gge30KICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBib2R5SHRtbCgpIHsKICAgICAgLy8gSW5jbHVkZXMgZXNjYXBlSHRtbCgpCiAgICAgIHJldHVybiBubFRvQnIodGhpcy5ib2R5KTsKICAgIH0sCiAgICBwbHVzTW9yZSgpIHsKICAgICAgaWYgKHRoaXMuZXhwYW5kZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy50KCdkZXRhaWxUZXh0LmNvbGxhcHNlJyk7CiAgICAgIH0KICAgICAgY29uc3QgbW9yZSA9IE1hdGgubWF4KHRoaXMuc2l6ZSAtIHRoaXMubWF4TGVuZ3RoLCAwKTsKICAgICAgcmV0dXJuIHRoaXMudCgnZGV0YWlsVGV4dC5wbHVzTW9yZScsIHsKICAgICAgICBuOiBtb3JlCiAgICAgIH0pLnRyaW0oKTsKICAgIH0sCiAgICBoaWRlU2Vuc2l0aXZlRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ByZWZzL2dldCddKEhJREVfU0VOU0lUSVZFKTsKICAgIH0sCiAgICBjb25jZWFsZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbmNlYWwgJiYgdGhpcy5oaWRlU2Vuc2l0aXZlRGF0YSAmJiAhdGhpcy5pc0JpbmFyeTsKICAgIH0sCiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgdDogJ2kxOG4vdCcKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICBleHBhbmQoKSB7CiAgICAgIHRoaXMuZXhwYW5kZWQgPSAhdGhpcy5leHBhbmRlZDsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapGetters","asciiLike","nlToBr","HIDE_SENSITIVE","CopyToClipboard","CodeMirror","binarySize","components","props","label","type","String","default","labelKey","value","maxLength","Number","binary","Boolean","conceal","monospace","copy","data","expanded","length","computed","isBinary","size","isLong","isEmpty","body","t","n","slice","jsonStr","startsWith","parsed","JSON","parse","stringify","bodyHtml","plusMore","more","Math","max","trim","hideSensitiveData","$store","getters","concealed","methods","expand"],"sources":["../../node_modules/@rancher/shell/components/DetailText.vue"],"sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport { asciiLike, nlToBr } from '@shell/utils/string';\nimport { HIDE_SENSITIVE } from '@shell/store/prefs';\nimport CopyToClipboard from '@shell/components/CopyToClipboard';\nimport CodeMirror from '@shell/components/CodeMirror';\nimport { binarySize } from '@shell/utils/crypto';\n\nexport default {\n  components: { CopyToClipboard, CodeMirror },\n\n  props: {\n    label: {\n      type:    String,\n      default: null,\n    },\n\n    labelKey: {\n      type:    String,\n      default: null,\n    },\n\n    value: {\n      type:    String,\n      default: null,\n    },\n\n    maxLength: {\n      type:    Number,\n      default: 640, // Ought to be enough for anybody\n    },\n\n    binary: {\n      type:    Boolean,\n      default: null, // Autodetect\n    },\n\n    conceal: {\n      type:    Boolean,\n      default: false\n    },\n\n    monospace: {\n      type:    Boolean,\n      default: true\n    },\n\n    copy: {\n      type:    Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    const expanded = this.value.length <= this.maxLength;\n\n    return { expanded };\n  },\n\n  computed: {\n    isBinary() {\n      if ( this.binary === null ) {\n        return typeof this.value === 'string' && !asciiLike(this.value);\n      }\n\n      return this.binary;\n    },\n\n    size() {\n      return `${ this.value }`.length;\n    },\n\n    isLong() {\n      return this.size > this.maxLength;\n    },\n\n    isEmpty() {\n      return this.size === 0;\n    },\n\n    body() {\n      if (this.isBinary) {\n        return this.t('detailText.binary', { n: this.value.length ? binarySize(this.value) : 0 }, true);\n      }\n\n      if (this.expanded) {\n        return this.value;\n      }\n\n      return this.value.slice(0, this.maxLength);\n    },\n\n    jsonStr() {\n      const value = this.value;\n\n      if ( value && ( value.startsWith('{') || value.startsWith('[') ) ) {\n        try {\n          let parsed = JSON.parse(value);\n\n          parsed = JSON.stringify(parsed, null, 2);\n\n          return parsed;\n        } catch {\n        }\n      }\n\n      return null;\n    },\n\n    bodyHtml() {\n      // Includes escapeHtml()\n      return nlToBr(this.body);\n    },\n\n    plusMore() {\n      if (this.expanded) {\n        return this.t('detailText.collapse');\n      }\n\n      const more = Math.max(this.size - this.maxLength, 0);\n\n      return this.t('detailText.plusMore', { n: more }).trim();\n    },\n\n    hideSensitiveData() {\n      return this.$store.getters['prefs/get'](HIDE_SENSITIVE);\n    },\n\n    concealed() {\n      return this.conceal && this.hideSensitiveData && !this.isBinary;\n    },\n\n    ...mapGetters({ t: 'i18n/t' })\n  },\n  methods: {\n    expand() {\n      this.expanded = !this.expanded;\n    },\n  }\n};\n</script>\n\n<template>\n  <div :class=\"{'force-wrap': true, 'with-copy':copy}\">\n    <h5\n      v-if=\"labelKey\"\n      v-t=\"labelKey\"\n    />\n    <h5 v-else-if=\"label\">\n      {{ label }}\n    </h5>\n\n    <span\n      v-if=\"isEmpty\"\n      v-t=\"'detailText.empty'\"\n      class=\"text-italic\"\n    />\n    <span\n      v-else-if=\"isBinary\"\n      class=\"text-italic\"\n    >{{ body }}</span>\n\n    <CodeMirror\n      v-else-if=\"jsonStr\"\n      :options=\"{mode:{name:'javascript', json:true}, lineNumbers:false, foldGutter:false, readOnly:true}\"\n      :value=\"jsonStr\"\n      :class=\"{'conceal': concealed}\"\n    />\n\n    <span\n      v-else\n      v-clean-html=\"bodyHtml\"\n      data-testid=\"detail-top_html\"\n      :class=\"{'conceal': concealed, 'monospace': monospace && !isBinary}\"\n    />\n\n    <template v-if=\"!isBinary && !jsonStr && isLong && !expanded\">\n      <a\n        href=\"#\"\n        @click.prevent=\"expand\"\n      >{{ plusMore }}</a>\n    </template>\n\n    <CopyToClipboard\n      v-if=\"copy && !isBinary\"\n      :text=\"value\"\n      class=\"role-tertiary\"\n      action-color=\"\"\n    />\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.with-copy {\n  border: solid 1px var(--border);\n  border-radius: var(--border-radius);\n  padding: 10px;\n  position: relative;\n  background-color: var(--input-bg);\n  border-radius: var(--border-radius);\n  border: solid var(--border-width) var(--input-border);\n\n  > button {\n    position: absolute;\n    top: -1px;\n    right: -1px;\n    border-radius: 0 0 0 var(--border-radius);\n  }\n}\n\n.monospace {\n  white-space: pre-wrap;\n  word-wrap: break-all\n}\n</style>\n"],"mappings":"AACA,SAAAA,UAAA;AACA,SAAAC,SAAA,EAAAC,MAAA;AACA,SAAAC,cAAA;AACA,OAAAC,eAAA;AACA,OAAAC,UAAA;AACA,SAAAC,UAAA;AAEA;EACAC,UAAA;IAAAH,eAAA;IAAAC;EAAA;EAEAG,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IAEAC,QAAA;MACAH,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IAEAE,KAAA;MACAJ,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IAEAG,SAAA;MACAL,IAAA,EAAAM,MAAA;MACAJ,OAAA;IACA;IAEAK,MAAA;MACAP,IAAA,EAAAQ,OAAA;MACAN,OAAA;IACA;IAEAO,OAAA;MACAT,IAAA,EAAAQ,OAAA;MACAN,OAAA;IACA;IAEAQ,SAAA;MACAV,IAAA,EAAAQ,OAAA;MACAN,OAAA;IACA;IAEAS,IAAA;MACAX,IAAA,EAAAQ,OAAA;MACAN,OAAA;IACA;EACA;EAEAU,KAAA;IACA,MAAAC,QAAA,QAAAT,KAAA,CAAAU,MAAA,SAAAT,SAAA;IAEA;MAAAQ;IAAA;EACA;EAEAE,QAAA;IACAC,SAAA;MACA,SAAAT,MAAA;QACA,mBAAAH,KAAA,kBAAAb,SAAA,MAAAa,KAAA;MACA;MAEA,YAAAG,MAAA;IACA;IAEAU,KAAA;MACA,eAAAb,KAAA,GAAAU,MAAA;IACA;IAEAI,OAAA;MACA,YAAAD,IAAA,QAAAZ,SAAA;IACA;IAEAc,QAAA;MACA,YAAAF,IAAA;IACA;IAEAG,KAAA;MACA,SAAAJ,QAAA;QACA,YAAAK,CAAA;UAAAC,CAAA,OAAAlB,KAAA,CAAAU,MAAA,GAAAlB,UAAA,MAAAQ,KAAA;QAAA;MACA;MAEA,SAAAS,QAAA;QACA,YAAAT,KAAA;MACA;MAEA,YAAAA,KAAA,CAAAmB,KAAA,SAAAlB,SAAA;IACA;IAEAmB,QAAA;MACA,MAAApB,KAAA,QAAAA,KAAA;MAEA,IAAAA,KAAA,KAAAA,KAAA,CAAAqB,UAAA,SAAArB,KAAA,CAAAqB,UAAA;QACA;UACA,IAAAC,MAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAxB,KAAA;UAEAsB,MAAA,GAAAC,IAAA,CAAAE,SAAA,CAAAH,MAAA;UAEA,OAAAA,MAAA;QACA,SACA;MACA;MAEA;IACA;IAEAI,SAAA;MACA;MACA,OAAAtC,MAAA,MAAA4B,IAAA;IACA;IAEAW,SAAA;MACA,SAAAlB,QAAA;QACA,YAAAQ,CAAA;MACA;MAEA,MAAAW,IAAA,GAAAC,IAAA,CAAAC,GAAA,MAAAjB,IAAA,QAAAZ,SAAA;MAEA,YAAAgB,CAAA;QAAAC,CAAA,EAAAU;MAAA,GAAAG,IAAA;IACA;IAEAC,kBAAA;MACA,YAAAC,MAAA,CAAAC,OAAA,cAAA7C,cAAA;IACA;IAEA8C,UAAA;MACA,YAAA9B,OAAA,SAAA2B,iBAAA,UAAApB,QAAA;IACA;IAEA,GAAA1B,UAAA;MAAA+B,CAAA;IAAA;EACA;EACAmB,OAAA;IACAC,OAAA;MACA,KAAA5B,QAAA,SAAAA,QAAA;IACA;EACA;AACA"}]}