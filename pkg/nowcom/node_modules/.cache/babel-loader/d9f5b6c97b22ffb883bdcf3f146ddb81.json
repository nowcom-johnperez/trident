{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/grafana.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/grafana.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgaGF2ZVYyTW9uaXRvcmluZyB9IGZyb20gJ0BzaGVsbC91dGlscy9tb25pdG9yaW5nJzsKaW1wb3J0IHsgcGFyc2UgYXMgcGFyc2VVcmwsIGFkZFBhcmFtIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3VybCc7CmltcG9ydCB7IENBVEFMT0cgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKCi8vIHRoZXNlIHR3byB2ZXJzaW9ucyBvZiBtb25pdG9yaW5nIGluY2x1ZGVkIGEgYnVnIGZpeCBhdHRlbXB0IHRoYXQgcmVxdWlyZWQgdGhlIGxvY2FsIGNsdXN0ZXIgdG8gdXNlIGEgZGlmZmVyZW50IHVybAovLyB0aGUgc29sdXRpb24gZ29pbmcgZm9yd2FyZCBkb2Vzbid0IHJlcXVpcmUgdGhpcywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yYW5jaGVyL2Rhc2hib2FyZC9pc3N1ZXMvODg4NQpjb25zdCBNT05JVE9SSU5HX1ZFUlNJT05fQUxUX1VSTCA9IFsnMTAwLjIuMCt1cDQwLjEuMicsICcxMDIuMC4wK3VwNDAuMS4yJ107CmV4cG9ydCBmdW5jdGlvbiBnZXRDbHVzdGVyUHJlZml4KG1vbml0b3JpbmdWZXJzaW9uLCBjbHVzdGVySWQpIHsKICBpZiAoTU9OSVRPUklOR19WRVJTSU9OX0FMVF9VUkwuaW5jbHVkZXMobW9uaXRvcmluZ1ZlcnNpb24pKSB7CiAgICByZXR1cm4gYC9rOHMvY2x1c3RlcnMvJHtjbHVzdGVySWR9YDsKICB9CiAgcmV0dXJuIGNsdXN0ZXJJZCA9PT0gJ2xvY2FsJyA/ICcnIDogYC9rOHMvY2x1c3RlcnMvJHtjbHVzdGVySWR9YDsKfQpleHBvcnQgZnVuY3Rpb24gY29tcHV0ZURhc2hib2FyZFVybChtb25pdG9yaW5nVmVyc2lvbiwgZW1iZWRVcmwsIGNsdXN0ZXJJZCwgcGFyYW1zLCBtb2RpZnlQcmVmaXggPSB0cnVlKSB7CiAgY29uc3QgdXJsID0gcGFyc2VVcmwoZW1iZWRVcmwpOwogIGxldCBuZXdVcmwgPSBtb2RpZnlQcmVmaXggPyBgJHtnZXRDbHVzdGVyUHJlZml4KG1vbml0b3JpbmdWZXJzaW9uLCBjbHVzdGVySWQpfSR7dXJsLnBhdGh9YCA6IHVybC5wYXRoOwogIGlmICh1cmwucXVlcnkudmlld1BhbmVsKSB7CiAgICBuZXdVcmwgPSBhZGRQYXJhbShuZXdVcmwsICd2aWV3UGFuZWwnLCB1cmwucXVlcnkudmlld1BhbmVsKTsKICB9CiAgbmV3VXJsID0gYWRkUGFyYW0obmV3VXJsLCAnb3JnSWQnLCB1cmwucXVlcnkub3JnSWQpOwogIG5ld1VybCA9IGFkZFBhcmFtKG5ld1VybCwgJ2tpb3NrJywgbnVsbCk7CiAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKGVudHJ5ID0+IHsKICAgIG5ld1VybCA9IGFkZFBhcmFtKG5ld1VybCwgZW50cnlbMF0sIGVudHJ5WzFdKTsKICB9KTsKICByZXR1cm4gbmV3VXJsOwp9CmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYXNoYm9hcmRFeGlzdHMobW9uaXRvcmluZ1ZlcnNpb24sIHN0b3JlLCBjbHVzdGVySWQsIGVtYmVkVXJsLCBzdG9yZU5hbWUgPSAnY2x1c3RlcicsIHByb2plY3RJZCA9IG51bGwpIHsKICBpZiAoIWhhdmVWMk1vbml0b3Jpbmcoc3RvcmUuZ2V0dGVycykpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CiAgY29uc3QgdXJsID0gcGFyc2VVcmwoZW1iZWRVcmwpOwogIGxldCBwcmVmaXggPSBgJHtnZXRDbHVzdGVyUHJlZml4KG1vbml0b3JpbmdWZXJzaW9uLCBjbHVzdGVySWQpfS9hcGkvdjEvbmFtZXNwYWNlcy9jYXR0bGUtbW9uaXRvcmluZy1zeXN0ZW0vc2VydmljZXMvaHR0cDpyYW5jaGVyLW1vbml0b3JpbmctZ3JhZmFuYTo4MC9wcm94eS9gOwogIGxldCBkZWxpbWl0ZXIgPSAnaHR0cDpyYW5jaGVyLW1vbml0b3JpbmctZ3JhZmFuYTo4MC9wcm94eS8nOwogIGlmIChwcm9qZWN0SWQpIHsKICAgIHByZWZpeCA9IGAke2dldENsdXN0ZXJQcmVmaXgobW9uaXRvcmluZ1ZlcnNpb24sIGNsdXN0ZXJJZCl9L2FwaS92MS9uYW1lc3BhY2VzL2NhdHRsZS1wcm9qZWN0LSR7cHJvamVjdElkfS1tb25pdG9yaW5nL3NlcnZpY2VzL2h0dHA6Y2F0dGxlLXByb2plY3QtJHtwcm9qZWN0SWR9LW1vbml0b3JpbmctZ3JhZmFuYTo4MC9wcm94eS9gOwogICAgZGVsaW1pdGVyID0gYGh0dHA6Y2F0dGxlLXByb2plY3QtJHtwcm9qZWN0SWR9LW1vbml0b3JpbmctZ3JhZmFuYTo4MC9wcm94eS9gOwogIH0KICBjb25zdCBwYXRoID0gdXJsLnBhdGguc3BsaXQoZGVsaW1pdGVyKVsxXTsKICBjb25zdCB1aWQgPSBwYXRoLnNwbGl0KCcvJylbMV07CiAgY29uc3QgbmV3VXJsID0gYCR7cHJlZml4fWFwaS9kYXNoYm9hcmRzL3VpZC8ke3VpZH1gOwogIHRyeSB7CiAgICBhd2FpdCBzdG9yZS5kaXNwYXRjaChgJHtzdG9yZU5hbWV9L3JlcXVlc3RgLCB7CiAgICAgIHVybDogbmV3VXJsLAogICAgICByZWRpcmVjdFVuYXV0aG9yaXplZDogZmFsc2UKICAgIH0pOwogICAgcmV0dXJuIHRydWU7CiAgfSBjYXRjaCAoZXgpIHsKICAgIHJldHVybiBmYWxzZTsKICB9Cn0KZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFsbERhc2hib2FyZHNFeGlzdChzdG9yZSwgY2x1c3RlcklkLCBlbWJlZGRlZFVybHMsIHN0b3JlTmFtZSA9ICdjbHVzdGVyJywgcHJvamVjdElkID0gbnVsbCkgewogIGxldCByZXM7CiAgbGV0IG1vbml0b3JpbmdWZXJzaW9uID0gJyc7CiAgaWYgKCFwcm9qZWN0SWQpIHsKICAgIHZhciBfcmVzOwogICAgdHJ5IHsKICAgICAgcmVzID0gYXdhaXQgc3RvcmUuZGlzcGF0Y2goYCR7c3RvcmVOYW1lfS9maW5kYCwgewogICAgICAgIHR5cGU6IENBVEFMT0cuQVBQLAogICAgICAgIGlkOiAnY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3JhbmNoZXItbW9uaXRvcmluZycKICAgICAgfSk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgbW9uaXRvcmluZ1ZlcnNpb24gPSAoX3JlcyA9IHJlcykgPT09IG51bGwgfHwgX3JlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jlcy5jdXJyZW50VmVyc2lvbjsKICB9CiAgY29uc3QgZXhpc3RQcm9taXNlcyA9IGVtYmVkZGVkVXJscy5tYXAodXJsID0+IGRhc2hib2FyZEV4aXN0cyhtb25pdG9yaW5nVmVyc2lvbiwgc3RvcmUsIGNsdXN0ZXJJZCwgdXJsLCBzdG9yZU5hbWUsIHByb2plY3RJZCkpOwogIHJldHVybiAoYXdhaXQgUHJvbWlzZS5hbGwoZXhpc3RQcm9taXNlcykpLmV2ZXJ5KGV4aXN0cyA9PiBleGlzdHMpOwp9CmV4cG9ydCBmdW5jdGlvbiBxdWVyeUdyYWZhbmEobW9uaXRvcmluZ1ZlcnNpb24sIGRpc3BhdGNoLCBjbHVzdGVySWQsIHF1ZXJ5LCByYW5nZSwgc3RlcCkgewogIGNvbnN0IHVybCA9IGAke2dldENsdXN0ZXJQcmVmaXgobW9uaXRvcmluZ1ZlcnNpb24sIGNsdXN0ZXJJZCl9L2FwaS92MS9uYW1lc3BhY2VzL2NhdHRsZS1tb25pdG9yaW5nLXN5c3RlbS9zZXJ2aWNlcy9odHRwOnJhbmNoZXItbW9uaXRvcmluZy1ncmFmYW5hOjgwL3Byb3h5L2FwaS9kYXRhc291cmNlcy9wcm94eS8xL2FwaS92MS9xdWVyeV9yYW5nZT9xdWVyeT0ke3F1ZXJ5fSZzdGFydD0ke3JhbmdlLnN0YXJ0fSZlbmQ9JHtyYW5nZS5lbmR9JnN0ZXA9JHtzdGVwfWA7CiAgcmV0dXJuIGRpc3BhdGNoKCdjbHVzdGVyL3JlcXVlc3QnLCB7CiAgICB1cmwsCiAgICByZWRpcmVjdFVuYXV0aG9yaXplZDogZmFsc2UKICB9KTsKfQpleHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzTGVhZGVyKG1vbml0b3JpbmdWZXJzaW9uLCBkaXNwYXRjaCwgY2x1c3RlcklkKSB7CiAgdmFyIF9yZXNwb25zZSRkYXRhJHJlc3VsdDsKICBjb25zdCBlbmQgPSBEYXRlLm5vdygpIC8gMTAwMDsKICBjb25zdCBzdGFydCA9IGVuZCAtIDUgKiA2MDsKICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHF1ZXJ5R3JhZmFuYShtb25pdG9yaW5nVmVyc2lvbiwgZGlzcGF0Y2gsIGNsdXN0ZXJJZCwgJ21heChldGNkX3NlcnZlcl9oYXNfbGVhZGVyKScsIHsKICAgIHN0YXJ0LAogICAgZW5kCiAgfSwgMzApOwogIHJldHVybiAoKF9yZXNwb25zZSRkYXRhJHJlc3VsdCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0WzBdKSA9PT0gbnVsbCB8fCBfcmVzcG9uc2UkZGF0YSRyZXN1bHQgPT09IHZvaWQgMCB8fCAoX3Jlc3BvbnNlJGRhdGEkcmVzdWx0ID0gX3Jlc3BvbnNlJGRhdGEkcmVzdWx0LnZhbHVlcykgPT09IG51bGwgfHwgX3Jlc3BvbnNlJGRhdGEkcmVzdWx0ID09PSB2b2lkIDAgfHwgKF9yZXNwb25zZSRkYXRhJHJlc3VsdCA9IF9yZXNwb25zZSRkYXRhJHJlc3VsdFswXSkgPT09IG51bGwgfHwgX3Jlc3BvbnNlJGRhdGEkcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzcG9uc2UkZGF0YSRyZXN1bHRbMV0pID09PSAnMSc7Cn0KZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxlYWRlckNoYW5nZXMobW9uaXRvcmluZ1ZlcnNpb24sIGRpc3BhdGNoLCBjbHVzdGVySWQpIHsKICB2YXIgX3Jlc3BvbnNlJGRhdGEkcmVzdWx0MjsKICBjb25zdCBlbmQgPSBEYXRlLm5vdygpIC8gMTAwMDsKICBjb25zdCBzdGFydCA9IGVuZCAtIDYwICogNjA7CiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBxdWVyeUdyYWZhbmEobW9uaXRvcmluZ1ZlcnNpb24sIGRpc3BhdGNoLCBjbHVzdGVySWQsICdtYXgoZXRjZF9zZXJ2ZXJfbGVhZGVyX2NoYW5nZXNfc2Vlbl90b3RhbCknLCB7CiAgICBzdGFydCwKICAgIGVuZAogIH0sIDMwKTsKICByZXR1cm4gKChfcmVzcG9uc2UkZGF0YSRyZXN1bHQyID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRbMF0pID09PSBudWxsIHx8IF9yZXNwb25zZSRkYXRhJHJlc3VsdDIgPT09IHZvaWQgMCB8fCAoX3Jlc3BvbnNlJGRhdGEkcmVzdWx0MiA9IF9yZXNwb25zZSRkYXRhJHJlc3VsdDIudmFsdWVzKSA9PT0gbnVsbCB8fCBfcmVzcG9uc2UkZGF0YSRyZXN1bHQyID09PSB2b2lkIDAgfHwgKF9yZXNwb25zZSRkYXRhJHJlc3VsdDIgPSBfcmVzcG9uc2UkZGF0YSRyZXN1bHQyWzBdKSA9PT0gbnVsbCB8fCBfcmVzcG9uc2UkZGF0YSRyZXN1bHQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzcG9uc2UkZGF0YSRyZXN1bHQyWzFdKSB8fCAwOwp9CmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmYWlsZWRQcm9wb3NhbHMobW9uaXRvcmluZ1ZlcnNpb24sIGRpc3BhdGNoLCBjbHVzdGVySWQpIHsKICB2YXIgX3Jlc3BvbnNlJGRhdGEkcmVzdWx0MzsKICBjb25zdCBlbmQgPSBEYXRlLm5vdygpIC8gMTAwMDsKICBjb25zdCBzdGFydCA9IGVuZCAtIDYwICogNjA7CiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBxdWVyeUdyYWZhbmEobW9uaXRvcmluZ1ZlcnNpb24sIGRpc3BhdGNoLCBjbHVzdGVySWQsICdzdW0oZXRjZF9zZXJ2ZXJfcHJvcG9zYWxzX2ZhaWxlZF90b3RhbCknLCB7CiAgICBzdGFydCwKICAgIGVuZAogIH0sIDMwKTsKICByZXR1cm4gKChfcmVzcG9uc2UkZGF0YSRyZXN1bHQzID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRbMF0pID09PSBudWxsIHx8IF9yZXNwb25zZSRkYXRhJHJlc3VsdDMgPT09IHZvaWQgMCB8fCAoX3Jlc3BvbnNlJGRhdGEkcmVzdWx0MyA9IF9yZXNwb25zZSRkYXRhJHJlc3VsdDMudmFsdWVzKSA9PT0gbnVsbCB8fCBfcmVzcG9uc2UkZGF0YSRyZXN1bHQzID09PSB2b2lkIDAgfHwgKF9yZXNwb25zZSRkYXRhJHJlc3VsdDMgPSBfcmVzcG9uc2UkZGF0YSRyZXN1bHQzWzBdKSA9PT0gbnVsbCB8fCBfcmVzcG9uc2UkZGF0YSRyZXN1bHQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzcG9uc2UkZGF0YSRyZXN1bHQzWzFdKSB8fCAwOwp9"},{"version":3,"names":["haveV2Monitoring","parse","parseUrl","addParam","CATALOG","MONITORING_VERSION_ALT_URL","getClusterPrefix","monitoringVersion","clusterId","includes","computeDashboardUrl","embedUrl","params","modifyPrefix","url","newUrl","path","query","viewPanel","orgId","Object","entries","forEach","entry","dashboardExists","store","storeName","projectId","getters","prefix","delimiter","split","uid","dispatch","redirectUnauthorized","ex","allDashboardsExist","embeddedUrls","res","_res","type","APP","id","err","currentVersion","existPromises","map","Promise","all","every","exists","queryGrafana","range","step","start","end","hasLeader","_response$data$result","Date","now","response","data","result","values","leaderChanges","_response$data$result2","failedProposals","_response$data$result3"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/grafana.js"],"sourcesContent":["import { haveV2Monitoring } from '@shell/utils/monitoring';\r\nimport { parse as parseUrl, addParam } from '@shell/utils/url';\r\nimport { CATALOG } from '@shell/config/types';\r\n\r\n// these two versions of monitoring included a bug fix attempt that required the local cluster to use a different url\r\n// the solution going forward doesn't require this, see https://github.com/rancher/dashboard/issues/8885\r\nconst MONITORING_VERSION_ALT_URL = ['100.2.0+up40.1.2', '102.0.0+up40.1.2'];\r\n\r\nexport function getClusterPrefix(monitoringVersion, clusterId) {\r\n  if (MONITORING_VERSION_ALT_URL.includes(monitoringVersion)) {\r\n    return `/k8s/clusters/${ clusterId }`;\r\n  }\r\n\r\n  return clusterId === 'local' ? '' : `/k8s/clusters/${ clusterId }`;\r\n}\r\n\r\nexport function computeDashboardUrl(monitoringVersion, embedUrl, clusterId, params, modifyPrefix = true) {\r\n  const url = parseUrl(embedUrl);\r\n\r\n  let newUrl = modifyPrefix ? `${ getClusterPrefix(monitoringVersion, clusterId) }${ url.path }` : url.path;\r\n\r\n  if (url.query.viewPanel) {\r\n    newUrl = addParam(newUrl, 'viewPanel', url.query.viewPanel);\r\n  }\r\n  newUrl = addParam(newUrl, 'orgId', url.query.orgId);\r\n  newUrl = addParam(newUrl, 'kiosk', null);\r\n\r\n  Object.entries(params).forEach((entry) => {\r\n    newUrl = addParam(newUrl, entry[0], entry[1]);\r\n  });\r\n\r\n  return newUrl;\r\n}\r\n\r\nexport async function dashboardExists(monitoringVersion, store, clusterId, embedUrl, storeName = 'cluster', projectId = null) {\r\n  if ( !haveV2Monitoring(store.getters) ) {\r\n    return false;\r\n  }\r\n\r\n  const url = parseUrl(embedUrl);\r\n  let prefix = `${ getClusterPrefix(monitoringVersion, clusterId) }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/`;\r\n  let delimiter = 'http:rancher-monitoring-grafana:80/proxy/';\r\n\r\n  if (projectId) {\r\n    prefix = `${ getClusterPrefix(monitoringVersion, clusterId) }/api/v1/namespaces/cattle-project-${ projectId }-monitoring/services/http:cattle-project-${ projectId }-monitoring-grafana:80/proxy/`;\r\n    delimiter = `http:cattle-project-${ projectId }-monitoring-grafana:80/proxy/`;\r\n  }\r\n  const path = url.path.split(delimiter)[1];\r\n  const uid = path.split('/')[1];\r\n  const newUrl = `${ prefix }api/dashboards/uid/${ uid }`;\r\n\r\n  try {\r\n    await store.dispatch(`${ storeName }/request`, { url: newUrl, redirectUnauthorized: false });\r\n\r\n    return true;\r\n  } catch (ex) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport async function allDashboardsExist(store, clusterId, embeddedUrls, storeName = 'cluster', projectId = null) {\r\n  let res;\r\n\r\n  let monitoringVersion = '';\r\n\r\n  if (!projectId) {\r\n    try {\r\n      res = await store.dispatch(`${ storeName }/find`, {\r\n        type: CATALOG.APP,\r\n        id:   'cattle-monitoring-system/rancher-monitoring'\r\n      });\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n\r\n    monitoringVersion = res?.currentVersion;\r\n  }\r\n\r\n  const existPromises = embeddedUrls.map((url) => dashboardExists(monitoringVersion, store, clusterId, url, storeName, projectId));\r\n\r\n  return (await Promise.all(existPromises)).every((exists) => exists);\r\n}\r\n\r\nexport function queryGrafana(monitoringVersion, dispatch, clusterId, query, range, step) {\r\n  const url = `${ getClusterPrefix(monitoringVersion, clusterId) }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/api/datasources/proxy/1/api/v1/query_range?query=${ query }&start=${ range.start }&end=${ range.end }&step=${ step }`;\r\n\r\n  return dispatch('cluster/request', { url, redirectUnauthorized: false });\r\n}\r\n\r\nexport async function hasLeader(monitoringVersion, dispatch, clusterId) {\r\n  const end = Date.now() / 1000;\r\n  const start = end - (5 * 60);\r\n\r\n  const response = await queryGrafana(monitoringVersion, dispatch, clusterId, 'max(etcd_server_has_leader)', { start, end }, 30);\r\n\r\n  return response.data.result[0]?.values?.[0]?.[1] === '1';\r\n}\r\n\r\nexport async function leaderChanges(monitoringVersion, dispatch, clusterId) {\r\n  const end = Date.now() / 1000;\r\n  const start = end - (60 * 60);\r\n\r\n  const response = await queryGrafana(monitoringVersion, dispatch, clusterId, 'max(etcd_server_leader_changes_seen_total)', { start, end }, 30);\r\n\r\n  return response.data.result[0]?.values?.[0]?.[1] || 0;\r\n}\r\n\r\nexport async function failedProposals(monitoringVersion, dispatch, clusterId) {\r\n  const end = Date.now() / 1000;\r\n  const start = end - (60 * 60);\r\n\r\n  const response = await queryGrafana(monitoringVersion, dispatch, clusterId, 'sum(etcd_server_proposals_failed_total)', { start, end }, 30);\r\n\r\n  return response.data.result[0]?.values?.[0]?.[1] || 0;\r\n}\r\n"],"mappings":"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"}]}