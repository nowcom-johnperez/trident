{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--2-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceList/ResourceLoadingIndicator.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceList/ResourceLoadingIndicator.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQ09VTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKCi8qKgogKiBMb2FkaW5nIEluZGljYXRvciBmb3IgcmVzb3VyY2VzIC0gdXNlZCB3aGVuIHdlIGFyZSBsb2FkaW5nIHJlc291cmNlcyBpbmNyZW1lbnRhbGx5LCBieSBwYWdlCiAqLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Jlc291cmNlTG9hZGluZ0luZGljYXRvcicsCiAgcHJvcHM6IHsKICAgIHJlc291cmNlczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBpbmRldGVybWluYXRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgY29uc3QgaW5TdG9yZSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRTdG9yZSddKHRoaXMucmVzb3VyY2UpOwogICAgcmV0dXJuIHsKICAgICAgaW5TdG9yZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyBDb3VudCBvZiByb3dzIC0gZWl0aGVyIGZyb20gdGhlIGRhdGEgcHJvdmlkZWQgb3IgZnJvbSB0aGUgcm93cyBmb3IgdGhlIGZpcnN0IHJlc291cmNlCiAgICByb3dzQ291bnQoKSB7CiAgICAgIGlmICh0aGlzLnJlc291cmNlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1tgJHt0aGlzLmluU3RvcmV9L2FsbGBdKHRoaXMucmVzb3VyY2VzWzBdKSB8fCBbXTsKICAgICAgICByZXR1cm4gKGV4aXN0aW5nRGF0YSB8fCBbXSkubGVuZ3RoOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfSwKICAgIC8vIEhhdmUgd2UgbG9hZGVkIGFsbCByZXNvdXJjZXMgZm9yIHRoZSB0eXBlcyB0aGF0IGFyZSBuZWVkZWQKICAgIGhhdmVBbGwoKSB7CiAgICAgIHJldHVybiB0aGlzLnJlc291cmNlcy5yZWR1Y2UoKGFjYywgcikgPT4gewogICAgICAgIHJldHVybiBhY2MgJiYgdGhpcy4kc3RvcmUuZ2V0dGVyc1tgJHt0aGlzLmluU3RvcmV9L2hhdmVBbGxgXShyKTsKICAgICAgfSwgdHJ1ZSk7CiAgICB9LAogICAgLy8gVG90YWwgb2YgYWxsIGNvdW50cyBvZiBhbGwgcmVzb3VyY2VzIGZvciBhbGwgb2YgdGhlIHJlc291cmNlcyBiZWluZyBsb2FkZWQKICAgIHRvdGFsKCkgewogICAgICBjb25zdCBjbHVzdGVyQ291bnRzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1tgJHt0aGlzLmluU3RvcmV9L2FsbGBdKENPVU5UKTsKICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2VzLnJlZHVjZSgoYWNjLCByKSA9PiB7CiAgICAgICAgdmFyIF9jbHVzdGVyQ291bnRzJCwgX3Jlc291cmNlQ291bnRzJHN1bW1hOwogICAgICAgIGNvbnN0IHJlc291cmNlQ291bnRzID0gY2x1c3RlckNvdW50cyA9PT0gbnVsbCB8fCBjbHVzdGVyQ291bnRzID09PSB2b2lkIDAgfHwgKF9jbHVzdGVyQ291bnRzJCA9IGNsdXN0ZXJDb3VudHNbMF0pID09PSBudWxsIHx8IF9jbHVzdGVyQ291bnRzJCA9PT0gdm9pZCAwIHx8IChfY2x1c3RlckNvdW50cyQgPSBfY2x1c3RlckNvdW50cyQuY291bnRzKSA9PT0gbnVsbCB8fCBfY2x1c3RlckNvdW50cyQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jbHVzdGVyQ291bnRzJFtyXTsKICAgICAgICBjb25zdCByZXNvdXJjZUNvdW50ID0gcmVzb3VyY2VDb3VudHMgPT09IG51bGwgfHwgcmVzb3VyY2VDb3VudHMgPT09IHZvaWQgMCB8fCAoX3Jlc291cmNlQ291bnRzJHN1bW1hID0gcmVzb3VyY2VDb3VudHMuc3VtbWFyeSkgPT09IG51bGwgfHwgX3Jlc291cmNlQ291bnRzJHN1bW1hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzb3VyY2VDb3VudHMkc3VtbWEuY291bnQ7CiAgICAgICAgY29uc3QgY291bnQgPSByZXNvdXJjZUNvdW50IHx8IDA7CiAgICAgICAgcmV0dXJuIGFjYyArIGNvdW50OwogICAgICB9LCAwKTsKICAgIH0sCiAgICAvLyBUb3RhbCBjb3VudCBvZiBhbGwgb2YgdGhlIHJlc291cmNlcyBmb3IgYWxsIG9mIHRoZSByZXNvdXJjZXMgYmVpbmcgbG9hZGVkCiAgICBjb3VudCgpIHsKICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2VzLnJlZHVjZSgoYWNjLCByKSA9PiB7CiAgICAgICAgcmV0dXJuIGFjYyArICh0aGlzLiRzdG9yZS5nZXR0ZXJzW2Ake3RoaXMuaW5TdG9yZX0vYWxsYF0ocikgfHwgW10pLmxlbmd0aDsKICAgICAgfSwgMCk7CiAgICB9LAogICAgLy8gV2lkdGggc3R5bGUgdG8gZW5hYmxlIHRoZSBwcm9ncmVzcyBiYXIgc3R5bGUgcHJlc2VudGF0aW9uCiAgICB3aWR0aCgpIHsKICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLmNlaWwoMTAwICogKHRoaXMuY291bnQgLyB0aGlzLnRvdGFsKSk7CiAgICAgIHJldHVybiBgJHtwcm9ncmVzc30lYDsKICAgIH0KICB9Cn07"},{"version":3,"names":["COUNT","name","props","resources","type","Array","required","indeterminate","Boolean","default","data","inStore","$store","getters","resource","computed","rowsCount","length","existingData","haveAll","reduce","acc","r","total","clusterCounts","_clusterCounts$","_resourceCounts$summa","resourceCounts","counts","resourceCount","summary","count","width","progress","Math","ceil"],"sources":["../../node_modules/@rancher/shell/components/ResourceList/ResourceLoadingIndicator.vue"],"sourcesContent":["<script>\nimport { COUNT } from '@shell/config/types';\n\n/**\n * Loading Indicator for resources - used when we are loading resources incrementally, by page\n */\nexport default {\n\n  name: 'ResourceLoadingIndicator',\n\n  props: {\n    resources: {\n      type:     Array,\n      required: true,\n    },\n    indeterminate: {\n      type:    Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    const inStore = this.$store.getters['currentStore'](this.resource);\n\n    return { inStore };\n  },\n\n  computed: {\n    // Count of rows - either from the data provided or from the rows for the first resource\n    rowsCount() {\n      if (this.resources.length > 0) {\n        const existingData = this.$store.getters[`${ this.inStore }/all`](this.resources[0]) || [];\n\n        return (existingData || []).length;\n      }\n\n      return 0;\n    },\n\n    // Have we loaded all resources for the types that are needed\n    haveAll() {\n      return this.resources.reduce((acc, r) => {\n        return acc && this.$store.getters[`${ this.inStore }/haveAll`](r);\n      }, true);\n    },\n\n    // Total of all counts of all resources for all of the resources being loaded\n    total() {\n      const clusterCounts = this.$store.getters[`${ this.inStore }/all`](COUNT);\n\n      return this.resources.reduce((acc, r) => {\n        const resourceCounts = clusterCounts?.[0]?.counts?.[r];\n        const resourceCount = resourceCounts?.summary?.count;\n        const count = resourceCount || 0;\n\n        return acc + count;\n      }, 0);\n    },\n\n    // Total count of all of the resources for all of the resources being loaded\n    count() {\n      return this.resources.reduce((acc, r) => {\n        return acc + (this.$store.getters[`${ this.inStore }/all`](r) || []).length;\n      }, 0);\n    },\n\n    // Width style to enable the progress bar style presentation\n    width() {\n      const progress = Math.ceil(100 * (this.count / this.total));\n\n      return `${ progress }%`;\n    }\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"count && !haveAll\"\n    class=\"ml-10 resource-loading-indicator\"\n  >\n    <div class=\"inner\">\n      <div class=\"resource-loader\">\n        <div class=\"rl-bg\">\n          <i class=\"icon icon-spinner icon-spin\" /><span>{{ t( 'resourceLoadingIndicator.loading' ) }} <span v-if=\"!indeterminate\">{{ count }} / {{ total }}</span></span>\n        </div>\n      </div>\n      <div\n        class=\"resource-loader\"\n        :style=\"{width}\"\n      >\n        <div class=\"rl-fg\">\n          <i class=\"icon icon-spinner icon-spin\" /><span>{{ t( 'resourceLoadingIndicator.loading' ) }} <span v-if=\"!indeterminate\">{{ count }} / {{ total }}</span></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .resource-loading-indicator {\n    border: 1px solid var(--link);\n    border-radius: 10px;\n    position: relative;\n    width: min-content;\n    overflow: hidden;\n\n    .resource-loader:last-child {\n      position: absolute;\n      top: 0;\n\n      background-color: var(--link);\n      color: var(--link-text);\n      overflow: hidden;\n      white-space: nowrap;\n    }\n\n    .resource-loader {\n      padding: 1px 10px;\n      width: max-content;\n\n      .rl-fg, .rl-bg {\n        align-content: center;\n        display: flex;\n\n        > i {\n          font-size: 18px;\n          line-height: 18px;\n        }\n\n        > span {\n          margin-left: 5px;\n        }\n      }\n    }\n  }\n</style>\n"],"mappings":"AACA,SAAAA,KAAA;;AAEA;AACA;AACA;AACA;EAEAC,IAAA;EAEAC,KAAA;IACAC,SAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,QAAA;IACA;IACAC,aAAA;MACAH,IAAA,EAAAI,OAAA;MACAC,OAAA;IACA;EACA;EAEAC,KAAA;IACA,MAAAC,OAAA,QAAAC,MAAA,CAAAC,OAAA,sBAAAC,QAAA;IAEA;MAAAH;IAAA;EACA;EAEAI,QAAA;IACA;IACAC,UAAA;MACA,SAAAb,SAAA,CAAAc,MAAA;QACA,MAAAC,YAAA,QAAAN,MAAA,CAAAC,OAAA,SAAAF,OAAA,aAAAR,SAAA;QAEA,QAAAe,YAAA,QAAAD,MAAA;MACA;MAEA;IACA;IAEA;IACAE,QAAA;MACA,YAAAhB,SAAA,CAAAiB,MAAA,EAAAC,GAAA,EAAAC,CAAA;QACA,OAAAD,GAAA,SAAAT,MAAA,CAAAC,OAAA,SAAAF,OAAA,YAAAW,CAAA;MACA;IACA;IAEA;IACAC,MAAA;MACA,MAAAC,aAAA,QAAAZ,MAAA,CAAAC,OAAA,SAAAF,OAAA,QAAAX,KAAA;MAEA,YAAAG,SAAA,CAAAiB,MAAA,EAAAC,GAAA,EAAAC,CAAA;QAAA,IAAAG,eAAA,EAAAC,qBAAA;QACA,MAAAC,cAAA,GAAAH,aAAA,aAAAA,aAAA,gBAAAC,eAAA,GAAAD,aAAA,iBAAAC,eAAA,gBAAAA,eAAA,GAAAA,eAAA,CAAAG,MAAA,cAAAH,eAAA,uBAAAA,eAAA,CAAAH,CAAA;QACA,MAAAO,aAAA,GAAAF,cAAA,aAAAA,cAAA,gBAAAD,qBAAA,GAAAC,cAAA,CAAAG,OAAA,cAAAJ,qBAAA,uBAAAA,qBAAA,CAAAK,KAAA;QACA,MAAAA,KAAA,GAAAF,aAAA;QAEA,OAAAR,GAAA,GAAAU,KAAA;MACA;IACA;IAEA;IACAA,MAAA;MACA,YAAA5B,SAAA,CAAAiB,MAAA,EAAAC,GAAA,EAAAC,CAAA;QACA,OAAAD,GAAA,SAAAT,MAAA,CAAAC,OAAA,SAAAF,OAAA,QAAAW,CAAA,SAAAL,MAAA;MACA;IACA;IAEA;IACAe,MAAA;MACA,MAAAC,QAAA,GAAAC,IAAA,CAAAC,IAAA,aAAAJ,KAAA,QAAAR,KAAA;MAEA,UAAAU,QAAA;IACA;EACA;AACA"}]}