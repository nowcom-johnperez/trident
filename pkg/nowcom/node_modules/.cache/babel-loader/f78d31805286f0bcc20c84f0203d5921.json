{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/download.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/download.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEpTWmlwIGZyb20gJ2pzemlwJzsKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkRmlsZShmaWxlTmFtZSwgY29udGVudCwgY29udGVudFR5cGUgPSAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04JykgewogIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0sIHsKICAgIHR5cGU6IGNvbnRlbnRUeXBlCiAgfSk7CiAgY29uc3QgewogICAgc2F2ZUFzCiAgfSA9IGF3YWl0IGltcG9ydCgnZmlsZS1zYXZlcicpOwogIHJldHVybiBzYXZlQXMoYmxvYiwgZmlsZU5hbWUpOwp9CgovLyB7W2ZpbGVOYW1lMV06ZGF0YTEsIFtmaWxlTmFtZTJdOmRhdGEyfQpleHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVaaXAoZmlsZXMpIHsKICAvLyBNb3ZpbmcgdGhpcyB0byBhIGR5bmFtaWMgY29uc3QgSlNaaXAgPSBpbXBvcnQoJ2pzemlwJykgZGlkbid0IHdvcmsuLi4gZmlndXJlIG91dCBsYXRlcgogIGNvbnN0IHppcCA9IG5ldyBKU1ppcCgpOwogIGZvciAoY29uc3QgZmlsZU5hbWUgaW4gZmlsZXMpIHsKICAgIHppcC5maWxlKGZpbGVOYW1lLCBmaWxlc1tmaWxlTmFtZV0pOwogIH0KICByZXR1cm4gemlwLmdlbmVyYXRlQXN5bmMoewogICAgdHlwZTogJ2Jsb2InCiAgfSkudGhlbihjb250ZW50cyA9PiB7CiAgICByZXR1cm4gY29udGVudHM7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkVXJsKHVybCwgaWQgPSAnX19kb3dubG9hZElmcmFtZScpIHsKICBsZXQgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOwogIGlmICghaWZyYW1lKSB7CiAgICBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgaWZyYW1lLmlkID0gaWQ7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSk7CiAgfQogIGlmcmFtZS5zcmMgPSB1cmw7Cn0="},{"version":3,"names":["JSZip","downloadFile","fileName","content","contentType","blob","Blob","type","saveAs","generateZip","files","zip","file","generateAsync","then","contents","downloadUrl","url","id","iframe","document","getElementById","createElement","style","display","body","appendChild","src"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/download.js"],"sourcesContent":["import JSZip from 'jszip';\n\nexport async function downloadFile(fileName, content, contentType = 'text/plain;charset=utf-8') {\n  const blob = new Blob([content], { type: contentType });\n  const { saveAs } = await import('file-saver');\n\n  return saveAs(blob, fileName);\n}\n\n// {[fileName1]:data1, [fileName2]:data2}\nexport function generateZip(files) {\n  // Moving this to a dynamic const JSZip = import('jszip') didn't work... figure out later\n  const zip = new JSZip();\n\n  for ( const fileName in files) {\n    zip.file(fileName, files[fileName]);\n  }\n\n  return zip.generateAsync({ type: 'blob' }).then((contents) => {\n    return contents;\n  });\n}\n\nexport function downloadUrl(url, id = '__downloadIframe') {\n  let iframe = document.getElementById(id);\n\n  if ( !iframe ) {\n    iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n    iframe.id = id;\n    document.body.appendChild(iframe);\n  }\n\n  iframe.src = url;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,eAAeC,YAAYA,CAACC,QAAQ,EAAEC,OAAO,EAAEC,WAAW,GAAG,0BAA0B,EAAE;EAC9F,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACH,OAAO,CAAC,EAAE;IAAEI,IAAI,EAAEH;EAAY,CAAC,CAAC;EACvD,MAAM;IAAEI;EAAO,CAAC,GAAG,MAAM,MAAM,CAAC,YAAY,CAAC;EAE7C,OAAOA,MAAM,CAACH,IAAI,EAAEH,QAAQ,CAAC;AAC/B;;AAEA;AACA,OAAO,SAASO,WAAWA,CAACC,KAAK,EAAE;EACjC;EACA,MAAMC,GAAG,GAAG,IAAIX,KAAK,CAAC,CAAC;EAEvB,KAAM,MAAME,QAAQ,IAAIQ,KAAK,EAAE;IAC7BC,GAAG,CAACC,IAAI,CAACV,QAAQ,EAAEQ,KAAK,CAACR,QAAQ,CAAC,CAAC;EACrC;EAEA,OAAOS,GAAG,CAACE,aAAa,CAAC;IAAEN,IAAI,EAAE;EAAO,CAAC,CAAC,CAACO,IAAI,CAAEC,QAAQ,IAAK;IAC5D,OAAOA,QAAQ;EACjB,CAAC,CAAC;AACJ;AAEA,OAAO,SAASC,WAAWA,CAACC,GAAG,EAAEC,EAAE,GAAG,kBAAkB,EAAE;EACxD,IAAIC,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAACH,EAAE,CAAC;EAExC,IAAK,CAACC,MAAM,EAAG;IACbA,MAAM,GAAGC,QAAQ,CAACE,aAAa,CAAC,QAAQ,CAAC;IACzCH,MAAM,CAACI,KAAK,CAACC,OAAO,GAAG,MAAM;IAC7BL,MAAM,CAACD,EAAE,GAAGA,EAAE;IACdE,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,MAAM,CAAC;EACnC;EAEAA,MAAM,CAACQ,GAAG,GAAGV,GAAG;AAClB"}]}