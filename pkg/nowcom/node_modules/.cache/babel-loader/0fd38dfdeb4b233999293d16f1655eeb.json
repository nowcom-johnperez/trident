{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/core/plugin-helpers.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/core/plugin-helpers.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/nowcom/babel.config.js","mtime":1716430386791},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQWN0aW9uTG9jYXRpb24sIENhcmRMb2NhdGlvbiwgRXh0ZW5zaW9uUG9pbnQgfSBmcm9tICdAc2hlbGwvY29yZS90eXBlcyc7CmltcG9ydCB7IGlzTWFjIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3BsYXRmb3JtJzsKaW1wb3J0IHsgdWNGaXJzdCwgcmFuZG9tU3RyIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCB7IF9FRElULCBfQ09ORklHLCBfREVUQUlMLCBfTElTVCwgX0NSRUFURSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgZ2V0UHJvZHVjdEZyb21Sb3V0ZSB9IGZyb20gJ0BzaGVsbC9taWRkbGV3YXJlL2F1dGhlbnRpY2F0ZWQnOwppbXBvcnQgeyBpc0VxdWFsIH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmZ1bmN0aW9uIGNoZWNrUm91dGVQcm9kdWN0KHsKICBuYW1lLAogIHBhcmFtcywKICBxdWVyeQp9LCBsb2NhdGlvbkNvbmZpZ1BhcmFtKSB7CiAgY29uc3QgcHJvZHVjdCA9IGdldFByb2R1Y3RGcm9tUm91dGUoewogICAgbmFtZSwKICAgIHBhcmFtcywKICAgIHF1ZXJ5CiAgfSk7CgogIC8vIGFsaWFzIGZvciB0aGUgaG9tZXBhZ2UKICBpZiAobG9jYXRpb25Db25maWdQYXJhbSA9PT0gJ2hvbWUnICYmIG5hbWUgPT09ICdob21lJykgewogICAgcmV0dXJuIHRydWU7CiAgfSBlbHNlIGlmIChsb2NhdGlvbkNvbmZpZ1BhcmFtID09PSBwcm9kdWN0KSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgcmV0dXJuIGZhbHNlOwp9CmZ1bmN0aW9uIGNoZWNrUm91dGVNb2RlKHsKICBuYW1lLAogIHF1ZXJ5Cn0sIGxvY2F0aW9uQ29uZmlnUGFyYW0pIHsKICBpZiAobG9jYXRpb25Db25maWdQYXJhbSA9PT0gX0VESVQgJiYgcXVlcnkubW9kZSAmJiBxdWVyeS5tb2RlID09PSBfRURJVCAmJiAhcXVlcnkuYXMpIHsKICAgIHJldHVybiB0cnVlOwogIH0gZWxzZSBpZiAobG9jYXRpb25Db25maWdQYXJhbSA9PT0gX0NPTkZJRyAmJiBxdWVyeS5hcyAmJiBxdWVyeS5hcyA9PT0gX0NPTkZJRykgewogICAgcmV0dXJuIHRydWU7CiAgfSBlbHNlIGlmIChsb2NhdGlvbkNvbmZpZ1BhcmFtID09PSBfREVUQUlMICYmICFxdWVyeS5hcyAmJiBuYW1lLmluY2x1ZGVzKCctaWQnKSAmJiAoIXF1ZXJ5Lm1vZGUgfHwgKHF1ZXJ5ID09PSBudWxsIHx8IHF1ZXJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBxdWVyeS5tb2RlKSAhPT0gX0VESVQpKSB7CiAgICByZXR1cm4gdHJ1ZTsKICAgIC8vIGFsaWFzIHRvIHRhcmdldCBhbGwgbGlzdCB2aWV3cwogIH0gZWxzZSBpZiAobG9jYXRpb25Db25maWdQYXJhbSA9PT0gX0xJU1QgJiYgIW5hbWUuaW5jbHVkZXMoJy1pZCcpICYmIG5hbWUuaW5jbHVkZXMoJy1yZXNvdXJjZScpKSB7CiAgICByZXR1cm4gdHJ1ZTsKICAgIC8vIGFsaWFzIHRvIHRhcmdldCBjcmVhdGUgdmlld3MKICB9IGVsc2UgaWYgKGxvY2F0aW9uQ29uZmlnUGFyYW0gPT09IF9DUkVBVEUgJiYgbmFtZS5lbmRzV2l0aCgnLWNyZWF0ZScpKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgcmV0dXJuIGZhbHNlOwp9CmZ1bmN0aW9uIGNoZWNrRXh0ZW5zaW9uUm91dGVCaW5kaW5nKCRyb3V0ZSwgbG9jYXRpb25Db25maWcsIGNvbnRleHQpIHsKICAvLyBpZiBubyBjb25maWd1cmF0aW9uIGlzIHBhc3NlZCwgY29uc2lkZXIgaXQgYXMgZ2xvYmFsCiAgaWYgKCFPYmplY3Qua2V5cyhsb2NhdGlvbkNvbmZpZykubGVuZ3RoKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgY29uc3QgewogICAgcGFyYW1zCiAgfSA9ICRyb3V0ZTsKCiAgLy8gInBhcmFtcyIgdG8gYmUgY2hlY2tlZCBiYXNlZCBvbiB0aGUgbG9jYXRpb25Db25maWcKICAvLyBUaGlzIGhhcyBiZWNvbWUgb3ZlcmxvYWRlZCB3aXRoIG1vZGUgYW5kIGNvbnRleHQKICBjb25zdCBwYXJhbXNUb0NoZWNrID0gWydwcm9kdWN0JywgJ3Jlc291cmNlJywgJ25hbWVzcGFjZScsICdjbHVzdGVyJywgJ2lkJywgJ21vZGUnLCAncGF0aCcsICdoYXNoJywKICAvLyB1cmwgcXVlcnkgcGFyYW1zCiAgJ3F1ZXJ5UGFyYW0nLAogIC8vIEN1c3RvbSBjb250ZXh0IHNwZWNpZmljIHBhcmFtcyBwcm92aWRlZCBieSB0aGUgZXh0ZW5zaW9uLCBub3QgdG8gYmUgY29uZnVzZWQgd2l0aCBsb2NhdGlvbiBwYXJhbXMKICAnY29udGV4dCddOwogIGxldCByZXMgPSB0cnVlOwogIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zVG9DaGVjay5sZW5ndGg7IGkrKykgewogICAgY29uc3QgcGFyYW0gPSBwYXJhbXNUb0NoZWNrW2ldOwogICAgaWYgKGxvY2F0aW9uQ29uZmlnW3BhcmFtXSkgewogICAgICBjb25zdCBhc0FycmF5ID0gQXJyYXkuaXNBcnJheShsb2NhdGlvbkNvbmZpZ1twYXJhbV0pID8gbG9jYXRpb25Db25maWdbcGFyYW1dIDogW2xvY2F0aW9uQ29uZmlnW3BhcmFtXV07CiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgYXNBcnJheS5sZW5ndGg7IHgrKykgewogICAgICAgIGNvbnN0IGxvY2F0aW9uQ29uZmlnUGFyYW0gPSBhc0FycmF5W3hdOwogICAgICAgIGlmIChsb2NhdGlvbkNvbmZpZ1BhcmFtKSB7CiAgICAgICAgICBpZiAocGFyYW0gPT09ICdoYXNoJykgewogICAgICAgICAgICByZXMgPSAkcm91dGUuaGFzaCA/ICRyb3V0ZS5oYXNoLmluY2x1ZGVzKGxvY2F0aW9uQ29uZmlnUGFyYW0pIDogZmFsc2U7CiAgICAgICAgICAgIC8vIGhhbmRsZSAicHJvZHVjdCIgaW4gYSBzZXBhcmF0ZSB3YXkuLi4KICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW0gPT09ICdwcm9kdWN0JykgewogICAgICAgICAgICByZXMgPSBjaGVja1JvdXRlUHJvZHVjdCgkcm91dGUsIGxvY2F0aW9uQ29uZmlnUGFyYW0pOwogICAgICAgICAgICAvLyBhbHNvIGhhbmRsZSAibW9kZSIgaW4gYSBzZXBhcmF0ZSB3YXkgYmVjYXVzZSBpdCBtYWlubHkgZGVwZW5kcyBvbiBxdWVyeSBwYXJhbXMKICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW0gPT09ICdtb2RlJykgewogICAgICAgICAgICByZXMgPSBjaGVja1JvdXRlTW9kZSgkcm91dGUsIGxvY2F0aW9uQ29uZmlnUGFyYW0pOwogICAgICAgICAgfSBlbHNlIGlmIChwYXJhbSA9PT0gJ3Jlc291cmNlJykgewogICAgICAgICAgICAvLyBNYXRjaCBleGFjdCByZXNvdXJjZSBidXQgYWxzbyBhbGxvdyByZXNvdXJjZSBvZiAnKicgdG8gbWF0Y2ggYW55IHJlc291cmNlCiAgICAgICAgICAgIHJlcyA9IHBhcmFtc1twYXJhbV0gJiYgbG9jYXRpb25Db25maWdQYXJhbSA9PT0gJyonIHx8IGxvY2F0aW9uQ29uZmlnUGFyYW0gPT09IHBhcmFtc1twYXJhbV07CiAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtID09PSAnY29udGV4dCcpIHsKICAgICAgICAgICAgLy8gTmVlZCBhbGwga2V5cyBhbmQgdmFsdWVzIHRvIG1hdGNoCiAgICAgICAgICAgIHJlcyA9IGlzRXF1YWwobG9jYXRpb25Db25maWdQYXJhbSwgY29udGV4dCk7CiAgICAgICAgICAgIC8vIGV2YWx1YXRlIHF1ZXJ5UGFyYW0gaW4gcm91dGUKICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW0gPT09ICdxdWVyeVBhcmFtJykgewogICAgICAgICAgICByZXMgPSBpc0VxdWFsKGxvY2F0aW9uQ29uZmlnUGFyYW0sICRyb3V0ZS5xdWVyeSk7CiAgICAgICAgICAgIC8vIGV2YWx1YXRlIHBhdGggaW4gcm91dGUKICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW0gPT09ICdwYXRoJyAmJiBsb2NhdGlvbkNvbmZpZ1BhcmFtLnVybFBhdGgpIHsKICAgICAgICAgICAgaWYgKGxvY2F0aW9uQ29uZmlnUGFyYW0uZW5kc1dpdGgpIHsKICAgICAgICAgICAgICByZXMgPSAkcm91dGUucGF0aC5lbmRzV2l0aChsb2NhdGlvbkNvbmZpZ1BhcmFtLnVybFBhdGgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCFPYmplY3Qua2V5cyhsb2NhdGlvbkNvbmZpZ1BhcmFtKS5pbmNsdWRlcygnZXhhY3QnKSB8fCBsb2NhdGlvbkNvbmZpZ1BhcmFtLmV4YWN0KSB7CiAgICAgICAgICAgICAgcmVzID0gbG9jYXRpb25Db25maWdQYXJhbS51cmxQYXRoID09PSAkcm91dGUucGF0aDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXMgPSAkcm91dGUucGF0aC5pbmNsdWRlcyhsb2NhdGlvbkNvbmZpZ1BhcmFtLnVybFBhdGgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uQ29uZmlnUGFyYW0gPT09IHBhcmFtc1twYXJhbV0pIHsKICAgICAgICAgICAgcmVzID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gSWYgYSBzaW5nbGUgbG9jYXRpb24gY29uZmlnIHBhcmFtIGlzIGdvb2QgdGhlbiB0aGlzIGlzIGFuIHBhcmFtIChha2EgWydwb2RzJywgJ2NvbmZpZ21hcCddID0gcG9kcyBvciBjb25maWdtYXBzKQogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gSWYgYSBzaW5nbGUgcGFyYW0gKHNldCBvZiBsb2NhdGlvbiBjb25maWcgcGFyYW1zKSBpcyBiYWQgdGhlbiB0aGlzIGlzIG5vdCBhbiBhY2NlcHRhYmxlIGxvY2F0aW9uCiAgICAgIGlmICghcmVzKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIHJlczsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0QXBwbGljYWJsZUV4dGVuc2lvbkVuaGFuY2VtZW50cyhwbHVnaW5DdHgsIGFjdGlvblR5cGUsIHVpQXJlYSwgY3VyclJvdXRlLCB0cmFuc2xhdGlvbkN0eCA9IHBsdWdpbkN0eCwgY29udGV4dCkgewogIHZhciBfcGx1Z2luQ3R4JCRwbHVnaW47CiAgY29uc3QgZXh0ZW5zaW9uRW5oYW5jZW1lbnRzID0gW107CgogIC8vIGdhdGUgaXQgc28gdGhhdCB3ZSBwcmV2ZW50IGVycm9ycyBvbiBvbGRlciB2ZXJzaW9ucyBvZiBkYXNoYm9hcmQKICBpZiAoKF9wbHVnaW5DdHgkJHBsdWdpbiA9IHBsdWdpbkN0eC4kcGx1Z2luKSAhPT0gbnVsbCAmJiBfcGx1Z2luQ3R4JCRwbHVnaW4gIT09IHZvaWQgMCAmJiBfcGx1Z2luQ3R4JCRwbHVnaW4uZ2V0VUlDb25maWcpIHsKICAgIGNvbnN0IGFjdGlvbnMgPSBwbHVnaW5DdHguJHBsdWdpbi5nZXRVSUNvbmZpZyhhY3Rpb25UeXBlLCB1aUFyZWEpOwogICAgYWN0aW9ucy5mb3JFYWNoKChhY3Rpb24sIGkpID0+IHsKICAgICAgaWYgKGNoZWNrRXh0ZW5zaW9uUm91dGVCaW5kaW5nKGN1cnJSb3V0ZSwgYWN0aW9uLmxvY2F0aW9uQ29uZmlnLCBjb250ZXh0IHx8IHt9KSkgewogICAgICAgIC8vIEFERCBDQVJEIFBMVUdJTiBVSSBFTkhBTkNFTUVOVAogICAgICAgIGlmIChhY3Rpb25UeXBlID09PSBFeHRlbnNpb25Qb2ludC5DQVJEKSB7CiAgICAgICAgICAvLyBpbnRlcmNlcHQgdG8gYXBwbHkgdHJhbnNsYXRpb24KICAgICAgICAgIGlmICh1aUFyZWEgPT09IENhcmRMb2NhdGlvbi5DTFVTVEVSX0RBU0hCT0FSRF9DQVJEICYmIGFjdGlvbi5sYWJlbEtleSkgewogICAgICAgICAgICBhY3Rpb25zW2ldLmxhYmVsID0gdHJhbnNsYXRpb25DdHgudChhY3Rpb24ubGFiZWxLZXkpOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIEFERCBBQ1RJT04gUExVR0lOIFVJIEVOSEFOQ0VNRU5UCiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb25UeXBlID09PSBFeHRlbnNpb25Qb2ludC5BQ1RJT04pIHsKICAgICAgICAgIC8vIFRBQkxFIEFDVElPTgogICAgICAgICAgaWYgKHVpQXJlYSA9PT0gQWN0aW9uTG9jYXRpb24uVEFCTEUpIHsKICAgICAgICAgICAgLy8gaW50ZXJjZXB0IHRvIGFwcGx5IHRyYW5zbGF0aW9uCiAgICAgICAgICAgIGlmIChhY3Rpb24ubGFiZWxLZXkpIHsKICAgICAgICAgICAgICBhY3Rpb25zW2ldLmxhYmVsID0gdHJhbnNsYXRpb25DdHgudChhY3Rpb24ubGFiZWxLZXkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBidWxrYWJsZSBmbGFnCiAgICAgICAgICAgIGFjdGlvbnNbaV0uYnVsa2FibGUgPSBhY3Rpb25zW2ldLm11bHRpcGxlIHx8IGFjdGlvbnNbaV0uYnVsa2FibGU7CgogICAgICAgICAgICAvLyBwb3B1bGF0ZSBhY3Rpb24gaWRlbnRpZmllciB0byBwcmV2ZW50IGVycm9ycwogICAgICAgICAgICBpZiAoIWFjdGlvbnNbaV0uYWN0aW9uKSB7CiAgICAgICAgICAgICAgYWN0aW9uc1tpXS5hY3Rpb24gPSBgY3VzdG9tLXRhYmxlLWFjdGlvbi0ke3JhbmRvbVN0cigxMCkudG9Mb3dlckNhc2UoKX1gOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZXh0cmFjdCBzaW1wbGlmaWVkIHNob3J0Y3V0IGRlZmluaXRpb24gb24gcGx1Z2luIC0gSEVBREVSIEFDVElPTgogICAgICAgICAgaWYgKHVpQXJlYSA9PT0gQWN0aW9uTG9jYXRpb24uSEVBREVSICYmIGFjdGlvbi5zaG9ydGN1dCkgewogICAgICAgICAgICAvLyBpZiBpdCdzIGEgc3RyaW5nLCB0aGVuIGFzc3VtZSBDVFJMIGZvciB3aW5kb3dzIGFuZCBNRVRBIGZvciBtYWMKICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24uc2hvcnRjdXQgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgYWN0aW9uc1tpXS5zaG9ydGN1dExhYmVsID0gKCkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIGlzTWFjID8gYChcdTIzMTgtJHthY3Rpb24uc2hvcnRjdXQudG9VcHBlckNhc2UoKX0pYCA6IGAoQ3RybC0ke2FjdGlvbi5zaG9ydGN1dC50b1VwcGVyQ2FzZSgpfSlgOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgYWN0aW9uc1tpXS5zaG9ydGN1dEtleSA9IHsKICAgICAgICAgICAgICAgIHdpbmRvd3M6IFsnY3RybCcsIGFjdGlvbi5zaG9ydGN1dF0sCiAgICAgICAgICAgICAgICBtYWM6IFsnbWV0YScsIGFjdGlvbi5zaG9ydGN1dF0KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIC8vIGNvcnJlY3QgY2hlY2sgZm9yIGFuIE9iamVjdCB0eXBlIGluIEpTLi4uIGhhbmRsZSB0aGUgb2JqZWN0IHBhc3NlZAogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhY3Rpb24uc2hvcnRjdXQgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGFjdGlvbi5zaG9ydGN1dCkgJiYgYWN0aW9uLnNob3J0Y3V0ICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgYWN0aW9uc1tpXS5zaG9ydGN1dEtleSA9IGFjdGlvbi5zaG9ydGN1dDsKICAgICAgICAgICAgICBjb25zdCBrZXlib2FyZENvbWJvID0gaXNNYWMgPyBhY3Rpb25zW2ldLnNob3J0Y3V0Lm1hYyA6IGFjdGlvbnNbaV0uc2hvcnRjdXQud2luZG93cyA/IGFjdGlvbnNbaV0uc2hvcnRjdXQud2luZG93cyA6IFtdOwogICAgICAgICAgICAgIGxldCBzY0xhYmVsID0gJyc7CiAgICAgICAgICAgICAga2V5Ym9hcmRDb21iby5mb3JFYWNoKChrZXksIGkpID0+IHsKICAgICAgICAgICAgICAgIGlmIChpIDwga2V5Ym9hcmRDb21iby5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdtZXRhJykgewogICAgICAgICAgICAgICAgICAgIGtleSA9ICdcdTIzMTgnOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGtleSA9IHVjRmlyc3Qoa2V5KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBzY0xhYmVsICs9IGAke2tleX1gOwogICAgICAgICAgICAgICAgICBzY0xhYmVsICs9ICctJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHNjTGFiZWwgKz0gYCR7a2V5LnRvVXBwZXJDYXNlKCl9YDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBhY3Rpb25zW2ldLnNob3J0Y3V0TGFiZWwgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gYCgke3NjTGFiZWx9KWA7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBleHRlbnNpb25FbmhhbmNlbWVudHMucHVzaChhY3Rpb25zW2ldKTsKICAgICAgfQogICAgfSk7CiAgfQogIHJldHVybiBleHRlbnNpb25FbmhhbmNlbWVudHM7Cn0="},{"version":3,"names":["ActionLocation","CardLocation","ExtensionPoint","isMac","ucFirst","randomStr","_EDIT","_CONFIG","_DETAIL","_LIST","_CREATE","getProductFromRoute","isEqual","checkRouteProduct","name","params","query","locationConfigParam","product","checkRouteMode","mode","as","includes","endsWith","checkExtensionRouteBinding","$route","locationConfig","context","Object","keys","length","paramsToCheck","res","i","param","asArray","Array","isArray","x","hash","urlPath","path","exact","getApplicableExtensionEnhancements","pluginCtx","actionType","uiArea","currRoute","translationCtx","_pluginCtx$$plugin","extensionEnhancements","$plugin","getUIConfig","actions","forEach","action","CARD","CLUSTER_DASHBOARD_CARD","labelKey","label","t","ACTION","TABLE","bulkable","multiple","toLowerCase","HEADER","shortcut","shortcutLabel","toUpperCase","shortcutKey","windows","mac","keyboardCombo","scLabel","key","push"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/core/plugin-helpers.js"],"sourcesContent":["import { ActionLocation, CardLocation, ExtensionPoint } from '@shell/core/types';\nimport { isMac } from '@shell/utils/platform';\nimport { ucFirst, randomStr } from '@shell/utils/string';\nimport {\n  _EDIT, _CONFIG, _DETAIL, _LIST, _CREATE\n} from '@shell/config/query-params';\nimport { getProductFromRoute } from '@shell/middleware/authenticated';\nimport { isEqual } from '@shell/utils/object';\n\nfunction checkRouteProduct({ name, params, query }, locationConfigParam) {\n  const product = getProductFromRoute({\n    name, params, query\n  });\n\n  // alias for the homepage\n  if (locationConfigParam === 'home' && name === 'home') {\n    return true;\n  } else if (locationConfigParam === product) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction checkRouteMode({ name, query }, locationConfigParam) {\n  if (locationConfigParam === _EDIT && query.mode && query.mode === _EDIT && !query.as) {\n    return true;\n  } else if (locationConfigParam === _CONFIG && query.as && query.as === _CONFIG) {\n    return true;\n  } else if (locationConfigParam === _DETAIL && !query.as && name.includes('-id') && (!query.mode || query?.mode !== _EDIT)) {\n    return true;\n    // alias to target all list views\n  } else if (locationConfigParam === _LIST && !name.includes('-id') && name.includes('-resource')) {\n    return true;\n    // alias to target create views\n  } else if (locationConfigParam === _CREATE && name.endsWith('-create')) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction checkExtensionRouteBinding($route, locationConfig, context) {\n  // if no configuration is passed, consider it as global\n  if (!Object.keys(locationConfig).length) {\n    return true;\n  }\n\n  const { params } = $route;\n\n  // \"params\" to be checked based on the locationConfig\n  // This has become overloaded with mode and context\n  const paramsToCheck = [\n    'product',\n    'resource',\n    'namespace',\n    'cluster',\n    'id',\n    'mode',\n    'path',\n    'hash',\n    // url query params\n    'queryParam',\n    // Custom context specific params provided by the extension, not to be confused with location params\n    'context',\n  ];\n\n  let res = true;\n\n  for (let i = 0; i < paramsToCheck.length; i++) {\n    const param = paramsToCheck[i];\n\n    if (locationConfig[param]) {\n      const asArray = Array.isArray(locationConfig[param]) ? locationConfig[param] : [locationConfig[param]];\n\n      for (let x = 0; x < asArray.length; x++) {\n        const locationConfigParam = asArray[x];\n\n        if (locationConfigParam) {\n          if (param === 'hash') {\n            res = $route.hash ? $route.hash.includes(locationConfigParam) : false;\n          // handle \"product\" in a separate way...\n          } else if (param === 'product') {\n            res = checkRouteProduct($route, locationConfigParam);\n          // also handle \"mode\" in a separate way because it mainly depends on query params\n          } else if (param === 'mode') {\n            res = checkRouteMode($route, locationConfigParam);\n          } else if (param === 'resource') {\n            // Match exact resource but also allow resource of '*' to match any resource\n            res = (params[param] && locationConfigParam === '*') || locationConfigParam === params[param];\n          } else if (param === 'context') {\n            // Need all keys and values to match\n            res = isEqual(locationConfigParam, context);\n            // evaluate queryParam in route\n          } else if (param === 'queryParam') {\n            res = isEqual(locationConfigParam, $route.query);\n            // evaluate path in route\n          } else if (param === 'path' && locationConfigParam.urlPath) {\n            if (locationConfigParam.endsWith) {\n              res = $route.path.endsWith(locationConfigParam.urlPath);\n            } else if (!Object.keys(locationConfigParam).includes('exact') || locationConfigParam.exact) {\n              res = locationConfigParam.urlPath === $route.path;\n            } else {\n              res = $route.path.includes(locationConfigParam.urlPath);\n            }\n          } else if (locationConfigParam === params[param]) {\n            res = true;\n          } else {\n            res = false;\n          }\n        }\n\n        // If a single location config param is good then this is an param (aka ['pods', 'configmap'] = pods or configmaps)\n        if (res) {\n          break;\n        }\n      }\n\n      // If a single param (set of location config params) is bad then this is not an acceptable location\n      if (!res) {\n        break;\n      }\n    }\n  }\n\n  return res;\n}\n\nexport function getApplicableExtensionEnhancements(pluginCtx, actionType, uiArea, currRoute, translationCtx = pluginCtx, context) {\n  const extensionEnhancements = [];\n\n  // gate it so that we prevent errors on older versions of dashboard\n  if (pluginCtx.$plugin?.getUIConfig) {\n    const actions = pluginCtx.$plugin.getUIConfig(actionType, uiArea);\n\n    actions.forEach((action, i) => {\n      if (checkExtensionRouteBinding(currRoute, action.locationConfig, context || {})) {\n        // ADD CARD PLUGIN UI ENHANCEMENT\n        if (actionType === ExtensionPoint.CARD) {\n          // intercept to apply translation\n          if (uiArea === CardLocation.CLUSTER_DASHBOARD_CARD && action.labelKey) {\n            actions[i].label = translationCtx.t(action.labelKey);\n          }\n\n        // ADD ACTION PLUGIN UI ENHANCEMENT\n        } else if (actionType === ExtensionPoint.ACTION) {\n          // TABLE ACTION\n          if (uiArea === ActionLocation.TABLE) {\n            // intercept to apply translation\n            if (action.labelKey) {\n              actions[i].label = translationCtx.t(action.labelKey);\n            }\n\n            // bulkable flag\n            actions[i].bulkable = actions[i].multiple || actions[i].bulkable;\n\n            // populate action identifier to prevent errors\n            if (!actions[i].action) {\n              actions[i].action = `custom-table-action-${ randomStr(10).toLowerCase() }`;\n            }\n          }\n\n          // extract simplified shortcut definition on plugin - HEADER ACTION\n          if (uiArea === ActionLocation.HEADER && action.shortcut) {\n            // if it's a string, then assume CTRL for windows and META for mac\n            if (typeof action.shortcut === 'string') {\n              actions[i].shortcutLabel = () => {\n                return isMac ? `(\\u2318-${ action.shortcut.toUpperCase() })` : `(Ctrl-${ action.shortcut.toUpperCase() })`;\n              };\n              actions[i].shortcutKey = { windows: ['ctrl', action.shortcut], mac: ['meta', action.shortcut] };\n            // correct check for an Object type in JS... handle the object passed\n            } else if (typeof action.shortcut === 'object' && !Array.isArray(action.shortcut) && action.shortcut !== null) {\n              actions[i].shortcutKey = action.shortcut;\n              const keyboardCombo = isMac ? actions[i].shortcut.mac : actions[i].shortcut.windows ? actions[i].shortcut.windows : [];\n              let scLabel = '';\n\n              keyboardCombo.forEach((key, i) => {\n                if (i < keyboardCombo.length - 1) {\n                  if (key === 'meta') {\n                    key = '\\u2318';\n                  } else {\n                    key = ucFirst(key);\n                  }\n                  scLabel += `${ key }`;\n                  scLabel += '-';\n                } else {\n                  scLabel += `${ key.toUpperCase() }`;\n                }\n              });\n\n              actions[i].shortcutLabel = () => {\n                return `(${ scLabel })`;\n              };\n            }\n          }\n        }\n\n        extensionEnhancements.push(actions[i]);\n      }\n    });\n  }\n\n  return extensionEnhancements;\n}\n"],"mappings":"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"}]}