{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--2-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceList/Masthead.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceList/Masthead.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/trident/babel.config.js","mtime":1716430386784},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgRmF2b3JpdGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvbmF2L0Zhdm9yaXRlJzsKaW1wb3J0IFR5cGVEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UeXBlRGVzY3JpcHRpb24nOwppbXBvcnQgeyBnZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgQVMsIF9ZQU1MIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgUmVzb3VyY2VMb2FkaW5nSW5kaWNhdG9yIGZyb20gJy4vUmVzb3VyY2VMb2FkaW5nSW5kaWNhdG9yJzsKCi8qKgogKiBSZXNvdXJjZSBMaXN0IE1hc3RoZWFkIGNvbXBvbmVudC4KICovCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWFzdGhlYWRSZXNvdXJjZUxpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIEZhdm9yaXRlLAogICAgVHlwZURlc2NyaXB0aW9uLAogICAgUmVzb3VyY2VMb2FkaW5nSW5kaWNhdG9yCiAgfSwKICBwcm9wczogewogICAgcmVzb3VyY2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGZhdm9yaXRlUmVzb3VyY2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgc2NoZW1hOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHR5cGVEaXNwbGF5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGlzQ3JlYXRhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBpc1lhbWxDcmVhdGFibGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGNyZWF0ZUxvY2F0aW9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHlhbWxDcmVhdGVMb2NhdGlvbjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBjcmVhdGVCdXR0b25MYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBsb2FkUmVzb3VyY2VzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfSwKICAgIGxvYWRJbmRldGVybWluYXRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgc2hvd0luY3JlbWVudGFsTG9hZGluZ0luZGljYXRvcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8qKgogICAgICogSW5oZXJpdGVkIGdsb2JhbCBpZGVudGlmaWVyIHByZWZpeCBmb3IgdGVzdHMKICAgICAqIERlZmluZSBhIHRlcm0gYmFzZWQgb24gdGhlIHBhcmVudCBjb21wb25lbnQgdG8gYXZvaWQgY29uZmxpY3RzIG9uIG11bHRpcGxlIGNvbXBvbmVudHMKICAgICAqLwogICAgY29tcG9uZW50VGVzdGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ21hc3RoZWFkJwogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgLi4udGhpcy4kcm91dGUucGFyYW1zCiAgICB9OwogICAgY29uc3QgZm9ybVJvdXRlID0gewogICAgICBuYW1lOiBgJHt0aGlzLiRyb3V0ZS5uYW1lfS1jcmVhdGVgLAogICAgICBwYXJhbXMKICAgIH07CiAgICBjb25zdCBoYXNFZGl0Q29tcG9uZW50ID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaGFzQ3VzdG9tRWRpdCddKHRoaXMucmVzb3VyY2UpOwogICAgY29uc3QgeWFtbFJvdXRlID0gewogICAgICBuYW1lOiBgJHt0aGlzLiRyb3V0ZS5uYW1lfS1jcmVhdGVgLAogICAgICBwYXJhbXMsCiAgICAgIHF1ZXJ5OiB7CiAgICAgICAgW0FTXTogX1lBTUwKICAgICAgfQogICAgfTsKICAgIHJldHVybiB7CiAgICAgIGZvcm1Sb3V0ZSwKICAgICAgeWFtbFJvdXRlLAogICAgICBoYXNFZGl0Q29tcG9uZW50CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdldCwKICAgIC4uLm1hcEdldHRlcnMoWydpc0V4cGxvcmVyJ10pLAogICAgcmVzb3VyY2VOYW1lKCkgewogICAgICBpZiAodGhpcy5zY2hlbWEpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvbGFiZWxGb3InXSh0aGlzLnNjaGVtYSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2U7CiAgICB9LAogICAgX3R5cGVEaXNwbGF5KCkgewogICAgICBpZiAodGhpcy50eXBlRGlzcGxheSAhPT0gbnVsbCkgewogICAgICAgIHJldHVybiB0aGlzLnR5cGVEaXNwbGF5OwogICAgICB9CiAgICAgIGlmICghdGhpcy5zY2hlbWEpIHsKICAgICAgICByZXR1cm4gJz8nOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9sYWJlbEZvciddKHRoaXMuc2NoZW1hLCA5OSk7CiAgICB9LAogICAgX2lzWWFtbENyZWF0YWJsZSgpIHsKICAgICAgaWYgKHRoaXMuaXNZYW1sQ3JlYXRhYmxlICE9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaXNZYW1sQ3JlYXRhYmxlOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnNjaGVtYSAmJiB0aGlzLl9pc0NyZWF0YWJsZSAmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9vcHRpb25zRm9yJ10odGhpcy5yZXNvdXJjZSkuY2FuWWFtbDsKICAgIH0sCiAgICBfaXNDcmVhdGFibGUoKSB7CiAgICAgIHZhciBfdGhpcyRzY2hlbWE7CiAgICAgIC8vIERvZXMgbm90IHRha2UgaW50byBhY2NvdW50IGhhc0VkaXRDb21wb25lbnQsIHN1Y2ggdGhhdCBfaXNZYW1sQ3JlYXRhYmxlIHdvcmtzCiAgICAgIGlmICh0aGlzLmlzQ3JlYXRhYmxlICE9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaXNDcmVhdGFibGU7CiAgICAgIH0KCiAgICAgIC8vIGJsb2NrZWQtcG9zdCBtZWFucyB5b3UgY2FuIHBvc3QgdGhyb3VnaCBub3JtYW4sIGJ1dCBub3QgdGhyb3VnaCBzdGV2ZS4KICAgICAgaWYgKHRoaXMuc2NoZW1hICYmICEoKF90aGlzJHNjaGVtYSA9IHRoaXMuc2NoZW1hKSAhPT0gbnVsbCAmJiBfdGhpcyRzY2hlbWEgIT09IHZvaWQgMCAmJiBfdGhpcyRzY2hlbWEuY29sbGVjdGlvbk1ldGhvZHMuZmluZCh4ID0+IFsnYmxvY2tlZC1wb3N0JywgJ3Bvc3QnXS5pbmNsdWRlcyh4LnRvTG93ZXJDYXNlKCkpKSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL29wdGlvbnNGb3InXSh0aGlzLnJlc291cmNlKS5pc0NyZWF0YWJsZTsKICAgIH0sCiAgICBfY3JlYXRlTG9jYXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUxvY2F0aW9uIHx8IHRoaXMuZm9ybVJvdXRlOwogICAgfSwKICAgIF95YW1sQ3JlYXRlTG9jYXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLnlhbWxDcmVhdGVMb2NhdGlvbiB8fCB0aGlzLnlhbWxSb3V0ZTsKICAgIH0sCiAgICBfY3JlYXRlQnV0dG9ubGFiZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUJ1dHRvbkxhYmVsIHx8IHRoaXMudCgncmVzb3VyY2VMaXN0LmhlYWQuY3JlYXRlJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapGetters","Favorite","TypeDescription","get","AS","_YAML","ResourceLoadingIndicator","name","components","props","resource","type","String","required","favoriteResource","default","schema","Object","typeDisplay","isCreatable","Boolean","isYamlCreatable","createLocation","yamlCreateLocation","createButtonLabel","loadResources","Array","loadIndeterminate","showIncrementalLoadingIndicator","componentTestid","data","params","$route","formRoute","hasEditComponent","$store","getters","yamlRoute","query","computed","resourceName","_typeDisplay","_isYamlCreatable","_isCreatable","canYaml","_this$schema","collectionMethods","find","x","includes","toLowerCase","_createLocation","_yamlCreateLocation","_createButtonlabel","t"],"sources":["../../node_modules/@rancher/shell/components/ResourceList/Masthead.vue"],"sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport Favorite from '@shell/components/nav/Favorite';\nimport TypeDescription from '@shell/components/TypeDescription';\nimport { get } from '@shell/utils/object';\nimport { AS, _YAML } from '@shell/config/query-params';\nimport ResourceLoadingIndicator from './ResourceLoadingIndicator';\n\n/**\n * Resource List Masthead component.\n */\nexport default {\n\n  name: 'MastheadResourceList',\n\n  components: {\n    Favorite,\n    TypeDescription,\n    ResourceLoadingIndicator,\n  },\n  props: {\n    resource: {\n      type:     String,\n      required: true,\n    },\n    favoriteResource: {\n      type:    String,\n      default: null\n    },\n    schema: {\n      type:    Object,\n      default: null,\n    },\n    typeDisplay: {\n      type:    String,\n      default: null,\n    },\n    isCreatable: {\n      type:    Boolean,\n      default: null,\n    },\n    isYamlCreatable: {\n      type:    Boolean,\n      default: null,\n    },\n    createLocation: {\n      type:    Object,\n      default: null,\n    },\n    yamlCreateLocation: {\n      type:    Object,\n      default: null,\n    },\n    createButtonLabel: {\n      type:    String,\n      default: null\n    },\n    loadResources: {\n      type:    Array,\n      default: () => []\n    },\n\n    loadIndeterminate: {\n      type:    Boolean,\n      default: false\n    },\n\n    showIncrementalLoadingIndicator: {\n      type:    Boolean,\n      default: false\n    },\n\n    /**\n     * Inherited global identifier prefix for tests\n     * Define a term based on the parent component to avoid conflicts on multiple components\n     */\n    componentTestid: {\n      type:    String,\n      default: 'masthead'\n    }\n  },\n\n  data() {\n    const params = { ...this.$route.params };\n\n    const formRoute = { name: `${ this.$route.name }-create`, params };\n\n    const hasEditComponent = this.$store.getters['type-map/hasCustomEdit'](this.resource);\n\n    const yamlRoute = {\n      name:  `${ this.$route.name }-create`,\n      params,\n      query: { [AS]: _YAML },\n    };\n\n    return {\n      formRoute,\n      yamlRoute,\n      hasEditComponent,\n    };\n  },\n\n  computed: {\n    get,\n    ...mapGetters(['isExplorer']),\n\n    resourceName() {\n      if (this.schema) {\n        return this.$store.getters['type-map/labelFor'](this.schema);\n      }\n\n      return this.resource;\n    },\n\n    _typeDisplay() {\n      if ( this.typeDisplay !== null) {\n        return this.typeDisplay;\n      }\n\n      if ( !this.schema ) {\n        return '?';\n      }\n\n      return this.$store.getters['type-map/labelFor'](this.schema, 99);\n    },\n\n    _isYamlCreatable() {\n      if ( this.isYamlCreatable !== null) {\n        return this.isYamlCreatable;\n      }\n\n      return this.schema && this._isCreatable && this.$store.getters['type-map/optionsFor'](this.resource).canYaml;\n    },\n\n    _isCreatable() {\n      // Does not take into account hasEditComponent, such that _isYamlCreatable works\n      if ( this.isCreatable !== null) {\n        return this.isCreatable;\n      }\n\n      // blocked-post means you can post through norman, but not through steve.\n      if ( this.schema && !this.schema?.collectionMethods.find((x) => ['blocked-post', 'post'].includes(x.toLowerCase())) ) {\n        return false;\n      }\n\n      return this.$store.getters['type-map/optionsFor'](this.resource).isCreatable;\n    },\n\n    _createLocation() {\n      return this.createLocation || this.formRoute;\n    },\n\n    _yamlCreateLocation() {\n      return this.yamlCreateLocation || this.yamlRoute;\n    },\n\n    _createButtonlabel() {\n      return this.createButtonLabel || this.t('resourceList.head.create');\n    }\n\n  },\n};\n</script>\n\n<template>\n  <header>\n    <slot name=\"typeDescription\">\n      <TypeDescription :resource=\"resource\" />\n    </slot>\n    <div class=\"title\">\n      <h1 class=\"m-0\">\n        {{ _typeDisplay }} <Favorite\n          v-if=\"isExplorer\"\n          :resource=\"favoriteResource || resource\"\n        />\n      </h1>\n      <ResourceLoadingIndicator\n        v-if=\"showIncrementalLoadingIndicator\"\n        :resources=\"loadResources\"\n        :indeterminate=\"loadIndeterminate\"\n      />\n    </div>\n    <div class=\"actions-container\">\n      <slot name=\"actions\">\n        <div class=\"actions\">\n          <slot name=\"extraActions\" />\n\n          <slot name=\"createButton\">\n            <n-link\n              v-if=\"hasEditComponent && _isCreatable\"\n              :to=\"_createLocation\"\n              class=\"btn role-primary\"\n              :data-testid=\"componentTestid+'-create'\"\n            >\n              {{ _createButtonlabel }}\n            </n-link>\n            <n-link\n              v-else-if=\"_isYamlCreatable\"\n              :to=\"_yamlCreateLocation\"\n              class=\"btn role-primary\"\n              :data-testid=\"componentTestid+'-create-yaml'\"\n            >\n              {{ t(\"resourceList.head.createFromYaml\") }}\n            </n-link>\n          </slot>\n        </div>\n      </slot>\n    </div>\n  </header>\n</template>\n\n<style lang=\"scss\" scoped>\n  .title {\n    align-items: center;\n    display: flex;\n    h1 {\n      margin: 0;\n    }\n  }\n\n  header {\n    margin-bottom: 20px;\n  }\n</style>\n"],"mappings":"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"}]}