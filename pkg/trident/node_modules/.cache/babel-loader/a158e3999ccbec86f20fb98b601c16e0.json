{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--2-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceSummary.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceSummary.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/trident/babel.config.js","mtime":1716430386784},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFNpbXBsZUJveCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9TaW1wbGVCb3gnOwppbXBvcnQgeyBDT1VOVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBjb2xvckZvclN0YXRlIH0gZnJvbSAnQHNoZWxsL3BsdWdpbnMvZGFzaGJvYXJkLXN0b3JlL3Jlc291cmNlLWNsYXNzJzsKZXhwb3J0IGZ1bmN0aW9uIGNvbG9yVG9Db3VudE5hbWUoY29sb3IpIHsKICBzd2l0Y2ggKGNvbG9yKSB7CiAgICBjYXNlICd0ZXh0LXN1Y2Nlc3MnOgogICAgY2FzZSAndGV4dC1pbmZvJzoKICAgICAgcmV0dXJuICd1c2VmdWwnOwogICAgY2FzZSAndGV4dC13YXJuaW5nJzoKICAgICAgcmV0dXJuICd3YXJuaW5nQ291bnQnOwogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuICdlcnJvckNvdW50JzsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIHJlc291cmNlQ291bnRzKHN0b3JlLCByZXNvdXJjZSkgewogIHZhciBfc3RvcmUkZ2V0dGVycywgX2NsdXN0ZXJDb3VudHMkcmVzb3VyOwogIGNvbnN0IGluU3RvcmUgPSBzdG9yZS5nZXR0ZXJzWydjdXJyZW50U3RvcmUnXShDT1VOVCk7CiAgY29uc3QgY2x1c3RlckNvdW50cyA9IChfc3RvcmUkZ2V0dGVycyA9IHN0b3JlLmdldHRlcnNbYCR7aW5TdG9yZX0vYWxsYF0oQ09VTlQpKSA9PT0gbnVsbCB8fCBfc3RvcmUkZ2V0dGVycyA9PT0gdm9pZCAwIHx8IChfc3RvcmUkZ2V0dGVycyA9IF9zdG9yZSRnZXR0ZXJzWzBdKSA9PT0gbnVsbCB8fCBfc3RvcmUkZ2V0dGVycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0b3JlJGdldHRlcnMuY291bnRzOwogIGNvbnN0IHN1bW1hcnkgPSAoY2x1c3RlckNvdW50cyA9PT0gbnVsbCB8fCBjbHVzdGVyQ291bnRzID09PSB2b2lkIDAgfHwgKF9jbHVzdGVyQ291bnRzJHJlc291ciA9IGNsdXN0ZXJDb3VudHNbcmVzb3VyY2VdKSA9PT0gbnVsbCB8fCBfY2x1c3RlckNvdW50cyRyZXNvdXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jbHVzdGVyQ291bnRzJHJlc291ci5zdW1tYXJ5KSB8fCB7fTsKICBjb25zdCBjb3VudHMgPSB7CiAgICB0b3RhbDogc3VtbWFyeS5jb3VudCB8fCAwLAogICAgdXNlZnVsOiBzdW1tYXJ5LmNvdW50IHx8IDAsCiAgICB3YXJuaW5nQ291bnQ6IDAsCiAgICBlcnJvckNvdW50OiAwCiAgfTsKICBPYmplY3QuZW50cmllcyhzdW1tYXJ5LnN0YXRlcyB8fCB7fSkuZm9yRWFjaChlbnRyeSA9PiB7CiAgICBjb25zdCBjb2xvciA9IGNvbG9yRm9yU3RhdGUoZW50cnlbMF0pOwogICAgY29uc3QgY291bnQgPSBlbnRyeVsxXTsKICAgIGNvbnN0IGNvdW50TmFtZSA9IGNvbG9yVG9Db3VudE5hbWUoY29sb3IpOwogICAgY291bnRzWyd1c2VmdWwnXSAtPSBjb3VudDsKICAgIGNvdW50c1tjb3VudE5hbWVdICs9IGNvdW50OwogIH0pOwogIHJldHVybiBjb3VudHM7Cn0KZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFNpbXBsZUJveAogIH0sCiAgcHJvcHM6IHsKICAgIHJlc291cmNlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBzcG9vZmVkQ291bnRzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGNsdXN0ZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcmVzb3VyY2VDb3VudHMoKSB7CiAgICAgIGlmICh0aGlzLnNwb29mZWRDb3VudHMpIHsKICAgICAgICByZXR1cm4gdGhpcy5zcG9vZmVkQ291bnRzOwogICAgICB9CiAgICAgIHJldHVybiByZXNvdXJjZUNvdW50cyh0aGlzLiRzdG9yZSwgdGhpcy5yZXNvdXJjZSk7CiAgICB9LAogICAgbG9jYXRpb24oKSB7CiAgICAgIGlmICh0aGlzLnNwb29mZWRDb3VudHMpIHsKICAgICAgICByZXR1cm4gdGhpcy5zcG9vZmVkQ291bnRzLmxvY2F0aW9uOwogICAgICB9CiAgICAgIGNvbnN0IHJvdXRlID0gewogICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZScsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwcm9kdWN0OiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50UHJvZHVjdCddLm5hbWUsCiAgICAgICAgICByZXNvdXJjZTogdGhpcy5yZXNvdXJjZQogICAgICAgIH0KICAgICAgfTsKICAgICAgaWYgKHRoaXMuY2x1c3RlcikgewogICAgICAgIHJvdXRlLnBhcmFtcy5jbHVzdGVyID0gdGhpcy5jbHVzdGVyOwogICAgICB9CiAgICAgIHJldHVybiByb3V0ZTsKICAgIH0sCiAgICBuYW1lKCkgewogICAgICBpZiAodGhpcy5zcG9vZmVkQ291bnRzKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3Bvb2ZlZENvdW50cy5uYW1lOwogICAgICB9CiAgICAgIGNvbnN0IGluU3RvcmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50U3RvcmUnXSh0aGlzLnJlc291cmNlKTsKICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1tgJHtpblN0b3JlfS9zY2hlbWFGb3JgXSh0aGlzLnJlc291cmNlKTsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2xhYmVsRm9yJ10oc2NoZW1hLCB0aGlzLnJlc291cmNlQ291bnRzLnVzZWZ1bCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnb1RvUmVzb3VyY2UoKSB7CiAgICAgIGlmICh0aGlzLmxvY2F0aW9uKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy5sb2NhdGlvbik7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["SimpleBox","COUNT","colorForState","colorToCountName","color","resourceCounts","store","resource","_store$getters","_clusterCounts$resour","inStore","getters","clusterCounts","counts","summary","total","count","useful","warningCount","errorCount","Object","entries","states","forEach","entry","countName","components","props","type","String","default","spoofedCounts","cluster","computed","$store","location","route","name","params","product","schema","methods","goToResource","$router","push"],"sources":["../../node_modules/@rancher/shell/components/ResourceSummary.vue"],"sourcesContent":["<script>\nimport SimpleBox from '@shell/components/SimpleBox';\nimport { COUNT } from '@shell/config/types';\nimport { colorForState } from '@shell/plugins/dashboard-store/resource-class';\n\nexport function colorToCountName(color) {\n  switch (color) {\n  case 'text-success':\n  case 'text-info':\n    return 'useful';\n  case 'text-warning':\n    return 'warningCount';\n  default:\n    return 'errorCount';\n  }\n}\n\nexport function resourceCounts(store, resource) {\n  const inStore = store.getters['currentStore'](COUNT);\n  const clusterCounts = store.getters[`${ inStore }/all`](COUNT)?.[0]?.counts;\n  const summary = clusterCounts?.[resource]?.summary || {};\n\n  const counts = {\n    total:        summary.count || 0,\n    useful:       summary.count || 0,\n    warningCount: 0,\n    errorCount:   0\n  };\n\n  Object.entries(summary.states || {}).forEach((entry) => {\n    const color = colorForState(entry[0]);\n    const count = entry[1];\n    const countName = colorToCountName(color);\n\n    counts['useful'] -= count;\n    counts[countName] += count;\n  });\n\n  return counts;\n}\n\nexport default {\n  components: { SimpleBox },\n\n  props: {\n    resource: {\n      type:    String,\n      default: ''\n    },\n\n    spoofedCounts: {\n      type:    Object,\n      default: null\n    },\n\n    cluster: {\n      type:    String,\n      default: null,\n    },\n  },\n\n  computed: {\n    resourceCounts() {\n      if (this.spoofedCounts) {\n        return this.spoofedCounts;\n      }\n\n      return resourceCounts(this.$store, this.resource);\n    },\n\n    location() {\n      if (this.spoofedCounts) {\n        return this.spoofedCounts.location;\n      }\n\n      const route = {\n        name:   'c-cluster-product-resource',\n        params: {\n          product:  this.$store.getters['currentProduct'].name,\n          resource: this.resource,\n        }\n      };\n\n      if (this.cluster) {\n        route.params.cluster = this.cluster;\n      }\n\n      return route;\n    },\n\n    name() {\n      if (this.spoofedCounts) {\n        return this.spoofedCounts.name;\n      }\n      const inStore = this.$store.getters['currentStore'](this.resource);\n      const schema = this.$store.getters[`${ inStore }/schemaFor`](this.resource);\n\n      return this.$store.getters['type-map/labelFor'](schema, this.resourceCounts.useful);\n    },\n  },\n\n  methods: {\n    goToResource() {\n      if (this.location) {\n        this.$router.push(this.location);\n      }\n    },\n  }\n\n};\n</script>\n\n<template>\n  <div>\n    <SimpleBox\n      class=\"container\"\n      :class=\"{'has-link': !!location}\"\n      @click=\"goToResource\"\n    >\n      <h1>{{ resourceCounts.total }}</h1>\n      <h3>\n        {{ name }}\n      </h3>\n      <div class=\"warnings\">\n        <div\n          v-if=\"resourceCounts.warningCount\"\n          class=\"warn-count mb-10 chip\"\n        >\n          {{ resourceCounts.warningCount }}\n        </div>\n        <div\n          v-if=\"resourceCounts.errorCount\"\n          class=\"error-count chip\"\n        >\n          {{ resourceCounts.errorCount }}\n        </div>\n      </div>\n    </SimpleBox>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n  .has-link {\n    cursor: pointer;\n\n    &:hover {\n      border-color: var(--link);\n    }\n  }\n\n  ::v-deep .content{\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    & H1, H3 {\n        margin: 0;\n    }\n\n    & .chip{\n      border-radius: 2em;\n      color: var(--body-bg);\n      padding: 0px 1em;\n\n      &.warn-count {\n          background: var(--warning)\n      }\n\n      &.error-count {\n          background: var(--error)\n      }\n    }\n}\n</style>\n"],"mappings":"AACA,OAAAA,SAAA;AACA,SAAAC,KAAA;AACA,SAAAC,aAAA;AAEA,gBAAAC,iBAAAC,KAAA;EACA,QAAAA,KAAA;IACA;IACA;MACA;IACA;MACA;IACA;MACA;EACA;AACA;AAEA,gBAAAC,eAAAC,KAAA,EAAAC,QAAA;EAAA,IAAAC,cAAA,EAAAC,qBAAA;EACA,MAAAC,OAAA,GAAAJ,KAAA,CAAAK,OAAA,iBAAAV,KAAA;EACA,MAAAW,aAAA,IAAAJ,cAAA,GAAAF,KAAA,CAAAK,OAAA,IAAAD,OAAA,QAAAT,KAAA,eAAAO,cAAA,gBAAAA,cAAA,GAAAA,cAAA,iBAAAA,cAAA,uBAAAA,cAAA,CAAAK,MAAA;EACA,MAAAC,OAAA,IAAAF,aAAA,aAAAA,aAAA,gBAAAH,qBAAA,GAAAG,aAAA,CAAAL,QAAA,eAAAE,qBAAA,uBAAAA,qBAAA,CAAAK,OAAA;EAEA,MAAAD,MAAA;IACAE,KAAA,EAAAD,OAAA,CAAAE,KAAA;IACAC,MAAA,EAAAH,OAAA,CAAAE,KAAA;IACAE,YAAA;IACAC,UAAA;EACA;EAEAC,MAAA,CAAAC,OAAA,CAAAP,OAAA,CAAAQ,MAAA,QAAAC,OAAA,CAAAC,KAAA;IACA,MAAApB,KAAA,GAAAF,aAAA,CAAAsB,KAAA;IACA,MAAAR,KAAA,GAAAQ,KAAA;IACA,MAAAC,SAAA,GAAAtB,gBAAA,CAAAC,KAAA;IAEAS,MAAA,cAAAG,KAAA;IACAH,MAAA,CAAAY,SAAA,KAAAT,KAAA;EACA;EAEA,OAAAH,MAAA;AACA;AAEA;EACAa,UAAA;IAAA1B;EAAA;EAEA2B,KAAA;IACApB,QAAA;MACAqB,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IAEAC,aAAA;MACAH,IAAA,EAAAR,MAAA;MACAU,OAAA;IACA;IAEAE,OAAA;MACAJ,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EAEAG,QAAA;IACA5B,eAAA;MACA,SAAA0B,aAAA;QACA,YAAAA,aAAA;MACA;MAEA,OAAA1B,cAAA,MAAA6B,MAAA,OAAA3B,QAAA;IACA;IAEA4B,SAAA;MACA,SAAAJ,aAAA;QACA,YAAAA,aAAA,CAAAI,QAAA;MACA;MAEA,MAAAC,KAAA;QACAC,IAAA;QACAC,MAAA;UACAC,OAAA,OAAAL,MAAA,CAAAvB,OAAA,mBAAA0B,IAAA;UACA9B,QAAA,OAAAA;QACA;MACA;MAEA,SAAAyB,OAAA;QACAI,KAAA,CAAAE,MAAA,CAAAN,OAAA,QAAAA,OAAA;MACA;MAEA,OAAAI,KAAA;IACA;IAEAC,KAAA;MACA,SAAAN,aAAA;QACA,YAAAA,aAAA,CAAAM,IAAA;MACA;MACA,MAAA3B,OAAA,QAAAwB,MAAA,CAAAvB,OAAA,sBAAAJ,QAAA;MACA,MAAAiC,MAAA,QAAAN,MAAA,CAAAvB,OAAA,IAAAD,OAAA,mBAAAH,QAAA;MAEA,YAAA2B,MAAA,CAAAvB,OAAA,sBAAA6B,MAAA,OAAAnC,cAAA,CAAAY,MAAA;IACA;EACA;EAEAwB,OAAA;IACAC,aAAA;MACA,SAAAP,QAAA;QACA,KAAAQ,OAAA,CAAAC,IAAA,MAAAT,QAAA;MACA;IACA;EACA;AAEA"}]}