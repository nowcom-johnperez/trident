{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/plugins/steve/hybrid-class.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/plugins/steve/hybrid-class.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/pkg/trident/babel.config.js","mtime":1716430386784},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/thread-loader/dist/cjs.js","mtime":1716430465967},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQU5OT1RBVElPTlNfVE9fSUdOT1JFX1JFR0VYLCBMQUJFTFNfVE9fSUdOT1JFX1JFR0VYIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwppbXBvcnQgb21pdEJ5IGZyb20gJ2xvZGFzaC9vbWl0QnknOwppbXBvcnQgcGlja0J5IGZyb20gJ2xvZGFzaC9waWNrQnknOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCB7IG1hdGNoZXNTb21lUmVnZXggfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKaW1wb3J0IFJlc291cmNlIGZyb20gJ0BzaGVsbC9wbHVnaW5zL2Rhc2hib2FyZC1zdG9yZS9yZXNvdXJjZS1jbGFzcyc7CgovLyB0aGVzZSBhcmUgZGVmaW5lZCBlbHNld2hlcmUgaW4gU3RldmUgbW9kZWxzIGFuZCB3aWxsIGNhdXNlIHRoZSBlcnJvciAgIkNhbm5vdCBzZXQgcHJvcGVydHkgPHdoYXRldmVyPiBvZiBbb2JqZWN0IE9iamVjdF0gd2hpY2ggaGFzIG9ubHkgYSBnZXR0ZXIiIGlmIGRlZmluZWQgYXQgdG9wLWxldmVsCmV4cG9ydCBmdW5jdGlvbiBjbGVhbkh5YnJpZFJlc291cmNlcyhkYXRhKSB7CiAgY29uc3QgcG90ZW50aWFsTm9ybWFuSG9sZG92ZXJzID0gWydzdGF0ZScsICduYW1lJywgJ2Rlc2NyaXB0aW9uJywgJ2xhYmVscycsICdhbm5vdGF0aW9ucyddOwogIHBvdGVudGlhbE5vcm1hbkhvbGRvdmVycy5mb3JFYWNoKGtleSA9PiBkZWxldGUgZGF0YVtrZXldKTsKICByZXR1cm4gZGF0YTsKfQpleHBvcnQgZGVmYXVsdCBjbGFzcyBIeWJyaWRNb2RlbCBleHRlbmRzIFJlc291cmNlIHsKICBjb25zdHJ1Y3RvcihkYXRhLCBjdHgsIHJlaHlkcmF0ZU5hbWVzcGFjZSA9IG51bGwsIHNldENsb25lID0gZmFsc2UpIHsKICAgIGNvbnN0IGNsZWFuZWREYXRhID0gY2xlYW5IeWJyaWRSZXNvdXJjZXMoZGF0YSk7CiAgICBzdXBlcihjbGVhbmVkRGF0YSwgY3R4LCByZWh5ZHJhdGVOYW1lc3BhY2UsIHNldENsb25lKTsKICB9CiAgZ2V0IGxhYmVscygpIHsKICAgIHZhciBfdGhpcyRtZXRhZGF0YTsKICAgIGNvbnN0IGFsbCA9ICgoX3RoaXMkbWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGEubGFiZWxzKSB8fCB7fTsKICAgIHJldHVybiBvbWl0QnkoYWxsLCAodmFsdWUsIGtleSkgPT4gewogICAgICByZXR1cm4gbWF0Y2hlc1NvbWVSZWdleChrZXksIExBQkVMU19UT19JR05PUkVfUkVHRVgpOwogICAgfSk7CiAgfQogIHNldExhYmVscyh2YWwpIHsKICAgIGlmICghdGhpcy5tZXRhZGF0YSkgewogICAgICB0aGlzLm1ldGFkYXRhID0ge307CiAgICB9CiAgICBjb25zdCBhbGwgPSB0aGlzLm1ldGFkYXRhLmxhYmVscyB8fCB7fTsKICAgIGNvbnN0IHdhc0lnbm9yZWQgPSBwaWNrQnkoYWxsLCAodmFsdWUsIGtleSkgPT4gewogICAgICByZXR1cm4gbWF0Y2hlc1NvbWVSZWdleChrZXksIExBQkVMU19UT19JR05PUkVfUkVHRVgpOwogICAgfSk7CiAgICBWdWUuc2V0KHRoaXMubWV0YWRhdGEsICdsYWJlbHMnLCB7CiAgICAgIC4uLndhc0lnbm9yZWQsCiAgICAgIC4uLnZhbAogICAgfSk7CiAgfQogIHNldExhYmVsKGtleSwgdmFsKSB7CiAgICB2YXIgX3RoaXMkbWV0YWRhdGEyOwogICAgaWYgKHZhbCkgewogICAgICBpZiAoIXRoaXMubWV0YWRhdGEpIHsKICAgICAgICB0aGlzLm1ldGFkYXRhID0ge307CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLmxhYmVscykgewogICAgICAgIHRoaXMubWV0YWRhdGEubGFiZWxzID0ge307CiAgICAgIH0KICAgICAgVnVlLnNldCh0aGlzLm1ldGFkYXRhLmxhYmVscywga2V5LCB2YWwpOwogICAgfSBlbHNlIGlmICgoX3RoaXMkbWV0YWRhdGEyID0gdGhpcy5tZXRhZGF0YSkgIT09IG51bGwgJiYgX3RoaXMkbWV0YWRhdGEyICE9PSB2b2lkIDAgJiYgX3RoaXMkbWV0YWRhdGEyLmxhYmVscykgewogICAgICBWdWUuc2V0KHRoaXMubWV0YWRhdGEubGFiZWxzLCBrZXksIHVuZGVmaW5lZCk7CiAgICAgIGRlbGV0ZSB0aGlzLm1ldGFkYXRhLmxhYmVsc1trZXldOwogICAgfQogIH0KICBnZXQgYW5ub3RhdGlvbnMoKSB7CiAgICB2YXIgX3RoaXMkbWV0YWRhdGEzOwogICAgY29uc3QgYWxsID0gKChfdGhpcyRtZXRhZGF0YTMgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1ldGFkYXRhMy5hbm5vdGF0aW9ucykgfHwge307CiAgICByZXR1cm4gb21pdEJ5KGFsbCwgKHZhbHVlLCBrZXkpID0+IHsKICAgICAgcmV0dXJuIG1hdGNoZXNTb21lUmVnZXgoa2V5LCBBTk5PVEFUSU9OU19UT19JR05PUkVfUkVHRVgpOwogICAgfSk7CiAgfQogIHNldEFubm90YXRpb25zKHZhbCkgewogICAgaWYgKCF0aGlzLm1ldGFkYXRhKSB7CiAgICAgIHRoaXMubWV0YWRhdGEgPSB7fTsKICAgIH0KICAgIGNvbnN0IGFsbCA9IHRoaXMubWV0YWRhdGEuYW5ub3RhdGlvbnMgfHwge307CiAgICBjb25zdCB3YXNJZ25vcmVkID0gcGlja0J5KGFsbCwgKHZhbHVlLCBrZXkpID0+IHsKICAgICAgcmV0dXJuIG1hdGNoZXNTb21lUmVnZXgoa2V5LCBBTk5PVEFUSU9OU19UT19JR05PUkVfUkVHRVgpOwogICAgfSk7CiAgICBWdWUuc2V0KHRoaXMubWV0YWRhdGEsICdhbm5vdGF0aW9ucycsIHsKICAgICAgLi4ud2FzSWdub3JlZCwKICAgICAgLi4udmFsCiAgICB9KTsKICB9CiAgc2V0QW5ub3RhdGlvbihrZXksIHZhbCkgewogICAgdmFyIF90aGlzJG1ldGFkYXRhNDsKICAgIGlmICh2YWwpIHsKICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhKSB7CiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IHt9OwogICAgICB9CiAgICAgIGlmICghdGhpcy5tZXRhZGF0YS5hbm5vdGF0aW9ucykgewogICAgICAgIHRoaXMubWV0YWRhdGEuYW5ub3RhdGlvbnMgPSB7fTsKICAgICAgfQogICAgICBWdWUuc2V0KHRoaXMubWV0YWRhdGEuYW5ub3RhdGlvbnMsIGtleSwgdmFsKTsKICAgIH0gZWxzZSBpZiAoKF90aGlzJG1ldGFkYXRhNCA9IHRoaXMubWV0YWRhdGEpICE9PSBudWxsICYmIF90aGlzJG1ldGFkYXRhNCAhPT0gdm9pZCAwICYmIF90aGlzJG1ldGFkYXRhNC5hbm5vdGF0aW9ucykgewogICAgICBWdWUuc2V0KHRoaXMubWV0YWRhdGEuYW5ub3RhdGlvbnMsIGtleSwgdW5kZWZpbmVkKTsKICAgICAgZGVsZXRlIHRoaXMubWV0YWRhdGEuYW5ub3RhdGlvbnNba2V5XTsKICAgIH0KICB9CiAgZ2V0IHN0YXRlKCkgewogICAgdmFyIF90aGlzJHN0YXRlT2JqOwogICAgcmV0dXJuICgoX3RoaXMkc3RhdGVPYmogPSB0aGlzLnN0YXRlT2JqKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0ZU9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdGVPYmoubmFtZSkgfHwgJ3Vua25vd24nOwogIH0KfQ=="},{"version":3,"names":["ANNOTATIONS_TO_IGNORE_REGEX","LABELS_TO_IGNORE_REGEX","omitBy","pickBy","Vue","matchesSomeRegex","Resource","cleanHybridResources","data","potentialNormanHoldovers","forEach","key","HybridModel","constructor","ctx","rehydrateNamespace","setClone","cleanedData","labels","_this$metadata","all","metadata","value","setLabels","val","wasIgnored","set","setLabel","_this$metadata2","undefined","annotations","_this$metadata3","setAnnotations","setAnnotation","_this$metadata4","state","_this$stateObj","stateObj","name"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/plugins/steve/hybrid-class.js"],"sourcesContent":["import { ANNOTATIONS_TO_IGNORE_REGEX, LABELS_TO_IGNORE_REGEX } from '@shell/config/labels-annotations';\nimport omitBy from 'lodash/omitBy';\nimport pickBy from 'lodash/pickBy';\nimport Vue from 'vue';\nimport { matchesSomeRegex } from '@shell/utils/string';\nimport Resource from '@shell/plugins/dashboard-store/resource-class';\n\n// these are defined elsewhere in Steve models and will cause the error  \"Cannot set property <whatever> of [object Object] which has only a getter\" if defined at top-level\nexport function cleanHybridResources(data) {\n  const potentialNormanHoldovers = ['state', 'name', 'description', 'labels', 'annotations'];\n\n  potentialNormanHoldovers.forEach((key) => delete data[key]);\n\n  return data;\n}\n\nexport default class HybridModel extends Resource {\n  constructor(data, ctx, rehydrateNamespace = null, setClone = false) {\n    const cleanedData = cleanHybridResources(data);\n\n    super(cleanedData, ctx, rehydrateNamespace, setClone);\n  }\n\n  get labels() {\n    const all = this.metadata?.labels || {};\n\n    return omitBy(all, (value, key) => {\n      return matchesSomeRegex(key, LABELS_TO_IGNORE_REGEX);\n    });\n  }\n\n  setLabels(val) {\n    if ( !this.metadata ) {\n      this.metadata = {};\n    }\n\n    const all = this.metadata.labels || {};\n    const wasIgnored = pickBy(all, (value, key) => {\n      return matchesSomeRegex(key, LABELS_TO_IGNORE_REGEX);\n    });\n\n    Vue.set(this.metadata, 'labels', { ...wasIgnored, ...val });\n  }\n\n  setLabel(key, val) {\n    if ( val ) {\n      if ( !this.metadata ) {\n        this.metadata = {};\n      }\n\n      if ( !this.metadata.labels ) {\n        this.metadata.labels = {};\n      }\n\n      Vue.set(this.metadata.labels, key, val);\n    } else if ( this.metadata?.labels ) {\n      Vue.set(this.metadata.labels, key, undefined);\n      delete this.metadata.labels[key];\n    }\n  }\n\n  get annotations() {\n    const all = this.metadata?.annotations || {};\n\n    return omitBy(all, (value, key) => {\n      return matchesSomeRegex(key, ANNOTATIONS_TO_IGNORE_REGEX);\n    });\n  }\n\n  setAnnotations(val) {\n    if ( !this.metadata ) {\n      this.metadata = {};\n    }\n\n    const all = this.metadata.annotations || {};\n    const wasIgnored = pickBy(all, (value, key) => {\n      return matchesSomeRegex(key, ANNOTATIONS_TO_IGNORE_REGEX);\n    });\n\n    Vue.set(this.metadata, 'annotations', { ...wasIgnored, ...val });\n  }\n\n  setAnnotation(key, val) {\n    if ( val ) {\n      if ( !this.metadata ) {\n        this.metadata = {};\n      }\n\n      if ( !this.metadata.annotations ) {\n        this.metadata.annotations = {};\n      }\n\n      Vue.set(this.metadata.annotations, key, val);\n    } else if ( this.metadata?.annotations ) {\n      Vue.set(this.metadata.annotations, key, undefined);\n      delete this.metadata.annotations[key];\n    }\n  }\n\n  get state() {\n    return this.stateObj?.name || 'unknown';\n  }\n}\n"],"mappings":"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"}]}