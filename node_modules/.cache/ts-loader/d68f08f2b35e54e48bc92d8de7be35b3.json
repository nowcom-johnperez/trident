{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogZXNsaW50LWRpc2FibGUgamVzdC9uby1ob29rcyAqLwppbXBvcnQgeyBtb3VudCB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBDbHVzdGVyUm9sZVRlbXBsYXRlQmluZGluZyBmcm9tICdAc2hlbGwvZWRpdC9tYW5hZ2VtZW50LmNhdHRsZS5pby5jbHVzdGVycm9sZXRlbXBsYXRlYmluZGluZy52dWUnOwppbXBvcnQgQmFubmVyIGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lci9CYW5uZXIudnVlJzsKaW1wb3J0IENydVJlc291cmNlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NydVJlc291cmNlJzsKZGVzY3JpYmUoJ3ZpZXc6IG1hbmFnZW1lbnQuY2F0dGxlLmlvLmNsdXN0ZXJyb2xldGVtcGxhdGViaW5kaW5nIHNob3VsZCcsICgpID0+IHsKICAgIGxldCB3cmFwcGVyOwogICAgY29uc3Qgc3R1YnMgPSB7CiAgICAgICAgQ2x1c3RlclBlcm1pc3Npb25zRWRpdG9yOiB0cnVlLAogICAgICAgIExvYWRpbmc6IHRydWUKICAgIH07CiAgICBjb25zdCByZXF1aXJlZFNldHVwID0gKCkgPT4gKHsKICAgICAgICAvLyBSZW1vdmUgYWxsIHRoZXNlIG1vY2tzIGFmdGVyIG1pZ3JhdGlvbiB0byBWdWUgMi43LzMgZHVlIG1peGluIGxvZ2ljCiAgICAgICAgbW9ja3M6IHsKICAgICAgICAgICAgJHN0b3JlOiB7CiAgICAgICAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0b3JlOiAoKSA9PiAnY3VycmVudF9zdG9yZScsCiAgICAgICAgICAgICAgICAgICAgJ2N1cnJlbnRfc3RvcmUvc2NoZW1hRm9yJzogamVzdC5mbigpLAogICAgICAgICAgICAgICAgICAgICdjdXJyZW50X3N0b3JlL2FsbCc6IGplc3QuZm4oKSwKICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2x1c3RlcjogeyBpZDogJ215LWNsdXN0ZXInIH0sCiAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb2R1Y3Q6IHsgaW5TdG9yZTogJ3doYXRldmVyJyB9LAogICAgICAgICAgICAgICAgICAgICdpMThuL3QnOiAodmFsKSA9PiB2YWwsCiAgICAgICAgICAgICAgICAgICAgJ2kxOG4vZXhpc3RzJzogamVzdC5mbigpLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGRpc3BhdGNoOiB7ICdtYW5hZ2VtZW50L2ZpbmRBbGwnOiAoKSA9PiAoW10pIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgJGZldGNoU3RhdGU6IHsgcGVuZGluZzogZmFsc2UgfSwKICAgICAgICAgICAgJHJvdXRlOiB7IHF1ZXJ5OiB7IEFTOiAnJyB9IH0sCiAgICAgICAgICAgICRyb3V0ZXI6IHsKICAgICAgICAgICAgICAgIGFwcGx5UXVlcnk6IGplc3QuZm4oKSwKICAgICAgICAgICAgICAgIHJlcGxhY2U6IGplc3QuZm4oKQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgcHJvcHNEYXRhOiB7IHZhbHVlOiB7fSB9LAogICAgICAgIHN0dWJzLAogICAgfSk7CiAgICBhZnRlckVhY2goKCkgPT4gewogICAgICAgIHdyYXBwZXIuZGVzdHJveSgpOwogICAgfSk7CiAgICBpdCgnc2hvdWxkIG9ubHkgc2hvdyBvbmUgZXJyb3IgYmFubmVyJywgYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnN0IGVycm9ycyA9IFsnbWlzdGFrZSEnXTsKICAgICAgICB3cmFwcGVyID0gbW91bnQoQ2x1c3RlclJvbGVUZW1wbGF0ZUJpbmRpbmcsIHsgLi4ucmVxdWlyZWRTZXR1cCgpIH0pOwogICAgICAgIGNvbnN0IGNydVJlc291cmNlRWxlbSA9IHdyYXBwZXIuZmluZENvbXBvbmVudChDcnVSZXNvdXJjZSk7CiAgICAgICAgYXdhaXQgY3J1UmVzb3VyY2VFbGVtLnZtLiRlbWl0KCdlcnJvcicsIGVycm9ycyk7CiAgICAgICAgY29uc3QgYmFubmVyRWxlbXMgPSB3cmFwcGVyLmZpbmRBbGxDb21wb25lbnRzKEJhbm5lcik7CiAgICAgICAgZXhwZWN0KGJhbm5lckVsZW1zKS50b0hhdmVMZW5ndGgoMSk7CiAgICB9KTsKfSk7Cg=="},{"version":3,"file":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts","sourceRoot":"","sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts"],"names":[],"mappings":"AAAA,kCAAkC;AAClC,OAAO,EAAE,KAAK,EAAE,MAAM,iBAAiB,CAAC;AACxC,OAAO,0BAA0B,MAAM,iEAAiE,CAAC;AACzG,OAAO,MAAM,MAAM,+BAA+B,CAAC;AACnD,OAAO,WAAW,MAAM,+BAA+B,CAAC;AAExD,QAAQ,CAAC,8DAA8D,EAAE,GAAG,EAAE;IAC5E,IAAI,OAAY,CAAC;IAEjB,MAAM,KAAK,GAAG;QACZ,wBAAwB,EAAE,IAAI;QAC9B,OAAO,EAAmB,IAAI;KAC/B,CAAC;IAEF,MAAM,aAAa,GAAG,GAAG,EAAE,CAAC,CAAC;QAC3B,sEAAsE;QACtE,KAAK,EAAE;YACL,MAAM,EAAE;gBACN,OAAO,EAAE;oBACP,YAAY,EAAe,GAAG,EAAE,CAAC,eAAe;oBAChD,yBAAyB,EAAE,IAAI,CAAC,EAAE,EAAE;oBACpC,mBAAmB,EAAQ,IAAI,CAAC,EAAE,EAAE;oBACpC,cAAc,EAAa,EAAE,EAAE,EAAE,YAAY,EAAE;oBAC/C,cAAc,EAAa,EAAE,OAAO,EAAE,UAAU,EAAE;oBAClD,QAAQ,EAAmB,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG;oBACvC,aAAa,EAAc,IAAI,CAAC,EAAE,EAAE;iBACrC;gBACD,QAAQ,EAAE,EAAE,oBAAoB,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;aAC/C;YACD,WAAW,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE;YAC/B,MAAM,EAAO,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;YAClC,OAAO,EAAM;gBACX,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE;gBACrB,OAAO,EAAK,IAAI,CAAC,EAAE,EAAE;aACtB;SACF;QACD,SAAS,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE;QACxB,KAAK;KACN,CAAC,CAAC;IAEH,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,mCAAmC,EAAE,KAAK,IAAG,EAAE;QAChD,MAAM,MAAM,GAAG,CAAC,UAAU,CAAC,CAAC;QAE5B,OAAO,GAAG,KAAK,CAAC,0BAA0B,EAAE,EAAE,GAAG,aAAa,EAAE,EAAE,CAAC,CAAC;QAEpE,MAAM,eAAe,GAAG,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;QAE3D,MAAM,eAAe,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEhD,MAAM,WAAW,GAAG,OAAO,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;QAEtD,MAAM,CAAC,WAAW,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["/* eslint-disable jest/no-hooks */\nimport { mount } from '@vue/test-utils';\nimport ClusterRoleTemplateBinding from '@shell/edit/management.cattle.io.clusterroletemplatebinding.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport CruResource from '@shell/components/CruResource';\n\ndescribe('view: management.cattle.io.clusterroletemplatebinding should', () => {\n  let wrapper: any;\n\n  const stubs = {\n    ClusterPermissionsEditor: true,\n    Loading:                  true\n  };\n\n  const requiredSetup = () => ({\n    // Remove all these mocks after migration to Vue 2.7/3 due mixin logic\n    mocks: {\n      $store: {\n        getters: {\n          currentStore:              () => 'current_store',\n          'current_store/schemaFor': jest.fn(),\n          'current_store/all':       jest.fn(),\n          currentCluster:            { id: 'my-cluster' },\n          currentProduct:            { inStore: 'whatever' },\n          'i18n/t':                  (val) => val,\n          'i18n/exists':             jest.fn(),\n        },\n        dispatch: { 'management/findAll': () => ([]) }\n      },\n      $fetchState: { pending: false },\n      $route:      { query: { AS: '' } },\n      $router:     {\n        applyQuery: jest.fn(),\n        replace:    jest.fn()\n      },\n    },\n    propsData: { value: {} },\n    stubs,\n  });\n\n  afterEach(() => {\n    wrapper.destroy();\n  });\n\n  it('should only show one error banner', async() => {\n    const errors = ['mistake!'];\n\n    wrapper = mount(ClusterRoleTemplateBinding, { ...requiredSetup() });\n\n    const cruResourceElem = wrapper.findComponent(CruResource);\n\n    await cruResourceElem.vm.$emit('error', errors);\n\n    const bannerElems = wrapper.findAllComponents(Banner);\n\n    expect(bannerElems).toHaveLength(1);\n  });\n});\n"]}]}