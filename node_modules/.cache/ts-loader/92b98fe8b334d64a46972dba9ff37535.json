{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/__tests__/Upgrading.test.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/__tests__/Upgrading.test.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbW91bnQgfSBmcm9tICdAdnVlL3Rlc3QtdXRpbHMnOwppbXBvcnQgVXBncmFkaW5nIGZyb20gJ0BzaGVsbC9lZGl0L3dvcmtsb2FkL1VwZ3JhZGluZy52dWUnOwpkZXNjcmliZSgnY29tcG9uZW50OiBVcGdyYWRpbmcnLCAoKSA9PiB7CiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgYWxsIHRoZSBpbnB1dHMnLCAoKSA9PiB7CiAgICAgICAgY29uc3Qgd3JhcHBlciA9IG1vdW50KFVwZ3JhZGluZyk7CiAgICAgICAgY29uc3QgaW5wdXRXcmFwcyA9IHdyYXBwZXIuZmluZEFsbCgnW2RhdGEtdGVzdGlkXj1pbnB1dC1wb2xpY3ktXScpOwogICAgICAgIGV4cGVjdChpbnB1dFdyYXBzKS50b0hhdmVMZW5ndGgoNyk7CiAgICB9KTsKICAgIGl0LmVhY2goWwogICAgICAgIFsnbWluJywgJ21pblJlYWR5U2Vjb25kcyddLAogICAgICAgIFsnbGltaXQnLCAncmV2aXNpb25IaXN0b3J5TGltaXQnXSwKICAgICAgICBbJ2RlYWRsaW5lJywgJ3Byb2dyZXNzRGVhZGxpbmVTZWNvbmRzJ10sCiAgICBdKSgnc2hvdWxkIHNldCB0eXBlZCB2YWx1ZSBpbiAlcCBpbnRvICVwJywgKGZpZWxkLCBrZXkpID0+IHsKICAgICAgICBjb25zdCB3cmFwcGVyID0gbW91bnQoVXBncmFkaW5nKTsKICAgICAgICBjb25zdCBpbnB1dCA9IHdyYXBwZXIuZmluZChgW2RhdGEtdGVzdGlkPSJpbnB1dC1wb2xpY3ktJHtmaWVsZH0iXWApLmZpbmQoJ2lucHV0Jyk7CiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSAxMjM7CiAgICAgICAgaW5wdXQuc2V0VmFsdWUobmV3VmFsdWUpOwogICAgICAgIGlucHV0LnRyaWdnZXIoJ2JsdXInKTsKICAgICAgICBleHBlY3Qod3JhcHBlci5wcm9wcygndmFsdWUnKVtrZXldKS50b0JlKG5ld1ZhbHVlKTsKICAgIH0pOwogICAgLy8gVE9ETzogIzYxNzk6IEludGVncmF0ZSB0ZXN0IHdpdGggY29tcG9uZW50IGZpeCwgYXMgdGhlIHNjb3BlIGlzIG5vdCB0byBjaGVjayB0aGUgdmFsdWUgb2YgdGhlIGlucHV0CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgamVzdC9uby1kaXNhYmxlZC10ZXN0cwogICAgaXQuc2tpcC5lYWNoKFsKICAgICAgICBbJ3N1cmdlJywgJ21heFN1cmdlJywgJyUnXSwKICAgICAgICBbJ3VuYXZhaWxhYmxlJywgJ21heFVuYXZhaWxhYmxlJywgJyUnXSwKICAgIF0pKCdzaG91bGQgc2V0IHR5cGVkIHZhbHVlIGluICVwIGludG8gJXAgYW5kIHVuaXQnLCAoZmllbGQsIGtleSwgdW5pdCkgPT4gewogICAgICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChVcGdyYWRpbmcpOwogICAgICAgIGNvbnN0IGlucHV0ID0gd3JhcHBlci5maW5kKGBbZGF0YS10ZXN0aWQ9ImlucHV0LXBvbGljeS0ke2ZpZWxkfSJdYCkuZmluZCgnaW5wdXQnKTsKICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IDEyMzsKICAgICAgICBjb25zdCBleHBlY3RhdGlvbiA9IGAke25ld1ZhbHVlfSR7dW5pdH1gOwogICAgICAgIGlucHV0LnNldFZhbHVlKG5ld1ZhbHVlKTsKICAgICAgICBpbnB1dC50cmlnZ2VyKCdibHVyJyk7CiAgICAgICAgZXhwZWN0KHdyYXBwZXIucHJvcHMoJ3ZhbHVlJykuc3RyYXRlZ3kucm9sbGluZ1VwZGF0ZVtrZXldKS50b0JlKGV4cGVjdGF0aW9uKTsKICAgIH0pOwogICAgaXQuZWFjaChbCiAgICAgICAgJ3N1cmdlJywKICAgICAgICAndW5hdmFpbGFibGUnLAogICAgICAgICdtaW4nLAogICAgICAgICdsaW1pdCcsCiAgICAgICAgJ2RlYWRsaW5lJywKICAgIF0pKCdzaG91bGQgZW1pdCBhbiB1cGRhdGUgb24gJXAgaW5wdXQgYmx1cicsIChmaWVsZCkgPT4gewogICAgICAgIGNvbnN0IHdyYXBwZXIgPSBtb3VudChVcGdyYWRpbmcpOwogICAgICAgIGNvbnN0IGlucHV0ID0gd3JhcHBlci5maW5kKGBbZGF0YS10ZXN0aWQ9ImlucHV0LXBvbGljeS0ke2ZpZWxkfSJdYCkuZmluZCgnaW5wdXQnKTsKICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IDEyMzsKICAgICAgICBpbnB1dC5zZXRWYWx1ZShuZXdWYWx1ZSk7CiAgICAgICAgaW5wdXQudHJpZ2dlcignYmx1cicpOwogICAgICAgIGV4cGVjdCh3cmFwcGVyLmVtaXR0ZWQoJ2lucHV0JykpLnRvSGF2ZUxlbmd0aCgxKTsKICAgIH0pOwp9KTsK"},{"version":3,"file":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/__tests__/Upgrading.test.ts","sourceRoot":"","sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/__tests__/Upgrading.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { mount } from '@vue/test-utils';\nimport Upgrading from '@shell/edit/workload/Upgrading.vue';\n\ndescribe('component: Upgrading', () => {\n  it('should display all the inputs', () => {\n    const wrapper = mount(Upgrading);\n\n    const inputWraps = wrapper.findAll('[data-testid^=input-policy-]');\n\n    expect(inputWraps).toHaveLength(7);\n  });\n\n  it.each([\n    ['min', 'minReadySeconds'],\n    ['limit', 'revisionHistoryLimit'],\n    ['deadline', 'progressDeadlineSeconds'],\n  ])('should set typed value in %p into %p', (field, key) => {\n    const wrapper = mount(Upgrading);\n    const input = wrapper.find(`[data-testid=\"input-policy-${ field }\"]`).find('input');\n    const newValue = 123;\n\n    input.setValue(newValue);\n    input.trigger('blur');\n\n    expect(wrapper.props('value')[key]).toBe(newValue);\n  });\n\n  // TODO: #6179: Integrate test with component fix, as the scope is not to check the value of the input\n  // eslint-disable-next-line jest/no-disabled-tests\n  it.skip.each([\n    ['surge', 'maxSurge', '%'],\n    ['unavailable', 'maxUnavailable', '%'],\n  ])('should set typed value in %p into %p and unit', (field, key, unit) => {\n    const wrapper = mount(Upgrading);\n    const input = wrapper.find(`[data-testid=\"input-policy-${ field }\"]`).find('input');\n    const newValue = 123;\n    const expectation = `${ newValue }${ unit }`;\n\n    input.setValue(newValue);\n    input.trigger('blur');\n\n    expect(wrapper.props('value').strategy.rollingUpdate[key]).toBe(expectation);\n  });\n\n  it.each([\n    'surge',\n    'unavailable',\n    'min',\n    'limit',\n    'deadline',\n  ])('should emit an update on %p input blur', (field) => {\n    const wrapper = mount(Upgrading);\n    const input = wrapper.find(`[data-testid=\"input-policy-${ field }\"]`).find('input');\n    const newValue = 123;\n\n    input.setValue(newValue);\n    input.trigger('blur');\n\n    expect(wrapper.emitted('input')).toHaveLength(1);\n  });\n});\n"]}]}