{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/array.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/array.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHhvciBmcm9tICdsb2Rhc2gveG9yJzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmV4cG9ydCBmdW5jdGlvbiByZW1vdmVPYmplY3QoYXJ5LCBvYmopIHsKICAgIGNvbnN0IGlkeCA9IGFyeS5pbmRleE9mKG9iaik7CiAgICBpZiAoaWR4ID49IDApIHsKICAgICAgICBhcnkuc3BsaWNlKGlkeCwgMSk7CiAgICB9CiAgICByZXR1cm4gYXJ5Owp9CmV4cG9ydCBmdW5jdGlvbiByZW1vdmVPYmplY3RzKGFyeSwgb2JqcykgewogICAgbGV0IGk7CiAgICBsZXQgaW5kZXhlcyA9IFtdOwogICAgZm9yIChpID0gMDsgaSA8IG9ianMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgaWR4ID0gYXJ5LmluZGV4T2Yob2Jqc1tpXSk7CiAgICAgICAgLy8gRmluZCBtdWx0aXBsZSBjb3BpZXMgb2YgdGhlIHNhbWUgdmFsdWUKICAgICAgICB3aGlsZSAoaWR4ICE9PSAtMSkgewogICAgICAgICAgICBpbmRleGVzLnB1c2goaWR4KTsKICAgICAgICAgICAgaWR4ID0gYXJ5LmluZGV4T2Yob2Jqc1tpXSwgaWR4ICsgMSk7CiAgICAgICAgfQogICAgfQogICAgaWYgKCFpbmRleGVzLmxlbmd0aCkgewogICAgICAgIC8vIFRoYXQgd2FzIGVhc3kuLi4KICAgICAgICByZXR1cm4gYXJ5OwogICAgfQogICAgaW5kZXhlcyA9IGluZGV4ZXMuc29ydCgoYSwgYikgPT4gYSAtIGIpOwogICAgY29uc3QgcmFuZ2VzID0gW107CiAgICBsZXQgZmlyc3Q7CiAgICBsZXQgbGFzdDsKICAgIC8vIEdyb3VwIGFsbCB0aGUgaW5kZXhlcyBpbnRvIGNvbnRpZ3VvdXMgcmFuZ2VzCiAgICB3aGlsZSAoaW5kZXhlcy5sZW5ndGgpIHsKICAgICAgICBmaXJzdCA9IGluZGV4ZXMuc2hpZnQoKTsKICAgICAgICBsYXN0ID0gZmlyc3Q7CiAgICAgICAgd2hpbGUgKGluZGV4ZXMubGVuZ3RoICYmIGluZGV4ZXNbMF0gPT09IGxhc3QgKyAxKSB7CiAgICAgICAgICAgIGxhc3QgPSBpbmRleGVzLnNoaWZ0KCk7CiAgICAgICAgfQogICAgICAgIHJhbmdlcy5wdXNoKHsgc3RhcnQ6IGZpcnN0LCBlbmQ6IGxhc3QgfSk7CiAgICB9CiAgICAvLyBSZW1vdmUgdGhlIGl0ZW1zIGJ5IHJhbmdlCiAgICBmb3IgKGkgPSByYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IHJhbmdlc1tpXTsKICAgICAgICBhcnkuc3BsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpOwogICAgfQogICAgcmV0dXJuIGFyeTsKfQpleHBvcnQgZnVuY3Rpb24gYWRkT2JqZWN0KGFyeSwgb2JqKSB7CiAgICBjb25zdCBpZHggPSBhcnkuaW5kZXhPZihvYmopOwogICAgaWYgKGlkeCA9PT0gLTEpIHsKICAgICAgICBhcnkucHVzaChvYmopOwogICAgfQp9CmV4cG9ydCBmdW5jdGlvbiBhZGRPYmplY3RzKGFyeSwgb2JqcykgewogICAgY29uc3QgdW5pcXVlID0gW107CiAgICBmb3IgKGNvbnN0IG9iaiBvZiBvYmpzKSB7CiAgICAgICAgaWYgKCFhcnkuaW5jbHVkZXMob2JqKSAmJiAhdW5pcXVlLmluY2x1ZGVzKG9iaikpIHsKICAgICAgICAgICAgdW5pcXVlLnB1c2gob2JqKTsKICAgICAgICB9CiAgICB9CiAgICBhcnkucHVzaCguLi51bmlxdWUpOwp9CmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRBdChhcnksIGlkeCwgLi4ub2JqcykgewogICAgYXJ5LnNwbGljZShpZHgsIDAsIC4uLm9ianMpOwp9CmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5KHRoaW5nKSB7CiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGluZyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUF0KGFyeSwgaWR4LCBsZW5ndGggPSAxKSB7CiAgICBpZiAoaWR4IDwgMCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignSW5kZXggdG9vIGxvdycpOwogICAgfQogICAgaWYgKGlkeCArIGxlbmd0aCA+IGFyeS5sZW5ndGgpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZGV4ICsgbGVuZ3RoIHRvbyBoaWdoJyk7CiAgICB9CiAgICBhcnkuc3BsaWNlKGlkeCwgbGVuZ3RoKTsKICAgIHJldHVybiBhcnk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGNsZWFyKGFyeSkgewogICAgYXJ5LnNwbGljZSgwLCBhcnkubGVuZ3RoKTsKfQpleHBvcnQgZnVuY3Rpb24gcmVwbGFjZVdpdGgoYXJ5LCAuLi52YWx1ZXMpIHsKICAgIGFyeS5zcGxpY2UoMCwgYXJ5Lmxlbmd0aCwgLi4udmFsdWVzKTsKfQpmdW5jdGlvbiBmaW5kT3JGaWx0ZXJCeShtZXRob2QsIGFyeSwga2V5T3JPYmosIHZhbCkgewogICAgYXJ5ID0gYXJ5IHx8IFtdOwogICAgaWYgKHR5cGVvZiBrZXlPck9iaiA9PT0gJ29iamVjdCcpIHsKICAgICAgICByZXR1cm4gYXJ5W21ldGhvZF0oKGl0ZW0pID0+IHsKICAgICAgICAgICAgZm9yIChjb25zdCBwYXRoIGluIGtleU9yT2JqKSB7CiAgICAgICAgICAgICAgICBjb25zdCB3YW50ID0ga2V5T3JPYmpbcGF0aF07CiAgICAgICAgICAgICAgICBjb25zdCBoYXZlID0gZ2V0KGl0ZW0sIHBhdGgpOwogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3YW50ID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICAgIGlmICghaGF2ZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAoaGF2ZSAhPT0gd2FudCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9KTsKICAgIH0KICAgIGVsc2UgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIGFyeVttZXRob2RdKChpdGVtKSA9PiAhIWdldChpdGVtLCBrZXlPck9iaikpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgcmV0dXJuIGFyeVttZXRob2RdKChpdGVtKSA9PiBnZXQoaXRlbSwga2V5T3JPYmopID09PSB2YWwpOwogICAgfQp9CmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJCeShhcnksIGtleU9yT2JqLCB2YWwpIHsKICAgIHJldHVybiBmaW5kT3JGaWx0ZXJCeSgnZmlsdGVyJywgYXJ5LCBrZXlPck9iaiwgdmFsKTsKfQpleHBvcnQgZnVuY3Rpb24gZmluZEJ5KGFyeSwga2V5T3JPYmosIHZhbCkgewogICAgcmV0dXJuIGZpbmRPckZpbHRlckJ5KCdmaW5kJywgYXJ5LCBrZXlPck9iaiwgdmFsKTsKfQpleHBvcnQgZnVuY3Rpb24gZmluZFN0cmluZ0luZGV4KGl0ZW1zLCBpdGVtLCB0cmltID0gdHJ1ZSkgewogICAgcmV0dXJuIGl0ZW1zLmluZGV4T2YodHJpbSA/IGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS50cmltKCkgOiBpdGVtKTsKfQpleHBvcnQgZnVuY3Rpb24gaGFzRHVwbGljYXRlZFN0cmluZ3MoaXRlbXMsIGNhc2VTZW5zaXRpdmUgPSB0cnVlKSB7CiAgICBjb25zdCBub3JtYWxpemVkSXRlbXMgPSBpdGVtcy5tYXAoKGkpID0+IChjYXNlU2Vuc2l0aXZlID8gaSA6IGkudG9Mb3dlckNhc2UoKSkudHJpbSgpKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBpbmRleCA9IGZpbmRTdHJpbmdJbmRleChub3JtYWxpemVkSXRlbXMsIChjYXNlU2Vuc2l0aXZlID8gaXRlbXNbaV0gOiBpdGVtc1tpXS50b0xvd2VyQ2FzZSgpKSk7CiAgICAgICAgaWYgKGkgIT09IGluZGV4KSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQpleHBvcnQgZnVuY3Rpb24gc2FtZUNvbnRlbnRzKGFyeUEsIGFyeUIpIHsKICAgIHJldHVybiB4b3IoYXJ5QSwgYXJ5QikubGVuZ3RoID09PSAwOwp9CmV4cG9ydCBmdW5jdGlvbiB1bmlxKGFyeSkgewogICAgY29uc3Qgb3V0ID0gW107CiAgICBhZGRPYmplY3RzKG91dCwgYXJ5KTsKICAgIHJldHVybiBvdXQ7Cn0KZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdFN0cmluZ3MoYSwgYikgewogICAgcmV0dXJuIFsuLi5hLm1hcCgoYWEpID0+IGIubWFwKChiYikgPT4gYWEuY29uY2F0KGJiKSkpXS5yZWR1Y2UoKGFjYywgYXJyKSA9PiBbLi4uYXJyLCAuLi5hY2NdLCBbXSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldFVuaXF1ZUxhYmVsS2V5cyhhcnlSZXNvdXJjZXMpIHsKICAgIGNvbnN0IHVuaXF1ZU9iaiA9IGFyeVJlc291cmNlcy5yZWR1Y2UoKHJlcywgcikgPT4gewogICAgICAgIE9iamVjdC5rZXlzKHIubWV0YWRhdGEubGFiZWxzKS5mb3JFYWNoKChsKSA9PiAocmVzW2xdID0gdHJ1ZSkpOwogICAgICAgIHJldHVybiByZXM7CiAgICB9LCB7fSk7CiAgICByZXR1cm4gT2JqZWN0LmtleXModW5pcXVlT2JqKS5zb3J0KCk7Cn0K"},{"version":3,"file":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/array.ts","sourceRoot":"","sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/array.ts"],"names":[],"mappings":"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","sourcesContent":["import xor from 'lodash/xor';\nimport { get } from '@shell/utils/object';\n\nexport function removeObject<T>(ary: T[], obj: T): T[] {\n  const idx = ary.indexOf(obj);\n\n  if ( idx >= 0 ) {\n    ary.splice(idx, 1);\n  }\n\n  return ary;\n}\n\nexport function removeObjects<T>(ary: T[], objs: T[]): T[] {\n  let i;\n  let indexes = [];\n\n  for ( i = 0 ; i < objs.length ; i++ ) {\n    let idx = ary.indexOf(objs[i]);\n\n    // Find multiple copies of the same value\n    while ( idx !== -1 ) {\n      indexes.push(idx);\n      idx = ary.indexOf(objs[i], idx + 1);\n    }\n  }\n\n  if ( !indexes.length ) {\n    // That was easy...\n    return ary;\n  }\n\n  indexes = indexes.sort((a, b) => a - b);\n\n  const ranges = [];\n  let first: number;\n  let last: number;\n\n  // Group all the indexes into contiguous ranges\n  while ( indexes.length ) {\n    first = indexes.shift() as number;\n    last = first;\n\n    while ( indexes.length && indexes[0] === last + 1 ) {\n      last = indexes.shift() as number;\n    }\n\n    ranges.push({ start: first, end: last });\n  }\n\n  // Remove the items by range\n  for ( i = ranges.length - 1 ; i >= 0 ; i--) {\n    const { start, end } = ranges[i];\n\n    ary.splice(start, end - start + 1);\n  }\n\n  return ary;\n}\n\nexport function addObject<T>(ary: T[], obj: T): void {\n  const idx = ary.indexOf(obj);\n\n  if ( idx === -1 ) {\n    ary.push(obj);\n  }\n}\n\nexport function addObjects<T>(ary: T[], objs: T[]): void {\n  const unique: T[] = [];\n\n  for ( const obj of objs ) {\n    if ( !ary.includes(obj) && !unique.includes(obj) ) {\n      unique.push(obj);\n    }\n  }\n\n  ary.push(...unique);\n}\n\nexport function insertAt<T>(ary: T[], idx: number, ...objs: T[]): void {\n  ary.splice(idx, 0, ...objs);\n}\n\nexport function isArray<T>(thing: T[] | unknown): boolean {\n  return Array.isArray(thing);\n}\n\nexport function removeAt<T>(ary: T[], idx: number, length = 1): T[] {\n  if ( idx < 0 ) {\n    throw new Error('Index too low');\n  }\n\n  if ( idx + length > ary.length ) {\n    throw new Error('Index + length too high');\n  }\n\n  ary.splice(idx, length);\n\n  return ary;\n}\n\nexport function clear<T>(ary: T[]): void {\n  ary.splice(0, ary.length);\n}\n\nexport function replaceWith<T>(ary: T[], ...values: T[]): void {\n  ary.splice(0, ary.length, ...values);\n}\n\nfunction findOrFilterBy<T, K, V>(\n  method: 'filter', ary: T[] | null, keyOrObj: string | K, val?: V\n): T[];\nfunction findOrFilterBy<T, K, V>(\n  method: 'find', ary: T[] | null, keyOrObj: string | K, val?: V\n): T;\nfunction findOrFilterBy<T, K, V>(\n  method: keyof T[], ary: T[] | null, keyOrObj: string | K, val?: V\n): T[] {\n  ary = ary || [];\n\n  if ( typeof keyOrObj === 'object' ) {\n    return (ary[method] as Function)((item: T) => {\n      for ( const path in keyOrObj ) {\n        const want = keyOrObj[path];\n        const have = get(item, path);\n\n        if ( typeof want === 'undefined' ) {\n          if ( !have ) {\n            return false;\n          }\n        } else if ( have !== want ) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  } else if ( val === undefined ) {\n    return (ary[method] as Function)((item: T) => !!get(item, keyOrObj));\n  } else {\n    return (ary[method] as Function)((item: T) => get(item, keyOrObj) === val);\n  }\n}\n\nexport function filterBy<T, K, V>(\n  ary: T[] | null, keyOrObj: string | K, val?: V\n): T[] {\n  return findOrFilterBy('filter', ary, keyOrObj, val);\n}\n\nexport function findBy<T, K, V>(\n  ary: T[] | null, keyOrObj: string | K, val?: V\n): T {\n  return findOrFilterBy('find', ary, keyOrObj, val);\n}\n\nexport function findStringIndex(items: string[], item: string, trim = true): number {\n  return items.indexOf(trim ? item?.trim() : item);\n}\n\nexport function hasDuplicatedStrings(items: string[], caseSensitive = true): boolean {\n  const normalizedItems = items.map((i) => (caseSensitive ? i : i.toLowerCase()).trim());\n\n  for (let i = 0; i < items.length; i++) {\n    const index = findStringIndex(\n      normalizedItems,\n      (caseSensitive ? items[i] : items[i].toLowerCase()),\n    );\n\n    if (i !== index) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function sameContents<T>(aryA: T[], aryB: T[]): boolean {\n  return xor(aryA, aryB).length === 0;\n}\n\nexport function uniq<T>(ary: T[]): T[] {\n  const out: T[] = [];\n\n  addObjects(out, ary);\n\n  return out;\n}\n\nexport function concatStrings(a: string[], b: string[]): string[] {\n  return [...a.map((aa) => b.map((bb) => aa.concat(bb)))].reduce((acc, arr) => [...arr, ...acc], []);\n}\n\ninterface KubeResource { metadata: { labels: { [name: string]: string} } } // Migrate to central kube types resource when those are brought in\nexport function getUniqueLabelKeys<T extends KubeResource>(aryResources: T[]): string[] {\n  const uniqueObj = aryResources.reduce((res, r) => {\n    Object.keys(r.metadata.labels).forEach((l) => (res[l] = true));\n\n    return res;\n  }, {} as {[label: string]: boolean});\n\n  return Object.keys(uniqueObj).sort();\n}\n"]}]}