{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/__tests__/node.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/__tests__/node.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE5vZGUgZnJvbSAnQHNoZWxsL21vZGVscy9tYW5hZ2VtZW50LmNhdHRsZS5pby5ub2RlJzsKZGVzY3JpYmUoJ2NsYXNzIE5vZGUnLCAoKSA9PiB7CiAgICBjb25zdCBmb28gPSAnZm9vJzsKICAgIGNvbnN0IGJhciA9ICdiYXInOwogICAgY29uc3QgdCA9IGplc3QuZm4oKCkgPT4gYmFyKTsKICAgIGNvbnN0IGN0eCA9IHsgcm9vdEdldHRlcnM6IHsgJ2kxOG4vdCc6IHQgfSB9OwogICAgY29uc3QgcmVzZXRNb2NrcyA9ICgpID0+IHsKICAgICAgICAvLyBDbGVhciBhbGwgbW9jayBmdW5jdGlvbiBjYWxsczoKICAgICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTsKICAgIH07CiAgICBpdCgnc2hvdWxkIG5vdCByZXR1cm4gYWRkcmVzc2VzIGlmIHRoZXkgYXJlIG5vdCBwcmVzZW50IGluIHRoZSByZXNvdXJjZSBzdGF0dXMnLCAoKSA9PiB7CiAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlKHsgc3RhdHVzOiB7fSB9KTsKICAgICAgICBleHBlY3Qobm9kZS5hZGRyZXNzZXMpLnRvU3RyaWN0RXF1YWwoW10pOwogICAgICAgIHJlc2V0TW9ja3MoKTsKICAgIH0pOwogICAgZGVzY3JpYmUoJ3Nob3VsZCByZXR1cm4gYWRkcmVzc2VzJywgKCkgPT4gewogICAgICAgIGNvbnN0IGFkZHJlc3NlcyA9IFtmb29dOwogICAgICAgIGl0KCdpZiB0aGV5IGFyZSBwcmVzZW50IGRpcmVjdGx5IG9uIHRoZSByZXNvdXJjZSBzdGF0dXMnLCAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgTm9kZSh7IHN0YXR1czogeyBhZGRyZXNzZXMgfSB9KTsKICAgICAgICAgICAgZXhwZWN0KG5vZGUuYWRkcmVzc2VzKS50b1N0cmljdEVxdWFsKGFkZHJlc3Nlcyk7CiAgICAgICAgfSk7CiAgICB9KTsKICAgIGRlc2NyaWJlKCdzaG91bGQgcmV0dXJuIGFuIGludGVybmFsSXAnLCAoKSA9PiB7CiAgICAgICAgY29uc3QgYWRkcmVzc2VzID0gW3sgdHlwZTogJ0ludGVybmFsSVAnLCBhZGRyZXNzOiBmb28gfV07CiAgICAgICAgaXQoJ2lmIGFkZHJlc3NlcyBpbmNsdWRlcyBhbiBvYmplY3Qgd2l0aCBhbiBhcHByb3ByaWF0ZSB0eXBlIGFuZCBhZGRyZXNzJywgKCkgPT4gewogICAgICAgICAgICBjb25zdCBub2RlID0gbmV3IE5vZGUoeyBzdGF0dXM6IHsgYWRkcmVzc2VzIH0gfSk7CiAgICAgICAgICAgIGV4cGVjdChub2RlLmludGVybmFsSXApLnRvU3RyaWN0RXF1YWwoZm9vKTsKICAgICAgICB9KTsKICAgIH0pOwogICAgZGVzY3JpYmUoJ3Nob3VsZCByZXR1cm4gYW4gZXh0ZXJuYWxJcCcsICgpID0+IHsKICAgICAgICBjb25zdCBhZGRyZXNzZXMgPSBbeyB0eXBlOiAnRXh0ZXJuYWxJUCcsIGFkZHJlc3M6IGZvbyB9XTsKICAgICAgICBpdCgnaWYgYWRkcmVzc2VzIGluY2x1ZGVzIGFuIG9iamVjdCB3aXRoIGFuIGFwcHJvcHJpYXRlIHR5cGUgYW5kIGFkZHJlc3MnLCAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgTm9kZSh7IHN0YXR1czogeyBhZGRyZXNzZXMgfSB9KTsKICAgICAgICAgICAgZXhwZWN0KG5vZGUuZXh0ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChmb28pOwogICAgICAgIH0pOwogICAgICAgIGl0KCdpZiBpbnRlcm5hbE5vZGVTdGF0dXMuYWRkcmVzc2VzIGluY2x1ZGVzIGFuIG9iamVjdCB3aXRoIGFuIGFwcHJvcHJpYXRlIHR5cGUgYW5kIGFkZHJlc3MnLCAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgTm9kZSh7IHN0YXR1czogeyBpbnRlcm5hbE5vZGVTdGF0dXM6IHsgYWRkcmVzc2VzIH0gfSB9KTsKICAgICAgICAgICAgZXhwZWN0KG5vZGUuZXh0ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChmb28pOwogICAgICAgIH0pOwogICAgfSk7CiAgICBkZXNjcmliZSgnc2hvdWxkIHJldHVybiBhbiBhcHByb3ByaWF0ZSBtZXNzYWdlJywgKCkgPT4gewogICAgICAgIGl0KCdpZiB0aGVyZSBpcyBubyBpbnRlcm5hbElwIHRvIGRpc3BsYXknLCAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgTm9kZSh7IHN0YXR1czoge30gfSwgY3R4KTsKICAgICAgICAgICAgZXhwZWN0KG5vZGUuaW50ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChiYXIpOwogICAgICAgICAgICBleHBlY3QodCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpOwogICAgICAgICAgICBleHBlY3QodCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2dlbmVyaWMubm9uZScpOwogICAgICAgICAgICByZXNldE1vY2tzKCk7CiAgICAgICAgfSk7CiAgICAgICAgaXQoJ2lmIHRoZXJlIGlzIG5vIGV4dGVybmFsSXAgdG8gZGlzcGxheScsICgpID0+IHsKICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlKHsgc3RhdHVzOiB7fSB9LCBjdHgpOwogICAgICAgICAgICBleHBlY3Qobm9kZS5leHRlcm5hbElwKS50b1N0cmljdEVxdWFsKGJhcik7CiAgICAgICAgICAgIGV4cGVjdCh0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7CiAgICAgICAgICAgIGV4cGVjdCh0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZ2VuZXJpYy5ub25lJyk7CiAgICAgICAgICAgIHJlc2V0TW9ja3MoKTsKICAgICAgICB9KTsKICAgIH0pOwp9KTsK"},{"version":3,"file":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/__tests__/node.ts","sourceRoot":"","sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/__tests__/node.ts"],"names":[],"mappings":"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","sourcesContent":["import Node from '@shell/models/management.cattle.io.node';\n\ndescribe('class Node', () => {\n  const foo = 'foo';\n  const bar = 'bar';\n  const t = jest.fn(() => bar);\n  const ctx = { rootGetters: { 'i18n/t': t } };\n\n  const resetMocks = () => {\n    // Clear all mock function calls:\n    jest.clearAllMocks();\n  };\n\n  it('should not return addresses if they are not present in the resource status', () => {\n    const node = new Node({ status: {} });\n\n    expect(node.addresses).toStrictEqual([]);\n    resetMocks();\n  });\n\n  describe('should return addresses', () => {\n    const addresses = [foo];\n\n    it('if they are present directly on the resource status', () => {\n      const node = new Node({ status: { addresses } });\n\n      expect(node.addresses).toStrictEqual(addresses);\n    });\n  });\n\n  describe('should return an internalIp', () => {\n    const addresses = [{ type: 'InternalIP', address: foo }];\n\n    it('if addresses includes an object with an appropriate type and address', () => {\n      const node = new Node({ status: { addresses } });\n\n      expect(node.internalIp).toStrictEqual(foo);\n    });\n  });\n\n  describe('should return an externalIp', () => {\n    const addresses = [{ type: 'ExternalIP', address: foo }];\n\n    it('if addresses includes an object with an appropriate type and address', () => {\n      const node = new Node({ status: { addresses } });\n\n      expect(node.externalIp).toStrictEqual(foo);\n    });\n    it('if internalNodeStatus.addresses includes an object with an appropriate type and address', () => {\n      const node = new Node({ status: { internalNodeStatus: { addresses } } });\n\n      expect(node.externalIp).toStrictEqual(foo);\n    });\n  });\n\n  describe('should return an appropriate message', () => {\n    it('if there is no internalIp to display', () => {\n      const node = new Node({ status: {} }, ctx);\n\n      expect(node.internalIp).toStrictEqual(bar);\n      expect(t).toHaveBeenCalledTimes(1);\n      expect(t).toHaveBeenCalledWith('generic.none');\n      resetMocks();\n    });\n    it('if there is no externalIp to display', () => {\n      const node = new Node({ status: {} }, ctx);\n\n      expect(node.externalIp).toStrictEqual(bar);\n      expect(t).toHaveBeenCalledTimes(1);\n      expect(t).toHaveBeenCalledWith('generic.none');\n      resetMocks();\n    });\n  });\n});\n"]}]}