{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/networking.k8s.io.ingress/Certificate.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/networking.k8s.io.ingress/Certificate.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IEFycmF5TGlzdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0FycmF5TGlzdCc7CnZhciBERUZBVUxUX0NFUlRfVkFMVUUgPSAnX19bW0RFRkFVTFRfQ0VSVF1dX18nOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXJyYXlMaXN0OiBBcnJheUxpc3QsCiAgICBMYWJlbGVkU2VsZWN0OiBMYWJlbGVkU2VsZWN0CiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBjZXJ0czogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgcnVsZXM6IHsKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGhvc3Q6IFtdCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgdHlwZTogT2JqZWN0CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGRlZmF1bHRDZXJ0ID0gewogICAgICBsYWJlbDogdGhpcy50KCdpbmdyZXNzLmNlcnRpZmljYXRlcy5kZWZhdWx0Q2VydExhYmVsJyksCiAgICAgIHZhbHVlOiBERUZBVUxUX0NFUlRfVkFMVUUKICAgIH07CiAgICB2YXIgX3RoaXMkdmFsdWUgPSB0aGlzLnZhbHVlLAogICAgICBfdGhpcyR2YWx1ZSRob3N0cyA9IF90aGlzJHZhbHVlLmhvc3RzLAogICAgICBob3N0cyA9IF90aGlzJHZhbHVlJGhvc3RzID09PSB2b2lkIDAgPyBbJyddIDogX3RoaXMkdmFsdWUkaG9zdHMsCiAgICAgIF90aGlzJHZhbHVlJHNlY3JldE5hbSA9IF90aGlzJHZhbHVlLnNlY3JldE5hbWUsCiAgICAgIHNlY3JldE5hbWUgPSBfdGhpcyR2YWx1ZSRzZWNyZXROYW0gPT09IHZvaWQgMCA/IGRlZmF1bHRDZXJ0LnZhbHVlIDogX3RoaXMkdmFsdWUkc2VjcmV0TmFtOwogICAgcmV0dXJuIHsKICAgICAgZGVmYXVsdENlcnQ6IGRlZmF1bHRDZXJ0LAogICAgICBob3N0czogaG9zdHMsCiAgICAgIHNlY3JldE5hbWU6IHNlY3JldE5hbWUKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2VydHNXaXRoRGVmYXVsdDogZnVuY3Rpb24gY2VydHNXaXRoRGVmYXVsdCgpIHsKICAgICAgcmV0dXJuIFt0aGlzLmRlZmF1bHRDZXJ0XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2VydHMubWFwKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxhYmVsOiBjLAogICAgICAgICAgdmFsdWU6IGMKICAgICAgICB9OwogICAgICB9KSkpOwogICAgfSwKICAgIGNlcnRpZmljYXRlU3RhdHVzOiBmdW5jdGlvbiBjZXJ0aWZpY2F0ZVN0YXR1cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGlzVmFsdWVBbk9wdGlvbiA9ICF0aGlzLnNlY3JldE5hbWUgfHwgdGhpcy5jZXJ0c1dpdGhEZWZhdWx0LmZpbmQoZnVuY3Rpb24gKGNlcnQpIHsKICAgICAgICByZXR1cm4gX3RoaXMuc2VjcmV0TmFtZSA9PT0gY2VydC52YWx1ZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBpc1ZhbHVlQW5PcHRpb24gPyBudWxsIDogJ3dhcm5pbmcnOwogICAgfSwKICAgIGNlcnRpZmljYXRlVG9vbHRpcDogZnVuY3Rpb24gY2VydGlmaWNhdGVUb29sdGlwKCkgewogICAgICByZXR1cm4gdGhpcy5jZXJ0aWZpY2F0ZVN0YXR1cyA9PT0gJ3dhcm5pbmcnID8gdGhpcy50KCdpbmdyZXNzLmNlcnRpZmljYXRlcy5jZXJ0aWZpY2F0ZS5kb2VzbnRFeGlzdCcpIDogbnVsbDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZEhvc3Q6IGZ1bmN0aW9uIGFkZEhvc3QoZXYpIHsKICAgICAgZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5ob3N0cy5wdXNoKCcnKTsKICAgICAgdGhpcy51cGRhdGUoKTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgdmFyIG91dCA9IHsKICAgICAgICBob3N0czogdGhpcy5ob3N0cwogICAgICB9OwogICAgICBvdXQuc2VjcmV0TmFtZSA9IHRoaXMuc2VjcmV0TmFtZTsKICAgICAgaWYgKG91dC5zZWNyZXROYW1lID09PSBERUZBVUxUX0NFUlRfVkFMVUUpIHsKICAgICAgICBvdXQuc2VjcmV0TmFtZSA9IG51bGw7CiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBvdXQpOwogICAgfSwKICAgIG9uU2VjcmV0SW5wdXQ6IGZ1bmN0aW9uIG9uU2VjcmV0SW5wdXQoZSkgewogICAgICB0aGlzLnNlY3JldE5hbWUgPSBlICYmIF90eXBlb2YoZSkgPT09ICdvYmplY3QnID8gZS5sYWJlbCA6IGU7CiAgICAgIHRoaXMudXBkYXRlKCk7CiAgICB9LAogICAgb25Ib3N0c0lucHV0OiBmdW5jdGlvbiBvbkhvc3RzSW5wdXQoZSkgewogICAgICB0aGlzLmhvc3RzID0gZTsKICAgICAgdGhpcy51cGRhdGUoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["LabeledSelect","ArrayList","DEFAULT_CERT_VALUE","components","props","value","type","Object","default","_default","certs","Array","rules","host","data","defaultCert","label","t","_this$value","_this$value$hosts","hosts","_this$value$secretNam","secretName","computed","certsWithDefault","concat","_toConsumableArray","map","c","certificateStatus","_this","isValueAnOption","find","cert","certificateTooltip","methods","addHost","ev","preventDefault","push","update","out","$emit","onSecretInput","e","_typeof","onHostsInput"],"sources":["node_modules/@rancher/shell/edit/networking.k8s.io.ingress/Certificate.vue"],"sourcesContent":["<script>\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport ArrayList from '@shell/components/form/ArrayList';\n\nconst DEFAULT_CERT_VALUE = '__[[DEFAULT_CERT]]__';\n\nexport default {\n  components: { ArrayList, LabeledSelect },\n  props:      {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      },\n    },\n    certs: {\n      type:    Array,\n      default: () => [],\n    },\n    rules: {\n      default: () => ({ host: [] }),\n      type:    Object,\n    }\n  },\n  data() {\n    const defaultCert = {\n      label: this.t('ingress.certificates.defaultCertLabel'),\n      value: DEFAULT_CERT_VALUE,\n    };\n    const { hosts = [''], secretName = defaultCert.value } = this.value;\n\n    return {\n      defaultCert,\n      hosts,\n      secretName,\n    };\n  },\n  computed: {\n    certsWithDefault() {\n      return [this.defaultCert, ...this.certs.map((c) => ({ label: c, value: c }))];\n    },\n    certificateStatus() {\n      const isValueAnOption = !this.secretName || this.certsWithDefault.find((cert) => this.secretName === cert.value);\n\n      return isValueAnOption ? null : 'warning';\n    },\n    certificateTooltip() {\n      return this.certificateStatus === 'warning' ? this.t('ingress.certificates.certificate.doesntExist') : null;\n    },\n  },\n  methods: {\n    addHost(ev) {\n      ev.preventDefault();\n      this.hosts.push('');\n      this.update();\n    },\n    update() {\n      const out = { hosts: this.hosts };\n\n      out.secretName = this.secretName;\n\n      if (out.secretName === DEFAULT_CERT_VALUE) {\n        out.secretName = null;\n      }\n\n      this.$emit('input', out);\n    },\n    onSecretInput(e) {\n      this.secretName = e && typeof e === 'object' ? e.label : e;\n      this.update();\n    },\n    onHostsInput(e) {\n      this.hosts = e;\n      this.update();\n    }\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"cert row\"\n    @input=\"update\"\n  >\n    <div class=\"col span-6\">\n      <LabeledSelect\n        v-model=\"secretName\"\n        class=\"secret-name\"\n        :options=\"certsWithDefault\"\n        :label=\"t('ingress.certificates.certificate.label')\"\n        required\n        :status=\"certificateStatus\"\n        :taggable=\"true\"\n        :tooltip=\"certificateTooltip\"\n        :hover-tooltip=\"true\"\n        :searchable=\"true\"\n        @input=\"onSecretInput\"\n      />\n    </div>\n    <div class=\"col span-6\">\n      <ArrayList\n        :value=\"hosts\"\n        :add-label=\"t('ingress.certificates.addHost')\"\n        :rules=\"rules.host\"\n        :initial-empty-row=\"true\"\n        @input=\"onHostsInput\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.close {\n  top: 10px;\n  right: 10px;\n  padding:0;\n  position: absolute;\n}\n\n.cert {\n  position: relative;\n\n  .secret-name {\n    height: $input-height;\n  }\n\n  &:not(:last-of-type) {\n    padding-bottom: 10px;\n    margin-bottom: 30px;\n  }\n}\n</style>\n"],"mappings":";;;;;;AACA,OAAAA,aAAA;AACA,OAAAC,SAAA;AAEA,IAAAC,kBAAA;AAEA;EACAC,UAAA;IAAAF,SAAA,EAAAA,SAAA;IAAAD,aAAA,EAAAA;EAAA;EACAI,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IACAC,KAAA;MACAJ,IAAA,EAAAK,KAAA;MACAH,OAAA,WAAAC,SAAA;QAAA;MAAA;IACA;IACAG,KAAA;MACAJ,OAAA,WAAAC,SAAA;QAAA;UAAAI,IAAA;QAAA;MAAA;MACAP,IAAA,EAAAC;IACA;EACA;EACAO,IAAA,WAAAA,KAAA;IACA,IAAAC,WAAA;MACAC,KAAA,OAAAC,CAAA;MACAZ,KAAA,EAAAH;IACA;IACA,IAAAgB,WAAA,QAAAb,KAAA;MAAAc,iBAAA,GAAAD,WAAA,CAAAE,KAAA;MAAAA,KAAA,GAAAD,iBAAA,qBAAAA,iBAAA;MAAAE,qBAAA,GAAAH,WAAA,CAAAI,UAAA;MAAAA,UAAA,GAAAD,qBAAA,cAAAN,WAAA,CAAAV,KAAA,GAAAgB,qBAAA;IAEA;MACAN,WAAA,EAAAA,WAAA;MACAK,KAAA,EAAAA,KAAA;MACAE,UAAA,EAAAA;IACA;EACA;EACAC,QAAA;IACAC,gBAAA,WAAAA,iBAAA;MACA,aAAAT,WAAA,EAAAU,MAAA,CAAAC,kBAAA,MAAAhB,KAAA,CAAAiB,GAAA,WAAAC,CAAA;QAAA;UAAAZ,KAAA,EAAAY,CAAA;UAAAvB,KAAA,EAAAuB;QAAA;MAAA;IACA;IACAC,iBAAA,WAAAA,kBAAA;MAAA,IAAAC,KAAA;MACA,IAAAC,eAAA,SAAAT,UAAA,SAAAE,gBAAA,CAAAQ,IAAA,WAAAC,IAAA;QAAA,OAAAH,KAAA,CAAAR,UAAA,KAAAW,IAAA,CAAA5B,KAAA;MAAA;MAEA,OAAA0B,eAAA;IACA;IACAG,kBAAA,WAAAA,mBAAA;MACA,YAAAL,iBAAA,sBAAAZ,CAAA;IACA;EACA;EACAkB,OAAA;IACAC,OAAA,WAAAA,QAAAC,EAAA;MACAA,EAAA,CAAAC,cAAA;MACA,KAAAlB,KAAA,CAAAmB,IAAA;MACA,KAAAC,MAAA;IACA;IACAA,MAAA,WAAAA,OAAA;MACA,IAAAC,GAAA;QAAArB,KAAA,OAAAA;MAAA;MAEAqB,GAAA,CAAAnB,UAAA,QAAAA,UAAA;MAEA,IAAAmB,GAAA,CAAAnB,UAAA,KAAApB,kBAAA;QACAuC,GAAA,CAAAnB,UAAA;MACA;MAEA,KAAAoB,KAAA,UAAAD,GAAA;IACA;IACAE,aAAA,WAAAA,cAAAC,CAAA;MACA,KAAAtB,UAAA,GAAAsB,CAAA,IAAAC,OAAA,CAAAD,CAAA,iBAAAA,CAAA,CAAA5B,KAAA,GAAA4B,CAAA;MACA,KAAAJ,MAAA;IACA;IACAM,YAAA,WAAAA,aAAAF,CAAA;MACA,KAAAxB,KAAA,GAAAwB,CAAA;MACA,KAAAJ,MAAA;IACA;EACA;AACA"}]}