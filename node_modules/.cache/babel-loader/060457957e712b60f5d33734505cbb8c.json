{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--17-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KLyogZXNsaW50LWRpc2FibGUgamVzdC9uby1ob29rcyAqLwppbXBvcnQgeyBtb3VudCB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBDbHVzdGVyUm9sZVRlbXBsYXRlQmluZGluZyBmcm9tICdAc2hlbGwvZWRpdC9tYW5hZ2VtZW50LmNhdHRsZS5pby5jbHVzdGVycm9sZXRlbXBsYXRlYmluZGluZy52dWUnOwppbXBvcnQgQmFubmVyIGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lci9CYW5uZXIudnVlJzsKaW1wb3J0IENydVJlc291cmNlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NydVJlc291cmNlJzsKZGVzY3JpYmUoJ3ZpZXc6IG1hbmFnZW1lbnQuY2F0dGxlLmlvLmNsdXN0ZXJyb2xldGVtcGxhdGViaW5kaW5nIHNob3VsZCcsIGZ1bmN0aW9uICgpIHsKICB2YXIgd3JhcHBlcjsKICB2YXIgc3R1YnMgPSB7CiAgICBDbHVzdGVyUGVybWlzc2lvbnNFZGl0b3I6IHRydWUsCiAgICBMb2FkaW5nOiB0cnVlCiAgfTsKICB2YXIgcmVxdWlyZWRTZXR1cCA9IGZ1bmN0aW9uIHJlcXVpcmVkU2V0dXAoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBSZW1vdmUgYWxsIHRoZXNlIG1vY2tzIGFmdGVyIG1pZ3JhdGlvbiB0byBWdWUgMi43LzMgZHVlIG1peGluIGxvZ2ljCiAgICAgIG1vY2tzOiB7CiAgICAgICAgJHN0b3JlOiB7CiAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgIGN1cnJlbnRTdG9yZTogZnVuY3Rpb24gY3VycmVudFN0b3JlKCkgewogICAgICAgICAgICAgIHJldHVybiAnY3VycmVudF9zdG9yZSc7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICdjdXJyZW50X3N0b3JlL3NjaGVtYUZvcic6IGplc3QuZm4oKSwKICAgICAgICAgICAgJ2N1cnJlbnRfc3RvcmUvYWxsJzogamVzdC5mbigpLAogICAgICAgICAgICBjdXJyZW50Q2x1c3RlcjogewogICAgICAgICAgICAgIGlkOiAnbXktY2x1c3RlcicKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY3VycmVudFByb2R1Y3Q6IHsKICAgICAgICAgICAgICBpblN0b3JlOiAnd2hhdGV2ZXInCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICdpMThuL3QnOiBmdW5jdGlvbiBpMThuVCh2YWwpIHsKICAgICAgICAgICAgICByZXR1cm4gdmFsOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnaTE4bi9leGlzdHMnOiBqZXN0LmZuKCkKICAgICAgICAgIH0sCiAgICAgICAgICBkaXNwYXRjaDogewogICAgICAgICAgICAnbWFuYWdlbWVudC9maW5kQWxsJzogZnVuY3Rpb24gbWFuYWdlbWVudEZpbmRBbGwoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAkZmV0Y2hTdGF0ZTogewogICAgICAgICAgcGVuZGluZzogZmFsc2UKICAgICAgICB9LAogICAgICAgICRyb3V0ZTogewogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgQVM6ICcnCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAkcm91dGVyOiB7CiAgICAgICAgICBhcHBseVF1ZXJ5OiBqZXN0LmZuKCksCiAgICAgICAgICByZXBsYWNlOiBqZXN0LmZuKCkKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByb3BzRGF0YTogewogICAgICAgIHZhbHVlOiB7fQogICAgICB9LAogICAgICBzdHViczogc3R1YnMKICAgIH07CiAgfTsKICBhZnRlckVhY2goZnVuY3Rpb24gKCkgewogICAgd3JhcHBlci5kZXN0cm95KCk7CiAgfSk7CiAgaXQoJ3Nob3VsZCBvbmx5IHNob3cgb25lIGVycm9yIGJhbm5lcicsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICB2YXIgZXJyb3JzLCBjcnVSZXNvdXJjZUVsZW0sIGJhbm5lckVsZW1zOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgZXJyb3JzID0gWydtaXN0YWtlISddOwogICAgICAgICAgd3JhcHBlciA9IG1vdW50KENsdXN0ZXJSb2xlVGVtcGxhdGVCaW5kaW5nLCBfb2JqZWN0U3ByZWFkKHt9LCByZXF1aXJlZFNldHVwKCkpKTsKICAgICAgICAgIGNydVJlc291cmNlRWxlbSA9IHdyYXBwZXIuZmluZENvbXBvbmVudChDcnVSZXNvdXJjZSk7CiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgIHJldHVybiBjcnVSZXNvdXJjZUVsZW0udm0uJGVtaXQoJ2Vycm9yJywgZXJyb3JzKTsKICAgICAgICBjYXNlIDU6CiAgICAgICAgICBiYW5uZXJFbGVtcyA9IHdyYXBwZXIuZmluZEFsbENvbXBvbmVudHMoQmFubmVyKTsKICAgICAgICAgIGV4cGVjdChiYW5uZXJFbGVtcykudG9IYXZlTGVuZ3RoKDEpOwogICAgICAgIGNhc2UgNzoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpKTsKfSk7"},{"version":3,"names":["mount","ClusterRoleTemplateBinding","Banner","CruResource","describe","wrapper","stubs","ClusterPermissionsEditor","Loading","requiredSetup","mocks","$store","getters","currentStore","jest","fn","currentCluster","id","currentProduct","inStore","i18nT","val","dispatch","managementFindAll","$fetchState","pending","$route","query","AS","$router","applyQuery","replace","propsData","value","afterEach","destroy","it","_asyncToGenerator","regeneratorRuntime","mark","_callee","errors","cruResourceElem","bannerElems","wrap","_callee$","_context","prev","next","_objectSpread","findComponent","vm","$emit","findAllComponents","expect","toHaveLength","stop"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/__tests__/management.cattle.io.clusterroletemplatebinding.test.ts"],"sourcesContent":["/* eslint-disable jest/no-hooks */\nimport { mount } from '@vue/test-utils';\nimport ClusterRoleTemplateBinding from '@shell/edit/management.cattle.io.clusterroletemplatebinding.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport CruResource from '@shell/components/CruResource';\n\ndescribe('view: management.cattle.io.clusterroletemplatebinding should', () => {\n  let wrapper: any;\n\n  const stubs = {\n    ClusterPermissionsEditor: true,\n    Loading:                  true\n  };\n\n  const requiredSetup = () => ({\n    // Remove all these mocks after migration to Vue 2.7/3 due mixin logic\n    mocks: {\n      $store: {\n        getters: {\n          currentStore:              () => 'current_store',\n          'current_store/schemaFor': jest.fn(),\n          'current_store/all':       jest.fn(),\n          currentCluster:            { id: 'my-cluster' },\n          currentProduct:            { inStore: 'whatever' },\n          'i18n/t':                  (val) => val,\n          'i18n/exists':             jest.fn(),\n        },\n        dispatch: { 'management/findAll': () => ([]) }\n      },\n      $fetchState: { pending: false },\n      $route:      { query: { AS: '' } },\n      $router:     {\n        applyQuery: jest.fn(),\n        replace:    jest.fn()\n      },\n    },\n    propsData: { value: {} },\n    stubs,\n  });\n\n  afterEach(() => {\n    wrapper.destroy();\n  });\n\n  it('should only show one error banner', async() => {\n    const errors = ['mistake!'];\n\n    wrapper = mount(ClusterRoleTemplateBinding, { ...requiredSetup() });\n\n    const cruResourceElem = wrapper.findComponent(CruResource);\n\n    await cruResourceElem.vm.$emit('error', errors);\n\n    const bannerElems = wrapper.findAllComponents(Banner);\n\n    expect(bannerElems).toHaveLength(1);\n  });\n});\n"],"mappings":";;;;;;;;;;;;AAAA;AACA,SAASA,KAAK,QAAQ,iBAAiB;AACvC,OAAOC,0BAA0B,MAAM,iEAAiE;AACxG,OAAOC,MAAM,MAAM,+BAA+B;AAClD,OAAOC,WAAW,MAAM,+BAA+B;AAEvDC,QAAQ,CAAC,8DAA8D,EAAE,YAAK;EAC5E,IAAIC,OAAY;EAEhB,IAAMC,KAAK,GAAG;IACZC,wBAAwB,EAAE,IAAI;IAC9BC,OAAO,EAAmB;GAC3B;EAED,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA;IAAA,OAAU;MAC3B;MACAC,KAAK,EAAE;QACLC,MAAM,EAAE;UACNC,OAAO,EAAE;YACPC,YAAY,EAAe,SAAAA,aAAA;cAAA,OAAM,eAAe;YAAA;YAChD,yBAAyB,EAAEC,IAAI,CAACC,EAAE,EAAE;YACpC,mBAAmB,EAAQD,IAAI,CAACC,EAAE,EAAE;YACpCC,cAAc,EAAa;cAAEC,EAAE,EAAE;YAAY,CAAE;YAC/CC,cAAc,EAAa;cAAEC,OAAO,EAAE;YAAU,CAAE;YAClD,QAAQ,EAAmB,SAAAC,MAACC,GAAG;cAAA,OAAKA,GAAG;YAAA;YACvC,aAAa,EAAcP,IAAI,CAACC,EAAE;WACnC;UACDO,QAAQ,EAAE;YAAE,oBAAoB,EAAE,SAAAC,kBAAA;cAAA,OAAO,EAAE;YAAA;UAAC;SAC7C;QACDC,WAAW,EAAE;UAAEC,OAAO,EAAE;QAAK,CAAE;QAC/BC,MAAM,EAAO;UAAEC,KAAK,EAAE;YAAEC,EAAE,EAAE;UAAE;QAAE,CAAE;QAClCC,OAAO,EAAM;UACXC,UAAU,EAAEhB,IAAI,CAACC,EAAE,EAAE;UACrBgB,OAAO,EAAKjB,IAAI,CAACC,EAAE;;OAEtB;MACDiB,SAAS,EAAE;QAAEC,KAAK,EAAE;MAAE,CAAE;MACxB3B,KAAK,EAALA;KACD;EAAA,CAAC;EAEF4B,SAAS,CAAC,YAAK;IACb7B,OAAO,CAAC8B,OAAO,EAAE;EACnB,CAAC,CAAC;EAEFC,EAAE,CAAC,mCAAmC,eAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,CAAE,SAAAC,QAAA;IAAA,IAAAC,MAAA,EAAAC,eAAA,EAAAC,WAAA;IAAA,OAAAL,kBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAChCP,MAAM,GAAG,CAAC,UAAU,CAAC;UAE3BpC,OAAO,GAAGL,KAAK,CAACC,0BAA0B,EAAAgD,aAAA,KAAOxC,aAAa,EAAE,CAAE,CAAC;UAE7DiC,eAAe,GAAGrC,OAAO,CAAC6C,aAAa,CAAC/C,WAAW,CAAC;UAAA2C,QAAA,CAAAE,IAAA;UAAA,OAEpDN,eAAe,CAACS,EAAE,CAACC,KAAK,CAAC,OAAO,EAAEX,MAAM,CAAC;QAAA;UAEzCE,WAAW,GAAGtC,OAAO,CAACgD,iBAAiB,CAACnD,MAAM,CAAC;UAErDoD,MAAM,CAACX,WAAW,CAAC,CAACY,YAAY,CAAC,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAT,QAAA,CAAAU,IAAA;MAAA;IAAA,GAAAhB,OAAA;EAAA,CACrC,GAAC;AACJ,CAAC,CAAC"}]}