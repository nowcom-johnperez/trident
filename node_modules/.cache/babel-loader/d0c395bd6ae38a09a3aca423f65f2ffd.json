{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/management.cattle.io.cluster.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/management.cattle.io.cluster.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfZ2V0IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldCI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgQ0FUQUxPRywgQ0xVU1RFUl9CQURHRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKaW1wb3J0IHsgTk9ERSwgRkxFRVQsIE1BTkFHRU1FTlQsIENBUEkgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgaW5zZXJ0QXQsIGFkZE9iamVjdCwgcmVtb3ZlT2JqZWN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKaW1wb3J0IHsgZG93bmxvYWRGaWxlIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2Rvd25sb2FkJzsKaW1wb3J0IHsgcGFyc2VTaSB9IGZyb20gJ0BzaGVsbC91dGlscy91bml0cyc7CmltcG9ydCB7IHBhcnNlQ29sb3IsIHRleHRDb2xvciB9IGZyb20gJ0BzaGVsbC91dGlscy9jb2xvcic7CmltcG9ydCBqc3lhbWwgZnJvbSAnanMteWFtbCc7CmltcG9ydCB7IGVhY2hMaW1pdCB9IGZyb20gJ0BzaGVsbC91dGlscy9wcm9taXNlJzsKaW1wb3J0IHsgYWRkUGFyYW1zIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3VybCc7CmltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgSEFSVkVTVEVSX05BTUUgYXMgSEFSVkVTVEVSIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9mZWF0dXJlcyc7CmltcG9ydCB7IGlzSGFydmVzdGVyQ2x1c3RlciB9IGZyb20gJ0BzaGVsbC91dGlscy9jbHVzdGVyJzsKaW1wb3J0IEh5YnJpZE1vZGVsIGZyb20gJ0BzaGVsbC9wbHVnaW5zL3N0ZXZlL2h5YnJpZC1jbGFzcyc7CmltcG9ydCB7IExJTlVYLCBXSU5ET1dTIH0gZnJvbSAnQHNoZWxsL3N0b3JlL2NhdGFsb2cnOwppbXBvcnQgeyBLT05UQUlORVJfVE9fRFJJVkVSIH0gZnJvbSAnLi9tYW5hZ2VtZW50LmNhdHRsZS5pby5rb250YWluZXJkcml2ZXInOwppbXBvcnQgeyBQSU5ORURfQ0xVU1RFUlMgfSBmcm9tICdAc2hlbGwvc3RvcmUvcHJlZnMnOwoKLy8gU2VlIHRyYW5zbGF0aW9uIGZpbGUgY2x1c3Rlci5wcm92aWRlcnMgZm9yIGxpc3Qgb2YgcHJvdmlkZXJzCi8vIElmIHRoZSBsb2dvIGlzIG5vdCBuYW1lZCB3aXRoIHRoZSBwcm92aWRlciBuYW1lLCBhZGQgYW4gb3ZlcnJpZGUgaGVyZQp2YXIgUFJPVklERVJfTE9HT19PVkVSUklERSA9IHt9OwpmdW5jdGlvbiBmaW5kUmVsYXRpb25zaGlwKHZlcmIsIHR5cGUpIHsKICB2YXIgX3JlbGF0aW9uc2hpcHMkZmluZDsKICB2YXIgcmVsYXRpb25zaGlwcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogW107CiAgdmFyIGZyb20gPSAiIi5jb25jYXQodmVyYiwgIlR5cGUiKTsKICB2YXIgaWQgPSAiIi5jb25jYXQodmVyYiwgIklkIik7CiAgcmV0dXJuIChfcmVsYXRpb25zaGlwcyRmaW5kID0gcmVsYXRpb25zaGlwcy5maW5kKGZ1bmN0aW9uIChyKSB7CiAgICByZXR1cm4gcltmcm9tXSA9PT0gdHlwZTsKICB9KSkgPT09IG51bGwgfHwgX3JlbGF0aW9uc2hpcHMkZmluZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlbGF0aW9uc2hpcHMkZmluZFtpZF07Cn0KdmFyIE1nbXRDbHVzdGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSHlicmlkTW9kZWwpIHsKICBfaW5oZXJpdHMoTWdtdENsdXN0ZXIsIF9IeWJyaWRNb2RlbCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNZ210Q2x1c3Rlcik7CiAgZnVuY3Rpb24gTWdtdENsdXN0ZXIoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWdtdENsdXN0ZXIpOwogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBfY3JlYXRlQ2xhc3MoTWdtdENsdXN0ZXIsIFt7CiAgICBrZXk6ICJkZXRhaWxzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgb3V0ID0gW3sKICAgICAgICBsYWJlbDogJ1Byb3Zpc2lvbmVyJywKICAgICAgICBjb250ZW50OiB0aGlzLnByb3Zpc2lvbmVyRGlzcGxheQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdNYWNoaW5lIFByb3ZpZGVyJywKICAgICAgICBjb250ZW50OiB0aGlzLm1hY2hpbmVQcm92aWRlckRpc3BsYXkKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnS3ViZXJuZXRlcyBWZXJzaW9uJywKICAgICAgICBjb250ZW50OiB0aGlzLmt1YmVybmV0ZXNWZXJzaW9uCiAgICAgIH1dOwogICAgICByZXR1cm4gb3V0OwogICAgfQogIH0sIHsKICAgIGtleTogIl9hdmFpbGFibGVBY3Rpb25zIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgb3V0ID0gX2dldChfZ2V0UHJvdG90eXBlT2YoTWdtdENsdXN0ZXIucHJvdG90eXBlKSwgIl9hdmFpbGFibGVBY3Rpb25zIiwgdGhpcyk7CiAgICAgIGluc2VydEF0KG91dCwgMCwgewogICAgICAgIGFjdGlvbjogJ29wZW5TaGVsbCcsCiAgICAgICAgbGFiZWw6IHRoaXMudCgnbmF2LnNoZWxsJyksCiAgICAgICAgaWNvbjogJ2ljb24gaWNvbi10ZXJtaW5hbCcsCiAgICAgICAgZW5hYmxlZDogISF0aGlzLmxpbmtzLnNoZWxsCiAgICAgIH0pOwogICAgICBpbnNlcnRBdChvdXQsIDEsIHsKICAgICAgICBhY3Rpb246ICdkb3dubG9hZEt1YmVDb25maWcnLAogICAgICAgIGJ1bGtBY3Rpb246ICdkb3dubG9hZEt1YmVDb25maWdCdWxrJywKICAgICAgICBsYWJlbDogdGhpcy50KCduYXYua3ViZWNvbmZpZy5kb3dubG9hZCcpLAogICAgICAgIGljb246ICdpY29uIGljb24tZG93bmxvYWQnLAogICAgICAgIGJ1bGthYmxlOiB0cnVlLAogICAgICAgIGVuYWJsZWQ6IHRoaXMuJHJvb3RHZXR0ZXJzWydpc1JhbmNoZXInXSAmJiB0aGlzLmhhc0FjdGlvbignZ2VuZXJhdGVLdWJlY29uZmlnJykKICAgICAgfSk7CiAgICAgIGluc2VydEF0KG91dCwgMiwgewogICAgICAgIGFjdGlvbjogJ2NvcHlLdWJlQ29uZmlnJywKICAgICAgICBsYWJlbDogdGhpcy50KCdjbHVzdGVyLmNvcHlDb25maWcnKSwKICAgICAgICBidWxrYWJsZTogZmFsc2UsCiAgICAgICAgZW5hYmxlZDogdGhpcy4kcm9vdEdldHRlcnNbJ2lzUmFuY2hlciddICYmIHRoaXMuaGFzQWN0aW9uKCdnZW5lcmF0ZUt1YmVjb25maWcnKSwKICAgICAgICBpY29uOiAnaWNvbiBpY29uLWNvcHknCiAgICAgIH0pOwogICAgICByZXR1cm4gb3V0OwogICAgfQogIH0sIHsKICAgIGtleTogImNhbkRlbGV0ZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHNwZWM7CiAgICAgIHJldHVybiB0aGlzLmhhc0xpbmsoJ3JlbW92ZScpICYmICEodGhpcyAhPT0gbnVsbCAmJiB0aGlzICE9PSB2b2lkIDAgJiYgKF90aGlzJHNwZWMgPSB0aGlzLnNwZWMpICE9PSBudWxsICYmIF90aGlzJHNwZWMgIT09IHZvaWQgMCAmJiBfdGhpcyRzcGVjLmludGVybmFsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYWNoaW5lUG9vbHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBwb29scyA9IHRoaXMuJGdldHRlcnNbJ2FsbCddKE1BTkFHRU1FTlQuTk9ERV9QT09MKTsKICAgICAgcmV0dXJuIHBvb2xzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHZhciBfeCRzcGVjOwogICAgICAgIHJldHVybiAoKF94JHNwZWMgPSB4LnNwZWMpID09PSBudWxsIHx8IF94JHNwZWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF94JHNwZWMuY2x1c3Rlck5hbWUpID09PSBfdGhpcy5pZDsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlzaW9uZXIiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0dXM7CiAgICAgIC8vIEZvciBpbXBvcnRlZCBLM3MgY2x1c3RlcnMsIHRoaXMuc3RhdHVzLmRyaXZlciBpcyAnazNzLicKICAgICAgcmV0dXJuIChfdGhpcyRzdGF0dXMgPSB0aGlzLnN0YXR1cykgIT09IG51bGwgJiYgX3RoaXMkc3RhdHVzICE9PSB2b2lkIDAgJiYgX3RoaXMkc3RhdHVzLmRyaXZlciA/IHRoaXMuc3RhdHVzLmRyaXZlciA6ICdpbXBvcnRlZCc7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFjaGluZVByb3ZpZGVyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkbWFjaGluZVBvb2xzLCBfdGhpcyRzcGVjMjsKICAgICAgdmFyIGtpbmQgPSAoX3RoaXMkbWFjaGluZVBvb2xzID0gdGhpcy5tYWNoaW5lUG9vbHMpID09PSBudWxsIHx8IF90aGlzJG1hY2hpbmVQb29scyA9PT0gdm9pZCAwIHx8IChfdGhpcyRtYWNoaW5lUG9vbHMgPSBfdGhpcyRtYWNoaW5lUG9vbHNbMF0pID09PSBudWxsIHx8IF90aGlzJG1hY2hpbmVQb29scyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWFjaGluZVBvb2xzLnByb3ZpZGVyOwogICAgICBpZiAoa2luZCkgewogICAgICAgIHJldHVybiBraW5kLnJlcGxhY2UoL2NvbmZpZyQvaSwgJycpLnRvTG93ZXJDYXNlKCk7CiAgICAgIH0gZWxzZSBpZiAoKF90aGlzJHNwZWMyID0gdGhpcy5zcGVjKSAhPT0gbnVsbCAmJiBfdGhpcyRzcGVjMiAhPT0gdm9pZCAwICYmIF90aGlzJHNwZWMyLmludGVybmFsKSB7CiAgICAgICAgcmV0dXJuICdsb2NhbCc7CiAgICAgIH0KICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAicmtlVGVtcGxhdGVWZXJzaW9uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3BlYzM7CiAgICAgIHJldHVybiAoX3RoaXMkc3BlYzMgPSB0aGlzLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHNwZWMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzcGVjMy5jbHVzdGVyVGVtcGxhdGVSZXZpc2lvbk5hbWU7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXJGb3JFbWJlclBhcmFtIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAvLyBFbWJlciB3YW50cyBvbmUgd29yZCBjYWxsZWQgcHJvdmlkZXIgdG8gdGVsbCB3aGF0IGNvbXBvbmVudCB0byBzaG93LCBidXQgaGFzIG11Y2ggaW5kaXJlY3QgbWFwcGluZyB0byBmaWd1cmUgb3V0IHdoYXQgaXQgaXMuCiAgICAgIHZhciBwcm92aWRlcjsKICAgICAgLy8gUHJvdmlzaW9uZXIgaXMgdGhlICI8c29tZXRoaW5nPkNvbmZpZyIgaW4gdGhlIG1vZGVsCiAgICAgIHZhciBwcm92aXNpb25lciA9IEtPTlRBSU5FUl9UT19EUklWRVJbKHRoaXMucHJvdmlzaW9uZXIgfHwgJycpLnRvTG93ZXJDYXNlKCldIHx8IHRoaXMucHJvdmlzaW9uZXI7CiAgICAgIGlmIChwcm92aXNpb25lciA9PT0gJ3JhbmNoZXJLdWJlcm5ldGVzRW5naW5lJykgewogICAgICAgIHZhciBfdGhpcyRtYWNoaW5lUG9vbHMyOwogICAgICAgIC8vIExvb2sgZm9yIGEgY2xvdWQgcHJvdmlkZXIgaW4gb25lIG9mIHRoZSBub2RlIHRlbXBsYXRlcwogICAgICAgIGlmICgoX3RoaXMkbWFjaGluZVBvb2xzMiA9IHRoaXMubWFjaGluZVBvb2xzKSAhPT0gbnVsbCAmJiBfdGhpcyRtYWNoaW5lUG9vbHMyICE9PSB2b2lkIDAgJiYgX3RoaXMkbWFjaGluZVBvb2xzMlswXSkgewogICAgICAgICAgdmFyIF90aGlzJG1hY2hpbmVQb29scyQ7CiAgICAgICAgICBwcm92aWRlciA9ICgoX3RoaXMkbWFjaGluZVBvb2xzJCA9IHRoaXMubWFjaGluZVBvb2xzWzBdKSA9PT0gbnVsbCB8fCBfdGhpcyRtYWNoaW5lUG9vbHMkID09PSB2b2lkIDAgfHwgKF90aGlzJG1hY2hpbmVQb29scyQgPSBfdGhpcyRtYWNoaW5lUG9vbHMkLm5vZGVUZW1wbGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkbWFjaGluZVBvb2xzJCA9PT0gdm9pZCAwIHx8IChfdGhpcyRtYWNoaW5lUG9vbHMkID0gX3RoaXMkbWFjaGluZVBvb2xzJC5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyRtYWNoaW5lUG9vbHMkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtYWNoaW5lUG9vbHMkLmRyaXZlcikgfHwgbnVsbDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcHJvdmlkZXIgPSAnY3VzdG9tJzsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy5kcml2ZXIpIHsKICAgICAgICBwcm92aWRlciA9IHRoaXMuZHJpdmVyOwogICAgICB9IGVsc2UgaWYgKHByb3Zpc2lvbmVyICYmIHByb3Zpc2lvbmVyLmVuZHNXaXRoKCd2MicpKSB7CiAgICAgICAgcHJvdmlkZXIgPSBwcm92aXNpb25lcjsKICAgICAgfSBlbHNlIHsKICAgICAgICBwcm92aWRlciA9ICdpbXBvcnQnOwogICAgICB9CiAgICAgIHJldHVybiBwcm92aWRlcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJlbWJlckVkaXRQYXRoIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgY2x1c3RlclRlbXBsYXRlUmV2aXNpb247CgogICAgICAvLyBJZiB0aGUgUktFMSBjbHVzdGVyIGlzIGNyZWF0ZWQgZnJvbSBhbiBSS0UgdGVtcGxhdGUsIHdlIG5lZWQKICAgICAgLy8gdG8gZ2V0IHRoZSB0ZW1wbGF0ZSB2ZXJzaW9uIHRvIHBhc3MgaW50byB0aGUgRW1iZXIgVUkgZm9yCiAgICAgIC8vIHRoZSBpRnJhbWVkIGVkaXQgY2x1c3RlciBmb3JtCiAgICAgIGlmICh0aGlzLnJrZVRlbXBsYXRlVmVyc2lvbikgewogICAgICAgIGNsdXN0ZXJUZW1wbGF0ZVJldmlzaW9uID0gdGhpcy5ya2VUZW1wbGF0ZVZlcnNpb247CiAgICAgIH0KICAgICAgdmFyIHByb3ZpZGVyID0gdGhpcy5wcm92aWRlckZvckVtYmVyUGFyYW07CgogICAgICAvLyBBdm9pZCBwYXNzaW5nIGZhbHN5IHZhbHVlcyBhcyBxdWVyeSBwYXJhbWV0ZXJzCiAgICAgIHZhciBxcCA9IHt9OwogICAgICBpZiAocHJvdmlkZXIpIHsKICAgICAgICBxcFsncHJvdmlkZXInXSA9IHByb3ZpZGVyOwogICAgICB9CiAgICAgIGlmIChjbHVzdGVyVGVtcGxhdGVSZXZpc2lvbikgewogICAgICAgIHFwWydjbHVzdGVyVGVtcGxhdGVSZXZpc2lvbiddID0gY2x1c3RlclRlbXBsYXRlUmV2aXNpb247CiAgICAgIH0KCiAgICAgIC8vIENvcGllZCBvdXQgb2YgaHR0cHM6Ly9naXRodWIuY29tL3JhbmNoZXIvdWkvYmxvYi8yMGY1NmRjNTRjNGZjMDliNWY5MTFlNTMzY2I3NTFjMTM2MDlhZGFmL2FwcC9tb2RlbHMvY2x1c3Rlci5qcyNMODQ0CiAgICAgIGlmIChwcm92aWRlciA9PT0gJ2ltcG9ydCcgJiYgaXNFbXB0eSh0aGlzLmVrc0NvbmZpZykgJiYgaXNFbXB0eSh0aGlzLmdrZUNvbmZpZykpIHsKICAgICAgICBxcC5pbXBvcnRQcm92aWRlciA9ICdvdGhlcic7CiAgICAgIH0gZWxzZSBpZiAocHJvdmlkZXIgPT09ICdhbWF6b25la3MnICYmICFpc0VtcHR5KHRoaXMuZWtzQ29uZmlnKSB8fCBwcm92aWRlciA9PT0gJ2drZScgJiYgIWlzRW1wdHkodGhpcy5na2VDb25maWcpCiAgICAgIC8vIHx8IHNvbWV0aGluZyBmb3IgYWtzIHYyCiAgICAgICkgewogICAgICAgIHFwLmltcG9ydFByb3ZpZGVyID0gS09OVEFJTkVSX1RPX0RSSVZFUltwcm92aWRlcl07CiAgICAgIH0KICAgICAgaWYgKHRoaXMuY2x1c3RlclRlbXBsYXRlUmV2aXNpb25JZCkgewogICAgICAgIHFwLmNsdXN0ZXJUZW1wbGF0ZVJldmlzaW9uID0gdGhpcy5jbHVzdGVyVGVtcGxhdGVSZXZpc2lvbklkOwogICAgICB9CiAgICAgIHZhciBwYXRoID0gYWRkUGFyYW1zKCIvYy8iLmNvbmNhdChlc2NhcGUodGhpcy5pZCksICIvZWRpdCIpLCBxcCk7CiAgICAgIHJldHVybiBwYXRoOwogICAgfQogIH0sIHsKICAgIGtleTogImdyb3VwQnlMYWJlbCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvb3RHZXR0ZXJzWydpMThuL3QnXSgncmVzb3VyY2VUYWJsZS5ncm91cExhYmVsLm5vdEluQVdvcmtzcGFjZScpOwogICAgfQogIH0sIHsKICAgIGtleTogImlzUmVhZHkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIC8vIElmIHRoZSBDb25uZWN0ZWQgY29uZGl0aW9uIGV4aXN0cywgdXNlIHRoYXQgKDIuNispCiAgICAgIGlmICh0aGlzLmhhc0NvbmRpdGlvbignQ29ubmVjdGVkJykpIHsKICAgICAgICByZXR1cm4gdGhpcy5pc0NvbmRpdGlvbignQ29ubmVjdGVkJyk7CiAgICAgIH0KCiAgICAgIC8vIE90aGVyd2lzZSB1c2UgUmVhZHkgKG9sZGVyKQogICAgICByZXR1cm4gdGhpcy5pc0NvbmRpdGlvbignUmVhZHknKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJrdWJlcm5ldGVzVmVyc2lvblJhdyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXR1czIsIF90aGlzJHNwZWM0OwogICAgICB2YXIgZnJvbVN0YXR1cyA9IChfdGhpcyRzdGF0dXMyID0gdGhpcy5zdGF0dXMpID09PSBudWxsIHx8IF90aGlzJHN0YXR1czIgPT09IHZvaWQgMCB8fCAoX3RoaXMkc3RhdHVzMiA9IF90aGlzJHN0YXR1czIudmVyc2lvbikgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzMi5naXRWZXJzaW9uOwogICAgICB2YXIgZnJvbVNwZWMgPSAoX3RoaXMkc3BlYzQgPSB0aGlzLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHNwZWM0ID09PSB2b2lkIDAgfHwgKF90aGlzJHNwZWM0ID0gX3RoaXMkc3BlYzRbIiIuY29uY2F0KHRoaXMucHJvdmlzaW9uZXIsICJDb25maWciKV0pID09PSBudWxsIHx8IF90aGlzJHNwZWM0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzcGVjNC5rdWJlcm5ldGVzVmVyc2lvbjsKICAgICAgcmV0dXJuIGZyb21TdGF0dXMgfHwgZnJvbVNwZWM7CiAgICB9CiAgfSwgewogICAga2V5OiAia3ViZXJuZXRlc1ZlcnNpb24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmt1YmVybmV0ZXNWZXJzaW9uUmF3IHx8IHRoaXMuJHJvb3RHZXR0ZXJzWydpMThuL3QnXSgnZ2VuZXJpYy5wcm92aXNpb25pbmcnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJrdWJlcm5ldGVzVmVyc2lvbkJhc2UiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmt1YmVybmV0ZXNWZXJzaW9uLnJlcGxhY2UoL1srLV0uKiQvLCAnJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAia3ViZXJuZXRlc1ZlcnNpb25FeHRlbnNpb24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIGlmICh0aGlzLmt1YmVybmV0ZXNWZXJzaW9uLm1hdGNoKC9bKy1dLykpIHsKICAgICAgICByZXR1cm4gdGhpcy5rdWJlcm5ldGVzVmVyc2lvbi5yZXBsYWNlKC9eLiooWystXSkvLCAnJDEnKTsKICAgICAgfQogICAgICByZXR1cm4gJyc7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXJPcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXR1czM7CiAgICAgIGlmICgoX3RoaXMkc3RhdHVzMyA9IHRoaXMuc3RhdHVzKSAhPT0gbnVsbCAmJiBfdGhpcyRzdGF0dXMzICE9PSB2b2lkIDAgJiYgX3RoaXMkc3RhdHVzMy5wcm92aWRlci5lbmRzV2l0aCgnLndpbmRvd3MnKSkgewogICAgICAgIHJldHVybiAnd2luZG93cyc7CiAgICAgIH0KICAgICAgcmV0dXJuICdsaW51eCc7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXJPc0xvZ28iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiByZXF1aXJlKCJ+c2hlbGwvYXNzZXRzL2ltYWdlcy92ZW5kb3IvIi5jb25jYXQodGhpcy5wcm92aWRlck9zLCAiLnN2ZyIpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ3b3JrZXJPU3MiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0dXM0LCBfdGhpcyRzdGF0dXM1OwogICAgICAvLyBya2UxIGNsdXN0ZXJzIGhhdmUgd2luZG93cyBzdXBwb3J0IGRlZmluZWQgb24gY3JlYXRlCiAgICAgIC8vIHJrZTIgY2x1c3RlcnMgcmVwb3J0IGxpbnV4IHdvcmtlcnMgaW4gbWdtdCBjbHVzdGVyIHN0YXR1cwogICAgICB2YXIgcmtlMldpbmRvd3NXb3JrZXJzID0gKF90aGlzJHN0YXR1czQgPSB0aGlzLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzNC53aW5kb3dzV29ya2VyQ291bnQ7CiAgICAgIHZhciBya2UyTGludXhXb3JrZXJzID0gKF90aGlzJHN0YXR1czUgPSB0aGlzLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzNS5saW51eFdvcmtlckNvdW50OwogICAgICBpZiAocmtlMldpbmRvd3NXb3JrZXJzIHx8IHJrZTJMaW51eFdvcmtlcnMpIHsKICAgICAgICB2YXIgb3V0ID0gW107CiAgICAgICAgaWYgKHJrZTJXaW5kb3dzV29ya2VycykgewogICAgICAgICAgb3V0LnB1c2goV0lORE9XUyk7CiAgICAgICAgfQogICAgICAgIGlmIChya2UyTGludXhXb3JrZXJzKSB7CiAgICAgICAgICBvdXQucHVzaChMSU5VWCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvdXQ7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm92aWRlck9zID09PSBXSU5ET1dTKSB7CiAgICAgICAgcmV0dXJuIFtXSU5ET1dTXTsKICAgICAgfQogICAgICByZXR1cm4gW0xJTlVYXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0xvY2FsIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3BlYzU7CiAgICAgIHJldHVybiAoKF90aGlzJHNwZWM1ID0gdGhpcy5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyRzcGVjNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3BlYzUuaW50ZXJuYWwpID09PSB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzSGFydmVzdGVyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gaXNIYXJ2ZXN0ZXJDbHVzdGVyKHRoaXMpOwogICAgfQogIH0sIHsKICAgIGtleTogImlzSG9zdGVkS3ViZXJuZXRlc1Byb3ZpZGVyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgcHJvdmlkZXJzID0gWydBS1MnLCAnRUtTJywgJ0dLRSddOwogICAgICByZXR1cm4gcHJvdmlkZXJzLmluY2x1ZGVzKHRoaXMucHJvdmlzaW9uZXIpOwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyTG9nbyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXR1czY7CiAgICAgIHZhciBwcm92aWRlciA9ICgoX3RoaXMkc3RhdHVzNiA9IHRoaXMuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0dXM2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzdGF0dXM2LnByb3ZpZGVyKSB8fCAna3ViZXJuZXRlcyc7CiAgICAgIGlmICh0aGlzLmlzSGFydmVzdGVyKSB7CiAgICAgICAgcHJvdmlkZXIgPSBIQVJWRVNURVI7CiAgICAgIH0KICAgICAgLy8gT25seSBpbnRlcmVzdGVkIGluIHRoZSBwYXJ0IGJlZm9yZSB0aGUgcGVyaW9kCiAgICAgIHZhciBwcnYgPSBwcm92aWRlci5zcGxpdCgnLicpWzBdOwogICAgICAvLyBBbGxvdyBvdmVycmlkZXMgaWYgbmVlZGVkCiAgICAgIHZhciBsb2dvID0gUFJPVklERVJfTE9HT19PVkVSUklERVtwcnZdIHx8IHBydjsKICAgICAgdmFyIGljb247CiAgICAgIHRyeSB7CiAgICAgICAgaWNvbiA9IHJlcXVpcmUoIn5zaGVsbC9hc3NldHMvaW1hZ2VzL3Byb3ZpZGVycy8iLmNvbmNhdChwcnYsICIuc3ZnIikpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJDYW4gbm90IGZpbmQgcHJvdmlkZXIgbG9nbyBmb3IgcHJvdmlkZXIgIi5jb25jYXQobG9nbykpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAvLyBVc2UgZmFsbGJhY2sgZ2VuZXJpYyBLdWJlcm5ldGVzIGljb24KICAgICAgICBpY29uID0gcmVxdWlyZSgifnNoZWxsL2Fzc2V0cy9pbWFnZXMvcHJvdmlkZXJzL2t1YmVybmV0ZXMuc3ZnIik7CiAgICAgIH0KICAgICAgcmV0dXJuIGljb247CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXJNZW51TG9nbyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJMb2dvOwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyTmF2TG9nbyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJMb2dvOwogICAgfQoKICAgIC8vIEN1c3RvbSBiYWRnZSB0byBzaG93IGZvciB0aGUgQ2x1c3RlciAoaWYgdGhlIGFwcHJvcHJpYXRlIGFubm90YXRpb25zIGFyZSBzZXQpCiAgfSwgewogICAga2V5OiAiYmFkZ2UiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRtZXRhZGF0YSwgX3RoaXMkbWV0YWRhdGEyLCBfdGhpcyRtZXRhZGF0YTM7CiAgICAgIHZhciB0ZXh0ID0gKF90aGlzJG1ldGFkYXRhID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEgPT09IHZvaWQgMCB8fCAoX3RoaXMkbWV0YWRhdGEgPSBfdGhpcyRtZXRhZGF0YS5hbm5vdGF0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1ldGFkYXRhW0NMVVNURVJfQkFER0UuVEVYVF07CiAgICAgIGlmICghdGV4dCkgewogICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgIH0KICAgICAgdmFyIGNvbG9yID0gKChfdGhpcyRtZXRhZGF0YTIgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1ldGFkYXRhMi5hbm5vdGF0aW9uc1tDTFVTVEVSX0JBREdFLkNPTE9SXSkgfHwgJyM3ZjdmN2YnOwogICAgICB2YXIgaWNvblRleHQgPSAoKF90aGlzJG1ldGFkYXRhMyA9IHRoaXMubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJG1ldGFkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGEzLmFubm90YXRpb25zW0NMVVNURVJfQkFER0UuSUNPTl9URVhUXSkgfHwgJyc7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgdGV4dENvbG9yOiB0ZXh0Q29sb3IocGFyc2VDb2xvcihjb2xvcikpLAogICAgICAgIGljb25UZXh0OiBpY29uVGV4dC5zdWJzdHIoMCwgMikKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzY29wZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNMb2NhbCA/IENBVEFMT0cuX01BTkFHRU1FTlQgOiBDQVRBTE9HLl9ET1dOU1RSRUFNOwogICAgfQogIH0sIHsKICAgIGtleTogInNldENsdXN0ZXJOYW1lTGFiZWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldENsdXN0ZXJOYW1lTGFiZWwoYW5kU2F2ZSkgewogICAgICB2YXIgX3RoaXMkb3duZXJSZWZlcmVuY2VzLCBfdGhpcyRtZXRhZGF0YTQ7CiAgICAgIGlmICgoX3RoaXMkb3duZXJSZWZlcmVuY2VzID0gdGhpcy5vd25lclJlZmVyZW5jZXMpICE9PSBudWxsICYmIF90aGlzJG93bmVyUmVmZXJlbmNlcyAhPT0gdm9pZCAwICYmIF90aGlzJG93bmVyUmVmZXJlbmNlcy5sZW5ndGggfHwgKChfdGhpcyRtZXRhZGF0YTQgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YTQgPT09IHZvaWQgMCB8fCAoX3RoaXMkbWV0YWRhdGE0ID0gX3RoaXMkbWV0YWRhdGE0LmxhYmVscykgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXRhZGF0YTRbRkxFRVQuQ0xVU1RFUl9OQU1FXSkgPT09IHRoaXMuaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5tZXRhZGF0YSA9IHRoaXMubWV0YWRhdGEgfHwge307CiAgICAgIHRoaXMubWV0YWRhdGEubGFiZWxzID0gdGhpcy5tZXRhZGF0YS5sYWJlbHMgfHwge307CiAgICAgIHRoaXMubWV0YWRhdGEubGFiZWxzW0ZMRUVULkNMVVNURVJfTkFNRV0gPSB0aGlzLmlkOwogICAgICBpZiAoYW5kU2F2ZSkgewogICAgICAgIHJldHVybiB0aGlzLnNhdmUoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImF2YWlsYWJsZUNwdSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXR1cyRyZXF1ZXN0ZSwgX3RoaXMkc3RhdHVzJGFsbG9jYXRhOwogICAgICB2YXIgcmVzZXJ2ZWQgPSBwYXJzZVNpKChfdGhpcyRzdGF0dXMkcmVxdWVzdGUgPSB0aGlzLnN0YXR1cy5yZXF1ZXN0ZWQpID09PSBudWxsIHx8IF90aGlzJHN0YXR1cyRyZXF1ZXN0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzJHJlcXVlc3RlLmNwdSk7CiAgICAgIHZhciBhbGxvY2F0YWJsZSA9IHBhcnNlU2koKF90aGlzJHN0YXR1cyRhbGxvY2F0YSA9IHRoaXMuc3RhdHVzLmFsbG9jYXRhYmxlKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0dXMkYWxsb2NhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHN0YXR1cyRhbGxvY2F0YS5jcHUpOwogICAgICBpZiAoYWxsb2NhdGFibGUgPiAwICYmIHJlc2VydmVkID49IDApIHsKICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgYWxsb2NhdGFibGUgLSByZXNlcnZlZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdmFpbGFibGVNZW1vcnkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0dXMkcmVxdWVzdGUyLCBfdGhpcyRzdGF0dXMkYWxsb2NhdGEyOwogICAgICB2YXIgcmVzZXJ2ZWQgPSBwYXJzZVNpKChfdGhpcyRzdGF0dXMkcmVxdWVzdGUyID0gdGhpcy5zdGF0dXMucmVxdWVzdGVkKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0dXMkcmVxdWVzdGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzdGF0dXMkcmVxdWVzdGUyLm1lbW9yeSk7CiAgICAgIHZhciBhbGxvY2F0YWJsZSA9IHBhcnNlU2koKF90aGlzJHN0YXR1cyRhbGxvY2F0YTIgPSB0aGlzLnN0YXR1cy5hbGxvY2F0YWJsZSkgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzJGFsbG9jYXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzJGFsbG9jYXRhMi5tZW1vcnkpOwogICAgICBpZiAoYWxsb2NhdGFibGUgPiAwICYmIHJlc2VydmVkID49IDApIHsKICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgYWxsb2NhdGFibGUgLSByZXNlcnZlZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcGVuU2hlbGwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5TaGVsbCgpIHsKICAgICAgdGhpcy4kZGlzcGF0Y2goJ3dtL29wZW4nLCB7CiAgICAgICAgaWQ6ICJrdWJlY3RsLSIuY29uY2F0KHRoaXMuaWQpLAogICAgICAgIGxhYmVsOiB0aGlzLiRyb290R2V0dGVyc1snaTE4bi90J10oJ3dtLmt1YmVjdGxTaGVsbC50aXRsZScsIHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZURpc3BsYXkKICAgICAgICB9KSwKICAgICAgICBpY29uOiAndGVybWluYWwnLAogICAgICAgIGNvbXBvbmVudDogJ0t1YmVjdGxTaGVsbCcsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMsCiAgICAgICAgICBwb2Q6IHt9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZW5lcmF0ZUt1YmVDb25maWciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZW5lcmF0ZUt1YmVDb25maWcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kb0FjdGlvbignZ2VuZXJhdGVLdWJlY29uZmlnJyk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlcy5jb25maWcpOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBnZW5lcmF0ZUt1YmVDb25maWcoKSB7CiAgICAgICAgcmV0dXJuIF9nZW5lcmF0ZUt1YmVDb25maWcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICByZXR1cm4gZ2VuZXJhdGVLdWJlQ29uZmlnOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZG93bmxvYWRLdWJlQ29uZmlnIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZG93bmxvYWRLdWJlQ29uZmlnID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29uZmlnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVLdWJlQ29uZmlnKCk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjb25maWcgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBkb3dubG9hZEZpbGUoIiIuY29uY2F0KHRoaXMubmFtZURpc3BsYXksICIueWFtbCIpLCBjb25maWcsICdhcHBsaWNhdGlvbi95YW1sJyk7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gZG93bmxvYWRLdWJlQ29uZmlnKCkgewogICAgICAgIHJldHVybiBfZG93bmxvYWRLdWJlQ29uZmlnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGRvd25sb2FkS3ViZUNvbmZpZzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImRvd25sb2FkS3ViZUNvbmZpZ0J1bGsiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9kb3dubG9hZEt1YmVDb25maWdCdWxrID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhpdGVtcykgewogICAgICAgIHZhciBvYmosIGZpcnN0LCBvdXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIG9iaiA9IHt9OwogICAgICAgICAgICAgIGZpcnN0ID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGVhY2hMaW1pdChpdGVtcywgMTAsIGZ1bmN0aW9uIChpdGVtLCBpZHgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmdlbmVyYXRlS3ViZUNvbmZpZygpLnRoZW4oZnVuY3Rpb24gKGNvbmZpZykgewogICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBqc3lhbWwubG9hZChjb25maWcpOwogICAgICAgICAgICAgICAgICBpZiAoZmlyc3QpIHsKICAgICAgICAgICAgICAgICAgICBvYmogPSBlbnRyeTsKICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBfb2JqJGNsdXN0ZXJzLCBfb2JqJHVzZXJzLCBfb2JqJGNvbnRleHRzOwogICAgICAgICAgICAgICAgICAgIChfb2JqJGNsdXN0ZXJzID0gb2JqLmNsdXN0ZXJzKS5wdXNoLmFwcGx5KF9vYmokY2x1c3RlcnMsIF90b0NvbnN1bWFibGVBcnJheShlbnRyeS5jbHVzdGVycykpOwogICAgICAgICAgICAgICAgICAgIChfb2JqJHVzZXJzID0gb2JqLnVzZXJzKS5wdXNoLmFwcGx5KF9vYmokdXNlcnMsIF90b0NvbnN1bWFibGVBcnJheShlbnRyeS51c2VycykpOwogICAgICAgICAgICAgICAgICAgIChfb2JqJGNvbnRleHRzID0gb2JqLmNvbnRleHRzKS5wdXNoLmFwcGx5KF9vYmokY29udGV4dHMsIF90b0NvbnN1bWFibGVBcnJheShlbnRyeS5jb250ZXh0cykpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGRlbGV0ZSBvYmpbJ2N1cnJlbnQtY29udGV4dCddOwogICAgICAgICAgICAgIG91dCA9IGpzeWFtbC5kdW1wKG9iaik7CiAgICAgICAgICAgICAgZG93bmxvYWRGaWxlKCdrdWJlY29uZmlnLnlhbWwnLCBvdXQsICdhcHBsaWNhdGlvbi95YW1sJyk7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gZG93bmxvYWRLdWJlQ29uZmlnQnVsayhfeCkgewogICAgICAgIHJldHVybiBfZG93bmxvYWRLdWJlQ29uZmlnQnVsay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CiAgICAgIHJldHVybiBkb3dubG9hZEt1YmVDb25maWdCdWxrOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiY29weUt1YmVDb25maWciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jb3B5S3ViZUNvbmZpZyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbmZpZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlS3ViZUNvbmZpZygpOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY29uZmlnID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kY29weVRleHQoY29uZmlnKTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBjb3B5S3ViZUNvbmZpZygpIHsKICAgICAgICByZXR1cm4gX2NvcHlLdWJlQ29uZmlnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGNvcHlLdWJlQ29uZmlnOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZmV0Y2hOb2RlTWV0cmljcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoTm9kZU1ldHJpY3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBub2Rlcywgbm9kZU1ldHJpY3MsIHNvbWVOb25Xb3JrZXJSb2xlcywgbWV0cmljcywgaW5pdGlhbEFnZ3JlZ2F0aW9uOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBOT0RFCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgbm9kZXMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBOT0RFCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgbm9kZU1ldHJpY3MgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICBzb21lTm9uV29ya2VyUm9sZXMgPSBub2Rlcy5zb21lKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5oYXNBUm9sZSAmJiAhbm9kZS5pc1dvcmtlcjsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBtZXRyaWNzID0gbm9kZU1ldHJpY3MuZmlsdGVyKGZ1bmN0aW9uIChtZXRyaWMpIHsKICAgICAgICAgICAgICAgIHZhciBub2RlID0gbm9kZXMuZmluZChmdW5jdGlvbiAobmQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG5kLmlkID09PSBtZXRyaWMuaWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBub2RlICYmICghc29tZU5vbldvcmtlclJvbGVzIHx8IG5vZGUuaXNXb3JrZXIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGluaXRpYWxBZ2dyZWdhdGlvbiA9IHsKICAgICAgICAgICAgICAgIGNwdTogMCwKICAgICAgICAgICAgICAgIG1lbW9yeTogMAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgaWYgKCFpc0VtcHR5KG1ldHJpY3MpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgbWV0cmljcy5yZWR1Y2UoZnVuY3Rpb24gKGFnZywgbWV0cmljKSB7CiAgICAgICAgICAgICAgICB2YXIgX21ldHJpYyR1c2FnZSwgX21ldHJpYyR1c2FnZTI7CiAgICAgICAgICAgICAgICBhZ2cuY3B1ICs9IHBhcnNlU2kobWV0cmljID09PSBudWxsIHx8IG1ldHJpYyA9PT0gdm9pZCAwIHx8IChfbWV0cmljJHVzYWdlID0gbWV0cmljLnVzYWdlKSA9PT0gbnVsbCB8fCBfbWV0cmljJHVzYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWV0cmljJHVzYWdlLmNwdSk7CiAgICAgICAgICAgICAgICBhZ2cubWVtb3J5ICs9IHBhcnNlU2kobWV0cmljID09PSBudWxsIHx8IG1ldHJpYyA9PT0gdm9pZCAwIHx8IChfbWV0cmljJHVzYWdlMiA9IG1ldHJpYy51c2FnZSkgPT09IG51bGwgfHwgX21ldHJpYyR1c2FnZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tZXRyaWMkdXNhZ2UyLm1lbW9yeSk7CiAgICAgICAgICAgICAgICByZXR1cm4gYWdnOwogICAgICAgICAgICAgIH0sIGluaXRpYWxBZ2dyZWdhdGlvbikpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBmZXRjaE5vZGVNZXRyaWNzKCkgewogICAgICAgIHJldHVybiBfZmV0Y2hOb2RlTWV0cmljcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CiAgICAgIHJldHVybiBmZXRjaE5vZGVNZXRyaWNzOwogICAgfSgpCiAgfSwgewogICAga2V5OiAibm9kZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gdGhpcy4kZ2V0dGVyc1snYWxsJ10oTUFOQUdFTUVOVC5OT0RFKS5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICByZXR1cm4gbm9kZS5pZC5zdGFydHNXaXRoKF90aGlzMi5pZCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZDbHVzdGVySWQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzcGVjNiwgX3RoaXMkbWV0YWRhdGE1LCBfdGhpcyRtZXRhZGF0YTY7CiAgICAgIHZhciBpc1JLRTEgPSAhISgoX3RoaXMkc3BlYzYgPSB0aGlzLnNwZWMpICE9PSBudWxsICYmIF90aGlzJHNwZWM2ICE9PSB2b2lkIDAgJiYgX3RoaXMkc3BlYzYucmFuY2hlckt1YmVybmV0ZXNFbmdpbmVDb25maWcpOwogICAgICAvLyBOb3RlOiBSS0UxIHByb3Zpc2lvbmluZyBjbHVzdGVyIElEcyBhcmUgaW4gYSBkaWZmZXJlbnQgZm9ybWF0LiBGb3IgZXhhbXBsZSwKICAgICAgLy8gUktFMiBjbHVzdGVyIElEcyBpbmNsdWRlIHRoZSBuYW1lIC0gZmxlZXQtZGVmYXVsdC9jbHVzdGVyLW5hbWUgLSB3aGVyZWFzIGFuIFJLRTEKICAgICAgLy8gY2x1c3RlciBoYXMgdGhlIGxlc3MgaHVtYW4gcmVhZGFibGUgbWFuYWdlbWVudCBjbHVzdGVyIElEIGluIGl0OiBmbGVldC1kZWZhdWx0L2Mta2hrNDgKCiAgICAgIHZhciB2ZXJiID0gdGhpcy5pc0xvY2FsIHx8IGlzUktFMSB8fCB0aGlzLmlzSG9zdGVkS3ViZXJuZXRlc1Byb3ZpZGVyID8gJ3RvJyA6ICdmcm9tJzsKICAgICAgdmFyIHJlcyA9IGZpbmRSZWxhdGlvbnNoaXAodmVyYiwgQ0FQSS5SQU5DSEVSX0NMVVNURVIsIChfdGhpcyRtZXRhZGF0YTUgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1ldGFkYXRhNS5yZWxhdGlvbnNoaXBzKTsKICAgICAgaWYgKHJlcykgewogICAgICAgIHJldHVybiByZXM7CiAgICAgIH0KICAgICAgcmV0dXJuIGZpbmRSZWxhdGlvbnNoaXAodmVyYiA9PT0gJ3RvJyA/ICdmcm9tJyA6ICd0bycsIENBUEkuUkFOQ0hFUl9DTFVTVEVSLCAoX3RoaXMkbWV0YWRhdGE2ID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGE2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXRhZGF0YTYucmVsYXRpb25zaGlwcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicGlubmVkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ3ByZWZzL2dldCddKFBJTk5FRF9DTFVTVEVSUykuaW5jbHVkZXModGhpcy5pZCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicGluIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwaW4oKSB7CiAgICAgIHZhciB0eXBlcyA9IHRoaXMuJHJvb3RHZXR0ZXJzWydwcmVmcy9nZXQnXShQSU5ORURfQ0xVU1RFUlMpIHx8IFtdOwogICAgICBhZGRPYmplY3QodHlwZXMsIHRoaXMuaWQpOwogICAgICB0aGlzLiRkaXNwYXRjaCgncHJlZnMvc2V0JywgewogICAgICAgIGtleTogUElOTkVEX0NMVVNURVJTLAogICAgICAgIHZhbHVlOiB0eXBlcwogICAgICB9LCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1bnBpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdW5waW4oKSB7CiAgICAgIHZhciB0eXBlcyA9IHRoaXMuJHJvb3RHZXR0ZXJzWydwcmVmcy9nZXQnXShQSU5ORURfQ0xVU1RFUlMpIHx8IFtdOwogICAgICByZW1vdmVPYmplY3QodHlwZXMsIHRoaXMuaWQpOwogICAgICB0aGlzLiRkaXNwYXRjaCgncHJlZnMvc2V0JywgewogICAgICAgIGtleTogUElOTkVEX0NMVVNURVJTLAogICAgICAgIHZhbHVlOiB0eXBlcwogICAgICB9LCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIE1nbXRDbHVzdGVyOwp9KEh5YnJpZE1vZGVsKTsKZXhwb3J0IHsgTWdtdENsdXN0ZXIgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["Vue","CATALOG","CLUSTER_BADGE","NODE","FLEET","MANAGEMENT","CAPI","insertAt","addObject","removeObject","downloadFile","parseSi","parseColor","textColor","jsyaml","eachLimit","addParams","isEmpty","HARVESTER_NAME","HARVESTER","isHarvesterCluster","HybridModel","LINUX","WINDOWS","KONTAINER_TO_DRIVER","PINNED_CLUSTERS","PROVIDER_LOGO_OVERRIDE","findRelationship","verb","type","_relationships$find","relationships","arguments","length","undefined","from","concat","id","find","r","MgmtCluster","_HybridModel","_inherits","_super","_createSuper","_classCallCheck","apply","_createClass","key","get","out","label","content","provisionerDisplay","machineProviderDisplay","kubernetesVersion","_get","_getPrototypeOf","prototype","action","t","icon","enabled","links","shell","bulkAction","bulkable","$rootGetters","hasAction","_this$spec","hasLink","spec","internal","_this","pools","$getters","NODE_POOL","filter","x","_x$spec","clusterName","_this$status","status","driver","_this$machinePools","_this$spec2","kind","machinePools","provider","replace","toLowerCase","_this$spec3","clusterTemplateRevisionName","provisioner","_this$machinePools2","_this$machinePools$","nodeTemplate","endsWith","clusterTemplateRevision","rkeTemplateVersion","providerForEmberParam","qp","eksConfig","gkeConfig","importProvider","clusterTemplateRevisionId","path","escape","hasCondition","isCondition","_this$status2","_this$spec4","fromStatus","version","gitVersion","fromSpec","kubernetesVersionRaw","match","_this$status3","require","providerOs","_this$status4","_this$status5","rke2WindowsWorkers","windowsWorkerCount","rke2LinuxWorkers","linuxWorkerCount","push","_this$spec5","providers","includes","_this$status6","isHarvester","prv","split","logo","e","console","warn","providerLogo","_this$metadata","_this$metadata2","_this$metadata3","text","metadata","annotations","TEXT","color","COLOR","iconText","ICON_TEXT","substr","isLocal","_MANAGEMENT","_DOWNSTREAM","value","setClusterNameLabel","andSave","_this$ownerReferences","_this$metadata4","ownerReferences","labels","CLUSTER_NAME","save","_this$status$requeste","_this$status$allocata","reserved","requested","cpu","allocatable","Math","max","_this$status$requeste2","_this$status$allocata2","memory","openShell","$dispatch","name","nameDisplay","component","attrs","cluster","pod","root","_generateKubeConfig","_asyncToGenerator","regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","doAction","sent","abrupt","config","stop","generateKubeConfig","_downloadKubeConfig","_callee2","_callee2$","_context2","downloadKubeConfig","_downloadKubeConfigBulk","_callee3","items","obj","first","_callee3$","_context3","item","idx","then","entry","load","_obj$clusters","_obj$users","_obj$contexts","clusters","_toConsumableArray","users","contexts","dump","downloadKubeConfigBulk","_x","_copyKubeConfig","_callee4","_callee4$","_context4","$copyText","copyKubeConfig","_fetchNodeMetrics","_callee5","nodes","nodeMetrics","someNonWorkerRoles","metrics","initialAggregation","_callee5$","_context5","some","node","hasARole","isWorker","metric","nd","reduce","agg","_metric$usage","_metric$usage2","usage","fetchNodeMetrics","_this2","startsWith","_this$spec6","_this$metadata5","_this$metadata6","isRKE1","rancherKubernetesEngineConfig","isHostedKubernetesProvider","RANCHER_CLUSTER","pin","types","unpin","default"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/management.cattle.io.cluster.js"],"sourcesContent":["import Vue from 'vue';\nimport { CATALOG, CLUSTER_BADGE } from '@shell/config/labels-annotations';\nimport { NODE, FLEET, MANAGEMENT, CAPI } from '@shell/config/types';\nimport { insertAt, addObject, removeObject } from '@shell/utils/array';\nimport { downloadFile } from '@shell/utils/download';\nimport { parseSi } from '@shell/utils/units';\nimport { parseColor, textColor } from '@shell/utils/color';\nimport jsyaml from 'js-yaml';\nimport { eachLimit } from '@shell/utils/promise';\nimport { addParams } from '@shell/utils/url';\nimport { isEmpty } from '@shell/utils/object';\nimport { HARVESTER_NAME as HARVESTER } from '@shell/config/features';\nimport { isHarvesterCluster } from '@shell/utils/cluster';\nimport HybridModel from '@shell/plugins/steve/hybrid-class';\nimport { LINUX, WINDOWS } from '@shell/store/catalog';\nimport { KONTAINER_TO_DRIVER } from './management.cattle.io.kontainerdriver';\nimport { PINNED_CLUSTERS } from '@shell/store/prefs';\n\n// See translation file cluster.providers for list of providers\n// If the logo is not named with the provider name, add an override here\nconst PROVIDER_LOGO_OVERRIDE = {};\n\nfunction findRelationship(verb, type, relationships = []) {\n  const from = `${ verb }Type`;\n  const id = `${ verb }Id`;\n\n  return relationships.find((r) => r[from] === type)?.[id];\n}\n\nexport default class MgmtCluster extends HybridModel {\n  get details() {\n    const out = [\n      {\n        label:   'Provisioner',\n        content: this.provisionerDisplay\n      },\n      {\n        label:   'Machine Provider',\n        content: this.machineProviderDisplay\n      },\n      {\n        label:   'Kubernetes Version',\n        content: this.kubernetesVersion,\n      },\n    ];\n\n    return out;\n  }\n\n  get _availableActions() {\n    const out = super._availableActions;\n\n    insertAt(out, 0, {\n      action:  'openShell',\n      label:   this.t('nav.shell'),\n      icon:    'icon icon-terminal',\n      enabled: !!this.links.shell,\n    });\n\n    insertAt(out, 1, {\n      action:     'downloadKubeConfig',\n      bulkAction: 'downloadKubeConfigBulk',\n      label:      this.t('nav.kubeconfig.download'),\n      icon:       'icon icon-download',\n      bulkable:   true,\n      enabled:    this.$rootGetters['isRancher'] && this.hasAction('generateKubeconfig'),\n    });\n\n    insertAt(out, 2, {\n      action:   'copyKubeConfig',\n      label:    this.t('cluster.copyConfig'),\n      bulkable: false,\n      enabled:  this.$rootGetters['isRancher'] && this.hasAction('generateKubeconfig'),\n      icon:     'icon icon-copy',\n    });\n\n    return out;\n  }\n\n  get canDelete() {\n    return this.hasLink('remove') && !this?.spec?.internal;\n  }\n\n  get machinePools() {\n    const pools = this.$getters['all'](MANAGEMENT.NODE_POOL);\n\n    return pools.filter((x) => x.spec?.clusterName === this.id);\n  }\n\n  get provisioner() {\n    // For imported K3s clusters, this.status.driver is 'k3s.'\n    return this.status?.driver ? this.status.driver : 'imported';\n  }\n\n  get machineProvider() {\n    const kind = this.machinePools?.[0]?.provider;\n\n    if ( kind ) {\n      return kind.replace(/config$/i, '').toLowerCase();\n    } else if ( this.spec?.internal ) {\n      return 'local';\n    }\n\n    return null;\n  }\n\n  get rkeTemplateVersion() {\n    return this.spec?.clusterTemplateRevisionName;\n  }\n\n  get providerForEmberParam() {\n    // Ember wants one word called provider to tell what component to show, but has much indirect mapping to figure out what it is.\n    let provider;\n    // Provisioner is the \"<something>Config\" in the model\n    const provisioner = KONTAINER_TO_DRIVER[(this.provisioner || '').toLowerCase()] || this.provisioner;\n\n    if ( provisioner === 'rancherKubernetesEngine' ) {\n      // Look for a cloud provider in one of the node templates\n      if ( this.machinePools?.[0] ) {\n        provider = this.machinePools[0]?.nodeTemplate?.spec?.driver || null;\n      } else {\n        provider = 'custom';\n      }\n    } else if ( this.driver ) {\n      provider = this.driver;\n    } else if ( provisioner && provisioner.endsWith('v2') ) {\n      provider = provisioner;\n    } else {\n      provider = 'import';\n    }\n\n    return provider;\n  }\n\n  get emberEditPath() {\n    let clusterTemplateRevision;\n\n    // If the RKE1 cluster is created from an RKE template, we need\n    // to get the template version to pass into the Ember UI for\n    // the iFramed edit cluster form\n    if (this.rkeTemplateVersion) {\n      clusterTemplateRevision = this.rkeTemplateVersion;\n    }\n    const provider = this.providerForEmberParam;\n\n    // Avoid passing falsy values as query parameters\n    const qp = { };\n\n    if (provider) {\n      qp['provider'] = provider;\n    }\n\n    if (clusterTemplateRevision) {\n      qp['clusterTemplateRevision'] = clusterTemplateRevision;\n    }\n\n    // Copied out of https://github.com/rancher/ui/blob/20f56dc54c4fc09b5f911e533cb751c13609adaf/app/models/cluster.js#L844\n    if ( provider === 'import' && isEmpty(this.eksConfig) && isEmpty(this.gkeConfig) ) {\n      qp.importProvider = 'other';\n    } else if (\n      (provider === 'amazoneks' && !isEmpty(this.eksConfig) ) ||\n       (provider === 'gke' && !isEmpty(this.gkeConfig) )\n       // || something for aks v2\n    ) {\n      qp.importProvider = KONTAINER_TO_DRIVER[provider];\n    }\n\n    if ( this.clusterTemplateRevisionId ) {\n      qp.clusterTemplateRevision = this.clusterTemplateRevisionId;\n    }\n\n    const path = addParams(`/c/${ escape(this.id) }/edit`, qp);\n\n    return path;\n  }\n\n  get groupByLabel() {\n    return this.$rootGetters['i18n/t']('resourceTable.groupLabel.notInAWorkspace');\n  }\n\n  get isReady() {\n    // If the Connected condition exists, use that (2.6+)\n    if ( this.hasCondition('Connected') ) {\n      return this.isCondition('Connected');\n    }\n\n    // Otherwise use Ready (older)\n    return this.isCondition('Ready');\n  }\n\n  get kubernetesVersionRaw() {\n    const fromStatus = this.status?.version?.gitVersion;\n    const fromSpec = this.spec?.[`${ this.provisioner }Config`]?.kubernetesVersion;\n\n    return fromStatus || fromSpec;\n  }\n\n  get kubernetesVersion() {\n    return this.kubernetesVersionRaw || this.$rootGetters['i18n/t']('generic.provisioning');\n  }\n\n  get kubernetesVersionBase() {\n    return this.kubernetesVersion.replace(/[+-].*$/, '');\n  }\n\n  get kubernetesVersionExtension() {\n    if ( this.kubernetesVersion.match(/[+-]/) ) {\n      return this.kubernetesVersion.replace(/^.*([+-])/, '$1');\n    }\n\n    return '';\n  }\n\n  get providerOs() {\n    if ( this.status?.provider.endsWith('.windows')) {\n      return 'windows';\n    }\n\n    return 'linux';\n  }\n\n  get providerOsLogo() {\n    return require(`~shell/assets/images/vendor/${ this.providerOs }.svg`);\n  }\n\n  get workerOSs() {\n    // rke1 clusters have windows support defined on create\n    // rke2 clusters report linux workers in mgmt cluster status\n    const rke2WindowsWorkers = this.status?.windowsWorkerCount;\n    const rke2LinuxWorkers = this.status?.linuxWorkerCount;\n\n    if (rke2WindowsWorkers || rke2LinuxWorkers ) {\n      const out = [];\n\n      if (rke2WindowsWorkers) {\n        out.push(WINDOWS);\n      }\n      if (rke2LinuxWorkers) {\n        out.push(LINUX);\n      }\n\n      return out;\n    } else if (this.providerOs === WINDOWS) {\n      return [WINDOWS];\n    }\n\n    return [LINUX];\n  }\n\n  get isLocal() {\n    return this.spec?.internal === true;\n  }\n\n  get isHarvester() {\n    return isHarvesterCluster(this);\n  }\n\n  get isHostedKubernetesProvider() {\n    const providers = ['AKS', 'EKS', 'GKE'];\n\n    return providers.includes(this.provisioner);\n  }\n\n  get providerLogo() {\n    let provider = this.status?.provider || 'kubernetes';\n\n    if (this.isHarvester) {\n      provider = HARVESTER;\n    }\n    // Only interested in the part before the period\n    const prv = provider.split('.')[0];\n    // Allow overrides if needed\n    const logo = PROVIDER_LOGO_OVERRIDE[prv] || prv;\n\n    let icon;\n\n    try {\n      icon = require(`~shell/assets/images/providers/${ prv }.svg`);\n    } catch (e) {\n      console.warn(`Can not find provider logo for provider ${ logo }`); // eslint-disable-line no-console\n      // Use fallback generic Kubernetes icon\n      icon = require(`~shell/assets/images/providers/kubernetes.svg`);\n    }\n\n    return icon;\n  }\n\n  get providerMenuLogo() {\n    return this.providerLogo;\n  }\n\n  get providerNavLogo() {\n    return this.providerLogo;\n  }\n\n  // Custom badge to show for the Cluster (if the appropriate annotations are set)\n  get badge() {\n    const text = this.metadata?.annotations?.[CLUSTER_BADGE.TEXT];\n\n    if (!text) {\n      return undefined;\n    }\n\n    const color = this.metadata?.annotations[CLUSTER_BADGE.COLOR] || '#7f7f7f';\n    const iconText = this.metadata?.annotations[CLUSTER_BADGE.ICON_TEXT] || '';\n\n    return {\n      text,\n      color,\n      textColor: textColor(parseColor(color)),\n      iconText:  iconText.substr(0, 2)\n    };\n  }\n\n  get scope() {\n    return this.isLocal ? CATALOG._MANAGEMENT : CATALOG._DOWNSTREAM;\n  }\n\n  setClusterNameLabel(andSave) {\n    if ( this.ownerReferences?.length || this.metadata?.labels?.[FLEET.CLUSTER_NAME] === this.id ) {\n      return;\n    }\n\n    this.metadata = this.metadata || {};\n    this.metadata.labels = this.metadata.labels || {};\n    this.metadata.labels[FLEET.CLUSTER_NAME] = this.id;\n\n    if ( andSave ) {\n      return this.save();\n    }\n  }\n\n  get availableCpu() {\n    const reserved = parseSi(this.status.requested?.cpu);\n    const allocatable = parseSi(this.status.allocatable?.cpu);\n\n    if ( allocatable > 0 && reserved >= 0 ) {\n      return Math.max(0, allocatable - reserved);\n    } else {\n      return null;\n    }\n  }\n\n  get availableMemory() {\n    const reserved = parseSi(this.status.requested?.memory);\n    const allocatable = parseSi(this.status.allocatable?.memory);\n\n    if ( allocatable > 0 && reserved >= 0 ) {\n      return Math.max(0, allocatable - reserved);\n    } else {\n      return null;\n    }\n  }\n\n  openShell() {\n    this.$dispatch('wm/open', {\n      id:        `kubectl-${ this.id }`,\n      label:     this.$rootGetters['i18n/t']('wm.kubectlShell.title', { name: this.nameDisplay }),\n      icon:      'terminal',\n      component: 'KubectlShell',\n      attrs:     {\n        cluster: this,\n        pod:     {}\n      }\n    }, { root: true });\n  }\n\n  async generateKubeConfig() {\n    const res = await this.doAction('generateKubeconfig');\n\n    return res.config;\n  }\n\n  async downloadKubeConfig() {\n    const config = await this.generateKubeConfig();\n\n    downloadFile(`${ this.nameDisplay }.yaml`, config, 'application/yaml');\n  }\n\n  async downloadKubeConfigBulk(items) {\n    let obj = {};\n    let first = true;\n\n    await eachLimit(items, 10, (item, idx) => {\n      return item.generateKubeConfig().then((config) => {\n        const entry = jsyaml.load(config);\n\n        if ( first ) {\n          obj = entry;\n          first = false;\n        } else {\n          obj.clusters.push(...entry.clusters);\n          obj.users.push(...entry.users);\n          obj.contexts.push(...entry.contexts);\n        }\n      });\n    });\n\n    delete obj['current-context'];\n\n    const out = jsyaml.dump(obj);\n\n    downloadFile('kubeconfig.yaml', out, 'application/yaml');\n  }\n\n  async copyKubeConfig() {\n    const config = await this.generateKubeConfig();\n\n    Vue.prototype.$copyText(config);\n  }\n\n  async fetchNodeMetrics() {\n    const nodes = await this.$dispatch('cluster/findAll', { type: NODE }, { root: true });\n    const nodeMetrics = await this.$dispatch('cluster/findAll', { type: NODE }, { root: true });\n\n    const someNonWorkerRoles = nodes.some((node) => node.hasARole && !node.isWorker);\n\n    const metrics = nodeMetrics.filter((metric) => {\n      const node = nodes.find((nd) => nd.id === metric.id);\n\n      return node && (!someNonWorkerRoles || node.isWorker);\n    });\n    const initialAggregation = {\n      cpu:    0,\n      memory: 0\n    };\n\n    if (isEmpty(metrics)) {\n      return null;\n    }\n\n    return metrics.reduce((agg, metric) => {\n      agg.cpu += parseSi(metric?.usage?.cpu);\n      agg.memory += parseSi(metric?.usage?.memory);\n\n      return agg;\n    }, initialAggregation);\n  }\n\n  get nodes() {\n    return this.$getters['all'](MANAGEMENT.NODE).filter((node) => node.id.startsWith(this.id));\n  }\n\n  get provClusterId() {\n    const isRKE1 = !!this.spec?.rancherKubernetesEngineConfig;\n    // Note: RKE1 provisioning cluster IDs are in a different format. For example,\n    // RKE2 cluster IDs include the name - fleet-default/cluster-name - whereas an RKE1\n    // cluster has the less human readable management cluster ID in it: fleet-default/c-khk48\n\n    const verb = this.isLocal || isRKE1 || this.isHostedKubernetesProvider ? 'to' : 'from';\n    const res = findRelationship(verb, CAPI.RANCHER_CLUSTER, this.metadata?.relationships);\n\n    if (res) {\n      return res;\n    }\n\n    return findRelationship(verb === 'to' ? 'from' : 'to', CAPI.RANCHER_CLUSTER, this.metadata?.relationships);\n  }\n\n  get pinned() {\n    return this.$rootGetters['prefs/get'](PINNED_CLUSTERS).includes(this.id);\n  }\n\n  pin() {\n    const types = this.$rootGetters['prefs/get'](PINNED_CLUSTERS) || [];\n\n    addObject(types, this.id);\n\n    this.$dispatch('prefs/set', { key: PINNED_CLUSTERS, value: types }, { root: true });\n  }\n\n  unpin() {\n    const types = this.$rootGetters['prefs/get'](PINNED_CLUSTERS) || [];\n\n    removeObject(types, this.id);\n\n    this.$dispatch('prefs/set', { key: PINNED_CLUSTERS, value: types }, { root: true });\n  }\n}\n"],"mappings":"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"}]}