{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/favicon.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/favicon.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgeyBTRVRUSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9zZXR0aW5ncyc7CmltcG9ydCB7IE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKdmFyIGZhdkljb25TZXQgPSBmYWxzZTsKZXhwb3J0IGZ1bmN0aW9uIGhhdmVTZXRGYXZJY29uKCkgewogIHJldHVybiBmYXZJY29uU2V0Owp9CmV4cG9ydCBmdW5jdGlvbiBzZXRGYXZJY29uKHN0b3JlKSB7CiAgdmFyIHJlcyA9IHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvYnlJZCddKE1BTkFHRU1FTlQuU0VUVElORywgU0VUVElORy5GQVZJQ09OKTsKICB2YXIgYnJhbmRTZXR0aW5nID0gc3RvcmUuZ2V0dGVyc1snbWFuYWdlbWVudC9ieUlkJ10oTUFOQUdFTUVOVC5TRVRUSU5HLCBTRVRUSU5HLkJSQU5EKTsKICB2YXIgbGluayA9IGZpbmRJY29uTGluayhkb2N1bWVudC5oZWFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaW5rJykpOwogIGlmIChsaW5rKSB7CiAgICB2YXIgYnJhbmRJbWFnZTsKICAgIGlmICgoYnJhbmRTZXR0aW5nID09PSBudWxsIHx8IGJyYW5kU2V0dGluZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnJhbmRTZXR0aW5nLnZhbHVlKSA9PT0gJ3N1c2UnKSB7CiAgICAgIGJyYW5kSW1hZ2UgPSByZXF1aXJlKCd+c2hlbGwvYXNzZXRzL2JyYW5kL3N1c2UvZmF2aWNvbi5wbmcnKTsKICAgIH0gZWxzZSBpZiAoKGJyYW5kU2V0dGluZyA9PT0gbnVsbCB8fCBicmFuZFNldHRpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJyYW5kU2V0dGluZy52YWx1ZSkgPT09ICdjc3AnKSB7CiAgICAgIGJyYW5kSW1hZ2UgPSByZXF1aXJlKCd+c2hlbGwvYXNzZXRzL2JyYW5kL2NzcC9mYXZpY29uLnBuZycpOwogICAgfQogICAgbGluay5ocmVmID0gKHJlcyA9PT0gbnVsbCB8fCByZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcy52YWx1ZSkgfHwgYnJhbmRJbWFnZSB8fCBkZWZhdWx0RmF2SWNvbjsKICAgIGZhdkljb25TZXQgPSB0cnVlOwogIH0KfQpmdW5jdGlvbiBnZXRDdXJyZW50RmF2SWNvbigpIHsKICB2YXIgbGluayA9IGZpbmRJY29uTGluayhkb2N1bWVudC5oZWFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaW5rJykpOwogIHJldHVybiBsaW5rID8gbGluay5ocmVmIDogJyc7Cn0KZnVuY3Rpb24gZmluZEljb25MaW5rKGxpbmtzKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykgewogICAgdmFyIF9saW5rJHJlbDsKICAgIHZhciBsaW5rID0gbGlua3NbaV07CiAgICBpZiAoKF9saW5rJHJlbCA9IGxpbmsucmVsKSAhPT0gbnVsbCAmJiBfbGluayRyZWwgIT09IHZvaWQgMCAmJiBfbGluayRyZWwuaW5jbHVkZXMoJ2ljb24nKSkgewogICAgICByZXR1cm4gbGluazsKICAgIH0KICB9CiAgcmV0dXJuIHVuZGVmaW5lZDsKfQp2YXIgZGVmYXVsdEZhdkljb24gPSBnZXRDdXJyZW50RmF2SWNvbigpOw=="},{"version":3,"names":["SETTING","MANAGEMENT","favIconSet","haveSetFavIcon","setFavIcon","store","res","getters","FAVICON","brandSetting","BRAND","link","findIconLink","document","head","getElementsByTagName","brandImage","value","require","href","defaultFavIcon","getCurrentFavIcon","links","i","length","_link$rel","rel","includes","undefined"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/favicon.js"],"sourcesContent":["import { SETTING } from '@shell/config/settings';\nimport { MANAGEMENT } from '@shell/config/types';\n\nlet favIconSet = false;\n\nexport function haveSetFavIcon() {\n  return favIconSet;\n}\n\nexport function setFavIcon(store) {\n  const res = store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.FAVICON);\n  const brandSetting = store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.BRAND);\n  const link = findIconLink(document.head.getElementsByTagName('link'));\n\n  if (link) {\n    let brandImage;\n\n    if (brandSetting?.value === 'suse') {\n      brandImage = require('~shell/assets/brand/suse/favicon.png');\n    } else if (brandSetting?.value === 'csp') {\n      brandImage = require('~shell/assets/brand/csp/favicon.png');\n    }\n\n    link.href = res?.value || brandImage || defaultFavIcon;\n    favIconSet = true;\n  }\n}\n\nfunction getCurrentFavIcon() {\n  const link = findIconLink(document.head.getElementsByTagName('link'));\n\n  return link ? link.href : '';\n}\n\nfunction findIconLink(links) {\n  for (let i = 0; i < links.length; i++) {\n    const link = links[i];\n\n    if (link.rel?.includes('icon')) {\n      return link;\n    }\n  }\n\n  return undefined;\n}\n\nconst defaultFavIcon = getCurrentFavIcon();\n"],"mappings":";;AAAA,SAASA,OAAO,QAAQ,wBAAwB;AAChD,SAASC,UAAU,QAAQ,qBAAqB;AAEhD,IAAIC,UAAU,GAAG,KAAK;AAEtB,OAAO,SAASC,cAAcA,CAAA,EAAG;EAC/B,OAAOD,UAAU;AACnB;AAEA,OAAO,SAASE,UAAUA,CAACC,KAAK,EAAE;EAChC,IAAMC,GAAG,GAAGD,KAAK,CAACE,OAAO,CAAC,iBAAiB,CAAC,CAACN,UAAU,CAACD,OAAO,EAAEA,OAAO,CAACQ,OAAO,CAAC;EACjF,IAAMC,YAAY,GAAGJ,KAAK,CAACE,OAAO,CAAC,iBAAiB,CAAC,CAACN,UAAU,CAACD,OAAO,EAAEA,OAAO,CAACU,KAAK,CAAC;EACxF,IAAMC,IAAI,GAAGC,YAAY,CAACC,QAAQ,CAACC,IAAI,CAACC,oBAAoB,CAAC,MAAM,CAAC,CAAC;EAErE,IAAIJ,IAAI,EAAE;IACR,IAAIK,UAAU;IAEd,IAAI,CAAAP,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEQ,KAAK,MAAK,MAAM,EAAE;MAClCD,UAAU,GAAGE,OAAO,CAAC,sCAAsC,CAAC;IAC9D,CAAC,MAAM,IAAI,CAAAT,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEQ,KAAK,MAAK,KAAK,EAAE;MACxCD,UAAU,GAAGE,OAAO,CAAC,qCAAqC,CAAC;IAC7D;IAEAP,IAAI,CAACQ,IAAI,GAAG,CAAAb,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEW,KAAK,KAAID,UAAU,IAAII,cAAc;IACtDlB,UAAU,GAAG,IAAI;EACnB;AACF;AAEA,SAASmB,iBAAiBA,CAAA,EAAG;EAC3B,IAAMV,IAAI,GAAGC,YAAY,CAACC,QAAQ,CAACC,IAAI,CAACC,oBAAoB,CAAC,MAAM,CAAC,CAAC;EAErE,OAAOJ,IAAI,GAAGA,IAAI,CAACQ,IAAI,GAAG,EAAE;AAC9B;AAEA,SAASP,YAAYA,CAACU,KAAK,EAAE;EAC3B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IAAA,IAAAE,SAAA;IACrC,IAAMd,IAAI,GAAGW,KAAK,CAACC,CAAC,CAAC;IAErB,KAAAE,SAAA,GAAId,IAAI,CAACe,GAAG,cAAAD,SAAA,eAARA,SAAA,CAAUE,QAAQ,CAAC,MAAM,CAAC,EAAE;MAC9B,OAAOhB,IAAI;IACb;EACF;EAEA,OAAOiB,SAAS;AAClB;AAEA,IAAMR,cAAc,GAAGC,iBAAiB,CAAC,CAAC"}]}