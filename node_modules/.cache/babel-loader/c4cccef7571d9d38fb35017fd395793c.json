{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/selector.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/selector.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuYXNzaWduLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBpc0FycmF5LCBhZGRPYmplY3QsIGZpbmRCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7CmltcG9ydCB7IGdldCB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwp2YXIgcGFyc2VDYWNoZSA9IHt9Owp2YXIgT1BfTUFQID0gewogICc9JzogJ0luJywKICAnPT0nOiAnSW4nLAogICchPSc6ICdOb3RJbicsCiAgJzwnOiAnTHQnLAogICc+JzogJ0d0Jwp9OwoKLy8gUGFyc2UgYSBsYWJlbFNlbGVjdG9yIHN0cmluZwpleHBvcnQgZnVuY3Rpb24gcGFyc2UobGFiZWxTZWxlY3RvcikgewogIC8vIG1hdGNoTGFiZWxzOgogIC8vIGNvbW1hLXNlcGFyYXRlZCBsaXN0LCBhbGwgcnVsZXMgQU5EZWQgdG9nZXRoZXIKICAvLyBzcGFjZXMgbWF5IGJlIGVuY29kZWQgYXMgKwogIC8vCiAgLy8gRXF1YWxzOiAgICAgIGZvbyA9IGJhcgogIC8vIE5vdCBFcXVhbHM6ICBiYXIgIT0gYmF6CiAgLy8gS2V5IEV4aXN0czogIG9wdGlvbmFsLnByZWZpeC9qdXN0LXNvbWUta2V5CiAgLy8gS2V5IERvZXNuJ3Q6ICFvcHRpb25hbC5wcmVmaXgvanVzdC1zb21lLWtleQogIC8vIEluIFNldDogICAgICBlbnZpcm9ubWVudCBpbiAocHJvZHVjdGlvbixxYSkKICAvLyBOb3QgaW4gU2V0OiAgZW52aXJvbm1lbnQgbm90aW4gKHByb2R1Y3Rpb24scWEpCgogIC8vIENvbnZlcnQgaW50byBtYXRjaEV4cHJlc3Npb25zLCB3aGljaCBuZXdlciByZXNvdXJjZXMgc3VwcG9ydAogIC8vIGFuZCBleHByZXNzIHRoZSBzYW1lIHRoaW5ncwogIC8vCiAgLy8gT2JqZWN0IG9mOgogIC8vIGtleTogb3B0aW9uYWwucHJlZml4L3NvbWUta2V5CiAgLy8gb3BlcmF0b3I6IEluLCBOb3RJbiwgRXhpc3RzLCBvciBEb2VzTm90RXhpc3QKICAvLyB2YWx1ZXM6ICBbYXJyYXksIG9mLCB2YWx1ZXMsIGV2ZW4sIGlmLCBvbmx5LCBvbmVdCgogIGxhYmVsU2VsZWN0b3IgPSBsYWJlbFNlbGVjdG9yLnJlcGxhY2UoL1wrL2csICcgJyk7CiAgaWYgKHBhcnNlQ2FjaGVbbGFiZWxTZWxlY3Rvcl0pIHsKICAgIHJldHVybiBwYXJzZUNhY2hlW2xhYmVsU2VsZWN0b3JdOwogIH0KICB2YXIgbWF0Y2g7CiAgdmFyIG91dCA9IFtdOwogIHZhciBwYXJlbnMgPSBbXTsKCiAgLy8gU3Vic3RpdHV0ZSBvdXQgYWxsIHRoZSBwYXJlbnRoZXRpY2FsIGxpc3RzIGJlY2F1c2UgdGhleSBtaWdodCBoYXZlIGNvbW1hcyBpbiB0aGVtCiAgbWF0Y2ggPSBsYWJlbFNlbGVjdG9yLm1hdGNoKC9cKFteKV0rXCkvZyk7CiAgaWYgKG1hdGNoICYmIG1hdGNoLmxlbmd0aCkgewogICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG1hdGNoKSwKICAgICAgX3N0ZXA7CiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgIHZhciBzdHIgPSBfc3RlcC52YWx1ZTsKICAgICAgICB2YXIgdmFsID0gc3RyLnJlcGxhY2UoL15ccypcKFxzKi8sICcnKS5yZXBsYWNlKC9ccypcKVxzKiQvLCAnJykuc3BsaXQoL1xzKixccyovKTsKICAgICAgICBwYXJlbnMucHVzaCh2YWwpOwogICAgICAgIGxhYmVsU2VsZWN0b3IgPSBsYWJlbFNlbGVjdG9yLnJlcGxhY2Uoc3RyLCAiIEAiLmNvbmNhdChwYXJlbnMubGVuZ3RoIC0gMSwgIiAiKSk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgIH0KICB9CiAgdmFyIHBhcnRzID0gbGFiZWxTZWxlY3Rvci5zcGxpdCgvXHMqLFxzKi8pLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgcmV0dXJuICEheDsKICB9KTsKICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHBhcnRzKSwKICAgIF9zdGVwMjsKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgdmFyIHJ1bGUgPSBfc3RlcDIudmFsdWU7CiAgICAgIHJ1bGUgPSBydWxlLnRyaW0oKTsKICAgICAgbWF0Y2ggPSBydWxlLm1hdGNoKC9eKC4qPylccysoKG5vdFxzKik/aW4pXHMrQChcZCspKiQvaSk7CiAgICAgIGlmIChtYXRjaCkgewogICAgICAgIG91dC5wdXNoKHsKICAgICAgICAgIGtleTogbWF0Y2hbMV0udHJpbSgpLAogICAgICAgICAgb3BlcmF0b3I6IG1hdGNoWzJdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXHMvZywgJycpID09PSAnbm90aW4nID8gJ05vdEluJyA6ICdJbicsCiAgICAgICAgICB2YWx1ZXM6IHBhcmVuc1ttYXRjaFs0XS50cmltKCldCiAgICAgICAgfSk7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgbWF0Y2ggPSBydWxlLm1hdGNoKC9eKFteIT1dKilccyooXCE9fD18PT18Pnw8KVxzKihbXiE9XSopJC8pOwogICAgICBpZiAobWF0Y2gpIHsKICAgICAgICBvdXQucHVzaCh7CiAgICAgICAgICBrZXk6IG1hdGNoWzFdLnRyaW0oKSwKICAgICAgICAgIG9wZXJhdG9yOiBPUF9NQVBbbWF0Y2hbMl1dLAogICAgICAgICAgdmFsdWVzOiBbbWF0Y2hbM10udHJpbSgpXQogICAgICAgIH0pOwogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICAgIGlmIChydWxlLnN0YXJ0c1dpdGgoJyEnKSkgewogICAgICAgIG91dC5wdXNoKHsKICAgICAgICAgIGtleTogcnVsZS5zdWJzdHIoMSkudHJpbSgpLAogICAgICAgICAgb3BlcmF0b3I6ICdEb2VzTm90RXhpc3QnCiAgICAgICAgfSk7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgb3V0LnB1c2goewogICAgICAgIGtleTogcnVsZS50cmltKCksCiAgICAgICAgb3BlcmF0b3I6ICdFeGlzdHMnCiAgICAgIH0pOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvcjIuZigpOwogIH0KICBwYXJzZUNhY2hlW2xhYmVsU2VsZWN0b3JdID0gb3V0OwogIHJldHVybiBvdXQ7Cn0KCi8vIENvbnZlcnQgYSBTZWxlY3RvciBvYmplY3QgdG8gbWF0Y2hFeHByZXNzaW9ucwpleHBvcnQgZnVuY3Rpb24gY29udmVydFNlbGVjdG9yT2JqKG9iaikgewogIHJldHVybiBjb252ZXJ0KG9iai5tYXRjaExhYmVscyB8fCB7fSwgb2JqLm1hdGNoRXhwcmVzc2lvbnMgfHwgW10pOwp9CgovLyBDb252ZXJ0IG1hdGNoTGFiZWxzIHRvIG1hdGNoRXhwcmVzc2lvbnMKLy8gT3B0aW9uYWxseSBjb21iaW5pbmcgd2l0aCBhbiBleGlzdGluZyBzZXQgb2YgbWF0Y2hFeHByZXNzaW9ucwpleHBvcnQgZnVuY3Rpb24gY29udmVydChtYXRjaExhYmVsc09iaiwgbWF0Y2hFeHByZXNzaW9ucykgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMobWF0Y2hMYWJlbHNPYmogfHwge30pOwogIHZhciBvdXQgPSBtYXRjaEV4cHJlc3Npb25zIHx8IFtdOwogIGZvciAodmFyIF9pID0gMCwgX2tleXMgPSBrZXlzOyBfaSA8IF9rZXlzLmxlbmd0aDsgX2krKykgewogICAgdmFyIGtleSA9IF9rZXlzW19pXTsKICAgIHZhciB2YWx1ZSA9IG1hdGNoTGFiZWxzT2JqW2tleV07CiAgICB2YXIgZXhpc3RpbmcgPSBmaW5kQnkob3V0LCB7CiAgICAgIGtleToga2V5LAogICAgICBvcGVyYXRvcjogJ0luJwogICAgfSk7CiAgICBpZiAoZXhpc3RpbmcpIHsKICAgICAgYWRkT2JqZWN0KGV4aXN0aW5nLnZhbHVlcywgdmFsdWUpOwogICAgfSBlbHNlIHsKICAgICAgb3V0LnB1c2goewogICAgICAgIGtleToga2V5LAogICAgICAgIG9wZXJhdG9yOiAnSW4nLAogICAgICAgIHZhbHVlczogaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV0KICAgICAgfSk7CiAgICB9CiAgfQogIHJldHVybiBvdXQ7Cn0KCi8vIENvbnZlcnQgbWF0Y2hFeHByZXNzaW9ucyB0byBtYXRjaExhYmVscyB3aGVuIHBvc3NpYmxlLAovLyByZXR1cm5pbmcgdGhlIHNpbXBsZXN0IGNvbWJpbmF0aW9uIG9mIHRoZW0uCmV4cG9ydCBmdW5jdGlvbiBzaW1wbGlmeShtYXRjaEV4cHJlc3Npb25zSW5wdXQpIHsKICB2YXIgbWF0Y2hMYWJlbHMgPSB7fTsKICB2YXIgbWF0Y2hFeHByZXNzaW9ucyA9IFtdOwoKICAvLyBMb29rIGZvciBrZXlzIHdpdGggbW9yZSB0aGFuIG9uZSAiSW4iIGV4cHJlc3Npb24gYW5kIGRpc3F1YWxpZnkgdGhlbSBmcm9tIHNpbXBsaWZ5aW5nCiAgdmFyIGltcG9zc2libGUgPSBbXTsKICB2YXIgc2VlbiA9IHt9OwogIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobWF0Y2hFeHByZXNzaW9uc0lucHV0KSwKICAgIF9zdGVwMzsKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgdmFyIGV4cHIgPSBfc3RlcDMudmFsdWU7CiAgICAgIGlmIChleHByLm9wZXJhdG9yICE9PSAnSW4nKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgaWYgKHNlZW5bZXhwci5rZXldKSB7CiAgICAgICAgYWRkT2JqZWN0KGltcG9zc2libGUsIGV4cHIua2V5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWVuW2V4cHIua2V5XSA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvcjMuZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3IzLmYoKTsKICB9CiAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtYXRjaEV4cHJlc3Npb25zSW5wdXQpLAogICAgX3N0ZXA0OwogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICB2YXIgX2V4cHIgPSBfc3RlcDQudmFsdWU7CiAgICAgIGlmIChfZXhwci5vcGVyYXRvciA9PT0gJ0luJyAmJiBfZXhwci52YWx1ZXMubGVuZ3RoID09PSAxICYmICFpbXBvc3NpYmxlLmluY2x1ZGVzKF9leHByLmtleSkpIHsKICAgICAgICBtYXRjaExhYmVsc1tfZXhwci5rZXldID0gX2V4cHIudmFsdWVzWzBdOwogICAgICB9IGVsc2UgewogICAgICAgIG1hdGNoRXhwcmVzc2lvbnMucHVzaChPYmplY3QuYXNzaWduKHt9LCBfZXhwcikpOwogICAgICB9CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yNC5mKCk7CiAgfQogIHJldHVybiB7CiAgICBtYXRjaExhYmVsczogbWF0Y2hMYWJlbHMsCiAgICBtYXRjaEV4cHJlc3Npb25zOiBtYXRjaEV4cHJlc3Npb25zCiAgfTsKfQpleHBvcnQgZnVuY3Rpb24gbWF0Y2hlcyhvYmosIHNlbGVjdG9yKSB7CiAgdmFyIGxhYmVsS2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnbWV0YWRhdGEubGFiZWxzJzsKICB2YXIgcnVsZXMgPSBbXTsKICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykgewogICAgLy8gbGFiZWxTZWxlY3RvciBzdHJpbmcKICAgIHJ1bGVzID0gcGFyc2Uoc2VsZWN0b3IpOwogIH0gZWxzZSBpZiAoaXNBcnJheShzZWxlY3RvcikpIHsKICAgIC8vIEFscmVhZHkgbWF0Y2hFeHByZXNzaW9uCiAgICBydWxlcyA9IHNlbGVjdG9yOwogIH0gZWxzZSBpZiAoX3R5cGVvZihzZWxlY3RvcikgPT09ICdvYmplY3QnICYmIHNlbGVjdG9yKSB7CiAgICAvLyBtYXRjaExhYmVscyBvYmplY3QKICAgIHJ1bGVzID0gY29udmVydChzZWxlY3Rvcik7CiAgfSBlbHNlIHsKICAgIHJldHVybiBmYWxzZTsKICB9CiAgdmFyIGxhYmVscyA9IGdldChvYmosIGxhYmVsS2V5KSB8fCB7fTsKICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJ1bGVzKSwKICAgIF9zdGVwNTsKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgdmFyIHJ1bGUgPSBfc3RlcDUudmFsdWU7CiAgICAgIHZhciB2YWx1ZSA9IGxhYmVsc1tydWxlLmtleV07CiAgICAgIHZhciBhc0ludCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7CiAgICAgIHZhciBleGlzdHMgPSB0eXBlb2YgbGFiZWxzW3J1bGUua2V5XSAhPT0gJ3VuZGVmaW5lZCc7CiAgICAgIHN3aXRjaCAocnVsZS5vcGVyYXRvcikgewogICAgICAgIGNhc2UgJ0V4aXN0cyc6CiAgICAgICAgICBpZiAoIWV4aXN0cykgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdEb2VzTm90RXhpc3QnOgogICAgICAgICAgaWYgKGV4aXN0cykgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdJbic6CiAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGNhdGVyIGVtcHR5IHN0cmluZ3MgYmVjYXVzZSB3aGVuIGNyZWF0aW5nIGEgbGFiZWwgd2l0aCB2YWx1ZSA9IG51bGwgaXQncyB0cmFuc2xhdGVkIGludG8gYSBlbXB0eSBzdHJpbmcgdmFsdWUgJycKICAgICAgICAgIGlmICghcnVsZS52YWx1ZXMubGVuZ3RoIHx8ICFydWxlLnZhbHVlcy5pbmNsdWRlcyh2YWx1ZSkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnTm90SW4nOgogICAgICAgICAgaWYgKHJ1bGUudmFsdWVzLmluY2x1ZGVzKHZhbHVlKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdMdCc6CiAgICAgICAgICBpZiAoaXNOYU4oYXNJbnQpIHx8IGFzSW50ID49IE1hdGgubWluLmFwcGx5KG51bGwsIHJ1bGUudmFsdWVzKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdHdCc6CiAgICAgICAgICBpZiAoaXNOYU4oYXNJbnQpIHx8IGFzSW50IDw9IE1hdGgubWF4LmFwcGx5KG51bGwsIHJ1bGUudmFsdWVzKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yNS5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvcjUuZigpOwogIH0KICByZXR1cm4gdHJ1ZTsKfQpleHBvcnQgZnVuY3Rpb24gbWF0Y2hpbmcoYXJ5LCBzZWxlY3RvciwgbGFiZWxLZXkpIHsKICByZXR1cm4gYXJ5LmZpbHRlcihmdW5jdGlvbiAob2JqKSB7CiAgICByZXR1cm4gbWF0Y2hlcyhvYmosIHNlbGVjdG9yLCBsYWJlbEtleSk7CiAgfSk7Cn0="},{"version":3,"names":["isArray","addObject","findBy","get","parseCache","OP_MAP","parse","labelSelector","replace","match","out","parens","length","_iterator","_createForOfIteratorHelper","_step","s","n","done","str","value","val","split","push","concat","err","e","f","parts","filter","x","_iterator2","_step2","rule","trim","key","operator","toLowerCase","values","startsWith","substr","convertSelectorObj","obj","convert","matchLabels","matchExpressions","matchLabelsObj","keys","Object","_i","_keys","existing","simplify","matchExpressionsInput","impossible","seen","_iterator3","_step3","expr","_iterator4","_step4","includes","assign","matches","selector","labelKey","arguments","undefined","rules","_typeof","labels","_iterator5","_step5","asInt","parseInt","exists","isNaN","Math","min","apply","max","matching","ary"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/selector.js"],"sourcesContent":["import { isArray, addObject, findBy } from '@shell/utils/array';\nimport { get } from '@shell/utils/object';\n\nconst parseCache = {};\n\nconst OP_MAP = {\n  '=':  'In',\n  '==': 'In',\n  '!=': 'NotIn',\n  '<':  'Lt',\n  '>':  'Gt',\n};\n\n// Parse a labelSelector string\nexport function parse(labelSelector) {\n  // matchLabels:\n  // comma-separated list, all rules ANDed together\n  // spaces may be encoded as +\n  //\n  // Equals:      foo = bar\n  // Not Equals:  bar != baz\n  // Key Exists:  optional.prefix/just-some-key\n  // Key Doesn't: !optional.prefix/just-some-key\n  // In Set:      environment in (production,qa)\n  // Not in Set:  environment notin (production,qa)\n\n  // Convert into matchExpressions, which newer resources support\n  // and express the same things\n  //\n  // Object of:\n  // key: optional.prefix/some-key\n  // operator: In, NotIn, Exists, or DoesNotExist\n  // values:  [array, of, values, even, if, only, one]\n\n  labelSelector = labelSelector.replace(/\\+/g, ' ');\n\n  if ( parseCache[labelSelector] ) {\n    return parseCache[labelSelector];\n  }\n\n  let match;\n  const out = [];\n  const parens = [];\n\n  // Substitute out all the parenthetical lists because they might have commas in them\n  match = labelSelector.match(/\\([^)]+\\)/g);\n  if ( match && match.length ) {\n    for ( const str of match ) {\n      const val = str.replace(/^\\s*\\(\\s*/, '').replace(/\\s*\\)\\s*$/, '').split(/\\s*,\\s*/);\n\n      parens.push(val);\n      labelSelector = labelSelector.replace(str, ` @${ parens.length - 1 } `);\n    }\n  }\n\n  const parts = labelSelector.split(/\\s*,\\s*/).filter((x) => !!x);\n\n  for ( let rule of parts ) {\n    rule = rule.trim();\n\n    match = rule.match(/^(.*?)\\s+((not\\s*)?in)\\s+@(\\d+)*$/i);\n\n    if ( match ) {\n      out.push({\n        key:      match[1].trim(),\n        operator: match[2].toLowerCase().replace(/\\s/g, '') === 'notin' ? 'NotIn' : 'In',\n        values:   parens[match[4].trim()],\n      });\n\n      continue;\n    }\n\n    match = rule.match(/^([^!=]*)\\s*(\\!=|=|==|>|<)\\s*([^!=]*)$/);\n    if ( match ) {\n      out.push({\n        key:      match[1].trim(),\n        operator: OP_MAP[match[2]],\n        values:   [match[3].trim()],\n      });\n\n      continue;\n    }\n\n    if ( rule.startsWith('!') ) {\n      out.push({\n        key:      rule.substr(1).trim(),\n        operator: 'DoesNotExist'\n      });\n\n      continue;\n    }\n\n    out.push({\n      key:      rule.trim(),\n      operator: 'Exists'\n    });\n  }\n\n  parseCache[labelSelector] = out;\n\n  return out;\n}\n\n// Convert a Selector object to matchExpressions\nexport function convertSelectorObj(obj) {\n  return convert(obj.matchLabels || {}, obj.matchExpressions || []);\n}\n\n// Convert matchLabels to matchExpressions\n// Optionally combining with an existing set of matchExpressions\nexport function convert(matchLabelsObj, matchExpressions) {\n  const keys = Object.keys(matchLabelsObj || {});\n  const out = matchExpressions || [];\n\n  for ( const key of keys ) {\n    const value = matchLabelsObj[key];\n    const existing = findBy(out, { key, operator: 'In' });\n\n    if ( existing ) {\n      addObject(existing.values, value);\n    } else {\n      out.push({\n        key,\n        operator: 'In',\n        values:   isArray(value) ? value : [value],\n      });\n    }\n  }\n\n  return out;\n}\n\n// Convert matchExpressions to matchLabels when possible,\n// returning the simplest combination of them.\nexport function simplify(matchExpressionsInput) {\n  const matchLabels = {};\n  const matchExpressions = [];\n\n  // Look for keys with more than one \"In\" expression and disqualify them from simplifying\n  const impossible = [];\n  const seen = {};\n\n  for ( const expr of matchExpressionsInput ) {\n    if ( expr.operator !== 'In' ) {\n      continue;\n    }\n\n    if ( seen[expr.key] ) {\n      addObject(impossible, expr.key);\n    } else {\n      seen[expr.key] = true;\n    }\n  }\n\n  for ( const expr of matchExpressionsInput ) {\n    if ( expr.operator === 'In' && expr.values.length === 1 && !impossible.includes(expr.key) ) {\n      matchLabels[expr.key] = expr.values[0];\n    } else {\n      matchExpressions.push(Object.assign({}, expr));\n    }\n  }\n\n  return { matchLabels, matchExpressions };\n}\n\nexport function matches(obj, selector, labelKey = 'metadata.labels') {\n  let rules = [];\n\n  if ( typeof selector === 'string' ) {\n    // labelSelector string\n    rules = parse(selector);\n  } else if ( isArray(selector) ) {\n    // Already matchExpression\n    rules = selector;\n  } else if ( typeof selector === 'object' && selector ) {\n    // matchLabels object\n    rules = convert(selector);\n  } else {\n    return false;\n  }\n\n  const labels = get(obj, labelKey) || {};\n\n  for ( const rule of rules ) {\n    const value = labels[rule.key];\n    const asInt = parseInt(value, 10);\n    const exists = typeof labels[rule.key] !== 'undefined';\n\n    switch ( rule.operator ) {\n    case 'Exists':\n      if ( !exists ) {\n        return false;\n      }\n      break;\n    case 'DoesNotExist':\n      if ( exists ) {\n        return false;\n      }\n      break;\n    case 'In':\n      // we need to cater empty strings because when creating a label with value = null it's translated into a empty string value ''\n      if ( !rule.values.length || !rule.values.includes(value) ) {\n        return false;\n      }\n      break;\n    case 'NotIn':\n      if ( rule.values.includes(value) ) {\n        return false;\n      }\n      break;\n    case 'Lt':\n      if ( isNaN(asInt) || asInt >= Math.min.apply(null, rule.values) ) {\n        return false;\n      }\n      break;\n    case 'Gt':\n      if ( isNaN(asInt) || asInt <= Math.max.apply(null, rule.values) ) {\n        return false;\n      }\n      break;\n    }\n  }\n\n  return true;\n}\n\nexport function matching(ary, selector, labelKey) {\n  return ary.filter((obj) => matches(obj, selector, labelKey));\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,OAAO,EAAEC,SAAS,EAAEC,MAAM,QAAQ,oBAAoB;AAC/D,SAASC,GAAG,QAAQ,qBAAqB;AAEzC,IAAMC,UAAU,GAAG,CAAC,CAAC;AAErB,IAAMC,MAAM,GAAG;EACb,GAAG,EAAG,IAAI;EACV,IAAI,EAAE,IAAI;EACV,IAAI,EAAE,OAAO;EACb,GAAG,EAAG,IAAI;EACV,GAAG,EAAG;AACR,CAAC;;AAED;AACA,OAAO,SAASC,KAAKA,CAACC,aAAa,EAAE;EACnC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEAA,aAAa,GAAGA,aAAa,CAACC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;EAEjD,IAAKJ,UAAU,CAACG,aAAa,CAAC,EAAG;IAC/B,OAAOH,UAAU,CAACG,aAAa,CAAC;EAClC;EAEA,IAAIE,KAAK;EACT,IAAMC,GAAG,GAAG,EAAE;EACd,IAAMC,MAAM,GAAG,EAAE;;EAEjB;EACAF,KAAK,GAAGF,aAAa,CAACE,KAAK,CAAC,YAAY,CAAC;EACzC,IAAKA,KAAK,IAAIA,KAAK,CAACG,MAAM,EAAG;IAAA,IAAAC,SAAA,GAAAC,0BAAA,CACRL,KAAK;MAAAM,KAAA;IAAA;MAAxB,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAA2B;QAAA,IAAfC,GAAG,GAAAJ,KAAA,CAAAK,KAAA;QACb,IAAMC,GAAG,GAAGF,GAAG,CAACX,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAACc,KAAK,CAAC,SAAS,CAAC;QAElFX,MAAM,CAACY,IAAI,CAACF,GAAG,CAAC;QAChBd,aAAa,GAAGA,aAAa,CAACC,OAAO,CAACW,GAAG,OAAAK,MAAA,CAAQb,MAAM,CAACC,MAAM,GAAG,CAAC,MAAI,CAAC;MACzE;IAAC,SAAAa,GAAA;MAAAZ,SAAA,CAAAa,CAAA,CAAAD,GAAA;IAAA;MAAAZ,SAAA,CAAAc,CAAA;IAAA;EACH;EAEA,IAAMC,KAAK,GAAGrB,aAAa,CAACe,KAAK,CAAC,SAAS,CAAC,CAACO,MAAM,CAAC,UAACC,CAAC;IAAA,OAAK,CAAC,CAACA,CAAC;EAAA,EAAC;EAAC,IAAAC,UAAA,GAAAjB,0BAAA,CAE9Cc,KAAK;IAAAI,MAAA;EAAA;IAAvB,KAAAD,UAAA,CAAAf,CAAA,MAAAgB,MAAA,GAAAD,UAAA,CAAAd,CAAA,IAAAC,IAAA,GAA0B;MAAA,IAAhBe,IAAI,GAAAD,MAAA,CAAAZ,KAAA;MACZa,IAAI,GAAGA,IAAI,CAACC,IAAI,CAAC,CAAC;MAElBzB,KAAK,GAAGwB,IAAI,CAACxB,KAAK,CAAC,oCAAoC,CAAC;MAExD,IAAKA,KAAK,EAAG;QACXC,GAAG,CAACa,IAAI,CAAC;UACPY,GAAG,EAAO1B,KAAK,CAAC,CAAC,CAAC,CAACyB,IAAI,CAAC,CAAC;UACzBE,QAAQ,EAAE3B,KAAK,CAAC,CAAC,CAAC,CAAC4B,WAAW,CAAC,CAAC,CAAC7B,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,OAAO,GAAG,OAAO,GAAG,IAAI;UAChF8B,MAAM,EAAI3B,MAAM,CAACF,KAAK,CAAC,CAAC,CAAC,CAACyB,IAAI,CAAC,CAAC;QAClC,CAAC,CAAC;QAEF;MACF;MAEAzB,KAAK,GAAGwB,IAAI,CAACxB,KAAK,CAAC,wCAAwC,CAAC;MAC5D,IAAKA,KAAK,EAAG;QACXC,GAAG,CAACa,IAAI,CAAC;UACPY,GAAG,EAAO1B,KAAK,CAAC,CAAC,CAAC,CAACyB,IAAI,CAAC,CAAC;UACzBE,QAAQ,EAAE/B,MAAM,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC;UAC1B6B,MAAM,EAAI,CAAC7B,KAAK,CAAC,CAAC,CAAC,CAACyB,IAAI,CAAC,CAAC;QAC5B,CAAC,CAAC;QAEF;MACF;MAEA,IAAKD,IAAI,CAACM,UAAU,CAAC,GAAG,CAAC,EAAG;QAC1B7B,GAAG,CAACa,IAAI,CAAC;UACPY,GAAG,EAAOF,IAAI,CAACO,MAAM,CAAC,CAAC,CAAC,CAACN,IAAI,CAAC,CAAC;UAC/BE,QAAQ,EAAE;QACZ,CAAC,CAAC;QAEF;MACF;MAEA1B,GAAG,CAACa,IAAI,CAAC;QACPY,GAAG,EAAOF,IAAI,CAACC,IAAI,CAAC,CAAC;QACrBE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;EAAC,SAAAX,GAAA;IAAAM,UAAA,CAAAL,CAAA,CAAAD,GAAA;EAAA;IAAAM,UAAA,CAAAJ,CAAA;EAAA;EAEDvB,UAAU,CAACG,aAAa,CAAC,GAAGG,GAAG;EAE/B,OAAOA,GAAG;AACZ;;AAEA;AACA,OAAO,SAAS+B,kBAAkBA,CAACC,GAAG,EAAE;EACtC,OAAOC,OAAO,CAACD,GAAG,CAACE,WAAW,IAAI,CAAC,CAAC,EAAEF,GAAG,CAACG,gBAAgB,IAAI,EAAE,CAAC;AACnE;;AAEA;AACA;AACA,OAAO,SAASF,OAAOA,CAACG,cAAc,EAAED,gBAAgB,EAAE;EACxD,IAAME,IAAI,GAAGC,MAAM,CAACD,IAAI,CAACD,cAAc,IAAI,CAAC,CAAC,CAAC;EAC9C,IAAMpC,GAAG,GAAGmC,gBAAgB,IAAI,EAAE;EAElC,SAAAI,EAAA,MAAAC,KAAA,GAAmBH,IAAI,EAAAE,EAAA,GAAAC,KAAA,CAAAtC,MAAA,EAAAqC,EAAA,IAAG;IAApB,IAAMd,GAAG,GAAAe,KAAA,CAAAD,EAAA;IACb,IAAM7B,KAAK,GAAG0B,cAAc,CAACX,GAAG,CAAC;IACjC,IAAMgB,QAAQ,GAAGjD,MAAM,CAACQ,GAAG,EAAE;MAAEyB,GAAG,EAAHA,GAAG;MAAEC,QAAQ,EAAE;IAAK,CAAC,CAAC;IAErD,IAAKe,QAAQ,EAAG;MACdlD,SAAS,CAACkD,QAAQ,CAACb,MAAM,EAAElB,KAAK,CAAC;IACnC,CAAC,MAAM;MACLV,GAAG,CAACa,IAAI,CAAC;QACPY,GAAG,EAAHA,GAAG;QACHC,QAAQ,EAAE,IAAI;QACdE,MAAM,EAAItC,OAAO,CAACoB,KAAK,CAAC,GAAGA,KAAK,GAAG,CAACA,KAAK;MAC3C,CAAC,CAAC;IACJ;EACF;EAEA,OAAOV,GAAG;AACZ;;AAEA;AACA;AACA,OAAO,SAAS0C,QAAQA,CAACC,qBAAqB,EAAE;EAC9C,IAAMT,WAAW,GAAG,CAAC,CAAC;EACtB,IAAMC,gBAAgB,GAAG,EAAE;;EAE3B;EACA,IAAMS,UAAU,GAAG,EAAE;EACrB,IAAMC,IAAI,GAAG,CAAC,CAAC;EAAC,IAAAC,UAAA,GAAA1C,0BAAA,CAEIuC,qBAAqB;IAAAI,MAAA;EAAA;IAAzC,KAAAD,UAAA,CAAAxC,CAAA,MAAAyC,MAAA,GAAAD,UAAA,CAAAvC,CAAA,IAAAC,IAAA,GAA4C;MAAA,IAAhCwC,IAAI,GAAAD,MAAA,CAAArC,KAAA;MACd,IAAKsC,IAAI,CAACtB,QAAQ,KAAK,IAAI,EAAG;QAC5B;MACF;MAEA,IAAKmB,IAAI,CAACG,IAAI,CAACvB,GAAG,CAAC,EAAG;QACpBlC,SAAS,CAACqD,UAAU,EAAEI,IAAI,CAACvB,GAAG,CAAC;MACjC,CAAC,MAAM;QACLoB,IAAI,CAACG,IAAI,CAACvB,GAAG,CAAC,GAAG,IAAI;MACvB;IACF;EAAC,SAAAV,GAAA;IAAA+B,UAAA,CAAA9B,CAAA,CAAAD,GAAA;EAAA;IAAA+B,UAAA,CAAA7B,CAAA;EAAA;EAAA,IAAAgC,UAAA,GAAA7C,0BAAA,CAEmBuC,qBAAqB;IAAAO,MAAA;EAAA;IAAzC,KAAAD,UAAA,CAAA3C,CAAA,MAAA4C,MAAA,GAAAD,UAAA,CAAA1C,CAAA,IAAAC,IAAA,GAA4C;MAAA,IAAhCwC,KAAI,GAAAE,MAAA,CAAAxC,KAAA;MACd,IAAKsC,KAAI,CAACtB,QAAQ,KAAK,IAAI,IAAIsB,KAAI,CAACpB,MAAM,CAAC1B,MAAM,KAAK,CAAC,IAAI,CAAC0C,UAAU,CAACO,QAAQ,CAACH,KAAI,CAACvB,GAAG,CAAC,EAAG;QAC1FS,WAAW,CAACc,KAAI,CAACvB,GAAG,CAAC,GAAGuB,KAAI,CAACpB,MAAM,CAAC,CAAC,CAAC;MACxC,CAAC,MAAM;QACLO,gBAAgB,CAACtB,IAAI,CAACyB,MAAM,CAACc,MAAM,CAAC,CAAC,CAAC,EAAEJ,KAAI,CAAC,CAAC;MAChD;IACF;EAAC,SAAAjC,GAAA;IAAAkC,UAAA,CAAAjC,CAAA,CAAAD,GAAA;EAAA;IAAAkC,UAAA,CAAAhC,CAAA;EAAA;EAED,OAAO;IAAEiB,WAAW,EAAXA,WAAW;IAAEC,gBAAgB,EAAhBA;EAAiB,CAAC;AAC1C;AAEA,OAAO,SAASkB,OAAOA,CAACrB,GAAG,EAAEsB,QAAQ,EAAgC;EAAA,IAA9BC,QAAQ,GAAAC,SAAA,CAAAtD,MAAA,QAAAsD,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,iBAAiB;EACjE,IAAIE,KAAK,GAAG,EAAE;EAEd,IAAK,OAAOJ,QAAQ,KAAK,QAAQ,EAAG;IAClC;IACAI,KAAK,GAAG9D,KAAK,CAAC0D,QAAQ,CAAC;EACzB,CAAC,MAAM,IAAKhE,OAAO,CAACgE,QAAQ,CAAC,EAAG;IAC9B;IACAI,KAAK,GAAGJ,QAAQ;EAClB,CAAC,MAAM,IAAKK,OAAA,CAAOL,QAAQ,MAAK,QAAQ,IAAIA,QAAQ,EAAG;IACrD;IACAI,KAAK,GAAGzB,OAAO,CAACqB,QAAQ,CAAC;EAC3B,CAAC,MAAM;IACL,OAAO,KAAK;EACd;EAEA,IAAMM,MAAM,GAAGnE,GAAG,CAACuC,GAAG,EAAEuB,QAAQ,CAAC,IAAI,CAAC,CAAC;EAAC,IAAAM,UAAA,GAAAzD,0BAAA,CAEpBsD,KAAK;IAAAI,MAAA;EAAA;IAAzB,KAAAD,UAAA,CAAAvD,CAAA,MAAAwD,MAAA,GAAAD,UAAA,CAAAtD,CAAA,IAAAC,IAAA,GAA4B;MAAA,IAAhBe,IAAI,GAAAuC,MAAA,CAAApD,KAAA;MACd,IAAMA,KAAK,GAAGkD,MAAM,CAACrC,IAAI,CAACE,GAAG,CAAC;MAC9B,IAAMsC,KAAK,GAAGC,QAAQ,CAACtD,KAAK,EAAE,EAAE,CAAC;MACjC,IAAMuD,MAAM,GAAG,OAAOL,MAAM,CAACrC,IAAI,CAACE,GAAG,CAAC,KAAK,WAAW;MAEtD,QAASF,IAAI,CAACG,QAAQ;QACtB,KAAK,QAAQ;UACX,IAAK,CAACuC,MAAM,EAAG;YACb,OAAO,KAAK;UACd;UACA;QACF,KAAK,cAAc;UACjB,IAAKA,MAAM,EAAG;YACZ,OAAO,KAAK;UACd;UACA;QACF,KAAK,IAAI;UACP;UACA,IAAK,CAAC1C,IAAI,CAACK,MAAM,CAAC1B,MAAM,IAAI,CAACqB,IAAI,CAACK,MAAM,CAACuB,QAAQ,CAACzC,KAAK,CAAC,EAAG;YACzD,OAAO,KAAK;UACd;UACA;QACF,KAAK,OAAO;UACV,IAAKa,IAAI,CAACK,MAAM,CAACuB,QAAQ,CAACzC,KAAK,CAAC,EAAG;YACjC,OAAO,KAAK;UACd;UACA;QACF,KAAK,IAAI;UACP,IAAKwD,KAAK,CAACH,KAAK,CAAC,IAAIA,KAAK,IAAII,IAAI,CAACC,GAAG,CAACC,KAAK,CAAC,IAAI,EAAE9C,IAAI,CAACK,MAAM,CAAC,EAAG;YAChE,OAAO,KAAK;UACd;UACA;QACF,KAAK,IAAI;UACP,IAAKsC,KAAK,CAACH,KAAK,CAAC,IAAIA,KAAK,IAAII,IAAI,CAACG,GAAG,CAACD,KAAK,CAAC,IAAI,EAAE9C,IAAI,CAACK,MAAM,CAAC,EAAG;YAChE,OAAO,KAAK;UACd;UACA;MACF;IACF;EAAC,SAAAb,GAAA;IAAA8C,UAAA,CAAA7C,CAAA,CAAAD,GAAA;EAAA;IAAA8C,UAAA,CAAA5C,CAAA;EAAA;EAED,OAAO,IAAI;AACb;AAEA,OAAO,SAASsD,QAAQA,CAACC,GAAG,EAAElB,QAAQ,EAAEC,QAAQ,EAAE;EAChD,OAAOiB,GAAG,CAACrD,MAAM,CAAC,UAACa,GAAG;IAAA,OAAKqB,OAAO,CAACrB,GAAG,EAAEsB,QAAQ,EAAEC,QAAQ,CAAC;EAAA,EAAC;AAC9D"}]}