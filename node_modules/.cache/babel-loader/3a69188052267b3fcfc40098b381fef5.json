{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/Weight.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/Weight.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTGFiZWxlZElucHV0OiBMYWJlbGVkSW5wdXQKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICByb3c6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNvbDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge30KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdQZXJjZW50OiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsRm9yQXBwOiBmdW5jdGlvbiB0b3RhbEZvckFwcCgpIHsKICAgICAgcmV0dXJuIHRoaXMucm93LndlaWdodHNPZkFwcDsKICAgIH0sCiAgICBkZXNpcmVkOiBmdW5jdGlvbiBkZXNpcmVkKCkgewogICAgICB2YXIgZGVzaXJlZCA9IHRoaXMucm93LndlaWdodHMuZGVzaXJlZDsKICAgICAgdmFyIHRvdGFsID0gdGhpcy50b3RhbEZvckFwcC5kZXNpcmVkOwogICAgICBpZiAodG90YWwgPT09IDApIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgICByZXR1cm4gTWF0aC5yb3VuZChkZXNpcmVkIC8gdG90YWwgKiAxMDAwKSAvIDEwOwogICAgfSwKICAgIGN1cnJlbnQ6IGZ1bmN0aW9uIGN1cnJlbnQoKSB7CiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5yb3cud2VpZ2h0cy5jdXJyZW50OwogICAgICB2YXIgdG90YWwgPSB0aGlzLnRvdGFsRm9yQXBwLmN1cnJlbnQ7CiAgICAgIGlmICh0b3RhbCA9PT0gMCkgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGN1cnJlbnQgLyB0b3RhbCAqIDEwMDApIC8gMTA7CiAgICB9LAogICAgc2hvd0Rlc2lyZWQ6IGZ1bmN0aW9uIHNob3dEZXNpcmVkKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50ICE9PSB0aGlzLmRlc2lyZWQ7CiAgICB9LAogICAgY2FuQWRqdXN0OiBmdW5jdGlvbiBjYW5BZGp1c3QoKSB7CiAgICAgIHJldHVybiB0aGlzLnRvdGFsRm9yQXBwLmNvdW50ID4gMSAmJiB0aGlzLmN1cnJlbnQgIT09IDEwMDsKICAgIH0sCiAgICBuZXdXZWlnaHRWYWxpZDogZnVuY3Rpb24gbmV3V2VpZ2h0VmFsaWQoKSB7CiAgICAgIHZhciBwZXJjZW50ID0gdGhpcy5uZXdQZXJjZW50OwogICAgICByZXR1cm4gcGVyY2VudCA+PSAwICYmIHBlcmNlbnQgPD0gMTAwOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25TaG93bjogZnVuY3Rpb24gb25TaG93bigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJlZnMubmV3UGVyY2VudC5mb2N1cygpOwogICAgICB9LCAyNTApOwogICAgfSwKICAgIHNldFdlaWdodDogZnVuY3Rpb24gc2V0V2VpZ2h0KCkgewogICAgICB2YXIgbmV3UGVyY2VudCA9IHRoaXMubmV3UGVyY2VudCB8fCAwOwogICAgICB0aGlzLnJvdy5zYXZlV2VpZ2h0UGVyY2VudChuZXdQZXJjZW50KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["LabeledInput","components","props","value","type","Number","default","row","Object","required","col","_default","data","newPercent","computed","totalForApp","weightsOfApp","desired","weights","total","Math","round","current","showDesired","canAdjust","count","newWeightValid","percent","methods","onShown","_this","setTimeout","$refs","focus","setWeight","saveWeightPercent"],"sources":["node_modules/@rancher/shell/components/formatter/Weight.vue"],"sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\n\nexport default {\n  components: { LabeledInput },\n\n  props: {\n    value: {\n      type:    Number,\n      default: 0,\n    },\n    row: {\n      type:     Object,\n      required: true\n    },\n    col: {\n      type:    Object,\n      default: () => {}\n    },\n  },\n\n  data() {\n    return { newPercent: null };\n  },\n\n  computed: {\n    totalForApp() {\n      return this.row.weightsOfApp;\n    },\n\n    desired() {\n      const desired = this.row.weights.desired;\n      const total = this.totalForApp.desired;\n\n      if ( total === 0 ) {\n        return 0;\n      }\n\n      return Math.round(desired / total * 1000) / 10;\n    },\n\n    current() {\n      const current = this.row.weights.current;\n      const total = this.totalForApp.current;\n\n      if ( total === 0 ) {\n        return 0;\n      }\n\n      return Math.round(current / total * 1000) / 10;\n    },\n\n    showDesired() {\n      return this.current !== this.desired;\n    },\n\n    canAdjust() {\n      return this.totalForApp.count > 1 && this.current !== 100;\n    },\n\n    newWeightValid() {\n      const percent = this.newPercent;\n\n      return percent >= 0 && percent <= 100;\n    }\n  },\n\n  methods: {\n    onShown() {\n      setTimeout(() => {\n        this.$refs.newPercent.focus();\n      }, 250);\n    },\n\n    setWeight() {\n      const newPercent = this.newPercent || 0;\n\n      this.row.saveWeightPercent(newPercent);\n    },\n  }\n};\n</script>\n\n<template>\n  <v-popover\n    :class=\"{'hand': canAdjust}\"\n    placement=\"top\"\n    :open-group=\"row.id\"\n    :trigger=\"canAdjust ? 'click' : 'manual'\"\n    offset=\"1\"\n    @apply-show=\"onShown\"\n  >\n    <div>\n      <span\n        v-if=\"totalForApp.count === 1\"\n        class=\"text-muted\"\n      >\n        &mdash;\n      </span>\n      <span\n        v-else\n        v-trim-whitespace\n        :class=\"{'text-muted': current === 0 && desired === 0}\"\n      >\n        {{ current }}%\n      </span>\n      <div v-if=\"showDesired\">\n        <i class=\"icon icon-chevron-right\" />\n        {{ desired }}%\n      </div>\n    </div>\n\n    <template #popover>\n      <div\n        v-if=\"canAdjust\"\n        class=\"text-center pb-5\"\n      >\n        <form>\n          <LabeledInput\n            ref=\"newPercent\"\n            v-model.number=\"newPercent\"\n            label=\"Target\"\n            size=\"4\"\n            min=\"0\"\n            max=\"100\"\n            class=\"text-left\"\n            style=\"width: 100px;\"\n          >\n            <template #suffix>\n              <div class=\"addon\">\n                %\n              </div>\n            </template>\n          </LabeledInput>\n          <button\n            type=\"submit\"\n            class=\"btn bg-primary btn-sm mt-20\"\n            :disabled=\"!newWeightValid\"\n            @click.stop.prevent=\"setWeight\"\n          >\n            Set\n          </button>\n        </form>\n      </div>\n    </template>\n  </v-popover>\n</template>\n"],"mappings":";AACA,SAAAA,YAAA;AAEA;EACAC,UAAA;IAAAD,YAAA,EAAAA;EAAA;EAEAE,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,GAAA;MACAH,IAAA,EAAAI,MAAA;MACAC,QAAA;IACA;IACAC,GAAA;MACAN,IAAA,EAAAI,MAAA;MACAF,OAAA,WAAAK,SAAA;IACA;EACA;EAEAC,IAAA,WAAAA,KAAA;IACA;MAAAC,UAAA;IAAA;EACA;EAEAC,QAAA;IACAC,WAAA,WAAAA,YAAA;MACA,YAAAR,GAAA,CAAAS,YAAA;IACA;IAEAC,OAAA,WAAAA,QAAA;MACA,IAAAA,OAAA,QAAAV,GAAA,CAAAW,OAAA,CAAAD,OAAA;MACA,IAAAE,KAAA,QAAAJ,WAAA,CAAAE,OAAA;MAEA,IAAAE,KAAA;QACA;MACA;MAEA,OAAAC,IAAA,CAAAC,KAAA,CAAAJ,OAAA,GAAAE,KAAA;IACA;IAEAG,OAAA,WAAAA,QAAA;MACA,IAAAA,OAAA,QAAAf,GAAA,CAAAW,OAAA,CAAAI,OAAA;MACA,IAAAH,KAAA,QAAAJ,WAAA,CAAAO,OAAA;MAEA,IAAAH,KAAA;QACA;MACA;MAEA,OAAAC,IAAA,CAAAC,KAAA,CAAAC,OAAA,GAAAH,KAAA;IACA;IAEAI,WAAA,WAAAA,YAAA;MACA,YAAAD,OAAA,UAAAL,OAAA;IACA;IAEAO,SAAA,WAAAA,UAAA;MACA,YAAAT,WAAA,CAAAU,KAAA,aAAAH,OAAA;IACA;IAEAI,cAAA,WAAAA,eAAA;MACA,IAAAC,OAAA,QAAAd,UAAA;MAEA,OAAAc,OAAA,SAAAA,OAAA;IACA;EACA;EAEAC,OAAA;IACAC,OAAA,WAAAA,QAAA;MAAA,IAAAC,KAAA;MACAC,UAAA;QACAD,KAAA,CAAAE,KAAA,CAAAnB,UAAA,CAAAoB,KAAA;MACA;IACA;IAEAC,SAAA,WAAAA,UAAA;MACA,IAAArB,UAAA,QAAAA,UAAA;MAEA,KAAAN,GAAA,CAAA4B,iBAAA,CAAAtB,UAAA;IACA;EACA;AACA"}]}