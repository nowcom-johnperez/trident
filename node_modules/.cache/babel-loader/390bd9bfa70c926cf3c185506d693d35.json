{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/selection.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/selection.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvWyJAQGl0ZXJhdG9yIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9CmltcG9ydCB7IGlzTW9yZSwgaXNSYW5nZSwgc3VwcHJlc3NDb250ZXh0TWVudSwgaXNBbHRlcm5hdGUgfSBmcm9tICdAc2hlbGwvdXRpbHMvcGxhdGZvcm0nOwppbXBvcnQgeyBnZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgZmlsdGVyQnkgfSBmcm9tICdAc2hlbGwvdXRpbHMvYXJyYXknOwppbXBvcnQgeyBnZXRQYXJlbnQgfSBmcm9tICdAc2hlbGwvdXRpbHMvZG9tJzsKZXhwb3J0IHZhciBBTEwgPSAnYWxsJzsKZXhwb3J0IHZhciBTT01FID0gJ3NvbWUnOwpleHBvcnQgdmFyIE5PTkUgPSAnbm9uZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHRhYmxlID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignVEFCTEUnKTsKICAgIHRoaXMuX29uUm93Q2xpY2tCb3VuZCA9IHRoaXMub25Sb3dDbGljay5iaW5kKHRoaXMpOwogICAgdGhpcy5fb25Sb3dNb3VzZWRvd25Cb3VuZCA9IHRoaXMub25Sb3dNb3VzZWRvd24uYmluZCh0aGlzKTsKICAgIHRoaXMuX29uUm93Q29udGV4dEJvdW5kID0gdGhpcy5vblJvd0NvbnRleHQuYmluZCh0aGlzKTsKICAgIHRhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25Sb3dDbGlja0JvdW5kKTsKICAgIHRhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uUm93TW91c2Vkb3duQm91bmQpOwogICAgdGFibGUuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLl9vblJvd0NvbnRleHRCb3VuZCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdmFyIHRhYmxlID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignVEFCTEUnKTsKICAgIHRhYmxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25Sb3dDbGlja0JvdW5kKTsKICAgIHRhYmxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uUm93TW91c2Vkb3duQm91bmQpOwogICAgdGFibGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLl9vblJvd0NvbnRleHRCb3VuZCk7CiAgfSwKICBjb21wdXRlZDogewogICAgLy8gVXNlZCBmb3IgdGhlIHRhYmxlLWxldmVsIHNlbGVjdGlvbiBjaGVjay1ib3ggdG8gc2hvdyBjaGVja2VkIChhbGwgc2VsZWN0ZWQpL2ludGVybWVkaWF0ZSAoc29tZSBzZWxlY3RlZCkvdW5jaGVja2VkIChub25lIHNlbGVjdGVkKQogICAgaG93TXVjaFNlbGVjdGVkOiBmdW5jdGlvbiBob3dNdWNoU2VsZWN0ZWQoKSB7CiAgICAgIHZhciB0b3RhbCA9IHRoaXMucGFnZWRSb3dzLmxlbmd0aDsKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZFJvd3MubGVuZ3RoOwogICAgICBpZiAoc2VsZWN0ZWQgPj0gdG90YWwgJiYgdG90YWwgPiAwKSB7CiAgICAgICAgcmV0dXJuIEFMTDsKICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZCA+IDApIHsKICAgICAgICByZXR1cm4gU09NRTsKICAgICAgfQogICAgICByZXR1cm4gTk9ORTsKICAgIH0sCiAgICAvLyBOT1RFOiBUaGUgbG9naWMgaGVyZSBjb3VsZCBiZSBzaW1wbGlmaWVkIGFuZCBtYWRlIG1vcmUgcGVyZm9ybWFudAogICAgYnVsa0FjdGlvbnNGb3JTZWxlY3Rpb246IGZ1bmN0aW9uIGJ1bGtBY3Rpb25zRm9yU2VsZWN0aW9uKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgZGlzYWJsZUFsbCA9IGZhbHNlOwogICAgICAvLyBwYWdlZFJvd3MgaXMgYWxsIHJvd3MgaW4gdGhlIGN1cnJlbnQgcGFnZQogICAgICB2YXIgYWxsID0gdGhpcy5wYWdlZFJvd3M7CiAgICAgIHZhciBhbGxSb3dzID0gdGhpcy5hcnJhbmdlZFJvd3M7CiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRSb3dzOwoKICAgICAgLy8gTm90aGluZyBpcyBzZWxlY3RlZAogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRSb3dzLmxlbmd0aCkgewogICAgICAgIC8vIGFuZCB0aGVyZSBhcmUgbm8gcm93cwogICAgICAgIGlmICghYWxsUm93cykgewogICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgIH0KICAgICAgICB2YXIgZmlyc3ROb2RlID0gYWxsUm93c1swXTsKICAgICAgICBzZWxlY3RlZCA9IGZpcnN0Tm9kZSA/IFtmaXJzdE5vZGVdIDogW107CiAgICAgICAgZGlzYWJsZUFsbCA9IHRydWU7CiAgICAgIH0KICAgICAgdmFyIG1hcCA9IHt9OwoKICAgICAgLy8gRmluZCBhbmQgYWRkIGFsbCB0aGUgYWN0aW9ucyBmb3IgYWxsIHRoZSBub2RlcyBzbyB0aGF0IHdlIGtub3cKICAgICAgLy8gd2hhdCBhbGwgdGhlIHBvc3NpYmxlIGFjdGlvbnMgYXJlCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhbGwpLAogICAgICAgIF9zdGVwOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgaWYgKG5vZGUuYXZhaWxhYmxlQWN0aW9ucykgewogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG5vZGUuYXZhaWxhYmxlQWN0aW9ucyksCiAgICAgICAgICAgICAgX3N0ZXAzOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgYWN0ID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgICAgICAgaWYgKGFjdC5idWxrYWJsZSkgewogICAgICAgICAgICAgICAgICBfYWRkKG1hcCwgYWN0LCBmYWxzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gR28gdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIGl0ZW1zIGFuZCBhZGQgdGhlIGFjdGlvbnMgKHdoaWNoIHdlcmUgYWxyZWFkeSBpZGVudGlmaWVkIGFib3ZlKQogICAgICAgIC8vIGFzIGF2YWlsYWJsZSBmb3Igc29tZSAob3IgYWxsKSBvZiB0aGUgc2VsZWN0ZWQgbm9kZXMKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2VsZWN0ZWQpLAogICAgICAgIF9zdGVwMjsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9ub2RlID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgaWYgKF9ub2RlLmF2YWlsYWJsZUFjdGlvbnMpIHsKICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfbm9kZS5hdmFpbGFibGVBY3Rpb25zKSwKICAgICAgICAgICAgICBfc3RlcDQ7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBfYWN0ID0gX3N0ZXA0LnZhbHVlOwogICAgICAgICAgICAgICAgaWYgKF9hY3QuYnVsa2FibGUgJiYgX2FjdC5lbmFibGVkKSB7CiAgICAgICAgICAgICAgICAgIF9hZGQobWFwLCBfYWN0LCBmYWxzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3I0LmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gSWYgdGhlcmUncyBubyBpdGVtcyBhY3R1YWxseSBzZWxlY3RlZCwgd2Ugd2FudCB0byBzZWUgYWxsIHRoZSBhY3Rpb25zCiAgICAgICAgLy8gc28geW91IGtub3cgd2hhdCBleGlzdHMsIGJ1dCBoYXZlIHRoZW0gYWxsIGJlIGRpc2FibGVkIHNpbmNlIHRoZXJlJ3Mgbm90aGluZyB0byBkbyB0aGVtIG9uLgogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQogICAgICB2YXIgb3V0ID0gX2ZpbHRlcihtYXAsIGRpc2FibGVBbGwpOwoKICAgICAgLy8gRW5hYmxlIGEgYnVsa2FjdGlvbiBpZiBzb21lIG9mIHRoZSBzZWxlY3RlZCBpdGVtcyBjYW4gcGVyZm9ybSB0aGUgYWN0aW9uCiAgICAgIG91dC5mb3JFYWNoKGZ1bmN0aW9uIChidWxrQWN0aW9uKSB7CiAgICAgICAgdmFyIGFjdGlvbkVuYWJsZWRGb3JTb21lU2VsZWN0ZWQgPSBfdGhpcy5zZWxlY3RlZFJvd3Muc29tZShmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgdmFyIGF2YWlsYWJsZUFjdGlvbnMgPSBub2RlLmF2YWlsYWJsZUFjdGlvbnMgfHwgW107CiAgICAgICAgICByZXR1cm4gYXZhaWxhYmxlQWN0aW9ucy5zb21lKGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5hY3Rpb24gPT09IGJ1bGtBY3Rpb24uYWN0aW9uICYmIGFjdGlvbi5lbmFibGVkOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgYnVsa0FjdGlvbi5lbmFibGVkID0gX3RoaXMuc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDAgJiYgYWN0aW9uRW5hYmxlZEZvclNvbWVTZWxlY3RlZDsKICAgICAgfSk7CiAgICAgIHJldHVybiBvdXQuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiAoYi53ZWlnaHQgfHwgMCkgLSAoYS53ZWlnaHQgfHwgMCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIExpc3Qgb2Ygc2VsZWN0ZWQgaXRlbXMgaW4gdGhlIHRhYmxlCiAgICAgIHNlbGVjdGVkUm93czogW10sCiAgICAgIHByZXZOb2RlOiBudWxsCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIE9uIHBhZ2UgY2hhbmdlCiAgICBwYWdlZFJvd3M6IGZ1bmN0aW9uIHBhZ2VkUm93cygpIHsKICAgICAgLy8gV2hlbiB0aGUgdGFibGUgY29udGVudHMgY2hhbmdlczoKICAgICAgLy8gLSBSZW1vdmUgaXRlbXMgdGhhdCBhcmUgaW4gdGhlIHNlbGVjdGlvbiBidXQgbm8gbG9uZ2VyIGluIHRoZSB0YWJsZS4KCiAgICAgIHZhciBjb250ZW50ID0gdGhpcy5wYWdlZFJvd3M7CiAgICAgIHZhciB0b1JlbW92ZSA9IFtdOwogICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuc2VsZWN0ZWRSb3dzKSwKICAgICAgICBfc3RlcDU7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBub2RlID0gX3N0ZXA1LnZhbHVlOwogICAgICAgICAgaWYgKCFjb250ZW50LmluY2x1ZGVzKG5vZGUpKSB7CiAgICAgICAgICAgIHRvUmVtb3ZlLnB1c2gobm9kZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgfQogICAgICB0aGlzLnVwZGF0ZShbXSwgdG9SZW1vdmUpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25Ub2dnbGVBbGw6IGZ1bmN0aW9uIG9uVG9nZ2xlQWxsKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIHRoaXMudXBkYXRlKHRoaXMucGFnZWRSb3dzLCBbXSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGRhdGUoW10sIHRoaXMucGFnZWRSb3dzKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBvblJvd01vdXNlZG93bjogZnVuY3Rpb24gb25Sb3dNb3VzZWRvd24oZSkgewogICAgICBpZiAoaXNSYW5nZShlKSB8fCB0aGlzLmlzU2VsZWN0aW9uQ2hlY2tib3goZS50YXJnZXQpKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CiAgICB9LAogICAgb25Sb3dNb3VzZUVudGVyOiBmdW5jdGlvbiBvblJvd01vdXNlRW50ZXIoZSkgewogICAgICB2YXIgdHIgPSBlLnRhcmdldC5jbG9zZXN0KCdUUicpOwogICAgICBpZiAodHIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWItcm93JykpIHsKICAgICAgICB2YXIgdHJNYWluUm93ID0gdHIucHJldmlvdXNFbGVtZW50U2libGluZzsKICAgICAgICB0ck1haW5Sb3cuY2xhc3NMaXN0LmFkZCgnc3ViLXJvdy1ob3ZlcmVkJyk7CiAgICAgIH0KICAgIH0sCiAgICBvblJvd01vdXNlTGVhdmU6IGZ1bmN0aW9uIG9uUm93TW91c2VMZWF2ZShlKSB7CiAgICAgIHZhciB0ciA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1RSJyk7CiAgICAgIGlmICh0ci5jbGFzc0xpc3QuY29udGFpbnMoJ3N1Yi1yb3cnKSkgewogICAgICAgIHZhciB0ck1haW5Sb3cgPSB0ci5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOwogICAgICAgIHRyTWFpblJvdy5jbGFzc0xpc3QucmVtb3ZlKCdzdWItcm93LWhvdmVyZWQnKTsKICAgICAgfQogICAgfSwKICAgIG5vZGVGb3JFdmVudDogZnVuY3Rpb24gbm9kZUZvckV2ZW50KGUpIHsKICAgICAgdmFyIHRhZ05hbWUgPSBlLnRhcmdldC50YWdOYW1lOwogICAgICB2YXIgdGd0ID0gZS50YXJnZXQ7CiAgICAgIHZhciBhY3Rpb25FbGVtZW50ID0gdGd0LmNsb3Nlc3QoJy5hY3Rpb25zJyk7CiAgICAgIGlmICh0Z3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3QtYWxsLWNoZWNrJykpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCFhY3Rpb25FbGVtZW50KSB7CiAgICAgICAgaWYgKHRhZ05hbWUgPT09ICdBJyB8fCB0YWdOYW1lID09PSAnQlVUVE9OJyB8fCBnZXRQYXJlbnQodGd0LCAnLmJ0bicpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciB0Z3RSb3cgPSBlLnRhcmdldC5jbG9zZXN0KCdUUicpOwogICAgICByZXR1cm4gdGhpcy5ub2RlRm9yUm93KHRndFJvdyk7CiAgICB9LAogICAgbm9kZUZvclJvdzogZnVuY3Rpb24gbm9kZUZvclJvdyh0Z3RSb3cpIHsKICAgICAgdmFyIF90Z3RSb3csCiAgICAgICAgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKChfdGd0Um93ID0gdGd0Um93KSAhPT0gbnVsbCAmJiBfdGd0Um93ICE9PSB2b2lkIDAgJiYgX3RndFJvdy5jbGFzc0xpc3QuY29udGFpbnMoJ3NlcGFyYXRvci1yb3cnKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB3aGlsZSAodGd0Um93ICYmICF0Z3RSb3cuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLXJvdycpKSB7CiAgICAgICAgdGd0Um93ID0gdGd0Um93LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7CiAgICAgIH0KICAgICAgaWYgKCF0Z3RSb3cpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG5vZGVJZCA9IHRndFJvdy5kYXRhc2V0Lm5vZGVJZDsKICAgICAgaWYgKCFub2RlSWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG5vZGUgPSB0aGlzLnBhZ2VkUm93cy5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIGdldCh4LCBfdGhpczIua2V5RmllbGQpID09PSBub2RlSWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gbm9kZTsKICAgIH0sCiAgICBvblJvd0NsaWNrOiBmdW5jdGlvbiBvblJvd0NsaWNrKGUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG5vZGUsIHRkLCBza2lwU2VsZWN0LCBzZWxlY3Rpb24sIGlzQ2hlY2tib3gsIGlzRXhwYW5kLCBjb250ZW50LCBhY3Rpb25FbGVtZW50LCByZXNvdXJjZXMsIGksIGlzU2VsZWN0ZWQsIHByZXZOb2RlLCB0b1RvZ2dsZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBub2RlID0gX3RoaXMzLm5vZGVGb3JFdmVudChlKTsKICAgICAgICAgICAgICB0ZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJ1REJyk7CiAgICAgICAgICAgICAgc2tpcFNlbGVjdCA9IHRkID09PSBudWxsIHx8IHRkID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZC5jbGFzc0xpc3QuY29udGFpbnMoJ3NraXAtc2VsZWN0Jyk7CiAgICAgICAgICAgICAgaWYgKCFza2lwU2VsZWN0KSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHNlbGVjdGlvbiA9IF90aGlzMy5zZWxlY3RlZFJvd3M7CiAgICAgICAgICAgICAgaXNDaGVja2JveCA9IF90aGlzMy5pc1NlbGVjdGlvbkNoZWNrYm94KGUudGFyZ2V0KSB8fCAodGQgPT09IG51bGwgfHwgdGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRkLmNsYXNzTGlzdC5jb250YWlucygncm93LWNoZWNrJykpOwogICAgICAgICAgICAgIGlzRXhwYW5kID0gdGQgPT09IG51bGwgfHwgdGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRkLmNsYXNzTGlzdC5jb250YWlucygncm93LWV4cGFuZCcpOwogICAgICAgICAgICAgIGNvbnRlbnQgPSBfdGhpczMucGFnZWRSb3dzOwogICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgncm93Q2xpY2snLCBlKTsKICAgICAgICAgICAgICBpZiAobm9kZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGlmICghaXNFeHBhbmQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpczMudG9nZ2xlRXhwYW5kKG5vZGUpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGFjdGlvbkVsZW1lbnQgPSBlLnRhcmdldC5jbG9zZXN0KCcuYWN0aW9ucycpOwogICAgICAgICAgICAgIGlmICghYWN0aW9uRWxlbWVudCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJlc291cmNlcyA9IFtub2RlXTsKICAgICAgICAgICAgICBpZiAoIV90aGlzMy5tYW5nbGVBY3Rpb25SZXNvdXJjZXMpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpID0gYWN0aW9uRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpJyk7CiAgICAgICAgICAgICAgaS5jbGFzc0xpc3QucmVtb3ZlKCdpY29uLWFjdGlvbnMnKTsKICAgICAgICAgICAgICBpLmNsYXNzTGlzdC5hZGQoJ2ljb24tc3Bpbm5lcicpOwogICAgICAgICAgICAgIGkuY2xhc3NMaXN0LmFkZCgnaWNvbi1zcGluJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIzOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLm1hbmdsZUFjdGlvblJlc291cmNlcyhyZXNvdXJjZXMpOwogICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIHJlc291cmNlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI3OwogICAgICAgICAgICAgIGkuY2xhc3NMaXN0LnJlbW92ZSgnaWNvbi1zcGlubmVyJyk7CiAgICAgICAgICAgICAgaS5jbGFzc0xpc3QucmVtb3ZlKCdpY29uLXNwaW4nKTsKICAgICAgICAgICAgICBpLmNsYXNzTGlzdC5hZGQoJ2ljb24tYWN0aW9ucycpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMjcpOwogICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgIF90aGlzMy4kc3RvcmUuY29tbWl0KCJhY3Rpb24tbWVudS9zaG93IiwgewogICAgICAgICAgICAgICAgcmVzb3VyY2VzOiByZXNvdXJjZXMsCiAgICAgICAgICAgICAgICBldmVudDogZSwKICAgICAgICAgICAgICAgIGVsZW06IGFjdGlvbkVsZW1lbnQKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgY2FzZSAzNDoKICAgICAgICAgICAgICBpc1NlbGVjdGVkID0gc2VsZWN0aW9uLmluY2x1ZGVzKG5vZGUpOwogICAgICAgICAgICAgIHByZXZOb2RlID0gX3RoaXMzLnByZXZOb2RlOyAvLyBQcmV2Tm9kZSBpcyBvbmx5IHZhbGlkIGlmIGl0J3MgaW4gdGhlIGN1cnJlbnQgY29udGVudAogICAgICAgICAgICAgIGlmICghcHJldk5vZGUgfHwgIWNvbnRlbnQuaW5jbHVkZXMocHJldk5vZGUpKSB7CiAgICAgICAgICAgICAgICBwcmV2Tm9kZSA9IG5vZGU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChpc01vcmUoZSkpIHsKICAgICAgICAgICAgICAgIF90aGlzMy50b2dnbGUobm9kZSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1JhbmdlKGUpKSB7CiAgICAgICAgICAgICAgICB0b1RvZ2dsZSA9IF90aGlzMy5ub2Rlc0JldHdlZW4ocHJldk5vZGUsIG5vZGUpOwogICAgICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZShbXSwgdG9Ub2dnbGUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZSh0b1RvZ2dsZSwgW10pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNDaGVja2JveCkgewogICAgICAgICAgICAgICAgX3RoaXMzLnRvZ2dsZShub2RlKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZShbbm9kZV0sIGNvbnRlbnQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpczMucHJldk5vZGUgPSBub2RlOwogICAgICAgICAgICBjYXNlIDM5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syMywsIDI3LCAzMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25Sb3dDb250ZXh0OiBmdW5jdGlvbiBvblJvd0NvbnRleHQoZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIG5vZGUsIGlzU2VsZWN0ZWQsIHJlc291cmNlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgbm9kZSA9IF90aGlzNC5ub2RlRm9yRXZlbnQoZSk7CiAgICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0NvbnRleHRNZW51KGUpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgaWYgKG5vZGUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICBfdGhpczQucHJldk5vZGUgPSBub2RlOwogICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBfdGhpczQuc2VsZWN0ZWRSb3dzLmluY2x1ZGVzKG5vZGUpOwogICAgICAgICAgICAgIGlmICghaXNTZWxlY3RlZCkgewogICAgICAgICAgICAgICAgX3RoaXM0LnVwZGF0ZShbbm9kZV0sIF90aGlzNC5zZWxlY3RlZFJvd3Muc2xpY2UoKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJlc291cmNlcyA9IF90aGlzNC5zZWxlY3RlZFJvd3M7CiAgICAgICAgICAgICAgaWYgKCFfdGhpczQubWFuZ2xlQWN0aW9uUmVzb3VyY2VzKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5tYW5nbGVBY3Rpb25SZXNvdXJjZXMocmVzb3VyY2VzKTsKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICByZXNvdXJjZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfdGhpczQuJHN0b3JlLmNvbW1pdCgiYWN0aW9uLW1lbnUvc2hvdyIsIHsKICAgICAgICAgICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLAogICAgICAgICAgICAgICAgZXZlbnQ6IGUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGtleVNlbGVjdFJvdzogZnVuY3Rpb24ga2V5U2VsZWN0Um93KHJvdykgewogICAgICB2YXIgbW9yZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICAgIHZhciBub2RlID0gdGhpcy5ub2RlRm9yUm93KHJvdyk7CiAgICAgIHZhciBjb250ZW50ID0gdGhpcy5wYWdlZFJvd3M7CiAgICAgIGlmICghbm9kZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAobW9yZSkgewogICAgICAgIHRoaXMudXBkYXRlKFtub2RlXSwgW10pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXBkYXRlKFtub2RlXSwgY29udGVudCk7CiAgICAgIH0KICAgICAgdGhpcy5wcmV2Tm9kZSA9IG5vZGU7CiAgICB9LAogICAgaXNTZWxlY3Rpb25DaGVja2JveDogZnVuY3Rpb24gaXNTZWxlY3Rpb25DaGVja2JveChlbGVtZW50KSB7CiAgICAgIHJldHVybiBlbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcgJiYgZWxlbWVudC50eXBlID09PSAnY2hlY2tib3gnICYmIGVsZW1lbnQuY2xvc2VzdCgnLnNlbGVjdGlvbi1jaGVja2JveCcpICE9PSBudWxsOwogICAgfSwKICAgIG5vZGVzQmV0d2VlbjogZnVuY3Rpb24gbm9kZXNCZXR3ZWVuKGEsIGIpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHZhciB0b1RvZ2dsZSA9IFtdOwogICAgICB2YXIga2V5ID0gdGhpcy5ncm91cEJ5OwogICAgICBpZiAoa2V5KSB7CiAgICAgICAgLy8gR3JvdXBlZCBoYXMgMiBsZXZlbHMgdG8gbG9vayB0aHJvdWdoCiAgICAgICAgdmFyIGdyb3VwZWQgPSB0aGlzLmdyb3VwZWRSb3dzOwogICAgICAgIHZhciBmcm9tID0gdGhpcy5ncm91cElkeChhKTsKICAgICAgICB2YXIgdG8gPSB0aGlzLmdyb3VwSWR4KGIpOwogICAgICAgIGlmICghZnJvbSB8fCAhdG8pIHsKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICB9CgogICAgICAgIC8vIEZyb20gaGFzIHRvIGNvbWUgYmVmb3JlIFRvCiAgICAgICAgaWYgKGZyb20uZ3JvdXAgPiB0by5ncm91cCB8fCBmcm9tLmdyb3VwID09PSB0by5ncm91cCAmJiBmcm9tLml0ZW0gPiB0by5pdGVtKSB7CiAgICAgICAgICB2YXIgX3JlZiA9IFt0bywgZnJvbV07CiAgICAgICAgICBmcm9tID0gX3JlZlswXTsKICAgICAgICAgIHRvID0gX3JlZlsxXTsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgaSA9IGZyb20uZ3JvdXA7IGkgPD0gdG8uZ3JvdXA7IGkrKykgewogICAgICAgICAgdmFyIGl0ZW1zID0gZ3JvdXBlZFtpXS5yb3dzOwogICAgICAgICAgdmFyIGogPSBmcm9tLmdyb3VwID09PSBpID8gZnJvbS5pdGVtIDogMDsKICAgICAgICAgIHdoaWxlIChpdGVtc1tqXSAmJiAoaSA8IHRvLmdyb3VwIHx8IGogPD0gdG8uaXRlbSkpIHsKICAgICAgICAgICAgdG9Ub2dnbGUucHVzaChpdGVtc1tqXSk7CiAgICAgICAgICAgIGorKzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVW5ncm91cGVkIGlzIG11Y2ggc2ltcGxlcgogICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5wYWdlZFJvd3M7CiAgICAgICAgdmFyIF9mcm9tID0gY29udGVudC5pbmRleE9mKGEpOwogICAgICAgIHZhciBfdG8gPSBjb250ZW50LmluZGV4T2YoYik7CiAgICAgICAgdmFyIF9yZWYyID0gW01hdGgubWluKF9mcm9tLCBfdG8pLCBNYXRoLm1heChfZnJvbSwgX3RvKV07CiAgICAgICAgX2Zyb20gPSBfcmVmMlswXTsKICAgICAgICBfdG8gPSBfcmVmMlsxXTsKICAgICAgICB0b1RvZ2dsZSA9IGNvbnRlbnQuc2xpY2UoX2Zyb20sIF90byArIDEpOwogICAgICB9CgogICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhbHJlYWR5IGR1cGxpY2F0ZSBjb250ZW50IHNlbGVjdGVkIChzZWxlY3RlZFJvd3MpIG9uIHRoZSBsaXN0IHRvIHRvZ2dsZS4uLgogICAgICB0b1RvZ2dsZSA9IHRvVG9nZ2xlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAhX3RoaXM1LnNlbGVjdGVkUm93cy5pbmNsdWRlcyhpdGVtKTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0b1RvZ2dsZTsKICAgIH0sCiAgICBncm91cElkeDogZnVuY3Rpb24gZ3JvdXBJZHgobm9kZSkgewogICAgICB2YXIgZ3JvdXBlZCA9IHRoaXMuZ3JvdXBlZFJvd3M7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBlZC5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciByb3dzID0gZ3JvdXBlZFtpXS5yb3dzOwogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcm93cy5sZW5ndGg7IGorKykgewogICAgICAgICAgaWYgKHJvd3Nbal0gPT09IG5vZGUpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBncm91cDogaSwKICAgICAgICAgICAgICBpdGVtOiBqCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKG5vZGUpIHsKICAgICAgdmFyIGFkZCA9IFtdOwogICAgICB2YXIgcmVtb3ZlID0gW107CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm93cy5pbmNsdWRlcyhub2RlKSkgewogICAgICAgIHJlbW92ZS5wdXNoKG5vZGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGFkZC5wdXNoKG5vZGUpOwogICAgICB9CiAgICAgIHRoaXMudXBkYXRlKGFkZCwgcmVtb3ZlKTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSh0b0FkZCwgdG9SZW1vdmUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHRvUmVtb3ZlLmZvckVhY2goZnVuY3Rpb24gKHJvdykgewogICAgICAgIHZhciBpbmRleCA9IF90aGlzNi5zZWxlY3RlZFJvd3MuZmluZEluZGV4KGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICByZXR1cm4gciA9PT0gcm93OwogICAgICAgIH0pOwogICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICAgIF90aGlzNi5zZWxlY3RlZFJvd3Muc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAodG9BZGQpIHsKICAgICAgICB2YXIgX3RoaXMkc2VsZWN0ZWRSb3dzOwogICAgICAgIChfdGhpcyRzZWxlY3RlZFJvd3MgPSB0aGlzLnNlbGVjdGVkUm93cykucHVzaC5hcHBseShfdGhpcyRzZWxlY3RlZFJvd3MsIF90b0NvbnN1bWFibGVBcnJheSh0b0FkZCkpOwogICAgICB9CgogICAgICAvLyBVbmNoZWNrIGFuZCBjaGVjayB0aGUgY2hlY2tib3hlcyBvZiBub2RlcyB0aGF0IGhhdmUgYmVlbiBhZGRlZC9yZW1vdmVkCiAgICAgIGlmICh0b1JlbW92ZS5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvUmVtb3ZlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIF90aGlzNi51cGRhdGVJbnB1dCh0b1JlbW92ZVtpXSwgZmFsc2UsIF90aGlzNi5rZXlGaWVsZCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRvQWRkLmxlbmd0aCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9BZGQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgX3RoaXM2LnVwZGF0ZUlucHV0KHRvQWRkW2ldLCB0cnVlLCBfdGhpczYua2V5RmllbGQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuJGVtaXQoJ3NlbGVjdGlvbicsIF90aGlzNi5zZWxlY3RlZFJvd3MpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVJbnB1dDogZnVuY3Rpb24gdXBkYXRlSW5wdXQobm9kZSwgb24sIGtleUZpZWxkKSB7CiAgICAgIHZhciBpZCA9IGdldChub2RlLCBrZXlGaWVsZCk7CiAgICAgIGlmIChpZCkgewogICAgICAgIC8vIE5vdGU6IFRoaXMgaXMgbG9va2luZyBmb3IgdGhlIGNoZWNrYm94IGNvbnRyb2wgZm9yIHRoZSByb3cKICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCJkaXZbZGF0YS1jaGVja2JveC1jdHJsXVtkYXRhLW5vZGUtaWQ9XCIiLmNvbmNhdChpZCwgIlwiXSIpKTsKICAgICAgICBpZiAoaW5wdXQgJiYgIWlucHV0LmRpc2FibGVkKSB7CiAgICAgICAgICB2YXIgbGFiZWwgPSBpbnB1dC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpOwogICAgICAgICAgaWYgKGxhYmVsKSB7CiAgICAgICAgICAgIGxhYmVsLnZhbHVlID0gb247CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgdHIgPSBpbnB1dC5jbG9zZXN0KCd0cicpOwogICAgICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTsKICAgICAgICAgIHdoaWxlICh0ciAmJiAoZmlyc3QgfHwgdHIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWItcm93JykpKSB7CiAgICAgICAgICAgIGlmIChvbikgewogICAgICAgICAgICAgIHRyLmNsYXNzTGlzdC5hZGQoJ3Jvdy1zZWxlY3RlZCcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRyLmNsYXNzTGlzdC5yZW1vdmUoJ3Jvdy1zZWxlY3RlZCcpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyID0gdHIubmV4dEVsZW1lbnRTaWJsaW5nOwogICAgICAgICAgICBmaXJzdCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KG5vZGVzKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgdmFyIGlkID0gZ2V0KG5vZGUsIF90aGlzNy5rZXlGaWVsZCk7CiAgICAgICAgdmFyIGlucHV0ID0gX3RoaXM3LiRlbC5xdWVyeVNlbGVjdG9yKCJsYWJlbFtkYXRhLW5vZGUtaWQ9XCIiLmNvbmNhdChpZCwgIlwiXSIpKTsKICAgICAgICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2xpY2snKSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFwcGx5VGFibGVBY3Rpb246IGZ1bmN0aW9uIGFwcGx5VGFibGVBY3Rpb24oYWN0aW9uLCBhcmdzLCBldmVudCkgewogICAgICB2YXIgb3B0cyA9IHsKICAgICAgICBhbHQ6IGV2ZW50ICYmIGlzQWx0ZXJuYXRlKGV2ZW50KSwKICAgICAgICBldmVudDogZXZlbnQKICAgICAgfTsKCiAgICAgIC8vIEdvIHRocm91Z2ggdGhlIHRhYmxlIHNlbGVjdGlvbiBhbmQgZmlsdGVyIG91dCB0aG9zZSBhY3Rpb25zIHRoYXQgY2FuJ3QgcnVuIHRoZSBjaG9zZW4gYWN0aW9uCiAgICAgIHZhciBleGVjdXRhYmxlU2VsZWN0aW9uID0gdGhpcy5zZWxlY3RlZFJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICB2YXIgbWF0Y2hpbmdSZXNvdXJjZUFjdGlvbiA9IHJvdy5hdmFpbGFibGVBY3Rpb25zLmZpbmQoZnVuY3Rpb24gKGEpIHsKICAgICAgICAgIHJldHVybiBhLmFjdGlvbiA9PT0gYWN0aW9uLmFjdGlvbjsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbWF0Y2hpbmdSZXNvdXJjZUFjdGlvbiA9PT0gbnVsbCB8fCBtYXRjaGluZ1Jlc291cmNlQWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYXRjaGluZ1Jlc291cmNlQWN0aW9uLmVuYWJsZWQ7CiAgICAgIH0pOwogICAgICBfZXhlY3V0ZShleGVjdXRhYmxlU2VsZWN0aW9uLCBhY3Rpb24sIGFyZ3MsIG9wdHMsIHRoaXMpOwogICAgICB0aGlzLmFjdGlvbk9mSW50ZXJlc3QgPSBudWxsOwogICAgfSwKICAgIGNsZWFyU2VsZWN0aW9uOiBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbigpIHsKICAgICAgdGhpcy51cGRhdGUoW10sIHRoaXMuc2VsZWN0ZWRSb3dzKTsKICAgIH0KICB9Cn07CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8gLS0tIEhlbHBlcnMgdGhhdCB3ZXJlIGluIHNlbGVjdGlvblN0b3JlLmpzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKdmFyIGFub24gPSAwOwpmdW5jdGlvbiBfYWRkKG1hcCwgYWN0KSB7CiAgdmFyIGluY3JlbWVudENvdW50cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICB2YXIgaWQgPSBhY3QuYWN0aW9uOwogIGlmICghaWQpIHsKICAgIGlkID0gImFub24iLmNvbmNhdChhbm9uKTsKICAgIGFub24rKzsKICB9CiAgdmFyIG9iaiA9IG1hcFtpZF07CiAgaWYgKCFvYmopIHsKICAgIG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGFjdCk7CiAgICBtYXBbaWRdID0gb2JqOwogICAgb2JqLmFsbEVuYWJsZWQgPSBmYWxzZTsKICB9CiAgaWYgKCFhY3QuZW5hYmxlZCkgewogICAgb2JqLmFsbEVuYWJsZWQgPSBmYWxzZTsKICB9IGVsc2UgewogICAgb2JqLmFueUVuYWJsZWQgPSB0cnVlOwogIH0KICBpZiAoaW5jcmVtZW50Q291bnRzKSB7CiAgICBvYmouYXZhaWxhYmxlID0gKG9iai5hdmFpbGFibGUgfHwgMCkgKyAoIWFjdC5lbmFibGVkID8gMCA6IDEpOwogICAgb2JqLnRvdGFsID0gKG9iai50b3RhbCB8fCAwKSArIDE7CiAgfQogIHJldHVybiBvYmo7Cn0KZnVuY3Rpb24gX2ZpbHRlcihtYXApIHsKICB2YXIgZGlzYWJsZUFsbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgdmFyIG91dCA9IGZpbHRlckJ5KE9iamVjdC52YWx1ZXMobWFwKSwgJ2FueUVuYWJsZWQnLCB0cnVlKTsKICB2YXIgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG91dCksCiAgICBfc3RlcDY7CiAgdHJ5IHsKICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgIHZhciBhY3QgPSBfc3RlcDYudmFsdWU7CiAgICAgIGlmIChkaXNhYmxlQWxsKSB7CiAgICAgICAgYWN0LmVuYWJsZWQgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhY3QuZW5hYmxlZCA9IGFjdC5hdmFpbGFibGUgPj0gYWN0LnRvdGFsOwogICAgICB9CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfaXRlcmF0b3I2LmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yNi5mKCk7CiAgfQogIHJldHVybiBvdXQ7Cn0KZnVuY3Rpb24gX2V4ZWN1dGUocmVzb3VyY2VzLCBhY3Rpb24sIGFyZ3MpIHsKICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307CiAgdmFyIGN0eCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogdW5kZWZpbmVkOwogIGFyZ3MgPSBhcmdzIHx8IFtdOwoKICAvLyBOZXcgcGF0dGVybiBmb3IgZXh0ZW5zaW9ucyAtIGFsd2F5cyBjYWxsIGludm9rZQogIGlmIChhY3Rpb24uaW52b2tlKSB7CiAgICB2YXIgYWN0aW9uT3B0cyA9IHsKICAgICAgYWN0aW9uOiBhY3Rpb24sCiAgICAgIGV2ZW50OiBvcHRzLmV2ZW50LAogICAgICBpc0FsdDogISFvcHRzLmFsdAogICAgfTsKICAgIHJldHVybiBhY3Rpb24uaW52b2tlLmFwcGx5KGN0eCwgW2FjdGlvbk9wdHMsIHJlc291cmNlcyB8fCBbXSwgYXJnc10pOwogIH0KICBpZiAocmVzb3VyY2VzLmxlbmd0aCA+IDEgJiYgYWN0aW9uLmJ1bGtBY3Rpb24gJiYgIW9wdHMuYWx0KSB7CiAgICB2YXIgZm4gPSByZXNvdXJjZXNbMF1bYWN0aW9uLmJ1bGtBY3Rpb25dOwogICAgaWYgKGZuKSB7CiAgICAgIHJldHVybiBmbi5jYWxsLmFwcGx5KGZuLCBbcmVzb3VyY2VzWzBdLCByZXNvdXJjZXNdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpKTsKICAgIH0KICB9CiAgdmFyIHByb21pc2VzID0gW107CiAgdmFyIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZXNvdXJjZXMpLAogICAgX3N0ZXA3OwogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykgewogICAgICB2YXIgcmVzb3VyY2UgPSBfc3RlcDcudmFsdWU7CiAgICAgIHZhciBfZm4gPSB2b2lkIDA7CiAgICAgIGlmIChvcHRzLmFsdCAmJiBhY3Rpb24uYWx0QWN0aW9uKSB7CiAgICAgICAgX2ZuID0gcmVzb3VyY2VbYWN0aW9uLmFsdEFjdGlvbl07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX2ZuID0gcmVzb3VyY2VbYWN0aW9uLmFjdGlvbl07CiAgICAgIH0KICAgICAgaWYgKF9mbikgewogICAgICAgIHByb21pc2VzLnB1c2goX2ZuLmFwcGx5KHJlc291cmNlLCBhcmdzKSk7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvcjcuZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3I3LmYoKTsKICB9CiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTsKfQ=="},{"version":3,"names":["isMore","isRange","suppressContextMenu","isAlternate","get","filterBy","getParent","ALL","SOME","NONE","mounted","table","$el","querySelector","_onRowClickBound","onRowClick","bind","_onRowMousedownBound","onRowMousedown","_onRowContextBound","onRowContext","addEventListener","beforeDestroy","removeEventListener","computed","howMuchSelected","total","pagedRows","length","selected","selectedRows","bulkActionsForSelection","_this","disableAll","all","allRows","arrangedRows","firstNode","map","_iterator","_createForOfIteratorHelper","_step","s","n","done","node","value","availableActions","_iterator3","_step3","act","bulkable","_add","err","e","f","_iterator2","_step2","_iterator4","_step4","enabled","out","_filter","forEach","bulkAction","actionEnabledForSomeSelected","some","action","sort","a","b","weight","data","prevNode","watch","content","toRemove","_iterator5","_step5","includes","push","update","methods","onToggleAll","isSelectionCheckbox","target","preventDefault","onRowMouseEnter","tr","closest","classList","contains","trMainRow","previousElementSibling","add","onRowMouseLeave","remove","nodeForEvent","tagName","tgt","actionElement","tgtRow","nodeForRow","_tgtRow","_this2","nodeId","dataset","find","x","keyField","_this3","_asyncToGenerator","regeneratorRuntime","mark","_callee","td","skipSelect","selection","isCheckbox","isExpand","resources","i","isSelected","toToggle","wrap","_callee$","_context","prev","next","abrupt","$emit","toggleExpand","mangleActionResources","sent","finish","$store","commit","event","elem","toggle","nodesBetween","stop","_this4","_callee2","_callee2$","_context2","stopPropagation","slice","keySelectRow","row","more","arguments","undefined","element","type","_this5","key","groupBy","grouped","groupedRows","from","groupIdx","to","group","item","_ref","items","rows","j","indexOf","_ref2","Math","min","max","filter","toAdd","_this6","index","findIndex","r","splice","_this$selectedRows","apply","_toConsumableArray","$nextTick","updateInput","on","id","input","concat","disabled","label","first","nextElementSibling","select","nodes","_this7","dispatchEvent","Event","applyTableAction","args","opts","alt","executableSelection","matchingResourceAction","_execute","actionOfInterest","clearSelection","anon","incrementCounts","obj","Object","assign","allEnabled","anyEnabled","available","values","_iterator6","_step6","ctx","invoke","actionOpts","isAlt","fn","call","promises","_iterator7","_step7","resource","altAction","Promise"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/selection.js"],"sourcesContent":["import { isMore, isRange, suppressContextMenu, isAlternate } from '@shell/utils/platform';\nimport { get } from '@shell/utils/object';\nimport { filterBy } from '@shell/utils/array';\nimport { getParent } from '@shell/utils/dom';\n\nexport const ALL = 'all';\nexport const SOME = 'some';\nexport const NONE = 'none';\n\nexport default {\n  mounted() {\n    const table = this.$el.querySelector('TABLE');\n\n    this._onRowClickBound = this.onRowClick.bind(this);\n    this._onRowMousedownBound = this.onRowMousedown.bind(this);\n    this._onRowContextBound = this.onRowContext.bind(this);\n\n    table.addEventListener('click', this._onRowClickBound);\n    table.addEventListener('mousedown', this._onRowMousedownBound);\n    table.addEventListener('contextmenu', this._onRowContextBound);\n  },\n\n  beforeDestroy() {\n    const table = this.$el.querySelector('TABLE');\n\n    table.removeEventListener('click', this._onRowClickBound);\n    table.removeEventListener('mousedown', this._onRowMousedownBound);\n    table.removeEventListener('contextmenu', this._onRowContextBound);\n  },\n\n  computed: {\n    // Used for the table-level selection check-box to show checked (all selected)/intermediate (some selected)/unchecked (none selected)\n    howMuchSelected() {\n      const total = this.pagedRows.length;\n      const selected = this.selectedRows.length;\n\n      if ( selected >= total && total > 0 ) {\n        return ALL;\n      } else if ( selected > 0 ) {\n        return SOME;\n      }\n\n      return NONE;\n    },\n\n    // NOTE: The logic here could be simplified and made more performant\n    bulkActionsForSelection() {\n      let disableAll = false;\n      // pagedRows is all rows in the current page\n      const all = this.pagedRows;\n      const allRows = this.arrangedRows;\n      let selected = this.selectedRows;\n\n      // Nothing is selected\n      if ( !this.selectedRows.length ) {\n        // and there are no rows\n        if ( !allRows ) {\n          return [];\n        }\n\n        const firstNode = allRows[0];\n\n        selected = firstNode ? [firstNode] : [];\n        disableAll = true;\n      }\n\n      const map = {};\n\n      // Find and add all the actions for all the nodes so that we know\n      // what all the possible actions are\n      for ( const node of all ) {\n        if (node.availableActions) {\n          for ( const act of node.availableActions ) {\n            if ( act.bulkable ) {\n              _add(map, act, false);\n            }\n          }\n        }\n      }\n\n      // Go through all the selected items and add the actions (which were already identified above)\n      // as available for some (or all) of the selected nodes\n      for ( const node of selected ) {\n        if (node.availableActions) {\n          for ( const act of node.availableActions ) {\n            if ( act.bulkable && act.enabled ) {\n              _add(map, act, false);\n            }\n          }\n        }\n      }\n\n      // If there's no items actually selected, we want to see all the actions\n      // so you know what exists, but have them all be disabled since there's nothing to do them on.\n      const out = _filter(map, disableAll);\n\n      // Enable a bulkaction if some of the selected items can perform the action\n      out.forEach((bulkAction) => {\n        const actionEnabledForSomeSelected = this.selectedRows.some((node) => {\n          const availableActions = node.availableActions || [];\n\n          return availableActions.some((action) => action.action === bulkAction.action && action.enabled);\n        });\n\n        bulkAction.enabled = this.selectedRows.length > 0 && actionEnabledForSomeSelected;\n      });\n\n      return out.sort((a, b) => (b.weight || 0) - (a.weight || 0));\n    }\n  },\n\n  data() {\n    return {\n      // List of selected items in the table\n      selectedRows: [],\n      prevNode:     null,\n    };\n  },\n\n  watch: {\n    // On page change\n    pagedRows() {\n      // When the table contents changes:\n      // - Remove items that are in the selection but no longer in the table.\n\n      const content = this.pagedRows;\n      const toRemove = [];\n\n      for (const node of this.selectedRows) {\n        if (!content.includes(node) ) {\n          toRemove.push(node);\n        }\n      }\n\n      this.update([], toRemove);\n    }\n  },\n\n  methods: {\n    onToggleAll(value) {\n      if ( value ) {\n        this.update(this.pagedRows, []);\n\n        return true;\n      } else {\n        this.update([], this.pagedRows);\n\n        return false;\n      }\n    },\n\n    onRowMousedown(e) {\n      if ( isRange(e) || this.isSelectionCheckbox(e.target) ) {\n        e.preventDefault();\n      }\n    },\n\n    onRowMouseEnter(e) {\n      const tr = e.target.closest('TR');\n\n      if (tr.classList.contains('sub-row')) {\n        const trMainRow = tr.previousElementSibling;\n\n        trMainRow.classList.add('sub-row-hovered');\n      }\n    },\n\n    onRowMouseLeave(e) {\n      const tr = e.target.closest('TR');\n\n      if (tr.classList.contains('sub-row')) {\n        const trMainRow = tr.previousElementSibling;\n\n        trMainRow.classList.remove('sub-row-hovered');\n      }\n    },\n\n    nodeForEvent(e) {\n      const tagName = e.target.tagName;\n      const tgt = e.target;\n      const actionElement = tgt.closest('.actions');\n\n      if ( tgt.classList.contains('select-all-check') ) {\n        return;\n      }\n\n      if ( !actionElement ) {\n        if (\n          tagName === 'A' ||\n          tagName === 'BUTTON' ||\n          getParent(tgt, '.btn')\n        ) {\n          return;\n        }\n      }\n\n      const tgtRow = e.target.closest('TR');\n\n      return this.nodeForRow(tgtRow);\n    },\n\n    nodeForRow(tgtRow) {\n      if ( tgtRow?.classList.contains('separator-row') ) {\n        return;\n      }\n\n      while ( tgtRow && !tgtRow.classList.contains('main-row') ) {\n        tgtRow = tgtRow.previousElementSibling;\n      }\n\n      if ( !tgtRow ) {\n        return;\n      }\n\n      const nodeId = tgtRow.dataset.nodeId;\n\n      if ( !nodeId ) {\n        return;\n      }\n\n      const node = this.pagedRows.find( (x) => get(x, this.keyField) === nodeId );\n\n      return node;\n    },\n\n    async onRowClick(e) {\n      const node = this.nodeForEvent(e);\n      const td = e.target.closest('TD');\n      const skipSelect = td?.classList.contains('skip-select');\n\n      if (skipSelect) {\n        return;\n      }\n      const selection = this.selectedRows;\n      const isCheckbox = this.isSelectionCheckbox(e.target) || td?.classList.contains('row-check');\n      const isExpand = td?.classList.contains('row-expand');\n      const content = this.pagedRows;\n\n      this.$emit('rowClick', e);\n\n      if ( !node ) {\n        return;\n      }\n\n      if ( isExpand ) {\n        this.toggleExpand(node);\n\n        return;\n      }\n\n      const actionElement = e.target.closest('.actions');\n\n      if ( actionElement ) {\n        let resources = [node];\n\n        if ( this.mangleActionResources ) {\n          const i = actionElement.querySelector('i');\n\n          i.classList.remove('icon-actions');\n          i.classList.add('icon-spinner');\n          i.classList.add('icon-spin');\n\n          try {\n            resources = await this.mangleActionResources(resources);\n          } finally {\n            i.classList.remove('icon-spinner');\n            i.classList.remove('icon-spin');\n            i.classList.add('icon-actions');\n          }\n        }\n\n        this.$store.commit(`action-menu/show`, {\n          resources,\n          event: e,\n          elem:  actionElement\n        });\n\n        return;\n      }\n\n      const isSelected = selection.includes(node);\n      let prevNode = this.prevNode;\n\n      // PrevNode is only valid if it's in the current content\n      if ( !prevNode || !content.includes(prevNode) ) {\n        prevNode = node;\n      }\n\n      if ( isMore(e) ) {\n        this.toggle(node);\n      } else if ( isRange(e) ) {\n        const toToggle = this.nodesBetween(prevNode, node);\n\n        if ( isSelected ) {\n          this.update([], toToggle);\n        } else {\n          this.update(toToggle, []);\n        }\n      } else if ( isCheckbox ) {\n        this.toggle(node);\n      } else {\n        this.update([node], content);\n      }\n\n      this.prevNode = node;\n    },\n\n    async onRowContext(e) {\n      const node = this.nodeForEvent(e);\n\n      if ( suppressContextMenu(e) ) {\n        return;\n      }\n\n      if ( !node ) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      this.prevNode = node;\n      const isSelected = this.selectedRows.includes(node);\n\n      if ( !isSelected ) {\n        this.update([node], this.selectedRows.slice());\n      }\n\n      let resources = this.selectedRows;\n\n      if ( this.mangleActionResources ) {\n        resources = await this.mangleActionResources(resources);\n      }\n\n      this.$store.commit(`action-menu/show`, {\n        resources,\n        event: e,\n      });\n    },\n\n    keySelectRow(row, more = false) {\n      const node = this.nodeForRow(row);\n      const content = this.pagedRows;\n\n      if ( !node ) {\n        return;\n      }\n\n      if ( more ) {\n        this.update([node], []);\n      } else {\n        this.update([node], content);\n      }\n\n      this.prevNode = node;\n    },\n\n    isSelectionCheckbox(element) {\n      return element.tagName === 'INPUT' &&\n        element.type === 'checkbox' &&\n        element.closest('.selection-checkbox') !== null;\n    },\n\n    nodesBetween(a, b) {\n      let toToggle = [];\n      const key = this.groupBy;\n\n      if ( key ) {\n        // Grouped has 2 levels to look through\n        const grouped = this.groupedRows;\n\n        let from = this.groupIdx(a);\n        let to = this.groupIdx(b);\n\n        if ( !from || !to ) {\n          return [];\n        }\n\n        // From has to come before To\n        if ( (from.group > to.group) || ((from.group === to.group) && (from.item > to.item)) ) {\n          [from, to] = [to, from];\n        }\n\n        for ( let i = from.group ; i <= to.group ; i++ ) {\n          const items = grouped[i].rows;\n          let j = (from.group === i ? from.item : 0);\n\n          while ( items[j] && ( i < to.group || j <= to.item )) {\n            toToggle.push(items[j]);\n            j++;\n          }\n        }\n      } else {\n        // Ungrouped is much simpler\n        const content = this.pagedRows;\n        let from = content.indexOf(a);\n        let to = content.indexOf(b);\n\n        [from, to] = [Math.min(from, to), Math.max(from, to)];\n        toToggle = content.slice(from, to + 1);\n      }\n\n      // check if there is already duplicate content selected (selectedRows) on the list to toggle...\n      toToggle = toToggle.filter((item) => !this.selectedRows.includes(item));\n\n      return toToggle;\n    },\n\n    groupIdx(node) {\n      const grouped = this.groupedRows;\n\n      for ( let i = 0 ; i < grouped.length ; i++ ) {\n        const rows = grouped[i].rows;\n\n        for ( let j = 0 ; j < rows.length ; j++ ) {\n          if ( rows[j] === node ) {\n            return {\n              group: i,\n              item:  j\n            };\n          }\n        }\n      }\n\n      return null;\n    },\n\n    toggle(node) {\n      const add = [];\n      const remove = [];\n\n      if (this.selectedRows.includes(node)) {\n        remove.push(node);\n      } else {\n        add.push(node);\n      }\n\n      this.update(add, remove);\n    },\n\n    update(toAdd, toRemove) {\n      toRemove.forEach((row) => {\n        const index = this.selectedRows.findIndex((r) => r === row);\n\n        if (index !== -1) {\n          this.selectedRows.splice(index, 1);\n        }\n      });\n\n      if ( toAdd ) {\n        this.selectedRows.push(...toAdd);\n      }\n\n      // Uncheck and check the checkboxes of nodes that have been added/removed\n      if (toRemove.length) {\n        this.$nextTick(() => {\n          for ( let i = 0 ; i < toRemove.length ; i++ ) {\n            this.updateInput(toRemove[i], false, this.keyField);\n          }\n        });\n      }\n\n      if (toAdd.length) {\n        this.$nextTick(() => {\n          for ( let i = 0 ; i < toAdd.length ; i++ ) {\n            this.updateInput(toAdd[i], true, this.keyField);\n          }\n        });\n      }\n\n      this.$nextTick(() => {\n        this.$emit('selection', this.selectedRows);\n      });\n    },\n\n    updateInput(node, on, keyField) {\n      const id = get(node, keyField);\n\n      if ( id ) {\n        // Note: This is looking for the checkbox control for the row\n        const input = this.$el.querySelector(`div[data-checkbox-ctrl][data-node-id=\"${ id }\"]`);\n\n        if ( input && !input.disabled ) {\n          const label = input.querySelector('label');\n\n          if (label) {\n            label.value = on;\n          }\n          let tr = input.closest('tr');\n          let first = true;\n\n          while ( tr && (first || tr.classList.contains('sub-row') ) ) {\n            if (on) {\n              tr.classList.add('row-selected');\n            } else {\n              tr.classList.remove('row-selected');\n            }\n            tr = tr.nextElementSibling;\n            first = false;\n          }\n        }\n      }\n    },\n\n    select(nodes) {\n      nodes.forEach((node) => {\n        const id = get(node, this.keyField);\n        const input = this.$el.querySelector(`label[data-node-id=\"${ id }\"]`);\n\n        input.dispatchEvent(new Event('click'));\n      });\n    },\n\n    applyTableAction(action, args, event) {\n      const opts = { alt: event && isAlternate(event), event };\n\n      // Go through the table selection and filter out those actions that can't run the chosen action\n      const executableSelection = this.selectedRows.filter((row) => {\n        const matchingResourceAction = row.availableActions.find((a) => a.action === action.action);\n\n        return matchingResourceAction?.enabled;\n      });\n\n      _execute(executableSelection, action, args, opts, this);\n\n      this.actionOfInterest = null;\n    },\n\n    clearSelection() {\n      this.update([], this.selectedRows);\n    },\n\n  }\n};\n\n// ---------------------------------------------------------------------\n// --- Helpers that were in selectionStore.js --------------------------\n// ---------------------------------------------------------------------\n\nlet anon = 0;\n\nfunction _add(map, act, incrementCounts = true) {\n  let id = act.action;\n\n  if ( !id ) {\n    id = `anon${ anon }`;\n    anon++;\n  }\n\n  let obj = map[id];\n\n  if ( !obj ) {\n    obj = Object.assign({}, act);\n    map[id] = obj;\n    obj.allEnabled = false;\n  }\n\n  if ( !act.enabled ) {\n    obj.allEnabled = false;\n  } else {\n    obj.anyEnabled = true;\n  }\n\n  if ( incrementCounts ) {\n    obj.available = (obj.available || 0) + (!act.enabled ? 0 : 1 );\n    obj.total = (obj.total || 0) + 1;\n  }\n\n  return obj;\n}\n\nfunction _filter(map, disableAll = false) {\n  const out = filterBy(Object.values(map), 'anyEnabled', true);\n\n  for ( const act of out ) {\n    if ( disableAll ) {\n      act.enabled = false;\n    } else {\n      act.enabled = ( act.available >= act.total );\n    }\n  }\n\n  return out;\n}\n\nfunction _execute(resources, action, args, opts = {}, ctx) {\n  args = args || [];\n\n  // New pattern for extensions - always call invoke\n  if (action.invoke) {\n    const actionOpts = {\n      action,\n      event: opts.event,\n      isAlt: !!opts.alt,\n    };\n\n    return action.invoke.apply(ctx, [actionOpts, resources || [], args]);\n  }\n\n  if ( resources.length > 1 && action.bulkAction && !opts.alt ) {\n    const fn = resources[0][action.bulkAction];\n\n    if ( fn ) {\n      return fn.call(resources[0], resources, ...args);\n    }\n  }\n\n  const promises = [];\n\n  for ( const resource of resources ) {\n    let fn;\n\n    if (opts.alt && action.altAction) {\n      fn = resource[action.altAction];\n    } else {\n      fn = resource[action.action];\n    }\n\n    if ( fn ) {\n      promises.push(fn.apply(resource, args));\n    }\n  }\n\n  return Promise.all(promises);\n}\n"],"mappings":"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"}]}