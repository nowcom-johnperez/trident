{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/RuleSelector.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/RuleSelector.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0IHsgX1ZJRVcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCBBcnJheUxpc3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9BcnJheUxpc3QnOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCBTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9TZWxlY3QnOwp2YXIgT1BFUkFUT1JfVkFMVUVTID0gewogIElTX1NFVDogJ0V4aXN0cycsCiAgSVNfTk9UX1NFVDogJ0RvZXNOb3RFeGlzdCcsCiAgSU5fTElTVDogJ0luJywKICBOT1RfSU5fTElTVDogJ05vdEluJwp9OwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXJyYXlMaXN0OiBBcnJheUxpc3QsCiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dCwKICAgIFNlbGVjdDogU2VsZWN0CiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogX1ZJRVcKICAgIH0sCiAgICBhZGRMYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3BlcmF0b3JPcHRpb25zOiBbewogICAgICAgIGxhYmVsOiAnaXMgc2V0JywKICAgICAgICB2YWx1ZTogT1BFUkFUT1JfVkFMVUVTLklTX1NFVAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdpcyBub3Qgc2V0JywKICAgICAgICB2YWx1ZTogT1BFUkFUT1JfVkFMVUVTLklTX05PVF9TRVQKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnaW4gbGlzdCcsCiAgICAgICAgdmFsdWU6IE9QRVJBVE9SX1ZBTFVFUy5JTl9MSVNUCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ25vdCBpbiBsaXN0JywKICAgICAgICB2YWx1ZTogT1BFUkFUT1JfVkFMVUVTLk5PVF9JTl9MSVNUCiAgICAgIH1dLAogICAgICBvcHRpb25zV2l0aFZhbHVlRGlzYWJsZWQ6IFtPUEVSQVRPUl9WQUxVRVMuSVNfU0VULCBPUEVSQVRPUl9WQUxVRVMuSVNfTk9UX1NFVF0sCiAgICAgIGRlZmF1bHRBZGRWYWx1ZTogewogICAgICAgIGtleTogJycsCiAgICAgICAgb3BlcmF0b3I6IE9QRVJBVE9SX1ZBTFVFUy5JU19TRVQKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsb2NhbFZhbHVlOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsb2NhbFZhbHVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBsb2NhbFZhbHVlKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25PcGVyYXRvcklucHV0OiBmdW5jdGlvbiBvbk9wZXJhdG9ySW5wdXQoc2NvcGUsIG9wZXJhdG9yKSB7CiAgICAgIHNjb3BlLnJvdy52YWx1ZS5vcGVyYXRvciA9IG9wZXJhdG9yOwogICAgICBpZiAodGhpcy5vcHRpb25zV2l0aFZhbHVlRGlzYWJsZWQuaW5jbHVkZXMob3BlcmF0b3IpKSB7CiAgICAgICAgaWYgKHNjb3BlLnJvdy52YWx1ZS52YWx1ZXMpIHsKICAgICAgICAgIGRlbGV0ZSBzY29wZS5yb3cudmFsdWUudmFsdWVzOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBzY29wZS5yb3cudmFsdWUudmFsdWVzID0gc2NvcGUucm93LnZhbHVlLnZhbHVlcyB8fCBbXTsKICAgICAgfQogICAgICBzY29wZS5xdWV1ZVVwZGF0ZSgpOwogICAgfSwKICAgIGlzVmFsdWVEaXNhYmxlZDogZnVuY3Rpb24gaXNWYWx1ZURpc2FibGVkKHNjb3BlKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNXaXRoVmFsdWVEaXNhYmxlZC5pbmNsdWRlcyhzY29wZS5yb3cudmFsdWUub3BlcmF0b3IpOwogICAgfSwKICAgIGdldFZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZShzY29wZSkgewogICAgICB2YXIgX3Njb3BlJHJvdyR2YWx1ZSR2YWx1OwogICAgICByZXR1cm4gKChfc2NvcGUkcm93JHZhbHVlJHZhbHUgPSBzY29wZS5yb3cudmFsdWUudmFsdWVzKSA9PT0gbnVsbCB8fCBfc2NvcGUkcm93JHZhbHVlJHZhbHUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zY29wZSRyb3ckdmFsdWUkdmFsdS5qb2luKCcsJykpIHx8ICcnOwogICAgfSwKICAgIG9uVmFsdWVJbnB1dDogZnVuY3Rpb24gb25WYWx1ZUlucHV0KHNjb3BlLCByYXdWYWx1ZSkgewogICAgICBzY29wZS5yb3cudmFsdWUudmFsdWVzID0gcmF3VmFsdWUuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgcmV0dXJuIGVudHJ5LnRyaW0oKTsKICAgICAgfSk7CiAgICAgIHNjb3BlLnF1ZXVlVXBkYXRlKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_VIEW","ArrayList","LabeledInput","Select","OPERATOR_VALUES","IS_SET","IS_NOT_SET","IN_LIST","NOT_IN_LIST","components","props","value","type","Array","default","mode","String","addLabel","required","data","operatorOptions","label","optionsWithValueDisabled","defaultAddValue","key","operator","computed","localValue","get","set","$emit","methods","onOperatorInput","scope","row","includes","values","queueUpdate","isValueDisabled","getValue","_scope$row$value$valu","join","onValueInput","rawValue","split","map","entry","trim"],"sources":["node_modules/@rancher/shell/components/form/RuleSelector.vue"],"sourcesContent":["<script>\nimport { _VIEW } from '@shell/config/query-params';\nimport ArrayList from '@shell/components/form/ArrayList';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport Select from '@shell/components/form/Select';\n\nconst OPERATOR_VALUES = {\n  IS_SET:      'Exists',\n  IS_NOT_SET:  'DoesNotExist',\n  IN_LIST:     'In',\n  NOT_IN_LIST: 'NotIn'\n};\n\nexport default {\n  components: {\n    ArrayList,\n    LabeledInput,\n    Select\n  },\n\n  props: {\n    value: {\n      type:    Array,\n      default: null\n    },\n    mode: {\n      type:    String,\n      default: _VIEW\n    },\n    addLabel: {\n      type:     String,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      operatorOptions: [\n        {\n          label: 'is set',\n          value: OPERATOR_VALUES.IS_SET,\n        },\n        {\n          label: 'is not set',\n          value: OPERATOR_VALUES.IS_NOT_SET,\n        },\n        {\n          label: 'in list',\n          value: OPERATOR_VALUES.IN_LIST,\n        },\n        {\n          label: 'not in list',\n          value: OPERATOR_VALUES.NOT_IN_LIST,\n        }\n      ],\n      optionsWithValueDisabled: [\n        OPERATOR_VALUES.IS_SET,\n        OPERATOR_VALUES.IS_NOT_SET\n      ],\n      defaultAddValue: {\n        key:      '',\n        operator: OPERATOR_VALUES.IS_SET,\n      }\n    };\n  },\n\n  computed: {\n    localValue: {\n      get() {\n        return this.value;\n      },\n      set(localValue) {\n        this.$emit('input', localValue);\n      }\n    }\n  },\n\n  methods: {\n    onOperatorInput(scope, operator) {\n      scope.row.value.operator = operator;\n      if (this.optionsWithValueDisabled.includes(operator)) {\n        if (scope.row.value.values) {\n          delete scope.row.value.values;\n        }\n      } else {\n        scope.row.value.values = scope.row.value.values || [];\n      }\n      scope.queueUpdate();\n    },\n\n    isValueDisabled(scope) {\n      return this.optionsWithValueDisabled.includes(scope.row.value.operator);\n    },\n    getValue(scope) {\n      return scope.row.value.values?.join(',') || '';\n    },\n    onValueInput(scope, rawValue) {\n      scope.row.value.values = rawValue.split(',')\n        .map((entry) => entry.trim());\n      scope.queueUpdate();\n    }\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"rule-selector\"\n    :class=\"{[mode]: true}\"\n  >\n    <ArrayList\n      v-model=\"localValue\"\n      :protip=\"false\"\n      :show-header=\"true\"\n      :add-label=\"addLabel\"\n      :default-add-value=\"defaultAddValue\"\n      :mode=\"mode\"\n    >\n      <template v-slot:column-headers>\n        <div class=\"box\">\n          <div class=\"key\">\n            Key\n          </div>\n          <div class=\"operator\">\n            Operator\n          </div>\n          <div class=\"value\">\n            Value\n          </div>\n          <div />\n        </div>\n      </template>\n      <template v-slot:columns=\"scope\">\n        <div class=\"key\">\n          <LabeledInput\n            v-model=\"scope.row.value.key\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"operator\">\n          <Select\n            :mode=\"mode\"\n            :value=\"scope.row.value.operator\"\n            :options=\"operatorOptions\"\n            @input=\"onOperatorInput(scope, $event)\"\n          />\n        </div>\n        <div class=\"value\">\n          <LabeledInput\n            :disabled=\"isValueDisabled(scope)\"\n            :value=\"getValue(scope)\"\n            :mode=\"mode\"\n            @input=\"onValueInput(scope, $event)\"\n          />\n        </div>\n      </template>\n    </ArrayList>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.rule-selector {\n  &:not(.view) table {\n    table-layout: initial;\n  }\n\n   ::v-deep .box {\n    display: grid;\n    grid-template-columns: 25% 25% 25% 15%;\n    column-gap: 1.75%;\n    align-items: center;\n    margin-bottom: 10px;\n\n    .key,\n    .value,\n    .operator {\n      height: 100%;\n    }\n  }\n}\n</style>\n"],"mappings":";;;;;;;;AACA,SAAAA,KAAA;AACA,OAAAC,SAAA;AACA,SAAAC,YAAA;AACA,OAAAC,MAAA;AAEA,IAAAC,eAAA;EACAC,MAAA;EACAC,UAAA;EACAC,OAAA;EACAC,WAAA;AACA;AAEA;EACAC,UAAA;IACAR,SAAA,EAAAA,SAAA;IACAC,YAAA,EAAAA,YAAA;IACAC,MAAA,EAAAA;EACA;EAEAO,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,OAAA;IACA;IACAC,IAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA,EAAAd;IACA;IACAiB,QAAA;MACAL,IAAA,EAAAI,MAAA;MACAE,QAAA;IACA;EACA;EAEAC,IAAA,WAAAA,KAAA;IACA;MACAC,eAAA,GACA;QACAC,KAAA;QACAV,KAAA,EAAAP,eAAA,CAAAC;MACA,GACA;QACAgB,KAAA;QACAV,KAAA,EAAAP,eAAA,CAAAE;MACA,GACA;QACAe,KAAA;QACAV,KAAA,EAAAP,eAAA,CAAAG;MACA,GACA;QACAc,KAAA;QACAV,KAAA,EAAAP,eAAA,CAAAI;MACA,EACA;MACAc,wBAAA,GACAlB,eAAA,CAAAC,MAAA,EACAD,eAAA,CAAAE,UAAA,CACA;MACAiB,eAAA;QACAC,GAAA;QACAC,QAAA,EAAArB,eAAA,CAAAC;MACA;IACA;EACA;EAEAqB,QAAA;IACAC,UAAA;MACAC,GAAA,WAAAA,IAAA;QACA,YAAAjB,KAAA;MACA;MACAkB,GAAA,WAAAA,IAAAF,UAAA;QACA,KAAAG,KAAA,UAAAH,UAAA;MACA;IACA;EACA;EAEAI,OAAA;IACAC,eAAA,WAAAA,gBAAAC,KAAA,EAAAR,QAAA;MACAQ,KAAA,CAAAC,GAAA,CAAAvB,KAAA,CAAAc,QAAA,GAAAA,QAAA;MACA,SAAAH,wBAAA,CAAAa,QAAA,CAAAV,QAAA;QACA,IAAAQ,KAAA,CAAAC,GAAA,CAAAvB,KAAA,CAAAyB,MAAA;UACA,OAAAH,KAAA,CAAAC,GAAA,CAAAvB,KAAA,CAAAyB,MAAA;QACA;MACA;QACAH,KAAA,CAAAC,GAAA,CAAAvB,KAAA,CAAAyB,MAAA,GAAAH,KAAA,CAAAC,GAAA,CAAAvB,KAAA,CAAAyB,MAAA;MACA;MACAH,KAAA,CAAAI,WAAA;IACA;IAEAC,eAAA,WAAAA,gBAAAL,KAAA;MACA,YAAAX,wBAAA,CAAAa,QAAA,CAAAF,KAAA,CAAAC,GAAA,CAAAvB,KAAA,CAAAc,QAAA;IACA;IACAc,QAAA,WAAAA,SAAAN,KAAA;MAAA,IAAAO,qBAAA;MACA,SAAAA,qBAAA,GAAAP,KAAA,CAAAC,GAAA,CAAAvB,KAAA,CAAAyB,MAAA,cAAAI,qBAAA,uBAAAA,qBAAA,CAAAC,IAAA;IACA;IACAC,YAAA,WAAAA,aAAAT,KAAA,EAAAU,QAAA;MACAV,KAAA,CAAAC,GAAA,CAAAvB,KAAA,CAAAyB,MAAA,GAAAO,QAAA,CAAAC,KAAA,MACAC,GAAA,WAAAC,KAAA;QAAA,OAAAA,KAAA,CAAAC,IAAA;MAAA;MACAd,KAAA,CAAAI,WAAA;IACA;EACA;AACA"}]}