{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/logging.banzaicloud.io.clusterflow.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/logging.banzaicloud.io.clusterflow.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmxhdC1tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS51bnNjb3BhYmxlcy5mbGF0LW1hcC5qcyI7CmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CmltcG9ydCB7IExPR0dJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHVuaXEgZnJvbSAnbG9kYXNoL3VuaXEnOwppbXBvcnQgRmxvdyBmcm9tICcuL2xvZ2dpbmcuYmFuemFpY2xvdWQuaW8uZmxvdyc7CnZhciBMb2dDbHVzdGVyRmxvdyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Zsb3cpIHsKICBfaW5oZXJpdHMoTG9nQ2x1c3RlckZsb3csIF9GbG93KTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKExvZ0NsdXN0ZXJGbG93KTsKICBmdW5jdGlvbiBMb2dDbHVzdGVyRmxvdygpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2dDbHVzdGVyRmxvdyk7CiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQogIF9jcmVhdGVDbGFzcyhMb2dDbHVzdGVyRmxvdywgW3sKICAgIGtleTogImFsbE91dHB1dHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb290R2V0dGVyc1snY2x1c3Rlci9hbGwnXShMT0dHSU5HLkNMVVNURVJfT1VUUFVUKSB8fCBbXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvdXRwdXRzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3BlYywgX3RoaXMkc3BlYzI7CiAgICAgIGlmICghdGhpcy5hbGxPdXRwdXRzKSB7CiAgICAgICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGRvZXNuJ3QgaGF2ZSBwZXJtaXNzaW9uCiAgICAgICAgLy8gdG8gc2VlIE91dHB1dHMKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgICAgdmFyIG91dHB1dFJlZnMgPSAodGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgfHwgKF90aGlzJHNwZWMgPSB0aGlzLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHNwZWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNwZWMuZ2xvYmFsT3V0cHV0UmVmcykgfHwgKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwIHx8IChfdGhpcyRzcGVjMiA9IHRoaXMuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkc3BlYzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNwZWMyLm91dHB1dFJlZnMpIHx8IFtdOwogICAgICByZXR1cm4gdGhpcy5hbGxPdXRwdXRzLmZpbHRlcihmdW5jdGlvbiAob3V0cHV0KSB7CiAgICAgICAgcmV0dXJuIG91dHB1dFJlZnMuaW5jbHVkZXMob3V0cHV0Lm5hbWUpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvdXRwdXRQcm92aWRlcnMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBkdXBsaWNhdGVkUHJvdmlkZXJzID0gdGhpcy5vdXRwdXRzLmZsYXRNYXAoZnVuY3Rpb24gKG91dHB1dCkgewogICAgICAgIHJldHVybiBvdXRwdXQucHJvdmlkZXJzOwogICAgICB9KTsKICAgICAgcmV0dXJuIHVuaXEoZHVwbGljYXRlZFByb3ZpZGVycykgfHwgW107CiAgICB9CiAgfSwgewogICAga2V5OiAiY3VzdG9tVmFsaWRhdGlvblJ1bGVzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gW3sKICAgICAgICBwYXRoOiAnc3BlYycsCiAgICAgICAgdmFsaWRhdG9yczogWydmbG93T3V0cHV0J10KICAgICAgfV07CiAgICB9CiAgfV0pOwogIHJldHVybiBMb2dDbHVzdGVyRmxvdzsKfShGbG93KTsKZXhwb3J0IHsgTG9nQ2x1c3RlckZsb3cgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["LOGGING","uniq","Flow","LogClusterFlow","_Flow","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","get","$rootGetters","CLUSTER_OUTPUT","_this$spec","_this$spec2","allOutputs","outputRefs","spec","globalOutputRefs","filter","output","includes","name","duplicatedProviders","outputs","flatMap","providers","path","validators","default"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/logging.banzaicloud.io.clusterflow.js"],"sourcesContent":["import { LOGGING } from '@shell/config/types';\nimport uniq from 'lodash/uniq';\nimport Flow from './logging.banzaicloud.io.flow';\n\nexport default class LogClusterFlow extends Flow {\n  get allOutputs() {\n    return this.$rootGetters['cluster/all'](LOGGING.CLUSTER_OUTPUT) || [];\n  }\n\n  get outputs() {\n    if (!this.allOutputs) {\n      // Handle the case where the user doesn't have permission\n      // to see Outputs\n      return [];\n    }\n    const outputRefs = this?.spec?.globalOutputRefs || this?.spec?.outputRefs || [];\n\n    return this.allOutputs.filter((output) => outputRefs.includes(output.name));\n  }\n\n  get outputProviders() {\n    const duplicatedProviders = this.outputs\n      .flatMap((output) => output.providers);\n\n    return uniq(duplicatedProviders) || [];\n  }\n\n  get customValidationRules() {\n    return [\n      {\n        path:       'spec',\n        validators: ['flowOutput'],\n      },\n    ];\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;AAAA,SAASA,OAAO,QAAQ,qBAAqB;AAC7C,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,IAAI,MAAM,+BAA+B;AAAC,IAE5BC,cAAc,0BAAAC,KAAA;EAAAC,SAAA,CAAAF,cAAA,EAAAC,KAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,cAAA;EAAA,SAAAA,eAAA;IAAAK,eAAA,OAAAL,cAAA;IAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;EAAA;EAAAC,YAAA,CAAAR,cAAA;IAAAS,GAAA;IAAAC,GAAA,EACjC,SAAAA,IAAA,EAAiB;MACf,OAAO,IAAI,CAACC,YAAY,CAAC,aAAa,CAAC,CAACd,OAAO,CAACe,cAAc,CAAC,IAAI,EAAE;IACvE;EAAC;IAAAH,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAc;MAAA,IAAAG,UAAA,EAAAC,WAAA;MACZ,IAAI,CAAC,IAAI,CAACC,UAAU,EAAE;QACpB;QACA;QACA,OAAO,EAAE;MACX;MACA,IAAMC,UAAU,GAAG,KAAI,aAAJ,IAAI,gBAAAH,UAAA,GAAJ,IAAI,CAAEI,IAAI,cAAAJ,UAAA,uBAAVA,UAAA,CAAYK,gBAAgB,MAAI,IAAI,aAAJ,IAAI,gBAAAJ,WAAA,GAAJ,IAAI,CAAEG,IAAI,cAAAH,WAAA,uBAAVA,WAAA,CAAYE,UAAU,KAAI,EAAE;MAE/E,OAAO,IAAI,CAACD,UAAU,CAACI,MAAM,CAAC,UAACC,MAAM;QAAA,OAAKJ,UAAU,CAACK,QAAQ,CAACD,MAAM,CAACE,IAAI,CAAC;MAAA,EAAC;IAC7E;EAAC;IAAAb,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAsB;MACpB,IAAMa,mBAAmB,GAAG,IAAI,CAACC,OAAO,CACrCC,OAAO,CAAC,UAACL,MAAM;QAAA,OAAKA,MAAM,CAACM,SAAS;MAAA,EAAC;MAExC,OAAO5B,IAAI,CAACyB,mBAAmB,CAAC,IAAI,EAAE;IACxC;EAAC;IAAAd,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAA4B;MAC1B,OAAO,CACL;QACEiB,IAAI,EAAQ,MAAM;QAClBC,UAAU,EAAE,CAAC,YAAY;MAC3B,CAAC,CACF;IACH;EAAC;EAAA,OAAA5B,cAAA;AAAA,EA9ByCD,IAAI;AAAA,SAA3BC,cAAc,IAAA6B,OAAA"}]}