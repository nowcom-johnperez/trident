{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/RegistryConfigs.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/RegistryConfigs.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1siQEBpdGVyYXRvciJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfQpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgQXJyYXlMaXN0R3JvdXBlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0FycmF5TGlzdEdyb3VwZWQnOwppbXBvcnQgeyBzZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gnOwppbXBvcnQgU2VsZWN0T3JDcmVhdGVBdXRoU2VjcmV0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vU2VsZWN0T3JDcmVhdGVBdXRoU2VjcmV0JzsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCBTZWNyZXRTZWxlY3RvciBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1NlY3JldFNlbGVjdG9yJzsKaW1wb3J0IHsgU0VDUkVUX1RZUEVTIGFzIFRZUEVTIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9zZWNyZXQnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXJyYXlMaXN0R3JvdXBlZDogQXJyYXlMaXN0R3JvdXBlZCwKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0LAogICAgQ2hlY2tib3g6IENoZWNrYm94LAogICAgU2VsZWN0T3JDcmVhdGVBdXRoU2VjcmV0OiBTZWxlY3RPckNyZWF0ZUF1dGhTZWNyZXQsCiAgICBTZWNyZXRTZWxlY3RvcjogU2VjcmV0U2VsZWN0b3IKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKICBwcm9wczogewogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNsdXN0ZXJSZWdpc3RlckJlZm9yZUhvb2s6IHsKICAgICAgLy8gV2UgdXNlIHRoaXMgaG9vayBpbnN0ZWFkIG9mIHRoZSBjcmVhdGUgaG9vayBmcm9tIHRoZSBDcmVhdGVFZGl0VmlldwogICAgICAvLyBtaXhpbiBiZWNhdXNlIHRoaXMgaXMgYSBmb3JtIHdpdGhpbiBhIGZvcm0sIHRoZXJlZm9yZSB3ZQogICAgICAvLyBuZWVkIHRoZSBob29rIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQuCiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyR2YWx1ZSRzcGVjJHJrZUM7CiAgICB2YXIgY29uZmlnTWFwID0gKChfdGhpcyR2YWx1ZSRzcGVjJHJrZUMgPSB0aGlzLnZhbHVlLnNwZWMucmtlQ29uZmlnKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSRzcGVjJHJrZUMgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUkc3BlYyRya2VDID0gX3RoaXMkdmFsdWUkc3BlYyRya2VDLnJlZ2lzdHJpZXMpID09PSBudWxsIHx8IF90aGlzJHZhbHVlJHNwZWMkcmtlQyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUkc3BlYyRya2VDLmNvbmZpZ3MpIHx8IHt9OwogICAgdmFyIGVudHJpZXMgPSBbXTsKICAgIHZhciBkZWZhdWx0QWRkVmFsdWUgPSB7CiAgICAgIGhvc3RuYW1lOiAnJywKICAgICAgYXV0aENvbmZpZ1NlY3JldE5hbWU6IG51bGwsCiAgICAgIGNhQnVuZGxlOiAnJywKICAgICAgaW5zZWN1cmVTa2lwVmVyaWZ5OiBmYWxzZSwKICAgICAgdGxzU2VjcmV0TmFtZTogbnVsbAogICAgfTsKICAgIGZvciAodmFyIGhvc3RuYW1lIGluIGNvbmZpZ01hcCkgewogICAgICBpZiAoY29uZmlnTWFwW2hvc3RuYW1lXSkgewogICAgICAgIHZhciBfY29uZmlnTWFwJGhvc3RuYW1lJGksIF9jb25maWdNYXAkaG9zdG5hbWUkYSwgX2NvbmZpZ01hcCRob3N0bmFtZSRjLCBfY29uZmlnTWFwJGhvc3RuYW1lJHQ7CiAgICAgICAgY29uZmlnTWFwW2hvc3RuYW1lXS5pbnNlY3VyZVNraXBWZXJpZnkgPSAoX2NvbmZpZ01hcCRob3N0bmFtZSRpID0gY29uZmlnTWFwW2hvc3RuYW1lXS5pbnNlY3VyZVNraXBWZXJpZnkpICE9PSBudWxsICYmIF9jb25maWdNYXAkaG9zdG5hbWUkaSAhPT0gdm9pZCAwID8gX2NvbmZpZ01hcCRob3N0bmFtZSRpIDogZGVmYXVsdEFkZFZhbHVlLmluc2VjdXJlU2tpcFZlcmlmeTsKICAgICAgICBjb25maWdNYXBbaG9zdG5hbWVdLmF1dGhDb25maWdTZWNyZXROYW1lID0gKF9jb25maWdNYXAkaG9zdG5hbWUkYSA9IGNvbmZpZ01hcFtob3N0bmFtZV0uYXV0aENvbmZpZ1NlY3JldE5hbWUpICE9PSBudWxsICYmIF9jb25maWdNYXAkaG9zdG5hbWUkYSAhPT0gdm9pZCAwID8gX2NvbmZpZ01hcCRob3N0bmFtZSRhIDogZGVmYXVsdEFkZFZhbHVlLmF1dGhDb25maWdTZWNyZXROYW1lOwogICAgICAgIGNvbmZpZ01hcFtob3N0bmFtZV0uY2FCdW5kbGUgPSAoX2NvbmZpZ01hcCRob3N0bmFtZSRjID0gY29uZmlnTWFwW2hvc3RuYW1lXS5jYUJ1bmRsZSkgIT09IG51bGwgJiYgX2NvbmZpZ01hcCRob3N0bmFtZSRjICE9PSB2b2lkIDAgPyBfY29uZmlnTWFwJGhvc3RuYW1lJGMgOiBkZWZhdWx0QWRkVmFsdWUuY2FCdW5kbGU7CiAgICAgICAgY29uZmlnTWFwW2hvc3RuYW1lXS50bHNTZWNyZXROYW1lID0gKF9jb25maWdNYXAkaG9zdG5hbWUkdCA9IGNvbmZpZ01hcFtob3N0bmFtZV0udGxzU2VjcmV0TmFtZSkgIT09IG51bGwgJiYgX2NvbmZpZ01hcCRob3N0bmFtZSR0ICE9PSB2b2lkIDAgPyBfY29uZmlnTWFwJGhvc3RuYW1lJHQgOiBkZWZhdWx0QWRkVmFsdWUudGxzU2VjcmV0TmFtZTsKICAgICAgfQogICAgICBlbnRyaWVzLnB1c2goX29iamVjdFNwcmVhZCh7CiAgICAgICAgaG9zdG5hbWU6IGhvc3RuYW1lCiAgICAgIH0sIGNvbmZpZ01hcFtob3N0bmFtZV0pKTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIGVudHJpZXM6IGVudHJpZXMsCiAgICAgIGRlZmF1bHRBZGRWYWx1ZTogZGVmYXVsdEFkZFZhbHVlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIFRMUzogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gVFlQRVMuVExTOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgd2luZG93LnogPSB0aGlzOwogIH0sCiAgLy8gY3JlYXRlZCgpIHsKICAvLyAgIHNldCh0aGlzLnZhbHVlLCAnc3BlYy5ya2VDb25maWcucmVnaXN0cmllcy5jb25maWdzJywge30pOwogIC8vIH0sCgogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICB2YXIgY29uZmlncyA9IHt9OwogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5lbnRyaWVzKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGVudHJ5ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB2YXIgaCA9IGVudHJ5Lmhvc3RuYW1lOwogICAgICAgICAgaWYgKCFoIHx8IGNvbmZpZ3NbaF0pIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBjb25maWdzW2hdID0gX29iamVjdFNwcmVhZCh7fSwgZW50cnkpOwogICAgICAgICAgZGVsZXRlIGNvbmZpZ3NbaF0uaG9zdG5hbWU7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgICAgc2V0KHRoaXMudmFsdWUsICdzcGVjLnJrZUNvbmZpZy5yZWdpc3RyaWVzLmNvbmZpZ3MnLCBjb25maWdzKTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlQ29uZmlncycsIGNvbmZpZ3MpOwogICAgfSwKICAgIHdyYXBSZWdpc3RlckJlZm9yZUhvb2s6IGZ1bmN0aW9uIHdyYXBSZWdpc3RlckJlZm9yZUhvb2soZm4pIHsKICAgICAgZnVuY3Rpb24gd3JhcEZuKCkgewogICAgICAgIHJldHVybiBfd3JhcEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gX3dyYXBGbigpIHsKICAgICAgICBfd3JhcEZuID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgdmFyIHJlc3VsdCwKICAgICAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh2b2lkIDAsIF9hcmdzKTsKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgICAgICAgICAgICB9LCA1MCk7CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CiAgICAgICAgcmV0dXJuIF93cmFwRm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgIH0KICAgICAgdGhpcy5jbHVzdGVyUmVnaXN0ZXJCZWZvcmVIb29rLmFwcGx5KHRoaXMsIFt3cmFwRm5dLmNvbmNhdChhcmdzKSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["ArrayListGrouped","set","LabeledInput","Checkbox","SelectOrCreateAuthSecret","CreateEditView","SecretSelector","SECRET_TYPES","TYPES","components","mixins","props","mode","type","String","required","value","Object","clusterRegisterBeforeHook","Function","data","_this$value$spec$rkeC","configMap","spec","rkeConfig","registries","configs","entries","defaultAddValue","hostname","authConfigSecretName","caBundle","insecureSkipVerify","tlsSecretName","_configMap$hostname$i","_configMap$hostname$a","_configMap$hostname$c","_configMap$hostname$t","push","_objectSpread","computed","TLS","get","mounted","window","z","methods","update","_iterator","_createForOfIteratorHelper","_step","s","n","done","entry","h","err","e","f","$emit","wrapRegisterBeforeHook","fn","wrapFn","_wrapFn","apply","arguments","_asyncToGenerator","regeneratorRuntime","mark","_callee","result","_args","wrap","_callee$","_context","prev","next","sent","abrupt","Promise","resolve","setTimeout","stop","_len","length","args","Array","_key","concat"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/RegistryConfigs.vue"],"sourcesContent":["<script>\nimport ArrayListGrouped from '@shell/components/form/ArrayListGrouped';\nimport { set } from '@shell/utils/object';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport SelectOrCreateAuthSecret from '@shell/components/form/SelectOrCreateAuthSecret';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport SecretSelector from '@shell/components/form/SecretSelector';\nimport { SECRET_TYPES as TYPES } from '@shell/config/secret';\n\nexport default {\n  components: {\n    ArrayListGrouped,\n    LabeledInput,\n    Checkbox,\n    SelectOrCreateAuthSecret,\n    SecretSelector,\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    clusterRegisterBeforeHook: {\n      // We use this hook instead of the create hook from the CreateEditView\n      // mixin because this is a form within a form, therefore we\n      // need the hook from the parent component.\n      type:     Function,\n      required: true\n    }\n  },\n\n  data() {\n    const configMap = this.value.spec.rkeConfig?.registries?.configs || {};\n    const entries = [];\n\n    const defaultAddValue = {\n      hostname:             '',\n      authConfigSecretName: null,\n      caBundle:             '',\n      insecureSkipVerify:   false,\n      tlsSecretName:        null,\n    };\n\n    for ( const hostname in configMap ) {\n      if (configMap[hostname]) {\n        configMap[hostname].insecureSkipVerify = configMap[hostname].insecureSkipVerify ?? defaultAddValue.insecureSkipVerify;\n        configMap[hostname].authConfigSecretName = configMap[hostname].authConfigSecretName ?? defaultAddValue.authConfigSecretName;\n        configMap[hostname].caBundle = configMap[hostname].caBundle ?? defaultAddValue.caBundle;\n        configMap[hostname].tlsSecretName = configMap[hostname].tlsSecretName ?? defaultAddValue.tlsSecretName;\n      }\n      entries.push({\n        hostname,\n        ...configMap[hostname],\n      });\n    }\n\n    return { entries, defaultAddValue };\n  },\n\n  computed: {\n    TLS: {\n      get() {\n        return TYPES.TLS;\n      },\n    },\n  },\n\n  mounted() {\n    window.z = this;\n  },\n\n  // created() {\n  //   set(this.value, 'spec.rkeConfig.registries.configs', {});\n  // },\n\n  methods: {\n    update() {\n      const configs = {};\n\n      for ( const entry of this.entries ) {\n        const h = entry.hostname;\n\n        if ( !h || configs[h] ) {\n          continue;\n        }\n\n        configs[h] = { ...entry };\n        delete configs[h].hostname;\n      }\n\n      set(this.value, 'spec.rkeConfig.registries.configs', configs);\n      this.$emit('updateConfigs', configs);\n    },\n\n    wrapRegisterBeforeHook(fn, ...args) {\n      async function wrapFn(...params) {\n        const result = await fn(...params);\n\n        return new Promise((resolve) => {\n          setTimeout(() => {\n            resolve(result);\n          }, 50);\n        });\n      }\n      this.clusterRegisterBeforeHook(wrapFn, ...args);\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <h3>\n      {{ t('registryConfig.header') }}\n      <i\n        v-clean-tooltip=\"t('registryConfig.toolTip')\"\n        class=\"icon icon-info\"\n      />\n    </h3>\n    <p class=\"mb-20\">\n      {{ t('registryConfig.description') }}\n    </p>\n    <ArrayListGrouped\n      v-model=\"entries\"\n      :add-label=\"t('registryConfig.addLabel')\"\n      :default-add-value=\"defaultAddValue\"\n      :initial-empty-row=\"true\"\n      :mode=\"mode\"\n      @input=\"update\"\n    >\n      <template #default=\"{row}\">\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"row.value.hostname\"\n              label=\"Registry Hostname\"\n              :mode=\"mode\"\n            />\n\n            <SelectOrCreateAuthSecret\n              v-model=\"row.value.authConfigSecretName\"\n              :register-before-hook=\"wrapRegisterBeforeHook\"\n              :append-unique-id-to-hook=\"true\"\n              in-store=\"management\"\n              :allow-ssh=\"false\"\n              :allow-rke=\"true\"\n              :vertical=\"true\"\n              :namespace=\"value.metadata.namespace\"\n              :mode=\"mode\"\n              generate-name=\"registryconfig-auth-\"\n            />\n          </div>\n          <div class=\"col span-6\">\n            <SecretSelector\n              v-model=\"row.value.tlsSecretName\"\n              in-store=\"management\"\n              :mode=\"mode\"\n              :types=\"[TLS]\"\n              :namespace=\"value.metadata.namespace\"\n              secret-name-label=\"TLS Secret\"\n            />\n\n            <LabeledInput\n              v-model=\"row.value.caBundle\"\n              class=\"mt-20\"\n              type=\"multiline\"\n              label=\"CA Cert Bundle\"\n              :mode=\"mode\"\n            />\n\n            <div>\n              <Checkbox\n                v-model=\"row.value.insecureSkipVerify\"\n                class=\"mt-10\"\n                :mode=\"mode\"\n                label=\"Skip TLS Verifications\"\n              />\n            </div>\n          </div>\n        </div>\n      </template>\n    </ArrayListGrouped>\n  </div>\n</template>\n"],"mappings":"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"}]}