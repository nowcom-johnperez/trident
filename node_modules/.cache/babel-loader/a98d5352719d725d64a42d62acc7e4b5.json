{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/cloud-credential/vmwarevsphere.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/cloud-credential/vmwarevsphere.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCB7IE5PUk1BTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTGFiZWxlZElucHV0OiBMYWJlbGVkSW5wdXQKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKICB3YXRjaDogewogICAgdmFsdWU6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXUpIHsKICAgICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsICEhbmV1KTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdGVzdDogZnVuY3Rpb24gdGVzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdGVtcG9yYXJ5Q3JlZGVudGlhbDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdyYW5jaGVyL2NyZWF0ZScsIHsKICAgICAgICAgICAgICAgIHR5cGU6IE5PUk1BTi5DTE9VRF9DUkVERU5USUFMLAogICAgICAgICAgICAgICAgdm13YXJldnNwaGVyZWNyZWRlbnRpYWxDb25maWc6IF90aGlzLnZhbHVlLmRlY29kZWREYXRhCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICB0ZW1wb3JhcnlDcmVkZW50aWFsID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gdGVtcG9yYXJ5Q3JlZGVudGlhbC5zYXZlKCk7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L3JlcXVlc3QnLCB7CiAgICAgICAgICAgICAgICB1cmw6ICIvbWV0YS92c3BoZXJlL2RhdGEtY2VudGVycz9jbG91ZENyZWRlbnRpYWxJZD0iLmNvbmNhdCh0ZW1wb3JhcnlDcmVkZW50aWFsLmlkKSwKICAgICAgICAgICAgICAgIHJlZGlyZWN0VW5hdXRob3JpemVkOiBmYWxzZQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgzKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEzOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICByZXR1cm4gdGVtcG9yYXJ5Q3JlZGVudGlhbC5yZW1vdmUoKTsKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDEzKTsKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMywgMTAsIDEzLCAxN11dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["CreateEditView","LabeledInput","NORMAN","components","mixins","watch","value","deep","handler","neu","$emit","methods","test","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","temporaryCredential","wrap","_callee$","_context","prev","next","$store","dispatch","type","CLOUD_CREDENTIAL","vmwarevspherecredentialConfig","decodedData","sent","save","url","concat","id","redirectUnauthorized","root","t0","abrupt","remove","finish","stop"],"sources":["node_modules/@rancher/shell/cloud-credential/vmwarevsphere.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { NORMAN } from '@shell/config/types';\n\nexport default {\n  components: { LabeledInput },\n  mixins:     [CreateEditView],\n\n  watch: {\n    value: {\n      deep: true,\n      handler(neu) {\n        this.$emit('validationChanged', !!neu);\n      }\n    }\n  },\n\n  methods: {\n    async test() {\n      // The vsphere apis require that an existing cloudCredentialId be passed in order to use the API.\n      // We create a temporary credential and attempt to invoke one of the basic APIs to authenticate the user.\n      // We then delete the temporary credential since the existing system will create one after we authenticate.\n      const temporaryCredential = await this.$store.dispatch('rancher/create', {\n        type:                          NORMAN.CLOUD_CREDENTIAL,\n        vmwarevspherecredentialConfig: this.value.decodedData\n      });\n\n      try {\n        await temporaryCredential.save();\n\n        await this.$store.dispatch('management/request', {\n          url:                  `/meta/vsphere/data-centers?cloudCredentialId=${ temporaryCredential.id }`,\n          redirectUnauthorized: false,\n        }, { root: true });\n      } catch (ex) {\n        return false;\n      } finally {\n        await temporaryCredential.remove();\n      }\n\n      return true;\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.vcenter\"\n          label-key=\"cluster.credential.vmwarevsphere.server.label\"\n          placeholder-key=\"cluster.credential.vmwarevsphere.server.placeholder\"\n          :required=\"true\"\n          :mode=\"mode\"\n          @input=\"value.setData('vcenter', $event);\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.vcenterPort\"\n          label-key=\"cluster.credential.vmwarevsphere.port.label\"\n          :required=\"true\"\n          type=\"number\"\n          min=\"1\"\n          max=\"65535\"\n          :mode=\"mode\"\n          @input=\"value.setData('vcenterPort', $event);\"\n        />\n      </div>\n    </div>\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.username\"\n          label-key=\"cluster.credential.vmwarevsphere.username.label\"\n          :required=\"true\"\n          :mode=\"mode\"\n          @input=\"value.setData('username', $event);\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.password\"\n          label-key=\"cluster.credential.vmwarevsphere.password.label\"\n          :required=\"true\"\n          type=\"password\"\n          :mode=\"mode\"\n          @input=\"value.setData('password', $event);\"\n        />\n      </div>\n    </div>\n    <p class=\"text-muted\">\n      {{ t('cluster.credential.vmwarevsphere.note', {}, true) }}\n    </p>\n  </div>\n</template>\n"],"mappings":";;AACA,OAAAA,cAAA;AACA,SAAAC,YAAA;AACA,SAAAC,MAAA;AAEA;EACAC,UAAA;IAAAF,YAAA,EAAAA;EAAA;EACAG,MAAA,GAAAJ,cAAA;EAEAK,KAAA;IACAC,KAAA;MACAC,IAAA;MACAC,OAAA,WAAAA,QAAAC,GAAA;QACA,KAAAC,KAAA,wBAAAD,GAAA;MACA;IACA;EACA;EAEAE,OAAA;IACAC,IAAA,WAAAA,KAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,mBAAA;QAAA,OAAAH,kBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAIAV,KAAA,CAAAW,MAAA,CAAAC,QAAA;gBACAC,IAAA,EAAAxB,MAAA,CAAAyB,gBAAA;gBACAC,6BAAA,EAAAf,KAAA,CAAAP,KAAA,CAAAuB;cACA;YAAA;cAHAX,mBAAA,GAAAG,QAAA,CAAAS,IAAA;cAAAT,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAMAL,mBAAA,CAAAa,IAAA;YAAA;cAAAV,QAAA,CAAAE,IAAA;cAAA,OAEAV,KAAA,CAAAW,MAAA,CAAAC,QAAA;gBACAO,GAAA,kDAAAC,MAAA,CAAAf,mBAAA,CAAAgB,EAAA;gBACAC,oBAAA;cACA;gBAAAC,IAAA;cAAA;YAAA;cAAAf,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAgB,EAAA,GAAAhB,QAAA;cAAA,OAAAA,QAAA,CAAAiB,MAAA,WAEA;YAAA;cAAAjB,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEAL,mBAAA,CAAAqB,MAAA;YAAA;cAAA,OAAAlB,QAAA,CAAAmB,MAAA;YAAA;cAAA,OAAAnB,QAAA,CAAAiB,MAAA,WAGA;YAAA;YAAA;cAAA,OAAAjB,QAAA,CAAAoB,IAAA;UAAA;QAAA,GAAAxB,OAAA;MAAA;IACA;EACA;AACA"}]}