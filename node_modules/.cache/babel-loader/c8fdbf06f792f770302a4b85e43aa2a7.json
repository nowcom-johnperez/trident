{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/mixins/brand.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/mixins/brand.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5saW5rLmpzIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBDQVRBTE9HLCBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGdldFZlbmRvciB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJpdmF0ZS1sYWJlbCc7CmltcG9ydCB7IFNFVFRJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NldHRpbmdzJzsKaW1wb3J0IHsgZmluZEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKaW1wb3J0IHsgY3JlYXRlQ3NzVmFycyB9IGZyb20gJ0BzaGVsbC91dGlscy9jb2xvcic7CmltcG9ydCB7IF9BTExfSUZfQVVUSEVEIH0gZnJvbSAnQHNoZWxsL3BsdWdpbnMvZGFzaGJvYXJkLXN0b3JlL2FjdGlvbnMnOwp2YXIgY3NwQWRhcHRvckFwcCA9IFsncmFuY2hlci1jc3AtYWRhcHRlcicsICdyYW5jaGVyLWNzcC1iaWxsaW5nLWFkYXB0ZXInXTsKZXhwb3J0IHZhciBoYXNDc3BBZGFwdGVyID0gZnVuY3Rpb24gaGFzQ3NwQWRhcHRlcihhcHBzKSB7CiAgcmV0dXJuIGFwcHMgPT09IG51bGwgfHwgYXBwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXBwcy5maW5kKGZ1bmN0aW9uIChhKSB7CiAgICB2YXIgX2EkbWV0YWRhdGE7CiAgICByZXR1cm4gY3NwQWRhcHRvckFwcC5pbmNsdWRlcygoX2EkbWV0YWRhdGEgPSBhLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYSRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EkbWV0YWRhdGEubmFtZSk7CiAgfSk7Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgIGlmICghX3RoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvY2FuTGlzdCddKENBVEFMT0cuQVBQKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgdHlwZTogQ0FUQUxPRy5BUFAKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIF90aGlzLmFwcHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5TRVRUSU5HLAogICAgICAgICAgICAgIG9wdDogewogICAgICAgICAgICAgICAgbG9hZDogX0FMTF9JRl9BVVRIRUQsCiAgICAgICAgICAgICAgICB1cmw6ICIvdjEvIi5jb25jYXQoTUFOQUdFTUVOVC5TRVRUSU5HKSwKICAgICAgICAgICAgICAgIHJlZGlyZWN0VW5hdXRob3JpemVkOiBmYWxzZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBfdGhpcy5nbG9iYWxTZXR0aW5ncyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTU7CiAgICAgICAgICAgIF9jb250ZXh0LnQxID0gX2NvbnRleHRbImNhdGNoIl0oOSk7CiAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAvLyBTZXR0aW5nIHRoaXMgdXAgZnJvbnQgd2lsbCByZW1vdmUgYGNvbXB1dGVkYCBjaHVybiwgYW5kIHdlIG9ubHkgY2FyZSB0aGF0IHdlJ3ZlIGluaXRpYWxpc2VkIHRoZW0KICAgICAgICAgICAgX3RoaXMuaGF2ZUFwcHNBbmRTZXR0aW5ncyA9ICEhX3RoaXMuYXBwcyAmJiAhIV90aGlzLmdsb2JhbFNldHRpbmdzOwogICAgICAgICAgY2FzZSAxODoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddLCBbOSwgMTVdXSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcHBzOiBudWxsLAogICAgICBnbG9iYWxTZXR0aW5nczogbnVsbCwKICAgICAgaGF2ZUFwcHNBbmRTZXR0aW5nczogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgbG9nZ2VkSW46ICdhdXRoL2xvZ2dlZEluJwogIH0pKSwge30sIHsKICAgIGJyYW5kOiBmdW5jdGlvbiBicmFuZCgpIHsKICAgICAgdmFyIHNldHRpbmcgPSBmaW5kQnkodGhpcy5nbG9iYWxTZXR0aW5ncywgJ2lkJywgU0VUVElORy5CUkFORCk7CiAgICAgIHJldHVybiBzZXR0aW5nID09PSBudWxsIHx8IHNldHRpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNldHRpbmcudmFsdWU7CiAgICB9LAogICAgY29sb3I6IGZ1bmN0aW9uIGNvbG9yKCkgewogICAgICB2YXIgc2V0dGluZyA9IGZpbmRCeSh0aGlzLmdsb2JhbFNldHRpbmdzLCAnaWQnLCBTRVRUSU5HLlBSSU1BUllfQ09MT1IpOwogICAgICByZXR1cm4gc2V0dGluZyA9PT0gbnVsbCB8fCBzZXR0aW5nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXR0aW5nLnZhbHVlOwogICAgfSwKICAgIGxpbmtDb2xvcjogZnVuY3Rpb24gbGlua0NvbG9yKCkgewogICAgICB2YXIgc2V0dGluZyA9IGZpbmRCeSh0aGlzLmdsb2JhbFNldHRpbmdzLCAnaWQnLCBTRVRUSU5HLkxJTktfQ09MT1IpOwogICAgICByZXR1cm4gc2V0dGluZyA9PT0gbnVsbCB8fCBzZXR0aW5nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXR0aW5nLnZhbHVlOwogICAgfSwKICAgIHRoZW1lOiBmdW5jdGlvbiB0aGVtZSgpIHsKICAgICAgdmFyIHNldHRpbmcgPSBmaW5kQnkodGhpcy5nbG9iYWxTZXR0aW5ncywgJ2lkJywgU0VUVElORy5USEVNRSk7CgogICAgICAvLyBUaGlzIGhhbmRsZXMgY2FzZXMgd2hlcmUgdGhlIHNldHRpbmdzIHVwZGF0ZSBhZnRlciB0aGUgcGFnZSBsb2FkcyAobGlrZSBvbiBsb2cgb3V0KQogICAgICBpZiAoc2V0dGluZyAhPT0gbnVsbCAmJiBzZXR0aW5nICE9PSB2b2lkIDAgJiYgc2V0dGluZy52YWx1ZSkgewogICAgICAgIHJldHVybiBzZXR0aW5nID09PSBudWxsIHx8IHNldHRpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNldHRpbmcudmFsdWU7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ByZWZzL3RoZW1lJ107CiAgICB9LAogICAgY3NwQWRhcHRlcjogZnVuY3Rpb24gY3NwQWRhcHRlcigpIHsKICAgICAgaWYgKCF0aGlzLmNhbkNhbGNDc3BBZGFwdGVyKSB7CiAgICAgICAgLy8gV2Ugb25seSBoYXZlIGEgd2F0Y2ggb24gY3NwQWRhcHRlciB0byBraWNrIG9mZiBwZXJzaXN0aW5nIHRoZSBicmFuZCBzZXR0aW5nLgogICAgICAgIC8vIFNvIHdlIG5lZWQgdG8gZW5zdXJlIHdlIGRvbid0IHJldHVybiBhbiB1bmRlZmluZWQgaGVyZS4uLiB3aGljaCB3b3VsZCBtYXRjaCB0aGUgdW5kZWZpbmVkIGdhdmUgaWYgbm8gY3NwIGFwcCB3YXMgZm91bmQuLi4KICAgICAgICAvLyAuLiBhbmQgd291bGRuJ3Qga2ljayBvZmYgdGhlIHdhdGNoZXIKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KCiAgICAgIC8vIE5vdGUhIHRoaXMgdXNlZCB0byBiZSBgZmluZEJ5KHRoaXMuYXBwKWAgaG93ZXZlciBmb3IgdGhhdCBjYXNlIHdlIGxvc3QgcmVhY3Rpdml0eSBvbiB0aGUgY29sbGVjdGlvbgogICAgICAvLyAoY29tcHV0ZWQgZmlyZXMgYmVmb3JlIGZldGNoLCBmZXRjaCBoYXBwZW5zIGFuZCB1cGRhdGUgYXBwcywgY29tcHV0ZWQgd291bGQgbm90IGZpcmUgYWdhaW4gLSBldmVuIHdpdGggdnVlLnNldCkKICAgICAgLy8gU28gdXNlIGAuZmluZGAgaW4gbWV0aG9kIGluc3RlYWQKICAgICAgcmV0dXJuIGhhc0NzcEFkYXB0ZXIodGhpcy5hcHBzKTsKICAgIH0sCiAgICBjYW5DYWxjQ3NwQWRhcHRlcjogZnVuY3Rpb24gY2FuQ2FsY0NzcEFkYXB0ZXIoKSB7CiAgICAgIC8vIFdlIG5lZWQgdG8gdGFrZSBjb25zaWRlciB0aGUgbG9nZ2VkSW4gc3RhdGUsIGFzIHRoZSBicmFuZCBtaXhpbiBpcyB1c2VkIGluIHRoZSBsb2dvdXQgcGFnZSB3aGVyZSB3ZSBjYW4gYmUgaW4gYSBtaXhlZCBzdGF0ZQogICAgICAvLyAodGhpbmdzIGluIHN0b3JlIGJ1dCB1c2VyIGhhcyBubyBhdXRoIHRvIG1ha2UgY2hhbmdlcykKICAgICAgcmV0dXJuIHRoaXMubG9nZ2VkSW4gJiYgdGhpcy5oYXZlQXBwc0FuZFNldHRpbmdzOwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICBjb2xvcjogZnVuY3Rpb24gY29sb3IobmV1KSB7CiAgICAgIGlmIChuZXUpIHsKICAgICAgICB0aGlzLnNldEN1c3RvbUNvbG9yKG5ldSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yZW1vdmVDdXN0b21Db2xvcigpOwogICAgICB9CiAgICB9LAogICAgbGlua0NvbG9yOiBmdW5jdGlvbiBsaW5rQ29sb3IobmV1KSB7CiAgICAgIGlmIChuZXUpIHsKICAgICAgICB0aGlzLnNldEN1c3RvbUNvbG9yKG5ldSwgJ2xpbmsnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlbW92ZUN1c3RvbUNvbG9yKCdsaW5rJyk7CiAgICAgIH0KICAgIH0sCiAgICB0aGVtZTogZnVuY3Rpb24gdGhlbWUoKSB7CiAgICAgIGlmICh0aGlzLmNvbG9yKSB7CiAgICAgICAgdGhpcy5zZXRDdXN0b21Db2xvcih0aGlzLmNvbG9yKTsKICAgICAgfQogICAgICBpZiAodGhpcy5saW5rQ29sb3IpIHsKICAgICAgICB0aGlzLnNldEN1c3RvbUNvbG9yKHRoaXMubGlua0NvbG9yLCAnbGluaycpOwogICAgICB9CiAgICB9LAogICAgY3NwQWRhcHRlcjogZnVuY3Rpb24gY3NwQWRhcHRlcihuZXUpIHsKICAgICAgaWYgKCF0aGlzLmNhbkNhbGNDc3BBZGFwdGVyKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyBUaGUgYnJhbmQgc2V0dGluZyB3aWxsIG9ubHkgZ2V0IHVwZGF0ZWQgaWYuLi4KICAgICAgaWYgKG5ldSAmJiAhdGhpcy5icmFuZCkgewogICAgICAgIC8vIDEpIFRoZXJlIHNob3VsZCBiZSBhIGJyYW5kLi4uIGJ1dCB0aGVyZSdzIG5vIGJyYW5kIHNldHRpbmcKICAgICAgICB2YXIgYnJhbmRTZXR0aW5nID0gZmluZEJ5KHRoaXMuZ2xvYmFsU2V0dGluZ3MsICdpZCcsIFNFVFRJTkcuQlJBTkQpOwogICAgICAgIGlmIChicmFuZFNldHRpbmcpIHsKICAgICAgICAgIGJyYW5kU2V0dGluZy52YWx1ZSA9ICdjc3AnOwogICAgICAgICAgYnJhbmRTZXR0aW5nLnNhdmUoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHNjaGVtYSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvc2NoZW1hRm9yJ10oTUFOQUdFTUVOVC5TRVRUSU5HKTsKICAgICAgICAgIHZhciB1cmwgPSBzY2hlbWEgPT09IG51bGwgfHwgc2NoZW1hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzY2hlbWEubGlua0ZvcignY29sbGVjdGlvbicpOwogICAgICAgICAgaWYgKHVybCkgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9jcmVhdGUnLCB7CiAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5TRVRUSU5HLAogICAgICAgICAgICAgIG1ldGFkYXRhOiB7CiAgICAgICAgICAgICAgICBuYW1lOiBTRVRUSU5HLkJSQU5ECiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB2YWx1ZTogJ2NzcCcsCiAgICAgICAgICAgICAgZGVmYXVsdDogJycKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoc2V0dGluZykgewogICAgICAgICAgICAgIHJldHVybiBzZXR0aW5nLnNhdmUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRDdXN0b21Db2xvcjogZnVuY3Rpb24gc2V0Q3VzdG9tQ29sb3IoY29sb3IpIHsKICAgICAgdmFyIG5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdwcmltYXJ5JzsKICAgICAgdmFyIHZhcnMgPSBjcmVhdGVDc3NWYXJzKGNvbG9yLCB0aGlzLnRoZW1lLCBuYW1lKTsKICAgICAgZm9yICh2YXIgcHJvcCBpbiB2YXJzKSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wLCB2YXJzW3Byb3BdKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZUN1c3RvbUNvbG9yOiBmdW5jdGlvbiByZW1vdmVDdXN0b21Db2xvcigpIHsKICAgICAgdmFyIG5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdwcmltYXJ5JzsKICAgICAgdmFyIHZhcnMgPSBjcmVhdGVDc3NWYXJzKCdyZ2IoMCwwLDApJywgdGhpcy50aGVtZSwgbmFtZSk7CiAgICAgIGZvciAodmFyIHByb3AgaW4gdmFycykgewogICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcCk7CiAgICAgIH0KICAgIH0KICB9LAogIGhlYWQ6IGZ1bmN0aW9uIGhlYWQoKSB7CiAgICB2YXIgX2JyYW5kTWV0YTsKICAgIHZhciBjc3NDbGFzcyA9ICJvdmVyZmxvdy1oaWRkZW4gZGFzaGJvYXJkLWJvZHkiOwogICAgdmFyIG91dCA9IHsKICAgICAgYm9keUF0dHJzOiB7CiAgICAgICAgY2xhc3M6ICJ0aGVtZS0iLmNvbmNhdCh0aGlzLnRoZW1lLCAiICIpLmNvbmNhdChjc3NDbGFzcykKICAgICAgfSwKICAgICAgdGl0bGU6IGdldFZlbmRvcigpCiAgICB9OwogICAgaWYgKGdldFZlbmRvcigpID09PSAnSGFydmVzdGVyJykgewogICAgICB2YXIgaWNvID0gcmVxdWlyZSgifnNoZWxsL2Fzc2V0cy9pbWFnZXMvcGwvaGFydmVzdGVyLnBuZyIpOwogICAgICBvdXQudGl0bGUgPSAnSGFydmVzdGVyJzsKICAgICAgb3V0LmxpbmsgPSBbewogICAgICAgIGhpZDogJ2ljb24nLAogICAgICAgIHJlbDogJ2ljb24nLAogICAgICAgIHR5cGU6ICdpbWFnZS94LWljb24nLAogICAgICAgIGhyZWY6IGljbwogICAgICB9XTsKICAgIH0KICAgIHZhciBicmFuZE1ldGE7CiAgICBpZiAodGhpcy5icmFuZCkgewogICAgICB0cnkgewogICAgICAgIGJyYW5kTWV0YSA9IHJlcXVpcmUoIn5zaGVsbC9hc3NldHMvYnJhbmQvIi5jb25jYXQodGhpcy5icmFuZCwgIi9tZXRhZGF0YS5qc29uIikpOwogICAgICB9IGNhdGNoIChfdW51c2VkKSB7CiAgICAgICAgcmV0dXJuIG91dDsKICAgICAgfQogICAgfQogICAgaWYgKCgoX2JyYW5kTWV0YSA9IGJyYW5kTWV0YSkgPT09IG51bGwgfHwgX2JyYW5kTWV0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JyYW5kTWV0YS5oYXNTdHlsZXNoZWV0KSA9PT0gJ3RydWUnKSB7CiAgICAgIGNzc0NsYXNzID0gIiIuY29uY2F0KGNzc0NsYXNzLCAiICIpLmNvbmNhdCh0aGlzLmJyYW5kLCAiIHRoZW1lLSIpLmNvbmNhdCh0aGlzLnRoZW1lKTsKICAgIH0gZWxzZSB7CiAgICAgIGNzc0NsYXNzID0gInRoZW1lLSIuY29uY2F0KHRoaXMudGhlbWUsICIgb3ZlcmZsb3ctaGlkZGVuIGRhc2hib2FyZC1ib2R5Iik7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdwcmVmcy9zZXRCcmFuZFN0eWxlJywgdGhpcy50aGVtZSA9PT0gJ2RhcmsnKTsKICAgIH0KICAgIG91dC5ib2R5QXR0cnMuY2xhc3MgPSBjc3NDbGFzczsKICAgIHJldHVybiBvdXQ7CiAgfQp9Ow=="},{"version":3,"names":["mapGetters","CATALOG","MANAGEMENT","getVendor","SETTING","findBy","createCssVars","_ALL_IF_AUTHED","cspAdaptorApp","hasCspAdapter","apps","find","a","_a$metadata","includes","metadata","name","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","getters","APP","dispatch","type","sent","t0","opt","load","url","concat","redirectUnauthorized","globalSettings","t1","haveAppsAndSettings","stop","data","computed","_objectSpread","loggedIn","brand","setting","BRAND","value","color","PRIMARY_COLOR","linkColor","LINK_COLOR","theme","THEME","cspAdapter","canCalcCspAdapter","watch","neu","setCustomColor","removeCustomColor","brandSetting","save","schema","linkFor","default","then","methods","arguments","length","undefined","vars","prop","document","body","style","setProperty","removeProperty","head","_brandMeta","cssClass","out","bodyAttrs","class","title","ico","require","link","hid","rel","href","brandMeta","_unused","hasStylesheet"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/mixins/brand.js"],"sourcesContent":["import { mapGetters } from 'vuex';\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { getVendor } from '@shell/config/private-label';\nimport { SETTING } from '@shell/config/settings';\nimport { findBy } from '@shell/utils/array';\nimport { createCssVars } from '@shell/utils/color';\nimport { _ALL_IF_AUTHED } from '@shell/plugins/dashboard-store/actions';\n\nconst cspAdaptorApp = ['rancher-csp-adapter', 'rancher-csp-billing-adapter'];\n\nexport const hasCspAdapter = (apps) => {\n  return apps?.find((a) => cspAdaptorApp.includes(a.metadata?.name));\n};\n\nexport default {\n  async fetch() {\n    // For the login page, the schemas won't be loaded - we don't need the apps in this case\n    try {\n      if (this.$store.getters['management/canList'](CATALOG.APP)) {\n        this.apps = await this.$store.dispatch('management/findAll', { type: CATALOG.APP });\n      }\n    } catch (e) {}\n\n    // Ensure we read the settings even when we are not authenticated\n    try {\n      this.globalSettings = await this.$store.dispatch('management/findAll', {\n        type: MANAGEMENT.SETTING,\n        opt:  {\n          load: _ALL_IF_AUTHED, url: `/v1/${ MANAGEMENT.SETTING }`, redirectUnauthorized: false\n        }\n      });\n    } catch (e) {}\n\n    // Setting this up front will remove `computed` churn, and we only care that we've initialised them\n    this.haveAppsAndSettings = !!this.apps && !!this.globalSettings;\n  },\n\n  data() {\n    return {\n      apps: null, globalSettings: null, haveAppsAndSettings: null\n    };\n  },\n\n  computed: {\n    ...mapGetters({ loggedIn: 'auth/loggedIn' }),\n\n    brand() {\n      const setting = findBy(this.globalSettings, 'id', SETTING.BRAND);\n\n      return setting?.value;\n    },\n\n    color() {\n      const setting = findBy(this.globalSettings, 'id', SETTING.PRIMARY_COLOR);\n\n      return setting?.value;\n    },\n\n    linkColor() {\n      const setting = findBy(this.globalSettings, 'id', SETTING.LINK_COLOR);\n\n      return setting?.value;\n    },\n\n    theme() {\n      const setting = findBy(this.globalSettings, 'id', SETTING.THEME);\n\n      // This handles cases where the settings update after the page loads (like on log out)\n      if (setting?.value) {\n        return setting?.value;\n      }\n\n      return this.$store.getters['prefs/theme'];\n    },\n\n    cspAdapter() {\n      if (!this.canCalcCspAdapter) {\n        // We only have a watch on cspAdapter to kick off persisting the brand setting.\n        // So we need to ensure we don't return an undefined here... which would match the undefined gave if no csp app was found...\n        // .. and wouldn't kick off the watcher\n        return '';\n      }\n\n      // Note! this used to be `findBy(this.app)` however for that case we lost reactivity on the collection\n      // (computed fires before fetch, fetch happens and update apps, computed would not fire again - even with vue.set)\n      // So use `.find` in method instead\n      return hasCspAdapter(this.apps);\n    },\n\n    canCalcCspAdapter() {\n      // We need to take consider the loggedIn state, as the brand mixin is used in the logout page where we can be in a mixed state\n      // (things in store but user has no auth to make changes)\n      return this.loggedIn && this.haveAppsAndSettings;\n    }\n  },\n\n  watch: {\n    color(neu) {\n      if (neu) {\n        this.setCustomColor(neu);\n      } else {\n        this.removeCustomColor();\n      }\n    },\n    linkColor(neu) {\n      if (neu) {\n        this.setCustomColor(neu, 'link');\n      } else {\n        this.removeCustomColor('link');\n      }\n    },\n    theme() {\n      if (this.color) {\n        this.setCustomColor(this.color);\n      }\n      if (this.linkColor) {\n        this.setCustomColor(this.linkColor, 'link');\n      }\n    },\n\n    cspAdapter(neu) {\n      if (!this.canCalcCspAdapter) {\n        return;\n      }\n\n      // The brand setting will only get updated if...\n      if (neu && !this.brand) {\n        // 1) There should be a brand... but there's no brand setting\n        const brandSetting = findBy(this.globalSettings, 'id', SETTING.BRAND);\n\n        if (brandSetting) {\n          brandSetting.value = 'csp';\n          brandSetting.save();\n        } else {\n          const schema = this.$store.getters['management/schemaFor'](MANAGEMENT.SETTING);\n          const url = schema?.linkFor('collection');\n\n          if (url) {\n            this.$store.dispatch('management/create', {\n              type: MANAGEMENT.SETTING, metadata: { name: SETTING.BRAND }, value: 'csp', default: ''\n            }).then((setting) => setting.save());\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    setCustomColor(color, name = 'primary') {\n      const vars = createCssVars(color, this.theme, name);\n\n      for (const prop in vars) {\n        document.body.style.setProperty(prop, vars[prop]);\n      }\n    },\n\n    removeCustomColor(name = 'primary') {\n      const vars = createCssVars('rgb(0,0,0)', this.theme, name);\n\n      for (const prop in vars) {\n        document.body.style.removeProperty(prop);\n      }\n    }\n  },\n  head() {\n    let cssClass = `overflow-hidden dashboard-body`;\n    const out = {\n      bodyAttrs: { class: `theme-${ this.theme } ${ cssClass }` },\n      title:     getVendor(),\n    };\n\n    if (getVendor() === 'Harvester') {\n      const ico = require(`~shell/assets/images/pl/harvester.png`);\n\n      out.title = 'Harvester';\n      out.link = [{\n        hid:  'icon',\n        rel:  'icon',\n        type: 'image/x-icon',\n        href: ico\n      }];\n    }\n\n    let brandMeta;\n\n    if ( this.brand ) {\n      try {\n        brandMeta = require(`~shell/assets/brand/${ this.brand }/metadata.json`);\n      } catch {\n        return out;\n      }\n    }\n\n    if (brandMeta?.hasStylesheet === 'true') {\n      cssClass = `${ cssClass } ${ this.brand } theme-${ this.theme }`;\n    } else {\n      cssClass = `theme-${ this.theme } overflow-hidden dashboard-body`;\n      this.$store.dispatch('prefs/setBrandStyle', this.theme === 'dark');\n    }\n\n    out.bodyAttrs.class = cssClass;\n\n    return out;\n  },\n\n};\n"],"mappings":"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"}]}