{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/RoleBindings.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/RoleBindings.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1siQEBpdGVyYXRvciJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfQppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IHsgUkJBQyBhcyBSQkFDX0xBQkVMUyB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKaW1wb3J0IHsgYWxsSGFzaCB9IGZyb20gJ0BzaGVsbC91dGlscy9wcm9taXNlJzsKaW1wb3J0IHsgUkJBQywgTUFOQUdFTUVOVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBfQ09ORklHLCBfREVUQUlMLCBfRURJVCwgX1ZJRVcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IGZpbmRCeSwgcmVtb3ZlQXQsIHJlbW92ZU9iamVjdCB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgU29ydGFibGVUYWJsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Tb3J0YWJsZVRhYmxlJzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKZXhwb3J0IHZhciBTQ09QRV9OQU1FU1BBQ0UgPSAnUm9sZSc7CmV4cG9ydCB2YXIgU0NPUEVfQ0xVU1RFUiA9ICdDbHVzdGVyUm9sZSc7Ci8vIGV4cG9ydCBjb25zdCBTQ09QRV9HTE9CQUwgPSAnR2xvYmFsUm9sZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTG9hZGluZzogTG9hZGluZywKICAgIExhYmVsZWRTZWxlY3Q6IExhYmVsZWRTZWxlY3QsCiAgICBTb3J0YWJsZVRhYmxlOiBTb3J0YWJsZVRhYmxlCiAgfSwKICBwcm9wczogewogICAgcmVnaXN0ZXJBZnRlckhvb2s6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogX0VESVQKICAgIH0sCiAgICBhczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IF9DT05GSUcKICAgIH0sCiAgICBpblN0b3JlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NsdXN0ZXInCiAgICB9LAogICAgcm9sZVNjb3BlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgIHJldHVybiBbU0NPUEVfTkFNRVNQQUNFLCBTQ09QRV9DTFVTVEVSXS5pbmNsdWRlcyh2YWwpOwogICAgICB9CiAgICB9LAogICAgYmluZGluZ1Njb3BlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgIHJldHVybiBbU0NPUEVfTkFNRVNQQUNFLCBTQ09QRV9DTFVTVEVSXS5pbmNsdWRlcyh2YWwpOwogICAgICB9CiAgICB9LAogICAgbmFtZXNwYWNlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGZpbHRlclJvbGVLZXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBSQkFDX0xBQkVMUy5QUk9EVUNUCiAgICB9LAogICAgZmlsdGVyUm9sZVZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBoYXNoLCBpblN0b3JlLCBvdXQsIGtleTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaGFzaCA9IHsKICAgICAgICAgICAgICBhbGxVc2VyczogX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULlVTRVIKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9OwogICAgICAgICAgICBpblN0b3JlID0gX3RoaXMuaW5TdG9yZTsKICAgICAgICAgICAgaWYgKCEoX3RoaXMucm9sZVNjb3BlID09PSBTQ09QRV9OQU1FU1BBQ0UpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaGFzaC5hbGxSb2xlcyA9IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoaW5TdG9yZSwgIi9maW5kQWxsIiksIHsKICAgICAgICAgICAgICB0eXBlOiBSQkFDLlJPTEUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGlmICghKF90aGlzLnJvbGVTY29wZSA9PT0gU0NPUEVfQ0xVU1RFUikpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaGFzaC5hbGxSb2xlcyA9IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoaW5TdG9yZSwgIi9maW5kQWxsIiksIHsKICAgICAgICAgICAgICB0eXBlOiBSQkFDLkNMVVNURVJfUk9MRQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8gfSBlbHNlIGlmICggdGhpcy5yb2xlU2NvcGUgPT09IFNDT1BFX0dMT0JBTCApIHsKICAgICAgICAgICAgLy8gaGFzaC5hbGxSb2xlcyA9IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7IHR5cGU6IE1BTkFHRU1FTlQuR0xPQkFMX1JPTEUgfSk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gcm9sZVNjb3BlJyk7CiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBpZiAoIShfdGhpcy5iaW5kaW5nU2NvcGUgPT09IFNDT1BFX05BTUVTUEFDRSkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaGFzaC5hbGxCaW5kaW5ncyA9IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoaW5TdG9yZSwgIi9maW5kQWxsIiksIHsKICAgICAgICAgICAgICB0eXBlOiBSQkFDLlJPTEVfQklORElORwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGlmICghKF90aGlzLmJpbmRpbmdTY29wZSA9PT0gU0NPUEVfQ0xVU1RFUikpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaGFzaC5hbGxCaW5kaW5ncyA9IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoaW5TdG9yZSwgIi9maW5kQWxsIiksIHsKICAgICAgICAgICAgICB0eXBlOiBSQkFDLkNMVVNURVJfUk9MRV9CSU5ESU5HCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyB9IGVsc2UgaWYgKCB0aGlzLmJpbmRpbmdTY29wZSA9PT0gU0NPUEVfR0xPQkFMICkgewogICAgICAgICAgICAvLyBoYXNoLmFsbEJpbmRpbmdzID0gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsgdHlwZTogTUFOQUdFTUVOVC5HTE9CQUxfUk9MRV9CSU5ESU5HIH0pOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHNjb3BlJyk7CiAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgIHJldHVybiBhbGxIYXNoKGhhc2gpOwogICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgb3V0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgZm9yIChrZXkgaW4gb3V0KSB7CiAgICAgICAgICAgICAgX3RoaXNba2V5XSA9IG91dFtrZXldOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnJlYWRFeGlzdGluZ0JpbmRpbmdzKCk7CiAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxsUm9sZXM6IG51bGwsCiAgICAgIGFsbEJpbmRpbmdzOiBudWxsLAogICAgICBhbGxVc2VyczogbnVsbCwKICAgICAgcm93czogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1ZpZXc6IGZ1bmN0aW9uIGlzVmlldygpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gX1ZJRVc7CiAgICB9LAogICAgc2hvd0RldGFpbDogZnVuY3Rpb24gc2hvd0RldGFpbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuYXMgPT09IF9ERVRBSUw7CiAgICB9LAogICAgZGV0YWlsSGVhZGVyczogZnVuY3Rpb24gZGV0YWlsSGVhZGVycygpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgbmFtZTogJ3R5cGUnLAogICAgICAgIGxhYmVsS2V5OiAndGFibGVIZWFkZXJzLnR5cGUnLAogICAgICAgIHZhbHVlOiAnc3ViamVjdEtpbmQnLAogICAgICAgIHNvcnQ6ICdzdWJqZWN0S2luZCcsCiAgICAgICAgc2VhcmNoOiAnc3ViamVjdEtpbmQnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnc3ViamVjdCcsCiAgICAgICAgbGFiZWxLZXk6ICd0YWJsZUhlYWRlcnMuc3ViamVjdCcsCiAgICAgICAgdmFsdWU6ICd1c2VyT2JqLmxhYmVsRm9yU2VsZWN0JywKICAgICAgICBzb3J0OiAndXNlck9iai5sYWJlbEZvclNlbGVjdCcsCiAgICAgICAgc2VhcmNoOiAndXNlck9iai5sYWJlbEZvclNlbGVjdCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdyb2xlJywKICAgICAgICBsYWJlbEtleTogJ3RhYmxlSGVhZGVycy5yb2xlJywKICAgICAgICB2YWx1ZTogJ3JvbGVPYmoubmFtZVdpdGhpblByb2R1Y3QnLAogICAgICAgIHNvcnQ6ICdyb2xlT2JqLm5hbWVXaXRoaW5Qcm9kdWN0JywKICAgICAgICBzZWFyY2g6ICdyb2xlT2JqLm5hbWVXaXRoaW5Qcm9kdWN0JwogICAgICB9XTsKICAgIH0sCiAgICB1c2VyT3B0aW9uczogZnVuY3Rpb24gdXNlck9wdGlvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmFsbFVzZXJzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiAheC5pc1N5c3RlbTsKICAgICAgfSkubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxhYmVsOiB4LmxhYmVsRm9yU2VsZWN0LAogICAgICAgICAgdmFsdWU6IHguaWQKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICByb2xlT3B0aW9uczogZnVuY3Rpb24gcm9sZU9wdGlvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLnJvbGVzLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsYWJlbDogeC5uYW1lV2l0aGluUHJvZHVjdCwKICAgICAgICAgIHZhbHVlOiB4Lm5hbWUKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICByb2xlczogZnVuY3Rpb24gcm9sZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgYWxsID0gdGhpcy5hbGxSb2xlczsKICAgICAgaWYgKCF0aGlzLmZpbHRlclJvbGVLZXkgfHwgIXRoaXMuZmlsdGVyUm9sZVZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGFsbDsKICAgICAgfQogICAgICB2YXIgb3V0ID0gYWxsLmZpbHRlcihmdW5jdGlvbiAocm9sZSkgewogICAgICAgIHZhciBfcm9sZSRtZXRhZGF0YTsKICAgICAgICByZXR1cm4gKChfcm9sZSRtZXRhZGF0YSA9IHJvbGUubWV0YWRhdGEpID09PSBudWxsIHx8IF9yb2xlJG1ldGFkYXRhID09PSB2b2lkIDAgfHwgKF9yb2xlJG1ldGFkYXRhID0gX3JvbGUkbWV0YWRhdGEubGFiZWxzKSA9PT0gbnVsbCB8fCBfcm9sZSRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JvbGUkbWV0YWRhdGFbX3RoaXMyLmZpbHRlclJvbGVLZXldKSA9PT0gX3RoaXMyLmZpbHRlclJvbGVWYWx1ZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAogICAgZXhpc3RpbmdCaW5kaW5nczogZnVuY3Rpb24gZXhpc3RpbmdCaW5kaW5ncygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciByb2xlcyA9IHRoaXMucm9sZXMubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHgubmFtZTsKICAgICAgfSk7CiAgICAgIHZhciBvdXQgPSB0aGlzLmFsbEJpbmRpbmdzLmZpbHRlcihmdW5jdGlvbiAoYmluZGluZykgewogICAgICAgIHZhciBfYmluZGluZyRyb2xlUmVmLCBfYmluZGluZyRtZXRhZGF0YTsKICAgICAgICBpZiAoYmluZGluZy5yb2xlUmVmLmtpbmQgIT09IF90aGlzMy5yb2xlU2NvcGUgfHwgISgoX2JpbmRpbmckcm9sZVJlZiA9IGJpbmRpbmcucm9sZVJlZikgIT09IG51bGwgJiYgX2JpbmRpbmckcm9sZVJlZiAhPT0gdm9pZCAwICYmIF9iaW5kaW5nJHJvbGVSZWYubmFtZSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKF90aGlzMy5iaW5kaW5nU2NvcGUgPT09IFNDT1BFX05BTUVTUEFDRSAmJiAoKF9iaW5kaW5nJG1ldGFkYXRhID0gYmluZGluZy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2JpbmRpbmckbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iaW5kaW5nJG1ldGFkYXRhLm5hbWVzcGFjZSkgIT09IF90aGlzMy5uYW1lc3BhY2UpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJvbGVzLmluY2x1ZGVzKGJpbmRpbmcucm9sZVJlZi5uYW1lKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAogICAgdW5yZW1vdmVkUm93czogZnVuY3Rpb24gdW5yZW1vdmVkUm93cygpIHsKICAgICAgcmV0dXJuIHRoaXMucm93cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5yZW1vdmUgIT09IHRydWU7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLm1vZGUgIT09IF9WSUVXKSB7CiAgICAgIHRoaXMucmVnaXN0ZXJBZnRlckhvb2sodGhpcy5zYXZlUm9sZUJpbmRpbmdzLCAnc2F2ZVJvbGVCaW5kaW5ncycpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVhZEV4aXN0aW5nQmluZGluZ3M6IGZ1bmN0aW9uIHJlYWRFeGlzdGluZ0JpbmRpbmdzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdGhpcy5yb3dzID0gdGhpcy5leGlzdGluZ0JpbmRpbmdzLm1hcChmdW5jdGlvbiAoYmluZGluZykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluZGluZy5zdWJqZWN0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIHN1YmplY3QgPSBiaW5kaW5nLnN1YmplY3RzW2ldOwoKICAgICAgICAgIC8vIFdlIGhhdmUgbm8gd2F5IHRvIGRvIGdyb3VwcyByaWdodCBub3cuLi4KICAgICAgICAgIGlmIChzdWJqZWN0LmtpbmQgIT09ICdVc2VyJykgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHN1YmplY3RLaW5kOiBzdWJqZWN0LmtpbmQsCiAgICAgICAgICAgIHN1YmplY3Q6IHN1YmplY3QubmFtZSwKICAgICAgICAgICAgdXNlck9iajogZmluZEJ5KF90aGlzNC5hbGxVc2VycywgJ2lkJywgc3ViamVjdC5uYW1lKSwKICAgICAgICAgICAgcm9sZUtpbmQ6IGJpbmRpbmcucm9sZVJlZi5raW5kLAogICAgICAgICAgICByb2xlOiBiaW5kaW5nLnJvbGVSZWYubmFtZSwKICAgICAgICAgICAgcm9sZU9iajogZmluZEJ5KF90aGlzNC5hbGxSb2xlcywgJ2lkJywgYmluZGluZy5yb2xlUmVmLm5hbWUpLAogICAgICAgICAgICBleGlzdGluZzogYmluZGluZywKICAgICAgICAgICAgZXhpc3RpbmdJZHg6IGksCiAgICAgICAgICAgIHJlbW92ZTogZmFsc2UKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzYXZlUm9sZUJpbmRpbmdzOiBmdW5jdGlvbiBzYXZlUm9sZUJpbmRpbmdzKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHByb21pc2VzLCBfaXRlcmF0b3IsIF9zdGVwLCByb3csIG9iaiwgc3ViaiwgbmV1LCBfb2JqOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCiAgICAgICAgICAgICAgcHJvbWlzZXMgPSBbXTsKICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpczUucm93cyk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwogICAgICAgICAgICAgIF9pdGVyYXRvci5zKCk7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBpZiAoKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByb3cgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgICBpZiAoIXJvdy5yZW1vdmUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gUmVtb3ZlIGFuIGV4aXN0aW5nIGVudHJ5CgogICAgICAgICAgICAgIGlmIChyb3cuZXhpc3Rpbmcuc3ViamVjdHMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICAvLyBUaGVyZSdzIG9ubHkgb25lIHN1YmplY3QsIHJlbW92ZSB0aGUgd2hvbGUgYmluZGluZwogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVtb3ZlJywgcm93LmV4aXN0aW5nLmlkLCAnb25seSBvbmUgc3ViamVjdCcpOwogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChyb3cuZXhpc3RpbmcucmVtb3ZlKCkpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBUaGVyZSdzIG11bHRpcGxlIHN1YmplY3RzLCByZW1vdmUganVzdCB0aGlzIG9uZQogICAgICAgICAgICAgICAgcmVtb3ZlQXQocm93LmV4aXN0aW5nLnN1YmplY3RzLCByb3cuZXhpc3RpbmdJZHgpOwogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVtb3ZlJywgcm93LmV4aXN0aW5nLmlkLCAnc3ViamVjdCcsIHJvdy5leGlzdGluZ0lkeCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgaWYgKCFyb3cuZXhpc3RpbmcpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gTWF5YmUgdXBkYXRlIGV4aXN0aW5nLCB3aGljaCBtaWdodCBiZSBhIFBVVCwgb3IgYSBQVVQgKyBQT1NULCBvciBhIERFTEVURSArIFBPU1QKICAgICAgICAgICAgICAvLyBiZWNhdXNlIHRoZSByb2xlIG9mIGFuIGV4aXN0aW5nIGJpbmRpbmcgY2FuJ3QgYmUgZWRpdGVkIGluIGs4cyAoYmVjYXVzZSByZWFzb25zLCBwcmVzdW1hYmx5KS4KICAgICAgICAgICAgICBvYmogPSByb3cuZXhpc3Rpbmc7CiAgICAgICAgICAgICAgc3ViaiA9IG9iai5zdWJqZWN0c1tyb3cuZXhpc3RpbmdJZHhdOwogICAgICAgICAgICAgIGlmICghKG9iai5yb2xlUmVmLm5hbWUgIT09IHJvdy5yb2xlIHx8IG9iai5yb2xlUmVmLmtpbmQgIT09IHJvdy5yb2xlS2luZCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmNyZWF0ZUZyb20ocm93KTsKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBuZXUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAvLyBNYWtlIGEgbmV3IGJpbmRpbmcKICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKG5ldS5zYXZlKCkpOwogICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0NyZWF0ZSBiaW5kaW5nIGZyb20nLCByb3cuZXhpc3RpbmcuaWQsICdiZWNhdXNlIHJvbGUgY2hhbmdlZCcpOwogICAgICAgICAgICAgIGlmIChvYmouc3ViamVjdHMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICAvLyBUaGVyZSdzIG9ubHkgb25lIHN1YmplY3QsIHJlbW92ZSB0aGUgd2hvbGUgYmluZGluZwogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChvYmoucmVtb3ZlKCkpOwogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVtb3ZlJywgcm93LmV4aXN0aW5nLmlkLCAnYmVjYXVzZSByb2xlIGNoYW5nZWQsIG9ubHkgb25lIHN1YmplY3QnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gVGhlcmUncyBtdWx0aXBsZSBzdWJqZWN0LCByZW1vdmUgdGhpcyBvbmUganVzdCB0aGlzIG9uZQogICAgICAgICAgICAgICAgcmVtb3ZlQXQob2JqLnN1YmplY3RzLCByb3cuZXhpc3RpbmdJZHgpOwogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChvYmouc2F2ZSgpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1VwZGF0ZScsIHJvdy5leGlzdGluZy5pZCwgJ3JlbW92ZSBzdWJqZWN0Jywgcm93LmV4aXN0aW5nSWR4LCAnYmVjYXVzZSByb2xlIGNoYW5nZWQnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBpZiAoc3Viai5uYW1lICE9PSByb3cuc3ViamVjdCB8fCBzdWJqLmtpbmQgIT09IHJvdy5zdWJqZWN0S2luZCkgewogICAgICAgICAgICAgICAgLy8gVGhpcyBzdWJqZWN0IGNoYW5nZWQKICAgICAgICAgICAgICAgIHN1Ymoua2luZCA9IHJvdy5zdWJqZWN0S2luZDsKICAgICAgICAgICAgICAgIHN1YmoubmFtZSA9IHJvdy5zdWJqZWN0OwogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChvYmouc2F2ZSgpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0NoYW5nZWQnLCByb3cuZXhpc3RpbmcuaWQsICdzdWJqZWN0Jywgcm93LmV4aXN0aW5nSWR4KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gTm90aGluZyBjaGFuZ2VkCiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdVbmNoYW5nZWQnLCByb3cuZXhpc3RpbmcuaWQsICdzdWJqZWN0Jywgcm93LmV4aXN0aW5nSWR4KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI3OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczUuY3JlYXRlRnJvbShyb3cpOwogICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgIF9vYmogPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKF9vYmouc2F2ZSgpKTsKICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdDcmVhdGUgYmluZGluZycpOwogICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMzQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgIF9pdGVyYXRvci5lKF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzNzsKICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDM3KTsKICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTsKICAgICAgICAgICAgY2FzZSA0MzoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDQ1OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDU7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDQwKTsKICAgICAgICAgICAgICAvLyBJZiBzb21ldGhpbmcgZ29lcyB3cm9uZywgZm9yZ2V0IGV2ZXJ5dGhpbmcgYW5kIHJlbG9hZCB0byBnZXQgdGhlIGN1cnJlbnQgc3RhdGUuCiAgICAgICAgICAgICAgX3RoaXM1LnJlYWRFeGlzdGluZ0JpbmRpbmdzKCk7CiAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQyLnQxOwogICAgICAgICAgICBjYXNlIDQ5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDM0LCAzNywgNDBdLCBbNDAsIDQ1XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVhdGVGcm9tOiBmdW5jdGlvbiBjcmVhdGVGcm9tKHJvdykgewogICAgICB2YXIgdHlwZSwgYXBpR3JvdXA7CiAgICAgIHZhciBpblN0b3JlID0gdGhpcy5pblN0b3JlOwogICAgICBpZiAodGhpcy5iaW5kaW5nU2NvcGUgPT09IFNDT1BFX05BTUVTUEFDRSkgewogICAgICAgIHR5cGUgPSBSQkFDLlJPTEVfQklORElORzsKICAgICAgICBhcGlHcm91cCA9ICdyYmFjLmF1dGhvcml6YXRpb24uazhzLmlvJzsKICAgICAgfSBlbHNlIGlmICh0aGlzLmJpbmRpbmdTY29wZSA9PT0gU0NPUEVfQ0xVU1RFUikgewogICAgICAgIHR5cGUgPSBSQkFDLkNMVVNURVJfUk9MRV9CSU5ESU5HOwogICAgICAgIGFwaUdyb3VwID0gJ3JiYWMuYXV0aG9yaXphdGlvbi5rOHMuaW8nOwogICAgICAgIC8vIH0gZWxzZSBpZiAoIHRoaXMuYmluZGluZ1Njb3BlID09PSBTQ09QRV9HTE9CQUwgKSB7CiAgICAgICAgLy8gICB0eXBlID0gTUFOQUdFTUVOVC5HTE9CQUxfUk9MRV9CSU5ESU5HOwogICAgICAgIC8vICAgaW5TdG9yZSA9ICdtYW5hZ2VtZW50JwogICAgICAgIC8vICAgYXBpR3JvdXAgPSAnbWFuYWdlbWVudC5jYXR0bGUuaW8nID8KICAgICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gYmluZGluZyBzY29wZScpOwogICAgICB9CiAgICAgIHZhciBvYmogPSB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoaW5TdG9yZSwgIi9jcmVhdGUiKSwgewogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgbWV0YWRhdGE6IHsKICAgICAgICAgIGdlbmVyYXRlTmFtZTogInVpLSIuY29uY2F0KHRoaXMuZmlsdGVyUm9sZVZhbHVlID8gIiIuY29uY2F0KHRoaXMuZmlsdGVyUm9sZVZhbHVlLCAiLSIpIDogJycpLAogICAgICAgICAgbmFtZXNwYWNlOiB0aGlzLm5hbWVzcGFjZQogICAgICAgIH0sCiAgICAgICAgcm9sZVJlZjogewogICAgICAgICAgYXBpR3JvdXA6IGFwaUdyb3VwLAogICAgICAgICAga2luZDogcm93LnJvbGVLaW5kLAogICAgICAgICAgbmFtZTogcm93LnJvbGUKICAgICAgICB9LAogICAgICAgIHN1YmplY3RzOiBbewogICAgICAgICAgYXBpR3JvdXA6IGFwaUdyb3VwLAogICAgICAgICAga2luZDogcm93LnN1YmplY3RLaW5kLAogICAgICAgICAgbmFtZTogcm93LnN1YmplY3QKICAgICAgICB9XQogICAgICB9KTsKICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShyb3cpIHsKICAgICAgaWYgKHJvdy5leGlzdGluZykgewogICAgICAgIHRoaXMuJHNldChyb3csICdyZW1vdmUnLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZW1vdmVPYmplY3QodGhpcy5yb3dzLCByb3cpOwogICAgICB9CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMucm93cy5wdXNoKHsKICAgICAgICBzdWJqZWN0S2luZDogJ1VzZXInLAogICAgICAgIHN1YmplY3Q6ICcnLAogICAgICAgIHJvbGVLaW5kOiB0aGlzLnJvbGVTY29wZSwKICAgICAgICByb2xlOiAnJwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["RBAC","RBAC_LABELS","allHash","MANAGEMENT","_CONFIG","_DETAIL","_EDIT","_VIEW","findBy","removeAt","removeObject","Loading","SortableTable","LabeledSelect","SCOPE_NAMESPACE","SCOPE_CLUSTER","components","props","registerAfterHook","type","Function","default","mode","String","as","inStore","roleScope","required","validator","val","includes","bindingScope","namespace","filterRoleKey","PRODUCT","filterRoleValue","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","hash","out","key","wrap","_callee$","_context","prev","next","allUsers","$store","dispatch","USER","allRoles","concat","ROLE","CLUSTER_ROLE","Error","allBindings","ROLE_BINDING","CLUSTER_ROLE_BINDING","sent","readExistingBindings","stop","data","rows","computed","isView","showDetail","detailHeaders","name","labelKey","value","sort","search","userOptions","filter","x","isSystem","map","label","labelForSelect","id","roleOptions","roles","nameWithinProduct","_this2","all","role","_role$metadata","metadata","labels","existingBindings","_this3","binding","_binding$roleRef","_binding$metadata","roleRef","kind","unremovedRows","remove","created","saveRoleBindings","methods","_this4","i","subjects","length","subject","subjectKind","userObj","roleKind","roleObj","existing","existingIdx","_this5","_callee2","promises","_iterator","_step","row","obj","subj","neu","_obj","_callee2$","_context2","_createForOfIteratorHelper","s","n","done","console","debug","push","createFrom","save","t0","e","f","finish","Promise","t1","apiGroup","generateName","$set","add"],"sources":["node_modules/@rancher/shell/components/RoleBindings.vue"],"sourcesContent":["<script>\nimport { RBAC as RBAC_LABELS } from '@shell/config/labels-annotations';\nimport { allHash } from '@shell/utils/promise';\nimport { RBAC, MANAGEMENT } from '@shell/config/types';\nimport { _CONFIG, _DETAIL, _EDIT, _VIEW } from '@shell/config/query-params';\nimport { findBy, removeAt, removeObject } from '@shell/utils/array';\nimport Loading from '@shell/components/Loading';\nimport SortableTable from '@shell/components/SortableTable';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nexport const SCOPE_NAMESPACE = 'Role';\nexport const SCOPE_CLUSTER = 'ClusterRole';\n// export const SCOPE_GLOBAL = 'GlobalRole';\n\nexport default {\n  components: {\n    Loading, LabeledSelect, SortableTable\n  },\n\n  props: {\n    registerAfterHook: {\n      type:    Function,\n      default: null,\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT,\n    },\n\n    as: {\n      type:    String,\n      default: _CONFIG,\n    },\n\n    inStore: {\n      type:    String,\n      default: 'cluster',\n    },\n\n    roleScope: {\n      type:     String,\n      required: true,\n      validator(val) {\n        return [SCOPE_NAMESPACE, SCOPE_CLUSTER].includes(val);\n      }\n    },\n\n    bindingScope: {\n      type:     String,\n      required: true,\n      validator(val) {\n        return [SCOPE_NAMESPACE, SCOPE_CLUSTER].includes(val);\n      }\n    },\n\n    namespace: {\n      type:    String,\n      default: null,\n    },\n\n    filterRoleKey: {\n      type:    String,\n      default: RBAC_LABELS.PRODUCT\n    },\n\n    filterRoleValue: {\n      type:    String,\n      default: null,\n    },\n  },\n\n  async fetch() {\n    const hash = { allUsers: this.$store.dispatch('management/findAll', { type: MANAGEMENT.USER }) };\n    const inStore = this.inStore;\n\n    if ( this.roleScope === SCOPE_NAMESPACE ) {\n      hash.allRoles = this.$store.dispatch(`${ inStore }/findAll`, { type: RBAC.ROLE });\n    } else if ( this.roleScope === SCOPE_CLUSTER ) {\n      hash.allRoles = this.$store.dispatch(`${ inStore }/findAll`, { type: RBAC.CLUSTER_ROLE });\n    // } else if ( this.roleScope === SCOPE_GLOBAL ) {\n    // hash.allRoles = this.$store.dispatch('management/findAll', { type: MANAGEMENT.GLOBAL_ROLE });\n    } else {\n      throw new Error('Unknown roleScope');\n    }\n\n    if ( this.bindingScope === SCOPE_NAMESPACE ) {\n      hash.allBindings = this.$store.dispatch(`${ inStore }/findAll`, { type: RBAC.ROLE_BINDING });\n    } else if ( this.bindingScope === SCOPE_CLUSTER ) {\n      hash.allBindings = this.$store.dispatch(`${ inStore }/findAll`, { type: RBAC.CLUSTER_ROLE_BINDING });\n    // } else if ( this.bindingScope === SCOPE_GLOBAL ) {\n    // hash.allBindings = this.$store.dispatch('management/findAll', { type: MANAGEMENT.GLOBAL_ROLE_BINDING });\n    } else {\n      throw new Error('Unknown scope');\n    }\n\n    const out = await allHash(hash);\n\n    for ( const key in out ) {\n      this[key] = out[key];\n    }\n\n    this.readExistingBindings();\n  },\n\n  data() {\n    return {\n      allRoles:    null,\n      allBindings: null,\n      allUsers:    null,\n      rows:        null,\n    };\n  },\n\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    showDetail() {\n      return this.as === _DETAIL;\n    },\n\n    detailHeaders() {\n      return [\n        {\n          name:     'type',\n          labelKey: 'tableHeaders.type',\n          value:    'subjectKind',\n          sort:     'subjectKind',\n          search:   'subjectKind',\n        },\n        {\n          name:     'subject',\n          labelKey: 'tableHeaders.subject',\n          value:    'userObj.labelForSelect',\n          sort:     'userObj.labelForSelect',\n          search:   'userObj.labelForSelect',\n        },\n        {\n          name:     'role',\n          labelKey: 'tableHeaders.role',\n          value:    'roleObj.nameWithinProduct',\n          sort:     'roleObj.nameWithinProduct',\n          search:   'roleObj.nameWithinProduct',\n        },\n      ];\n    },\n\n    userOptions() {\n      return this.allUsers.filter((x) => {\n        return !x.isSystem;\n      }).map((x) => {\n        return {\n          label: x.labelForSelect,\n          value: x.id,\n        };\n      });\n    },\n\n    roleOptions() {\n      return this.roles.map((x) => {\n        return { label: x.nameWithinProduct, value: x.name };\n      });\n    },\n\n    roles() {\n      const all = this.allRoles;\n\n      if ( !this.filterRoleKey || !this.filterRoleValue ) {\n        return all;\n      }\n\n      const out = all.filter((role) => {\n        return role.metadata?.labels?.[this.filterRoleKey] === this.filterRoleValue;\n      });\n\n      return out;\n    },\n\n    existingBindings() {\n      const roles = this.roles.map((x) => x.name);\n\n      const out = this.allBindings.filter((binding) => {\n        if ( binding.roleRef.kind !== this.roleScope || !binding.roleRef?.name) {\n          return false;\n        }\n\n        if ( this.bindingScope === SCOPE_NAMESPACE && binding.metadata?.namespace !== this.namespace ) {\n          return false;\n        }\n\n        return roles.includes(binding.roleRef.name);\n      });\n\n      return out;\n    },\n\n    unremovedRows() {\n      return this.rows.filter((x) => x.remove !== true);\n    },\n  },\n\n  created() {\n    if ( this.mode !== _VIEW ) {\n      this.registerAfterHook(this.saveRoleBindings, 'saveRoleBindings');\n    }\n  },\n\n  methods: {\n    readExistingBindings() {\n      this.rows = this.existingBindings.map((binding) => {\n        for ( let i = 0 ; i < binding.subjects.length ; i++ ) {\n          const subject = binding.subjects[i];\n\n          // We have no way to do groups right now...\n          if ( subject.kind !== 'User' ) {\n            continue;\n          }\n\n          return {\n            subjectKind: subject.kind,\n            subject:     subject.name,\n            userObj:     findBy(this.allUsers, 'id', subject.name),\n            roleKind:    binding.roleRef.kind,\n            role:        binding.roleRef.name,\n            roleObj:     findBy(this.allRoles, 'id', binding.roleRef.name),\n            existing:    binding,\n            existingIdx: i,\n            remove:      false,\n          };\n        }\n      });\n    },\n\n    async saveRoleBindings() {\n      /* eslint-disable no-console */\n\n      const promises = [];\n\n      for ( const row of this.rows ) {\n        if ( row.remove ) {\n          // Remove an existing entry\n\n          if ( row.existing.subjects.length === 1 ) {\n            // There's only one subject, remove the whole binding\n            console.debug('Remove', row.existing.id, 'only one subject');\n            promises.push(row.existing.remove());\n          } else {\n          // There's multiple subjects, remove just this one\n            removeAt(row.existing.subjects, row.existingIdx);\n            console.debug('Remove', row.existing.id, 'subject', row.existingIdx);\n          }\n        } else if ( row.existing ) {\n          // Maybe update existing, which might be a PUT, or a PUT + POST, or a DELETE + POST\n          // because the role of an existing binding can't be edited in k8s (because reasons, presumably).\n          const obj = row.existing;\n          const subj = obj.subjects[row.existingIdx];\n\n          if ( obj.roleRef.name !== row.role || obj.roleRef.kind !== row.roleKind ) {\n            // The role changed\n            const neu = await this.createFrom(row);\n\n            // Make a new binding\n            promises.push(neu.save());\n            console.debug('Create binding from', row.existing.id, 'because role changed');\n\n            if ( obj.subjects.length === 1 ) {\n              // There's only one subject, remove the whole binding\n              promises.push(obj.remove());\n              console.debug('Remove', row.existing.id, 'because role changed, only one subject');\n            } else {\n              // There's multiple subject, remove this one just this one\n              removeAt(obj.subjects, row.existingIdx);\n              promises.push(obj.save());\n              console.debug('Update', row.existing.id, 'remove subject', row.existingIdx, 'because role changed');\n            }\n          } else if ( subj.name !== row.subject || subj.kind !== row.subjectKind ) {\n            // This subject changed\n            subj.kind = row.subjectKind;\n            subj.name = row.subject;\n\n            promises.push(obj.save());\n            console.debug('Changed', row.existing.id, 'subject', row.existingIdx);\n          } else {\n            // Nothing changed\n            console.debug('Unchanged', row.existing.id, 'subject', row.existingIdx);\n          }\n        } else {\n          // Create new\n          const obj = await this.createFrom(row);\n\n          promises.push(obj.save());\n          console.debug('Create binding');\n        }\n      }\n\n      try {\n        await Promise.all(promises);\n      } catch (e) {\n        // If something goes wrong, forget everything and reload to get the current state.\n        this.readExistingBindings();\n        throw e;\n      }\n\n      /* eslint-enable no-console */\n    },\n\n    createFrom(row) {\n      let type, apiGroup;\n      const inStore = this.inStore;\n\n      if ( this.bindingScope === SCOPE_NAMESPACE ) {\n        type = RBAC.ROLE_BINDING;\n        apiGroup = 'rbac.authorization.k8s.io';\n      } else if ( this.bindingScope === SCOPE_CLUSTER ) {\n        type = RBAC.CLUSTER_ROLE_BINDING;\n        apiGroup = 'rbac.authorization.k8s.io';\n      // } else if ( this.bindingScope === SCOPE_GLOBAL ) {\n      //   type = MANAGEMENT.GLOBAL_ROLE_BINDING;\n      //   inStore = 'management'\n      //   apiGroup = 'management.cattle.io' ?\n      } else {\n        throw new Error('Unknown binding scope');\n      }\n\n      const obj = this.$store.dispatch(`${ inStore }/create`, {\n        type,\n        metadata: {\n          generateName: `ui-${ this.filterRoleValue ? `${ this.filterRoleValue }-` : '' }`,\n          namespace:    this.namespace,\n        },\n        roleRef: {\n          apiGroup,\n          kind: row.roleKind,\n          name: row.role,\n        },\n        subjects: [\n          {\n            apiGroup,\n            kind: row.subjectKind,\n            name: row.subject,\n          },\n        ]\n      });\n\n      return obj;\n    },\n\n    remove(row) {\n      if ( row.existing ) {\n        this.$set(row, 'remove', true);\n      } else {\n        removeObject(this.rows, row);\n      }\n    },\n\n    add() {\n      this.rows.push({\n        subjectKind: 'User',\n        subject:     '',\n        roleKind:    this.roleScope,\n        role:        '',\n      });\n    }\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else-if=\"showDetail\">\n    <SortableTable\n      :rows=\"unremovedRows\"\n      :headers=\"detailHeaders\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"existing.id\"\n      default-sort-by=\"subject\"\n      :paged=\"true\"\n    />\n  </div>\n  <div v-else>\n    <div\n      v-for=\"(row, idx) in unremovedRows\"\n      :key=\"idx\"\n      class=\"role-row\"\n      :class=\"{[mode]: true}\"\n    >\n      <div class=\"subject\">\n        <LabeledSelect\n          v-model=\"row.subject\"\n          label-key=\"rbac.roleBinding.user.label\"\n          :mode=\"mode\"\n          :searchable=\"true\"\n          :taggable=\"true\"\n          :options=\"userOptions\"\n        />\n      </div>\n      <div class=\"binding\">\n        <LabeledSelect\n          v-model=\"row.role\"\n          label-key=\"rbac.roleBinding.role.label\"\n          :mode=\"mode\"\n          :searchable=\"true\"\n          :taggable=\"true\"\n          :options=\"roleOptions\"\n        />\n      </div>\n      <div class=\"remove\">\n        <button\n          v-t=\"'generic.remove'\"\n          :disabled=\"isView\"\n          type=\"button\"\n          class=\"btn role-link\"\n          @click=\"remove(row)\"\n        />\n      </div>\n    </div>\n    <div>\n      <button\n        v-t=\"'rbac.roleBinding.add'\"\n        :disabled=\"isView\"\n        type=\"button\"\n        class=\"btn role-tertiary add\"\n        @click=\"add()\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.role-row{\n  display: grid;\n  grid-template-columns: 45% 45% 10%;\n\n  grid-column-gap: $column-gutter;\n  margin-bottom: 10px;\n  align-items: center;\n  & .port{\n    display: flex;\n    justify-content: space-between;\n  }\n\n  &.show-host{\n    grid-template-columns: 30% 16% 10% 15% 15% 5%;\n  }\n\n}\n\n.add-host {\n  justify-self: center;\n}\n\n.protocol {\n  height: 100%;\n}\n\n.ports-headers {\n  color: var(--input-label);\n}\n\n.toggle-host-ports {\n  color: var(--primary);\n}\n\n.remove BUTTON {\n  padding: 0px;\n}\n</style>\n"],"mappings":"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"}]}