{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/management.cattle.io.projectroletemplatebinding.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/management.cattle.io.projectroletemplatebinding.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZmxlY3QuY29uc3RydWN0LmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KaW1wb3J0IHsgQ1JFQVRPUl9JRCB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKaW1wb3J0IHsgTUFOQUdFTUVOVCwgTk9STUFOIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBIeWJyaWRNb2RlbCBmcm9tICdAc2hlbGwvcGx1Z2lucy9zdGV2ZS9oeWJyaWQtY2xhc3MnOwp2YXIgUFJUQiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0h5YnJpZE1vZGVsKSB7CiAgX2luaGVyaXRzKFBSVEIsIF9IeWJyaWRNb2RlbCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQUlRCKTsKICBmdW5jdGlvbiBQUlRCKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBSVEIpOwogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBfY3JlYXRlQ2xhc3MoUFJUQiwgW3sKICAgIGtleTogImNhbkN1c3RvbUVkaXQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5ZYW1sIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuQ2xvbmUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1c2VyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ21hbmFnZW1lbnQvYnlJZCddKE1BTkFHRU1FTlQuVVNFUiwgdGhpcy51c2VyTmFtZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJpbmNpcGFsIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgcHJpbmNpcGFsSWQgPSB0aGlzLnByaW5jaXBhbElkLnJlcGxhY2UoL1wvL2csICclMkYnKTsKICAgICAgcmV0dXJuIHRoaXMuJGRpc3BhdGNoKCdyYW5jaGVyL2ZpbmQnLCB7CiAgICAgICAgdHlwZTogTk9STUFOLlBSSU5DSVBBTCwKICAgICAgICBpZDogdGhpcy5wcmluY2lwYWxJZCwKICAgICAgICBvcHQ6IHsKICAgICAgICAgIHVybDogIi92My9wcmluY2lwYWxzLyIuY29uY2F0KHByaW5jaXBhbElkKQogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJpbmNpcGFsSWQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIC8vIFdlJ3ZlIGVpdGhlciBzZXQgaXQgb3Vyc2VsdmVzIG9yIGl0J3MgY29tZXMgZnJvbSBuYXRpdmUgcHJvcGVydGllcwogICAgICByZXR1cm4gdGhpcy5wcmluY2lwYWxOYW1lIHx8IHRoaXMudXNlclByaW5jaXBhbE5hbWUgfHwgdGhpcy5ncm91cFByaW5jaXBhbE5hbWUgfHwgJyc7CiAgICB9CiAgfSwgewogICAga2V5OiAibmFtZURpc3BsYXkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyR1c2VyOwogICAgICByZXR1cm4gKF90aGlzJHVzZXIgPSB0aGlzLnVzZXIpID09PSBudWxsIHx8IF90aGlzJHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHVzZXIubmFtZURpc3BsYXk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvamVjdElkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkcHJvamVjdE5hbWU7CiAgICAgIC8vIHByb2plY3ROYW1lIGlzIGluIGZvcm1hdCBgbG9jYWw6cC12Njc5d2AuIHByb2plY3QgaWQncyBhcmUgaW4gZm9ybWF0IGBsb2NhbC9wLXY2Nzl3YCwKICAgICAgcmV0dXJuIChfdGhpcyRwcm9qZWN0TmFtZSA9IHRoaXMucHJvamVjdE5hbWUpID09PSBudWxsIHx8IF90aGlzJHByb2plY3ROYW1lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRwcm9qZWN0TmFtZS5yZXBsYWNlKCc6JywgJy8nKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbHVzdGVySWQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIC8vIHByb2plY3ROYW1lIGlzIGluIGZvcm1hdCBgbG9jYWw6cC12Njc5d2AsCiAgICAgIHJldHVybiB0aGlzLnByb2plY3ROYW1lLnN1YnN0cmluZygwLCB0aGlzLnByb2plY3ROYW1lLmxhc3RJbmRleE9mKCc6JykpOwogICAgfQogIH0sIHsKICAgIGtleTogInByb2plY3QiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb290R2V0dGVyc1snbWFuYWdlbWVudC9ieUlkJ10oTUFOQUdFTUVOVC5QUk9KRUNULCB0aGlzLnByb2plY3RJZCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2x1c3RlciIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvb3RHZXR0ZXJzWydtYW5hZ2VtZW50L2J5SWQnXShNQU5BR0VNRU5ULkNMVVNURVIsIHRoaXMuY2x1c3RlcklkKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm9qZWN0RGlzcGxheU5hbWUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2plY3QgPyB0aGlzLnByb2plY3QubmFtZURpc3BsYXkgOiB0aGlzLnByb2plY3ROYW1lOwogICAgfQogIH0sIHsKICAgIGtleTogImNsdXN0ZXJEaXNwbGF5TmFtZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2x1c3RlciA/IHRoaXMuY2x1c3Rlci5uYW1lRGlzcGxheSA6IHRoaXMuY2x1c3RlcklkOwogICAgfQogIH0sIHsKICAgIGtleTogInVzZXJBdmF0YXIiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZURpc3BsYXk6IHRoaXMubmFtZURpc3BsYXksCiAgICAgICAgdXNlck5hbWU6IHRoaXMudXNlci51c2VybmFtZSwKICAgICAgICBhdmF0YXJTcmM6IHRoaXMudXNlci5hdmF0YXJTcmMKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm9qZWN0RGV0YWlsTG9jYXRpb24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIGlmICh0aGlzLnByb2plY3QpIHsKICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0LmRldGFpbExvY2F0aW9uOwogICAgICB9CiAgICAgIHZhciBuYW1lID0gImMtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlLWlkIjsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICByZXNvdXJjZTogTUFOQUdFTUVOVC5QUk9KRUNULAogICAgICAgIGlkOiB0aGlzLnByb2plY3RJZCwKICAgICAgICBwcm9kdWN0OiAnZXhwbG9yZXInCiAgICAgIH07CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImNsdXN0ZXJEZXRhaWxMb2NhdGlvbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgaWYgKHRoaXMuY2x1c3RlcikgewogICAgICAgIHJldHVybiB0aGlzLmNsdXN0ZXIuZGV0YWlsTG9jYXRpb247CiAgICAgIH0KICAgICAgdmFyIG5hbWUgPSAiYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UtaWQiOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHJlc291cmNlOiBNQU5BR0VNRU5ULkNMVVNURVJfUk9MRV9URU1QTEFURV9CSU5ESU5HLAogICAgICAgIGlkOiB0aGlzLmNsdXN0ZXJOYW1lLAogICAgICAgIHByb2R1Y3Q6ICdleHBsb3JlcicKICAgICAgfTsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAicm9sZVRlbXBsYXRlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ21hbmFnZW1lbnQvYnlJZCddKE1BTkFHRU1FTlQuUk9MRV9URU1QTEFURSwgdGhpcy5yb2xlVGVtcGxhdGVOYW1lKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyb2xlRGlzcGxheSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMucm9sZVRlbXBsYXRlLm5hbWVEaXNwbGF5OwogICAgfQogIH0sIHsKICAgIGtleTogImxpc3RMb2NhdGlvbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLWV4cGxvcmVyLXByb2plY3QtbWVtYmVycycKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1N5c3RlbSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuICF0aGlzLm1ldGFkYXRhLmFubm90YXRpb25zW0NSRUFUT1JfSURdOwogICAgfQogIH0sIHsKICAgIGtleTogIm5vcm1hbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMkaWQ7CiAgICAgICAgdmFyIHByaW5jaXBhbCwgcHJpbmNpcGFsUHJvcGVydHk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByaW5jaXBhbDsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHByaW5jaXBhbCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgcHJpbmNpcGFsUHJvcGVydHkgPSAocHJpbmNpcGFsID09PSBudWxsIHx8IHByaW5jaXBhbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJpbmNpcGFsLnByaW5jaXBhbFR5cGUpID09PSAnZ3JvdXAnID8gJ2dyb3VwUHJpbmNpcGFsSWQnIDogJ3VzZXJQcmluY2lwYWxJZCc7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuJGRpc3BhdGNoKCJyYW5jaGVyL2NyZWF0ZSIsIF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7CiAgICAgICAgICAgICAgICB0eXBlOiBOT1JNQU4uUFJPSkVDVF9ST0xFX1RFTVBMQVRFX0JJTkRJTkcsCiAgICAgICAgICAgICAgICByb2xlVGVtcGxhdGVJZDogX3RoaXMucm9sZVRlbXBsYXRlTmFtZQogICAgICAgICAgICAgIH0sIHByaW5jaXBhbFByb3BlcnR5LCBwcmluY2lwYWwgPT09IG51bGwgfHwgcHJpbmNpcGFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcmluY2lwYWwuaWQpLCAicHJvamVjdElkIiwgX3RoaXMucHJvamVjdE5hbWUpLCAicHJvamVjdFJvbGVUZW1wbGF0ZUlkIiwgJycpLCAiaWQiLCAoX3RoaXMkaWQgPSBfdGhpcy5pZCkgPT09IG51bGwgfHwgX3RoaXMkaWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGlkLnJlcGxhY2UoJy8nLCAnOicpKSwgewogICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sIHsKICAgIGtleTogInNhdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zYXZlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgbm9ybWFuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFuOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgbm9ybWFuID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG5vcm1hbi5zYXZlKCkpOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CiAgICAgIGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgICAgcmV0dXJuIF9zYXZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIHNhdmU7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJyZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZW1vdmUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBub3JtYW47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ub3JtYW47CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBub3JtYW4gPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIG5vcm1hbi5yZW1vdmUoewogICAgICAgICAgICAgICAgdXJsOiAiL3YzL3Byb2plY3RSb2xlVGVtcGxhdGVCaW5kaW5ncy8iLmNvbmNhdChub3JtYW4uaWQpCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICAgIHJldHVybiBfcmVtb3ZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlbW92ZTsKICAgIH0oKQogIH1dKTsKICByZXR1cm4gUFJUQjsKfShIeWJyaWRNb2RlbCk7CmV4cG9ydCB7IFBSVEIgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["CREATOR_ID","MANAGEMENT","NORMAN","HybridModel","PRTB","_HybridModel","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","get","$rootGetters","USER","userName","principalId","replace","$dispatch","type","PRINCIPAL","id","opt","url","concat","root","principalName","userPrincipalName","groupPrincipalName","_this$user","user","nameDisplay","_this$projectName","projectName","substring","lastIndexOf","PROJECT","projectId","CLUSTER","clusterId","project","cluster","username","avatarSrc","detailLocation","name","params","resource","product","CLUSTER_ROLE_TEMPLATE_BINDING","clusterName","ROLE_TEMPLATE","roleTemplateName","roleTemplate","metadata","annotations","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","_this$id","principal","principalProperty","wrap","_callee$","_context","prev","next","sent","principalType","abrupt","_defineProperty","PROJECT_ROLE_TEMPLATE_BINDING","roleTemplateId","stop","value","_save","_callee2","norman","_callee2$","_context2","save","_remove","_callee3","_callee3$","_context3","remove","default"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/management.cattle.io.projectroletemplatebinding.js"],"sourcesContent":["import { CREATOR_ID } from '@shell/config/labels-annotations';\nimport { MANAGEMENT, NORMAN } from '@shell/config/types';\nimport HybridModel from '@shell/plugins/steve/hybrid-class';\n\nexport default class PRTB extends HybridModel {\n  get canCustomEdit() {\n    return false;\n  }\n\n  get canYaml() {\n    return false;\n  }\n\n  get canClone() {\n    return false;\n  }\n\n  get user() {\n    return this.$rootGetters['management/byId'](MANAGEMENT.USER, this.userName);\n  }\n\n  get principal() {\n    const principalId = this.principalId.replace(/\\//g, '%2F');\n\n    return this.$dispatch('rancher/find', {\n      type: NORMAN.PRINCIPAL,\n      id:   this.principalId,\n      opt:  { url: `/v3/principals/${ principalId }` }\n    }, { root: true });\n  }\n\n  get principalId() {\n    // We've either set it ourselves or it's comes from native properties\n    return this.principalName || this.userPrincipalName || this.groupPrincipalName || '';\n  }\n\n  get nameDisplay() {\n    return this.user?.nameDisplay;\n  }\n\n  get projectId() {\n    // projectName is in format `local:p-v679w`. project id's are in format `local/p-v679w`,\n    return this.projectName?.replace(':', '/');\n  }\n\n  get clusterId() {\n    // projectName is in format `local:p-v679w`,\n    return this.projectName.substring(0, this.projectName.lastIndexOf(':'));\n  }\n\n  get project() {\n    return this.$rootGetters['management/byId'](MANAGEMENT.PROJECT, this.projectId);\n  }\n\n  get cluster() {\n    return this.$rootGetters['management/byId'](MANAGEMENT.CLUSTER, this.clusterId);\n  }\n\n  get projectDisplayName() {\n    return this.project ? this.project.nameDisplay : this.projectName;\n  }\n\n  get clusterDisplayName() {\n    return this.cluster ? this.cluster.nameDisplay : this.clusterId;\n  }\n\n  get userAvatar() {\n    return {\n      nameDisplay: this.nameDisplay,\n      userName:    this.user.username,\n      avatarSrc:   this.user.avatarSrc\n    };\n  }\n\n  get projectDetailLocation() {\n    if (this.project) {\n      return this.project.detailLocation;\n    }\n\n    const name = `c-cluster-product-resource-id`;\n\n    const params = {\n      resource: MANAGEMENT.PROJECT,\n      id:       this.projectId,\n      product:  'explorer',\n    };\n\n    return { name, params };\n  }\n\n  get clusterDetailLocation() {\n    if (this.cluster) {\n      return this.cluster.detailLocation;\n    }\n\n    const name = `c-cluster-product-resource-id`;\n\n    const params = {\n      resource: MANAGEMENT.CLUSTER_ROLE_TEMPLATE_BINDING,\n      id:       this.clusterName,\n      product:  'explorer',\n    };\n\n    return { name, params };\n  }\n\n  get roleTemplate() {\n    return this.$rootGetters['management/byId'](MANAGEMENT.ROLE_TEMPLATE, this.roleTemplateName);\n  }\n\n  get roleDisplay() {\n    return this.roleTemplate.nameDisplay;\n  }\n\n  get listLocation() {\n    return { name: 'c-cluster-explorer-project-members' };\n  }\n\n  get isSystem() {\n    return !this.metadata.annotations[CREATOR_ID];\n  }\n\n  get norman() {\n    return (async() => {\n      const principal = await this.principal;\n      const principalProperty = principal?.principalType === 'group' ? 'groupPrincipalId' : 'userPrincipalId';\n\n      return this.$dispatch(`rancher/create`, {\n        type:                  NORMAN.PROJECT_ROLE_TEMPLATE_BINDING,\n        roleTemplateId:        this.roleTemplateName,\n        [principalProperty]:   principal?.id,\n        projectId:             this.projectName,\n        projectRoleTemplateId: '',\n        id:                    this.id?.replace('/', ':')\n      }, { root: true });\n    })();\n  }\n\n  async save() {\n    const norman = await this.norman;\n\n    return norman.save();\n  }\n\n  async remove() {\n    const norman = await this.norman;\n\n    await norman.remove({ url: `/v3/projectRoleTemplateBindings/${ norman.id }` });\n  }\n}\n"],"mappings":"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"}]}