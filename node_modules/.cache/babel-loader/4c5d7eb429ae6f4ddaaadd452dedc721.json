{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/serviceaccount.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/serviceaccount.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCBDcnVSZXNvdXJjZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DcnVSZXNvdXJjZSc7CmltcG9ydCBOYW1lTnNEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL05hbWVOc0Rlc2NyaXB0aW9uJzsKaW1wb3J0IExhYmVscyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVscyc7CmltcG9ydCBUYWIgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkL1RhYic7CmltcG9ydCBUYWJiZWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkJzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IHsgU0VDUkVUIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IFRZUEVTIGFzIFNFQ1JFVF9UWVBFUyB9IGZyb20gJ0BzaGVsbC9tb2RlbHMvc2VjcmV0JzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTZXJ2aWNlQWNjb3VudCcsCiAgY29tcG9uZW50czogewogICAgQ3J1UmVzb3VyY2U6IENydVJlc291cmNlLAogICAgTmFtZU5zRGVzY3JpcHRpb246IE5hbWVOc0Rlc2NyaXB0aW9uLAogICAgQ2hlY2tib3g6IENoZWNrYm94LAogICAgTGFiZWxzOiBMYWJlbHMsCiAgICBUYWI6IFRhYiwKICAgIFRhYmJlZDogVGFiYmVkLAogICAgTGFiZWxlZFNlbGVjdDogTGFiZWxlZFNlbGVjdAogIH0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NyZWF0ZScKICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiY2x1c3Rlci9maW5kQWxsIiwgewogICAgICAgICAgICAgIHR5cGU6IFNFQ1JFVAogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgX3RoaXMuYWxsU2VjcmV0cyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdhdXRvbW91bnRTZXJ2aWNlQWNjb3VudFRva2VuJywgdGhpcy52YWx1ZS5hdXRvbW91bnRTZXJ2aWNlQWNjb3VudFRva2VuIHx8IGZhbHNlKTsKICAgIHJldHVybiB7CiAgICAgIGFsbFNlY3JldHM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5hbWVzcGFjZWRTZWNyZXRzOiBmdW5jdGlvbiBuYW1lc3BhY2VkU2VjcmV0cygpIHsKICAgICAgdmFyIF90aGlzJHZhbHVlOwogICAgICB2YXIgbmFtZXNwYWNlID0gKF90aGlzJHZhbHVlID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUgPT09IHZvaWQgMCB8fCAoX3RoaXMkdmFsdWUgPSBfdGhpcyR2YWx1ZS5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHZhbHVlLm5hbWVzcGFjZTsKICAgICAgcmV0dXJuIHRoaXMuYWxsU2VjcmV0cy5maWx0ZXIoZnVuY3Rpb24gKHNlY3JldCkgewogICAgICAgIHJldHVybiBzZWNyZXQubWV0YWRhdGEubmFtZXNwYWNlID09PSBuYW1lc3BhY2UgJiYgKHNlY3JldC5fdHlwZSA9PT0gU0VDUkVUX1RZUEVTLkRPQ0tFUiB8fCBzZWNyZXQuX3R5cGUgPT09IFNFQ1JFVF9UWVBFUy5ET0NLRVJfSlNPTik7CiAgICAgIH0pOwogICAgfSwKICAgIGltYWdlUHVsbFNlY3JldHM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgaWYgKCF0aGlzLnZhbHVlLmltYWdlUHVsbFNlY3JldHMpIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnaW1hZ2VQdWxsU2VjcmV0cycsIFtdKTsKICAgICAgICB9CiAgICAgICAgdmFyIGltYWdlUHVsbFNlY3JldHMgPSB0aGlzLnZhbHVlLmltYWdlUHVsbFNlY3JldHM7CiAgICAgICAgcmV0dXJuIGltYWdlUHVsbFNlY3JldHMubWFwKGZ1bmN0aW9uIChlYWNoKSB7CiAgICAgICAgICByZXR1cm4gZWFjaC5uYW1lOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXUpIHsKICAgICAgICBpZiAodGhpcy52YWx1ZS5pbWFnZVB1bGxTZWNyZXRzLmxlbmd0aCA8IDEpIHsKICAgICAgICAgIHRoaXMudmFsdWUuaW1hZ2VQdWxsU2VjcmV0cyA9IG5ldS5tYXAoZnVuY3Rpb24gKHNlY3JldCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIG5hbWU6IHNlY3JldAogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHRoaXMudmFsdWUuaW1hZ2VQdWxsU2VjcmV0cyA9IG5ldS5tYXAoZnVuY3Rpb24gKHNlY3JldCkgewogICAgICAgICAgZm9yICh2YXIgeCBpbiBzZWNyZXQpIHsKICAgICAgICAgICAgaWYgKHggPT09ICdtZXRhZGF0YScpIHsKICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgbmFtZTogc2VjcmV0W3hdLm5hbWUKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBuYW1lOiBzZWNyZXQKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["CreateEditView","CruResource","NameNsDescription","Labels","Tab","Tabbed","Checkbox","SECRET","TYPES","SECRET_TYPES","LabeledSelect","name","components","props","value","type","Object","required","mode","String","default","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","allSecrets","sent","stop","mixins","data","$set","automountServiceAccountToken","computed","namespacedSecrets","_this$value","namespace","metadata","filter","secret","_type","DOCKER","DOCKER_JSON","imagePullSecrets","get","map","each","set","neu","length","x"],"sources":["node_modules/@rancher/shell/edit/serviceaccount.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport Labels from '@shell/components/form/Labels';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Tabbed from '@shell/components/Tabbed';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { SECRET } from '@shell/config/types';\nimport { TYPES as SECRET_TYPES } from '@shell/models/secret';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nexport default {\n  name: 'ServiceAccount',\n\n  components: {\n    CruResource,\n    NameNsDescription,\n    Checkbox,\n    Labels,\n    Tab,\n    Tabbed,\n    LabeledSelect\n  },\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: 'create'\n    }\n  },\n\n  async fetch() {\n    this.allSecrets = await this.$store.dispatch(`cluster/findAll`, { type: SECRET });\n  },\n\n  mixins: [CreateEditView],\n  data() {\n    this.$set(this.value, 'automountServiceAccountToken', this.value.automountServiceAccountToken || false);\n\n    return { allSecrets: [] };\n  },\n\n  computed: {\n    namespacedSecrets() {\n      const namespace = this.value?.metadata?.namespace;\n\n      return this.allSecrets.filter((secret) => secret.metadata.namespace === namespace && (secret._type === SECRET_TYPES.DOCKER || secret._type === SECRET_TYPES.DOCKER_JSON));\n    },\n\n    imagePullSecrets: {\n      get() {\n        if (!this.value.imagePullSecrets) {\n          this.$set(this.value, 'imagePullSecrets', []);\n        }\n        const { imagePullSecrets } = this.value;\n\n        return imagePullSecrets.map((each) => each.name);\n      },\n      set(neu) {\n        if (this.value.imagePullSecrets.length < 1) {\n          this.value.imagePullSecrets = neu.map((secret) => {\n            return { name: secret };\n          });\n        }\n        this.value.imagePullSecrets = neu.map((secret) => {\n          for (const x in secret) {\n            if (x === 'metadata') {\n              return { name: secret[x].name };\n            }\n          }\n\n          return { name: secret };\n        });\n      }\n    },\n  },\n\n};\n</script>\n\n<template>\n  <CruResource\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :validation-passed=\"!!value.metadata.name\"\n    :errors=\"errors\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      :value=\"value\"\n      :mode=\"mode\"\n    />\n\n    <Tabbed :side-tabs=\"true\">\n      <Tab\n        name=\"data\"\n        :label=\"t('serviceAccount.tabs.serviceAccount.label')\"\n        :weight=\"2\"\n      >\n        <div class=\"row\">\n          <div class=\"col mt-20\">\n            <Checkbox\n              v-model=\"value.automountServiceAccountToken\"\n              :label=\"t('serviceAccount.automount')\"\n              type=\"checkbox\"\n              :mode=\"mode\"\n            />\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col span-6 mt-20\">\n            <h3>{{ t('serviceAccount.imagePullSecrets') }}</h3>\n\n            <LabeledSelect\n              v-model=\"imagePullSecrets\"\n              :label=\"t('workload.container.imagePullSecrets')\"\n              :multiple=\"true\"\n              :options=\"namespacedSecrets\"\n              :mode=\"mode\"\n              option-label=\"metadata.name\"\n            />\n          </div>\n        </div>\n\n        <div class=\"row mb-20\" />\n      </Tab>\n      <Tab\n        name=\"labels-and-annotations\"\n        label-key=\"generic.labelsAndAnnotations\"\n        :weight=\"-1\"\n      >\n        <Labels\n          default-container-class=\"labels-and-annotations-container\"\n          :value=\"value\"\n          :mode=\"mode\"\n          :display-side-by-side=\"false\"\n        />\n      </Tab>\n    </Tabbed>\n  </CruResource>\n</template>\n"],"mappings":";;;;;;AACA,OAAAA,cAAA;AACA,OAAAC,WAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,MAAA;AACA,OAAAC,GAAA;AACA,OAAAC,MAAA;AACA,SAAAC,QAAA;AACA,SAAAC,MAAA;AACA,SAAAC,KAAA,IAAAC,YAAA;AACA,OAAAC,aAAA;AAEA;EACAC,IAAA;EAEAC,UAAA;IACAX,WAAA,EAAAA,WAAA;IACAC,iBAAA,EAAAA,iBAAA;IACAI,QAAA,EAAAA,QAAA;IACAH,MAAA,EAAAA,MAAA;IACAC,GAAA,EAAAA,GAAA;IACAC,MAAA,EAAAA,MAAA;IACAK,aAAA,EAAAA;EACA;EAEAG,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAC,IAAA;MACAH,IAAA,EAAAI,MAAA;MACAC,OAAA;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,kBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAT,KAAA,CAAAU,MAAA,CAAAC,QAAA;cAAAlB,IAAA,EAAAR;YAAA;UAAA;YAAAe,KAAA,CAAAY,UAAA,GAAAL,QAAA,CAAAM,IAAA;UAAA;UAAA;YAAA,OAAAN,QAAA,CAAAO,IAAA;QAAA;MAAA,GAAAV,OAAA;IAAA;EACA;EAEAW,MAAA,GAAArC,cAAA;EACAsC,IAAA,WAAAA,KAAA;IACA,KAAAC,IAAA,MAAAzB,KAAA,uCAAAA,KAAA,CAAA0B,4BAAA;IAEA;MAAAN,UAAA;IAAA;EACA;EAEAO,QAAA;IACAC,iBAAA,WAAAA,kBAAA;MAAA,IAAAC,WAAA;MACA,IAAAC,SAAA,IAAAD,WAAA,QAAA7B,KAAA,cAAA6B,WAAA,gBAAAA,WAAA,GAAAA,WAAA,CAAAE,QAAA,cAAAF,WAAA,uBAAAA,WAAA,CAAAC,SAAA;MAEA,YAAAV,UAAA,CAAAY,MAAA,WAAAC,MAAA;QAAA,OAAAA,MAAA,CAAAF,QAAA,CAAAD,SAAA,KAAAA,SAAA,KAAAG,MAAA,CAAAC,KAAA,KAAAvC,YAAA,CAAAwC,MAAA,IAAAF,MAAA,CAAAC,KAAA,KAAAvC,YAAA,CAAAyC,WAAA;MAAA;IACA;IAEAC,gBAAA;MACAC,GAAA,WAAAA,IAAA;QACA,UAAAtC,KAAA,CAAAqC,gBAAA;UACA,KAAAZ,IAAA,MAAAzB,KAAA;QACA;QACA,IAAAqC,gBAAA,QAAArC,KAAA,CAAAqC,gBAAA;QAEA,OAAAA,gBAAA,CAAAE,GAAA,WAAAC,IAAA;UAAA,OAAAA,IAAA,CAAA3C,IAAA;QAAA;MACA;MACA4C,GAAA,WAAAA,IAAAC,GAAA;QACA,SAAA1C,KAAA,CAAAqC,gBAAA,CAAAM,MAAA;UACA,KAAA3C,KAAA,CAAAqC,gBAAA,GAAAK,GAAA,CAAAH,GAAA,WAAAN,MAAA;YACA;cAAApC,IAAA,EAAAoC;YAAA;UACA;QACA;QACA,KAAAjC,KAAA,CAAAqC,gBAAA,GAAAK,GAAA,CAAAH,GAAA,WAAAN,MAAA;UACA,SAAAW,CAAA,IAAAX,MAAA;YACA,IAAAW,CAAA;cACA;gBAAA/C,IAAA,EAAAoC,MAAA,CAAAW,CAAA,EAAA/C;cAAA;YACA;UACA;UAEA;YAAAA,IAAA,EAAAoC;UAAA;QACA;MACA;IACA;EACA;AAEA"}]}