{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/EtcdInfoBanner.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/EtcdInfoBanner.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgaGFzTGVhZGVyLCBsZWFkZXJDaGFuZ2VzLCBmYWlsZWRQcm9wb3NhbHMgfSBmcm9tICdAc2hlbGwvdXRpbHMvZ3JhZmFuYSc7CmltcG9ydCB7IENBVEFMT0cgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJhbm5lcjogQmFubmVyLAogICAgTG9hZGluZzogTG9hZGluZwogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBpblN0b3JlLCByZXMsIG1vbml0b3JpbmdWZXJzaW9uLCBsZWFkZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGluU3RvcmUgPSBfdGhpcy4kc3RvcmUuZ2V0dGVyc1snY3VycmVudFByb2R1Y3QnXS5pblN0b3JlOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoaW5TdG9yZSwgIi9maW5kIiksIHsKICAgICAgICAgICAgICB0eXBlOiBDQVRBTE9HLkFQUCwKICAgICAgICAgICAgICBpZDogJ2NhdHRsZS1tb25pdG9yaW5nLXN5c3RlbS9yYW5jaGVyLW1vbml0b3JpbmcnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBtb25pdG9yaW5nVmVyc2lvbiA9IHJlcyA9PT0gbnVsbCB8fCByZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcy5jdXJyZW50VmVyc2lvbjsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgIHJldHVybiBoYXNMZWFkZXIobW9uaXRvcmluZ1ZlcnNpb24sIF90aGlzLiRzdG9yZS5kaXNwYXRjaCwgX3RoaXMuY3VycmVudENsdXN0ZXIuaWQpOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBsZWFkZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfdGhpcy5oYXNMZWFkZXIgPSBsZWFkZXIgPyBfdGhpcy50KCdnZW5lcmljLnllcycpIDogX3RoaXMudCgnZ2VuZXJpYy5ubycpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgIHJldHVybiBsZWFkZXJDaGFuZ2VzKG1vbml0b3JpbmdWZXJzaW9uLCBfdGhpcy4kc3RvcmUuZGlzcGF0Y2gsIF90aGlzLmN1cnJlbnRDbHVzdGVyLmlkKTsKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIF90aGlzLmxlYWRlckNoYW5nZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgIHJldHVybiBmYWlsZWRQcm9wb3NhbHMobW9uaXRvcmluZ1ZlcnNpb24sIF90aGlzLiRzdG9yZS5kaXNwYXRjaCwgX3RoaXMuY3VycmVudENsdXN0ZXIuaWQpOwogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgX3RoaXMuZmFpbGVkUHJvcG9zYWxzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoYXNMZWFkZXI6IHRoaXMudCgnZ2VuZXJpYy5ubycpLAogICAgICBsZWFkZXJDaGFuZ2VzOiAwLAogICAgICBmYWlsZWRQcm9wb3NhbHM6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2N1cnJlbnRDbHVzdGVyJ10pKQp9Ow=="},{"version":3,"names":["Banner","Loading","mapGetters","hasLeader","leaderChanges","failedProposals","CATALOG","components","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","inStore","res","monitoringVersion","leader","wrap","_callee$","_context","prev","next","$store","getters","dispatch","concat","type","APP","id","sent","currentVersion","currentCluster","t","stop","data","computed","_objectSpread"],"sources":["node_modules/@rancher/shell/components/EtcdInfoBanner.vue"],"sourcesContent":["<script>\r\nimport { Banner } from '@components/Banner';\r\nimport Loading from '@shell/components/Loading';\r\nimport { mapGetters } from 'vuex';\r\nimport { hasLeader, leaderChanges, failedProposals } from '@shell/utils/grafana';\r\nimport { CATALOG } from '@shell/config/types';\r\n\r\nexport default {\r\n  components: { Banner, Loading },\r\n  async fetch() {\r\n    const inStore = this.$store.getters['currentProduct'].inStore;\r\n    const res = await this.$store.dispatch(`${ inStore }/find`, { type: CATALOG.APP, id: 'cattle-monitoring-system/rancher-monitoring' });\r\n    const monitoringVersion = res?.currentVersion;\r\n    const leader = await hasLeader(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n\r\n    this.hasLeader = leader ? this.t('generic.yes') : this.t('generic.no');\r\n    this.leaderChanges = await leaderChanges(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n    this.failedProposals = await failedProposals(monitoringVersion, this.$store.dispatch, this.currentCluster.id);\r\n  },\r\n  data() {\r\n    return {\r\n      hasLeader:       this.t('generic.no'),\r\n      leaderChanges:   0,\r\n      failedProposals: 0\r\n    };\r\n  },\r\n  computed: { ...mapGetters(['currentCluster']) }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Loading v-if=\"$fetchState.pending\" />\r\n  <Banner\r\n    v-else\r\n    class=\"banner\"\r\n    color=\"info\"\r\n  >\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.hasLeader') }}</label> {{ hasLeader }}\r\n    </div>\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.leaderChanges') }}</label> {{ leaderChanges }}\r\n    </div>\r\n    <div class=\"datum\">\r\n      <label>{{ t('etcdInfoBanner.failedProposals') }}</label> {{ failedProposals }}\r\n    </div>\r\n  </Banner>\r\n</template>\r\n\r\n<style lang='scss' scoped>\r\n    .banner {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        align-items: center;\r\n\r\n        .datum {\r\n            text-align: center;\r\n            margin-right: 5px;\r\n        }\r\n\r\n        & ::v-deep label {\r\n            color: var(--info);\r\n        }\r\n    }\r\n\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;AACA,SAAAA,MAAA;AACA,OAAAC,OAAA;AACA,SAAAC,UAAA;AACA,SAAAC,SAAA,EAAAC,aAAA,EAAAC,eAAA;AACA,SAAAC,OAAA;AAEA;EACAC,UAAA;IAAAP,MAAA,EAAAA,MAAA;IAAAC,OAAA,EAAAA;EAAA;EACAO,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,OAAA,EAAAC,GAAA,EAAAC,iBAAA,EAAAC,MAAA;MAAA,OAAAN,kBAAA,CAAAO,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAR,OAAA,GAAAL,KAAA,CAAAc,MAAA,CAAAC,OAAA,mBAAAV,OAAA;YAAAM,QAAA,CAAAE,IAAA;YAAA,OACAb,KAAA,CAAAc,MAAA,CAAAE,QAAA,IAAAC,MAAA,CAAAZ,OAAA;cAAAa,IAAA,EAAArB,OAAA,CAAAsB,GAAA;cAAAC,EAAA;YAAA;UAAA;YAAAd,GAAA,GAAAK,QAAA,CAAAU,IAAA;YACAd,iBAAA,GAAAD,GAAA,aAAAA,GAAA,uBAAAA,GAAA,CAAAgB,cAAA;YAAAX,QAAA,CAAAE,IAAA;YAAA,OACAnB,SAAA,CAAAa,iBAAA,EAAAP,KAAA,CAAAc,MAAA,CAAAE,QAAA,EAAAhB,KAAA,CAAAuB,cAAA,CAAAH,EAAA;UAAA;YAAAZ,MAAA,GAAAG,QAAA,CAAAU,IAAA;YAEArB,KAAA,CAAAN,SAAA,GAAAc,MAAA,GAAAR,KAAA,CAAAwB,CAAA,kBAAAxB,KAAA,CAAAwB,CAAA;YAAAb,QAAA,CAAAE,IAAA;YAAA,OACAlB,aAAA,CAAAY,iBAAA,EAAAP,KAAA,CAAAc,MAAA,CAAAE,QAAA,EAAAhB,KAAA,CAAAuB,cAAA,CAAAH,EAAA;UAAA;YAAApB,KAAA,CAAAL,aAAA,GAAAgB,QAAA,CAAAU,IAAA;YAAAV,QAAA,CAAAE,IAAA;YAAA,OACAjB,eAAA,CAAAW,iBAAA,EAAAP,KAAA,CAAAc,MAAA,CAAAE,QAAA,EAAAhB,KAAA,CAAAuB,cAAA,CAAAH,EAAA;UAAA;YAAApB,KAAA,CAAAJ,eAAA,GAAAe,QAAA,CAAAU,IAAA;UAAA;UAAA;YAAA,OAAAV,QAAA,CAAAc,IAAA;QAAA;MAAA,GAAArB,OAAA;IAAA;EACA;EACAsB,IAAA,WAAAA,KAAA;IACA;MACAhC,SAAA,OAAA8B,CAAA;MACA7B,aAAA;MACAC,eAAA;IACA;EACA;EACA+B,QAAA,EAAAC,aAAA,KAAAnC,UAAA;AACA"}]}