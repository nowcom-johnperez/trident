{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/auth/SelectPrincipal.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/auth/SelectPrincipal.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgTGFiZWxlZFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVsZWRTZWxlY3QnOwppbXBvcnQgUHJpbmNpcGFsIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2F1dGgvUHJpbmNpcGFsJzsKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7CmltcG9ydCB7IF9FRElUIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgeyBOT1JNQU4gfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExhYmVsZWRTZWxlY3Q6IExhYmVsZWRTZWxlY3QsCiAgICBQcmluY2lwYWw6IFByaW5jaXBhbAogIH0sCiAgcHJvcHM6IHsKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBfRURJVAogICAgfSwKICAgIHNob3dNeUdyb3VwVHlwZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbJ2dyb3VwJywgJ3VzZXInXTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaEdyb3VwVHlwZXM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWwpIHsKICAgICAgICByZXR1cm4gdmFsID09PSBudWxsIHx8IHZhbCA9PT0gJ2dyb3VwJyB8fCB2YWwgPT09ICd1c2VyJzsKICAgICAgfQogICAgfSwKICAgIHJldGFpblNlbGVjdGlvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHByb2plY3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9maW5kQWxsJywgewogICAgICAgICAgICAgIHR5cGU6IE5PUk1BTi5QUklOQ0lQQUwsCiAgICAgICAgICAgICAgb3B0OiB7CiAgICAgICAgICAgICAgICB1cmw6ICcvdjMvcHJpbmNpcGFscycKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBfdGhpcy5wcmluY2lwYWxzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX3RoaXMub3B0aW9ucyA9IF90aGlzLnN1Z2dlc3RlZDsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByaW5jaXBhbHM6IG51bGwsCiAgICAgIHNlYXJjaFN0cjogJycsCiAgICAgIG9wdGlvbnM6IFtdLAogICAgICBuZXdWYWx1ZTogJycsCiAgICAgIHRvb2x0aXBDb250ZW50OiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN1Z2dlc3RlZDogZnVuY3Rpb24gc3VnZ2VzdGVkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIG91dCA9IHRoaXMucHJpbmNpcGFscy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICBpZiAoIXgubWVtYmVyT2YpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKCFfdGhpczIuc2hvd015R3JvdXBUeXBlcy5pbmNsdWRlcyh4LnByaW5jaXBhbFR5cGUpKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4LmlkOwogICAgICB9KTsKICAgICAgcmV0dXJuIG91dDsKICAgIH0sCiAgICBsYWJlbDogZnVuY3Rpb24gbGFiZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLnJldGFpblNlbGVjdGlvbiA/IHRoaXMudCgnY2x1c3Rlci5tZW1iZXJSb2xlcy5hZGRDbHVzdGVyTWVtYmVyLmxhYmVsU2VsZWN0JykgOiB0aGlzLnQoJ2NsdXN0ZXIubWVtYmVyUm9sZXMuYWRkQ2x1c3Rlck1lbWJlci5sYWJlbEFkZCcpOwogICAgfSwKICAgIHBsYWNlaG9sZGVyOiBmdW5jdGlvbiBwbGFjZWhvbGRlcigpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvamVjdCA/IHRoaXMudCgncHJvamVjdE1lbWJlcnMucHJvamVjdFBlcm1pc3Npb25zLnNlYXJjaEZvck1lbWJlcicpIDogdGhpcy50KCdjbHVzdGVyLm1lbWJlclJvbGVzLmFkZENsdXN0ZXJNZW1iZXIucGxhY2Vob2xkZXInKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmRlYm91bmNlZFNlYXJjaCA9IGRlYm91bmNlKHRoaXMuc2VhcmNoLCAyMDApOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0VG9vbHRpcENvbnRlbnQ6IGZ1bmN0aW9uIHNldFRvb2x0aXBDb250ZW50KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgaWYgKCF0aGlzLnJldGFpblNlbGVjdGlvbikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5wcmluY2lwYWxzKSB7CiAgICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5wcmluY2lwYWxzLmZpbmQoZnVuY3Rpb24gKHApIHsKICAgICAgICAgIHJldHVybiBwLmlkID09PSBfdGhpczMubmV3VmFsdWU7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy50b29sdGlwQ29udGVudCA9IHNlbGVjdGVkID09PSBudWxsIHx8IHNlbGVjdGVkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZC5uYW1lOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudG9vbHRpcENvbnRlbnQgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgcmVzZXRUb29sdGlwQ29udGVudDogZnVuY3Rpb24gcmVzZXRUb29sdGlwQ29udGVudCgpIHsKICAgICAgaWYgKCF0aGlzLnJldGFpblNlbGVjdGlvbikgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnRvb2x0aXBDb250ZW50ID0gbnVsbDsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChpZCkgewogICAgICBpZiAoIWlkKSB7CiAgICAgICAgLy8gSWdub3JlIGF0dGVtcHRzIHRvIHNlbGVjdCBhbiBpbnZhbGlkIHByaW5jaXBhbAogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLiRlbWl0KCdhZGQnLCBpZCk7CiAgICAgIGlmICghdGhpcy5yZXRhaW5TZWxlY3Rpb24pIHsKICAgICAgICB0aGlzLm5ld1ZhbHVlID0gJyc7CiAgICAgIH0KICAgIH0sCiAgICBvblNlYXJjaDogZnVuY3Rpb24gb25TZWFyY2goc3RyLCBsb2FkaW5nLCB2bSkgewogICAgICBzdHIgPSAoc3RyIHx8ICcnKS50cmltKCk7CiAgICAgIHRoaXMuc2VhcmNoU3RyID0gc3RyOwogICAgICBpZiAoc3RyKSB7CiAgICAgICAgbG9hZGluZyh0cnVlKTsKICAgICAgICB0aGlzLmRlYm91bmNlZFNlYXJjaChzdHIsIGxvYWRpbmcpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VhcmNoKG51bGwsIGxvYWRpbmcpOwogICAgICB9CiAgICB9LAogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goc3RyLCBsb2FkaW5nKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoc3RyKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXM0Lm9wdGlvbnMgPSBfdGhpczQuc3VnZ2VzdGVkLnNsaWNlKCk7CiAgICAgICAgICAgICAgbG9hZGluZyhmYWxzZSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA0OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9jb2xsZWN0aW9uQWN0aW9uJywgewogICAgICAgICAgICAgICAgdHlwZTogTk9STUFOLlBSSU5DSVBBTCwKICAgICAgICAgICAgICAgIGFjdGlvbk5hbWU6ICdzZWFyY2gnLAogICAgICAgICAgICAgICAgb3B0OiB7CiAgICAgICAgICAgICAgICAgIHVybDogJy92My9wcmluY2lwYWxzP2FjdGlvbj1zZWFyY2gnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYm9keTogewogICAgICAgICAgICAgICAgICBuYW1lOiBzdHIsCiAgICAgICAgICAgICAgICAgIHByaW5jaXBhbFR5cGU6IF90aGlzNC5zZWFyY2hHcm91cFR5cGVzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBpZiAoX3RoaXM0LnNlYXJjaFN0ciA9PT0gc3RyKSB7CiAgICAgICAgICAgICAgICAvLyBJZiBub3QsIHRoZXkndmUgYWxyZWFkeSB0eXBlZCBzb21ldGhpbmcgZWxzZQogICAgICAgICAgICAgICAgX3RoaXM0Lm9wdGlvbnMgPSByZXMubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB4LmlkOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMTsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgX3RoaXM0Lm9wdGlvbnMgPSBbXTsKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE0OwogICAgICAgICAgICAgIGxvYWRpbmcoZmFsc2UpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDE0KTsKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1s0LCAxMSwgMTQsIDE3XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["LabeledSelect","Principal","debounce","_EDIT","NORMAN","components","props","mode","type","String","default","showMyGroupTypes","Array","_default","searchGroupTypes","validator","val","retainSelection","Boolean","project","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","PRINCIPAL","opt","url","principals","sent","options","suggested","stop","data","searchStr","newValue","tooltipContent","computed","_this2","out","filter","x","memberOf","includes","principalType","sort","a","b","name","localeCompare","map","id","label","t","placeholder","created","debouncedSearch","search","methods","setTooltipContent","_this3","selected","find","p","resetTooltipContent","add","$emit","onSearch","str","loading","vm","trim","_this4","_callee2","res","_callee2$","_context2","slice","abrupt","actionName","body","t0","finish"],"sources":["node_modules/@rancher/shell/components/auth/SelectPrincipal.vue"],"sourcesContent":["<script>\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport Principal from '@shell/components/auth/Principal';\nimport debounce from 'lodash/debounce';\nimport { _EDIT } from '@shell/config/query-params';\nimport { NORMAN } from '@shell/config/types';\n\nexport default {\n  components: {\n    LabeledSelect,\n    Principal,\n  },\n\n  props: {\n    mode: {\n      type:    String,\n      default: _EDIT,\n    },\n\n    showMyGroupTypes: {\n      type: Array,\n      default() {\n        return ['group', 'user'];\n      },\n    },\n\n    searchGroupTypes: {\n      type:    String,\n      default: null,\n      validator(val) {\n        return val === null || val === 'group' || val === 'user';\n      }\n    },\n\n    retainSelection: {\n      type:    Boolean,\n      default: false\n    },\n\n    project: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  async fetch() {\n    this.principals = await this.$store.dispatch('rancher/findAll', {\n      type: NORMAN.PRINCIPAL,\n      opt:  { url: '/v3/principals' }\n    });\n\n    this.options = this.suggested;\n  },\n\n  data() {\n    return {\n      principals:     null,\n      searchStr:      '',\n      options:        [],\n      newValue:       '',\n      tooltipContent: null,\n    };\n  },\n\n  computed: {\n    suggested() {\n      const out = this.principals.filter((x) => {\n        if ( !x.memberOf ) {\n          return false;\n        }\n\n        if ( !this.showMyGroupTypes.includes(x.principalType) ) {\n          return false;\n        }\n\n        return true;\n      })\n        .sort((a, b) => a.name.localeCompare(b.name))\n        .map((x) => x.id);\n\n      return out;\n    },\n\n    label() {\n      return this.retainSelection ? this.t('cluster.memberRoles.addClusterMember.labelSelect') : this.t('cluster.memberRoles.addClusterMember.labelAdd');\n    },\n\n    placeholder() {\n      return this.project ? this.t('projectMembers.projectPermissions.searchForMember') : this.t('cluster.memberRoles.addClusterMember.placeholder');\n    }\n  },\n\n  created() {\n    this.debouncedSearch = debounce(this.search, 200);\n  },\n\n  methods: {\n    setTooltipContent() {\n      if (!this.retainSelection) {\n        return;\n      }\n      if (this.principals) {\n        const selected = this.principals.find((p) => p.id === this.newValue);\n\n        this.tooltipContent = selected?.name;\n      } else {\n        this.tooltipContent = null;\n      }\n    },\n    resetTooltipContent() {\n      if (!this.retainSelection) {\n        return;\n      }\n      this.tooltipContent = null;\n    },\n    add(id) {\n      if (!id) {\n        // Ignore attempts to select an invalid principal\n        return;\n      }\n\n      this.$emit('add', id);\n      if (!this.retainSelection) {\n        this.newValue = '';\n      }\n    },\n\n    onSearch(str, loading, vm) {\n      str = (str || '').trim();\n\n      this.searchStr = str;\n\n      if ( str ) {\n        loading(true);\n        this.debouncedSearch(str, loading);\n      } else {\n        this.search(null, loading);\n      }\n    },\n\n    async search(str, loading) {\n      if ( !str ) {\n        this.options = this.suggested.slice();\n        loading(false);\n\n        return;\n      }\n\n      try {\n        const res = await this.$store.dispatch('rancher/collectionAction', {\n          type:       NORMAN.PRINCIPAL,\n          actionName: 'search',\n          opt:        { url: '/v3/principals?action=search' },\n          body:       {\n            name:          str,\n            principalType: this.searchGroupTypes\n          }\n        });\n\n        if ( this.searchStr === str ) {\n          // If not, they've already typed something else\n          this.options = res.map((x) => x.id);\n        }\n      } catch (e) {\n        this.options = [];\n      } finally {\n        loading(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <LabeledSelect\n    ref=\"labeled-select\"\n    v-model=\"newValue\"\n    v-clean-tooltip=\"{\n      content: tooltipContent,\n      placement: 'bottom',\n      classes: ['select-principal-tooltip']\n    }\"\n    :mode=\"mode\"\n    :label=\"label\"\n    :placeholder=\"placeholder\"\n    :options=\"options\"\n    :searchable=\"true\"\n    :filterable=\"false\"\n    class=\"select-principal\"\n    :class=\"{'retain-selection': retainSelection}\"\n    @input=\"add\"\n    @search=\"onSearch\"\n    @on-open=\"resetTooltipContent()\"\n    @on-close=\"setTooltipContent()\"\n  >\n    <template v-slot:no-options=\"{ searching }\">\n      <template v-if=\"searching\">\n        <span class=\"search-slot\">\n          {{ t('cluster.memberRoles.addClusterMember.noResults') }}\n        </span>\n      </template>\n      <div v-else>\n        <em class=\"search-slot\">\n          {{ t('cluster.memberRoles.addClusterMember.searchPlaceholder') }}\n        </em>\n      </div>\n    </template>\n\n    <template #option=\"option\">\n      <Principal\n        :key=\"option.label\"\n        :value=\"option.label\"\n        :use-muted=\"false\"\n      />\n    </template>\n\n    <template\n      v-if=\"retainSelection\"\n      #selected-option=\"option\"\n    >\n      <Principal\n        :key=\"option.label\"\n        :value=\"option.label\"\n        :use-muted=\"false\"\n        class=\"mt-10 mb-10\"\n      />\n    </template>\n  </LabeledSelect>\n</template>\n\n<style lang=\"scss\" scoped>\n  .search-slot{\n    color: var(--body-text);\n  }\n\n  .select-principal {\n    &.retain-selection {\n      min-height: 91px;\n      &.focused {\n        .principal {\n          display: none;\n        }\n      }\n    }\n  }\n</style>\n<style lang=\"scss\">\n  .vs__dropdown-menu {\n    width: 0%;\n    * {\n      overflow-x: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n\n  .select-principal-tooltip {\n    max-width: 580px;\n    word-wrap: break-word;\n  }\n</style>\n"],"mappings":"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"}]}