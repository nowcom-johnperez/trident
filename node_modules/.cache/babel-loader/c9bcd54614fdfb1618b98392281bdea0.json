{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/FleetSummaryGraph.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/FleetSummaryGraph.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCBQcm9ncmVzc0Jhck11bHRpIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Byb2dyZXNzQmFyTXVsdGknOwppbXBvcnQgeyB1Y0ZpcnN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCB7IGNvbG9yRm9yU3RhdGUsIHN0YXRlU29ydCB9IGZyb20gJ0BzaGVsbC9wbHVnaW5zL2Rhc2hib2FyZC1zdG9yZS9yZXNvdXJjZS1jbGFzcyc7CmltcG9ydCB7IHNvcnRCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9zb3J0JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFByb2dyZXNzQmFyTXVsdGk6IFByb2dyZXNzQmFyTXVsdGkKICB9LAogIHByb3BzOiB7CiAgICByb3c6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN1bW1hcnk6IGZ1bmN0aW9uIHN1bW1hcnkoKSB7CiAgICAgIHZhciBfdGhpcyRyb3ckc3RhdHVzOwogICAgICByZXR1cm4gKChfdGhpcyRyb3ckc3RhdHVzID0gdGhpcy5yb3cuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyRyb3ckc3RhdHVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRyb3ckc3RhdHVzLnJlc291cmNlQ291bnRzKSB8fCB7fTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB2YXIgX3RoaXMkcm93JHRhcmdldENsdXN0OwogICAgICByZXR1cm4gdGhpcy5zdGF0ZVBhcnRzLmxlbmd0aCA+IDAgJiYgKChfdGhpcyRyb3ckdGFyZ2V0Q2x1c3QgPSB0aGlzLnJvdy50YXJnZXRDbHVzdGVycykgPT09IG51bGwgfHwgX3RoaXMkcm93JHRhcmdldENsdXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRyb3ckdGFyZ2V0Q2x1c3QubGVuZ3RoKTsKICAgIH0sCiAgICBzdGF0ZVBhcnRzOiBmdW5jdGlvbiBzdGF0ZVBhcnRzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuc3VtbWFyeSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuICF4LnN0YXJ0c1dpdGgoJ2Rlc2lyZWQnKTsKICAgICAgfSk7CiAgICAgIHZhciBvdXQgPSBrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgdmFyIHRleHRDb2xvciA9IGNvbG9yRm9yU3RhdGUoa2V5KTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6IHVjRmlyc3Qoa2V5KSwKICAgICAgICAgIGNvbG9yOiB0ZXh0Q29sb3IucmVwbGFjZSgvdGV4dC0vLCAnYmctJyksCiAgICAgICAgICB0ZXh0Q29sb3I6IHRleHRDb2xvciwKICAgICAgICAgIHZhbHVlOiBfdGhpcy5zdW1tYXJ5W2tleV0sCiAgICAgICAgICBzb3J0OiBzdGF0ZVNvcnQodGV4dENvbG9yLCBrZXkpCiAgICAgICAgfTsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHgudmFsdWUgPiAwOwogICAgICB9KTsKICAgICAgcmV0dXJuIHNvcnRCeShvdXQsICdzb3J0OmRlc2MnKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["ProgressBarMulti","ucFirst","colorForState","stateSort","sortBy","components","props","row","type","Object","required","computed","summary","_this$row$status","status","resourceCounts","show","_this$row$targetClust","stateParts","length","targetClusters","_this","keys","filter","x","startsWith","out","map","key","textColor","label","color","replace","value","sort"],"sources":["node_modules/@rancher/shell/components/formatter/FleetSummaryGraph.vue"],"sourcesContent":["<script>\nimport ProgressBarMulti from '@shell/components/ProgressBarMulti';\nimport { ucFirst } from '@shell/utils/string';\nimport { colorForState, stateSort } from '@shell/plugins/dashboard-store/resource-class';\nimport { sortBy } from '@shell/utils/sort';\n\nexport default {\n  components: { ProgressBarMulti },\n\n  props: {\n    row: {\n      type:     Object,\n      required: true\n    },\n  },\n\n  computed: {\n    summary() {\n      return this.row.status?.resourceCounts || {};\n    },\n\n    show() {\n      return this.stateParts.length > 0 && this.row.targetClusters?.length;\n    },\n\n    stateParts() {\n      const keys = Object.keys(this.summary).filter((x) => !x.startsWith('desired'));\n\n      const out = keys.map((key) => {\n        const textColor = colorForState(key);\n\n        return {\n          label: ucFirst(key),\n          color: textColor.replace(/text-/, 'bg-'),\n          textColor,\n          value: this.summary[key],\n          sort:  stateSort(textColor, key),\n        };\n      }).filter((x) => x.value > 0);\n\n      return sortBy(out, 'sort:desc');\n    },\n\n  },\n};\n</script>\n\n<template>\n  <v-popover\n    v-if=\"show\"\n    class=\"text-center hand\"\n    placement=\"top\"\n    :open-group=\"row.id\"\n    :trigger=\"show ? 'click' : 'manual'\"\n    offset=\"1\"\n  >\n    <ProgressBarMulti\n      :values=\"stateParts\"\n      class=\"mb-5\"\n    />\n    <span v-if=\"summary.desiredReady === summary.ready\">{{ summary.ready }}</span>\n    <span v-else>{{ summary.ready }} of {{ summary.desiredReady }}</span>\n\n    <template #popover>\n      <table\n        v-if=\"show\"\n        class=\"fixed\"\n      >\n        <tbody>\n          <tr\n            v-for=\"obj in stateParts\"\n            :key=\"obj.label\"\n          >\n            <td\n              class=\"text-left pr-20\"\n              :class=\"{[obj.textColor]: true}\"\n            >\n              {{ obj.label }}\n            </td>\n            <td class=\"text-right\">\n              {{ obj.value }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </template>\n  </v-popover>\n  <div\n    v-else\n    class=\"text-center text-muted\"\n  >\n    &mdash;\n  </div>\n</template>\n\n<style lang=\"scss\">\n  .col-scale {\n    position: relative;\n\n    .trigger {\n      width: 100%;\n    }\n  }\n\n  .scale {\n    margin: 0;\n    padding: 0;\n    line-height: initial;\n  }\n</style>\n"],"mappings":";;;;;;;AACA,OAAAA,gBAAA;AACA,SAAAC,OAAA;AACA,SAAAC,aAAA,EAAAC,SAAA;AACA,SAAAC,MAAA;AAEA;EACAC,UAAA;IAAAL,gBAAA,EAAAA;EAAA;EAEAM,KAAA;IACAC,GAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EAEAC,QAAA;IACAC,OAAA,WAAAA,QAAA;MAAA,IAAAC,gBAAA;MACA,SAAAA,gBAAA,QAAAN,GAAA,CAAAO,MAAA,cAAAD,gBAAA,uBAAAA,gBAAA,CAAAE,cAAA;IACA;IAEAC,IAAA,WAAAA,KAAA;MAAA,IAAAC,qBAAA;MACA,YAAAC,UAAA,CAAAC,MAAA,UAAAF,qBAAA,QAAAV,GAAA,CAAAa,cAAA,cAAAH,qBAAA,uBAAAA,qBAAA,CAAAE,MAAA;IACA;IAEAD,UAAA,WAAAA,WAAA;MAAA,IAAAG,KAAA;MACA,IAAAC,IAAA,GAAAb,MAAA,CAAAa,IAAA,MAAAV,OAAA,EAAAW,MAAA,WAAAC,CAAA;QAAA,QAAAA,CAAA,CAAAC,UAAA;MAAA;MAEA,IAAAC,GAAA,GAAAJ,IAAA,CAAAK,GAAA,WAAAC,GAAA;QACA,IAAAC,SAAA,GAAA3B,aAAA,CAAA0B,GAAA;QAEA;UACAE,KAAA,EAAA7B,OAAA,CAAA2B,GAAA;UACAG,KAAA,EAAAF,SAAA,CAAAG,OAAA;UACAH,SAAA,EAAAA,SAAA;UACAI,KAAA,EAAAZ,KAAA,CAAAT,OAAA,CAAAgB,GAAA;UACAM,IAAA,EAAA/B,SAAA,CAAA0B,SAAA,EAAAD,GAAA;QACA;MACA,GAAAL,MAAA,WAAAC,CAAA;QAAA,OAAAA,CAAA,CAAAS,KAAA;MAAA;MAEA,OAAA7B,MAAA,CAAAsB,GAAA;IACA;EAEA;AACA"}]}