{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/auth/AzureWarning.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/auth/AzureWarning.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vIFRoaXMgY29tcG9uZW50IHdpbGwgYmVjb21lIHJlZHVuZGFudCBpbiAyMDIzLCBzZWUgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvZ3JhcGgvbWlncmF0ZS1henVyZS1hZC1ncmFwaC1vdmVydmlldwppbXBvcnQgeyBOT1JNQU4sIE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IEFaVVJFX01JR1JBVEVEIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwppbXBvcnQgeyBCTEFOS19DTFVTVEVSIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3N0b3JlLXR5cGVzLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoIShfdGhpcy4kc3RvcmUuZ2V0dGVyc1snaXNSYW5jaGVyJ10gJiYgX3RoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvc2NoZW1hRm9yJ10oTUFOQUdFTUVOVC5BVVRIX0NPTkZJRykpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JhbmNoZXIvZmluZCcsIHsKICAgICAgICAgICAgICB0eXBlOiBOT1JNQU4uQVVUSF9DT05GSUcsCiAgICAgICAgICAgICAgaWQ6ICdhenVyZWFkJywKICAgICAgICAgICAgICBvcHQ6IHsKICAgICAgICAgICAgICAgIHVybDogIi92My8iLmNvbmNhdChOT1JNQU4uQVVUSF9DT05GSUcsICIvYXp1cmVhZCIpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgX3RoaXMuYXV0aENvbmZpZyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdXRoQ29uZmlnOiBudWxsLAogICAgICBhdXRoQ29uZmlnUm91dGU6IHsKICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLWF1dGgtY29uZmlnLWlkJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuJHJvdXRlLnBhcmFtcy5jbHVzdGVyIHx8IEJMQU5LX0NMVVNURVIsCiAgICAgICAgICBpZDogJ2F6dXJlYWQnCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dXYXJuaW5nOiBmdW5jdGlvbiBzaG93V2FybmluZygpIHsKICAgICAgaWYgKCF0aGlzLmF1dGhDb25maWcpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIGdldCh0aGlzLmF1dGhDb25maWcsICJhbm5vdGF0aW9ucy5cIiIuY29uY2F0KEFaVVJFX01JR1JBVEVELCAiXCIiKSkgIT09ICd0cnVlJyAmJiB0aGlzLmF1dGhDb25maWcuZW5hYmxlZDsKICAgIH0KICB9Cn07"},{"version":3,"names":["NORMAN","MANAGEMENT","get","AZURE_MIGRATED","BLANK_CLUSTER","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","getters","AUTH_CONFIG","dispatch","type","id","opt","url","concat","authConfig","sent","stop","data","authConfigRoute","name","params","cluster","$route","computed","showWarning","enabled"],"sources":["node_modules/@rancher/shell/components/auth/AzureWarning.vue"],"sourcesContent":["<script>\n// This component will become redundant in 2023, see https://docs.microsoft.com/en-us/graph/migrate-azure-ad-graph-overview\nimport { NORMAN, MANAGEMENT } from '@shell/config/types';\nimport { get } from '@shell/utils/object';\nimport { AZURE_MIGRATED } from '@shell/config/labels-annotations';\nimport { BLANK_CLUSTER } from '@shell/store/store-types.js';\n\nexport default {\n  async fetch() {\n    // Check for access to steve authConfigs because everyone can load the norman auth config schema\n    if (\n      this.$store.getters['isRancher'] &&\n      this.$store.getters['management/schemaFor'](MANAGEMENT.AUTH_CONFIG)\n    ) {\n      this.authConfig = await this.$store.dispatch('rancher/find', {\n        type: NORMAN.AUTH_CONFIG,\n        id:   'azuread',\n        opt:  { url: `/v3/${ NORMAN.AUTH_CONFIG }/azuread` }\n      });\n    }\n  },\n\n  data() {\n    return {\n      authConfig:      null,\n      authConfigRoute: {\n        name:   'c-cluster-auth-config-id',\n        params: {\n          cluster: this.$route.params.cluster || BLANK_CLUSTER,\n          id:      'azuread'\n        }\n      }\n    };\n  },\n\n  computed: {\n    showWarning() {\n      if (!this.authConfig) {\n        return false;\n      }\n\n      return (\n        get(this.authConfig, `annotations.\"${ AZURE_MIGRATED }\"`) !== 'true' &&\n        this.authConfig.enabled\n      );\n    }\n  }\n};\n</script>\n\n<template>\n  <div\n    v-if=\"showWarning\"\n    id=\"azure-warn\"\n    class=\"banner\"\n  >\n    <p>\n      {{ t('authConfig.azuread.updateEndpoint.banner.message') }}\n      <n-link :to=\"authConfigRoute\">\n        {{ t('authConfig.azuread.updateEndpoint.banner.linkText') }}\n      </n-link>\n    </p>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n#azure-warn {\n  background-color: var(--warning);\n  color: var(--warning-text);\n  line-height: 2em;\n  width: 100%;\n\n  > p {\n    text-align: center;\n  }\n}\n</style>\n"],"mappings":";;AACA;AACA,SAAAA,MAAA,EAAAC,UAAA;AACA,SAAAC,GAAA;AACA,SAAAC,cAAA;AACA,SAAAC,aAAA;AAEA;EACAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,kBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,MAGAT,KAAA,CAAAU,MAAA,CAAAC,OAAA,iBACAX,KAAA,CAAAU,MAAA,CAAAC,OAAA,yBAAAhB,UAAA,CAAAiB,WAAA;cAAAL,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAEAT,KAAA,CAAAU,MAAA,CAAAG,QAAA;cACAC,IAAA,EAAApB,MAAA,CAAAkB,WAAA;cACAG,EAAA;cACAC,GAAA;gBAAAC,GAAA,SAAAC,MAAA,CAAAxB,MAAA,CAAAkB,WAAA;cAAA;YACA;UAAA;YAJAZ,KAAA,CAAAmB,UAAA,GAAAZ,QAAA,CAAAa,IAAA;UAAA;UAAA;YAAA,OAAAb,QAAA,CAAAc,IAAA;QAAA;MAAA,GAAAjB,OAAA;IAAA;EAMA;EAEAkB,IAAA,WAAAA,KAAA;IACA;MACAH,UAAA;MACAI,eAAA;QACAC,IAAA;QACAC,MAAA;UACAC,OAAA,OAAAC,MAAA,CAAAF,MAAA,CAAAC,OAAA,IAAA5B,aAAA;UACAiB,EAAA;QACA;MACA;IACA;EACA;EAEAa,QAAA;IACAC,WAAA,WAAAA,YAAA;MACA,UAAAV,UAAA;QACA;MACA;MAEA,OACAvB,GAAA,MAAAuB,UAAA,mBAAAD,MAAA,CAAArB,cAAA,uBACA,KAAAsB,UAAA,CAAAW,OAAA;IAEA;EACA;AACA"}]}