{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--17-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/management.cattle.io.podsecurityadmissionconfigurationtemplate.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/management.cattle.io.podsecurityadmissionconfigurationtemplate.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCBDcnVSZXNvdXJjZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DcnVSZXNvdXJjZS52dWUnOwppbXBvcnQgUG9kU2VjdXJpdHlBZG1pc3Npb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUG9kU2VjdXJpdHlBZG1pc3Npb24udnVlJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZy52dWUnOwppbXBvcnQgTmFtZU5zRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9OYW1lTnNEZXNjcmlwdGlvbi52dWUnOwppbXBvcnQgeyBQU0FEaW1lbnNpb25zIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wb2Qtc2VjdXJpdHktYWRtaXNzaW9uJzsKaW1wb3J0IHsgTUFOQUdFTUVOVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBtaXhpbnM6IFtDcmVhdGVFZGl0Vmlld10sCiAgY29tcG9uZW50czogewogICAgQ3J1UmVzb3VyY2U6IENydVJlc291cmNlLAogICAgTG9hZGluZzogTG9hZGluZywKICAgIE5hbWVOc0Rlc2NyaXB0aW9uOiBOYW1lTnNEZXNjcmlwdGlvbiwKICAgIFBvZFNlY3VyaXR5QWRtaXNzaW9uOiBQb2RTZWN1cml0eUFkbWlzc2lvbgogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5QU0EKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvKioKICAgICAqIEdldCBvciBpbml0aWFsaXplIGV4ZW1wdGlvbnMgaWYgbm9uZQogICAgICovCiAgICBleGVtcHRpb25zOiBmdW5jdGlvbiBleGVtcHRpb25zKCkgewogICAgICB2YXIgX2EsIF9iOwogICAgICByZXR1cm4gKChfYiA9IChfYSA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb25maWd1cmF0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZXhlbXB0aW9ucykgfHwge307CiAgICB9LAogICAgLyoqCiAgICAgKiBHZXQgb3IgaW5pdGlhbGl6ZSBkZWZhdWx0cyBsYWJlbHMgaWYgbm9uZQogICAgICovCiAgICBkZWZhdWx0czogZnVuY3Rpb24gZGVmYXVsdHMoKSB7CiAgICAgIHZhciBfYSwgX2I7CiAgICAgIHJldHVybiAoKF9iID0gKF9hID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbmZpZ3VyYXRpb24pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kZWZhdWx0cykgfHwge307CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIFJlcGxhY2UgZXhlbXB0aW9uIHdpdGggbmV3IHZhbHVlcwogICAgICovCiAgICBzZXRFeGVtcHRpb25zOiBmdW5jdGlvbiBzZXRFeGVtcHRpb25zKGV4ZW1wdGlvbnMpIHsKICAgICAgdGhpcy52YWx1ZS5jb25maWd1cmF0aW9uLmV4ZW1wdGlvbnMgPSBleGVtcHRpb25zOwogICAgfSwKICAgIC8qKgogICAgICogUmVwbGFjZSBkZWZhdWx0cyB3aXRoIG5ldyB2YWx1ZXMKICAgICAqLwogICAgc2V0RGVmYXVsdHM6IGZ1bmN0aW9uIHNldERlZmF1bHRzKGxhYmVscykgewogICAgICB0aGlzLnZhbHVlLmNvbmZpZ3VyYXRpb24uZGVmYXVsdHMgPSBsYWJlbHM7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8gSW5pdGlhbGl6ZSBjb25maWd1cmF0aW9uIGlmIG5vbmUsIGFzIGRlZmF1bHQgdmFsdWUgcmVzb3VyY2UgY2FzZQogICAgaWYgKCF0aGlzLnZhbHVlLmNvbmZpZ3VyYXRpb24pIHsKICAgICAgdGhpcy52YWx1ZS5jb25maWd1cmF0aW9uID0gewogICAgICAgIGRlZmF1bHRzOiB7fSwKICAgICAgICBleGVtcHRpb25zOiBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCwgW3t9XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KFBTQURpbWVuc2lvbnMubWFwKGZ1bmN0aW9uIChkaW1lbnNpb24pIHsKICAgICAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sIGRpbWVuc2lvbiwgW10pOwogICAgICAgIH0pKSkpCiAgICAgIH07CiAgICB9CiAgfQp9KTs="},{"version":3,"names":["Vue","CreateEditView","CruResource","PodSecurityAdmission","Loading","NameNsDescription","PSADimensions","MANAGEMENT","extend","mixins","components","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","type","PSA","stop","props","value","Object","required","default","_default","mode","String","computed","exemptions","_b","_a","configuration","defaults","methods","setExemptions","setDefaults","labels","created","assign","apply","concat","_toConsumableArray","map","dimension","_defineProperty"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/management.cattle.io.podsecurityadmissionconfigurationtemplate.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport Vue, { PropType, VueConstructor } from 'vue';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource.vue';\nimport PodSecurityAdmission from '@shell/components/PodSecurityAdmission.vue';\nimport Loading from '@shell/components/Loading.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription.vue';\nimport { PSA, PSAConfig, PSADefaults, PSAExemptions } from '@shell/types/pod-security-admission';\nimport { PSADimensions } from '@shell/config/pod-security-admission';\nimport { MANAGEMENT } from '@shell/config/types';\n\nexport default (Vue as VueConstructor<Vue & InstanceType<typeof CreateEditView>>).extend({\n  mixins:     [CreateEditView],\n  components: {\n    CruResource,\n    Loading,\n    NameNsDescription,\n    PodSecurityAdmission,\n  },\n\n  async fetch() {\n    await this.$store.dispatch('management/findAll', { type: MANAGEMENT.PSA });\n  },\n\n  props: {\n    value: {\n      type:     Object as PropType<PSA>,\n      required: true,\n      default:  () => ({}) as PSA\n    },\n\n    mode: {\n      type:     String,\n      required: true,\n    }\n  },\n  computed: {\n    /**\n     * Get or initialize exemptions if none\n     */\n    exemptions(): PSAExemptions {\n      return this.value?.configuration?.exemptions || {};\n    },\n\n    /**\n     * Get or initialize defaults labels if none\n     */\n    defaults(): PSADefaults {\n      return this.value?.configuration?.defaults || {};\n    },\n  },\n\n  methods: {\n    /**\n     * Replace exemption with new values\n     */\n    setExemptions(exemptions: PSAExemptions) {\n      this.value.configuration.exemptions = exemptions;\n    },\n\n    /**\n     * Replace defaults with new values\n     */\n    setDefaults(labels: PSADefaults) {\n      this.value.configuration.defaults = labels;\n    },\n  },\n\n  created() {\n    // Initialize configuration if none, as default value resource case\n    if (!this.value.configuration) {\n      this.value.configuration = {\n        defaults:   {},\n        exemptions: Object.assign({}, ...PSADimensions.map((dimension) => ({ [dimension]: [] }))),\n      } as PSAConfig;\n    }\n  }\n});\n"],"mappings":";;;;;;;AACA,OAAOA,GAAiC,MAAM,KAAK;AACnD,OAAOC,cAAc,MAAM,gCAAgC;AAC3D,OAAOC,WAAW,MAAM,mCAAmC;AAC3D,OAAOC,oBAAoB,MAAM,4CAA4C;AAC7E,OAAOC,OAAO,MAAM,+BAA+B;AACnD,OAAOC,iBAAiB,MAAM,8CAA8C;AAE5E,SAASC,aAAa,QAAQ,sCAAsC;AACpE,SAASC,UAAU,QAAQ,qBAAqB;AAEhD,eAAgBP,GAAiE,CAACQ,MAAM,CAAC;EACvFC,MAAM,EAAM,CAACR,cAAc,CAAC;EAC5BS,UAAU,EAAE;IACVR,WAAW,EAAXA,WAAW;IACXE,OAAO,EAAPA,OAAO;IACPC,iBAAiB,EAAjBA,iBAAiB;IACjBF,oBAAoB,EAApBA;GACD;EAEKQ,KAAK,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,kBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACHT,KAAI,CAACU,MAAM,CAACC,QAAQ,CAAC,oBAAoB,EAAE;cAAEC,IAAI,EAAEjB,UAAU,CAACkB;YAAG,CAAE,CAAC;UAAA;UAAA;YAAA,OAAAN,QAAA,CAAAO,IAAA;QAAA;MAAA,GAAAV,OAAA;IAAA;EAC5E,CAAC;EAEDW,KAAK,EAAE;IACLC,KAAK,EAAE;MACLJ,IAAI,EAAMK,MAAuB;MACjCC,QAAQ,EAAE,IAAI;MACdC,OAAO,EAAG,SAAAC,SAAA;QAAA,OAAO,EAAE;MAAA;KACpB;IAEDC,IAAI,EAAE;MACJT,IAAI,EAAMU,MAAM;MAChBJ,QAAQ,EAAE;;GAEb;EACDK,QAAQ,EAAE;IACR;;;IAGAC,UAAU,WAAAA,WAAA;;MACR,OAAO,EAAAC,EAAA,IAAAC,EAAA,OAAI,CAACV,KAAK,cAAAU,EAAA,uBAAAA,EAAA,CAAEC,aAAa,cAAAF,EAAA,uBAAAA,EAAA,CAAED,UAAU,KAAI,EAAE;IACpD,CAAC;IAED;;;IAGAI,QAAQ,WAAAA,SAAA;;MACN,OAAO,EAAAH,EAAA,IAAAC,EAAA,OAAI,CAACV,KAAK,cAAAU,EAAA,uBAAAA,EAAA,CAAEC,aAAa,cAAAF,EAAA,uBAAAA,EAAA,CAAEG,QAAQ,KAAI,EAAE;IAClD;GACD;EAEDC,OAAO,EAAE;IACP;;;IAGAC,aAAa,WAAAA,cAACN,UAAyB;MACrC,IAAI,CAACR,KAAK,CAACW,aAAa,CAACH,UAAU,GAAGA,UAAU;IAClD,CAAC;IAED;;;IAGAO,WAAW,WAAAA,YAACC,MAAmB;MAC7B,IAAI,CAAChB,KAAK,CAACW,aAAa,CAACC,QAAQ,GAAGI,MAAM;IAC5C;GACD;EAEDC,OAAO,WAAAA,QAAA;IACL;IACA,IAAI,CAAC,IAAI,CAACjB,KAAK,CAACW,aAAa,EAAE;MAC7B,IAAI,CAACX,KAAK,CAACW,aAAa,GAAG;QACzBC,QAAQ,EAAI,EAAE;QACdJ,UAAU,EAAEP,MAAM,CAACiB,MAAM,CAAAC,KAAA,CAAblB,MAAM,GAAQ,EAAE,EAAAmB,MAAA,CAAAC,kBAAA,CAAK3C,aAAa,CAAC4C,GAAG,CAAC,UAACC,SAAS;UAAA,OAAAC,eAAA,KAASD,SAAS,EAAG,EAAE;QAAA,CAAG,CAAC;OAC5E;;EAElB;CACD,CAAC"}]}