{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/VirtualServiceGateways.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/VirtualServiceGateways.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMuanMiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfdHlwZW9mIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IHsgZ2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IElTVElPIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIHJvdzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgZ2F0ZXdheXM6IGZ1bmN0aW9uIGdhdGV3YXlzKCkgewogICAgICB2YXIgb3V0ID0gW107CiAgICAgIHZhciBnYXRld2F5cyA9IGdldCh0aGlzLnZhbHVlLCAnZ2F0ZXdheXMnKTsKICAgICAgdmFyIGh0dHBNYXRjaGVzID0gKGdldCh0aGlzLnZhbHVlLCAnaHR0cCcpIHx8IFtdKS5yZWR1Y2UoZnVuY3Rpb24gKG1hdGNoZXMsIGh0dHBSb3V0ZSkgewogICAgICAgIGlmIChodHRwUm91dGUubWF0Y2gpIHsKICAgICAgICAgIG1hdGNoZXMucHVzaC5hcHBseShtYXRjaGVzLCBfdG9Db25zdW1hYmxlQXJyYXkoaHR0cFJvdXRlLm1hdGNoKSk7CiAgICAgICAgICByZXR1cm4gbWF0Y2hlczsKICAgICAgICB9CiAgICAgIH0sIFtdKTsKICAgICAgdmFyIHRsc01hdGNoZXMgPSAoZ2V0KHRoaXMudmFsdWUsICd0bHMnKSB8fCBbXSkucmVkdWNlKGZ1bmN0aW9uIChtYXRjaGVzLCB0bHNSb3V0ZSkgewogICAgICAgIGlmICh0bHNSb3V0ZS5tYXRjaCkgewogICAgICAgICAgbWF0Y2hlcy5wdXNoLmFwcGx5KG1hdGNoZXMsIF90b0NvbnN1bWFibGVBcnJheSh0bHNSb3V0ZS5tYXRjaCkpOwogICAgICAgICAgcmV0dXJuIG1hdGNoZXM7CiAgICAgICAgfQogICAgICB9LCBbXSk7CiAgICAgIGlmIChnYXRld2F5cykgewogICAgICAgIG91dC5wdXNoLmFwcGx5KG91dCwgX3RvQ29uc3VtYWJsZUFycmF5KGdhdGV3YXlzKSk7CiAgICAgIH0KICAgICAgaWYgKGh0dHBNYXRjaGVzICYmIF90eXBlb2YoaHR0cE1hdGNoZXMpID09PSAnb2JqZWN0JykgewogICAgICAgIGh0dHBNYXRjaGVzLmZvckVhY2goZnVuY3Rpb24gKG1hdGNoQmxvY2spIHsKICAgICAgICAgIGlmIChtYXRjaEJsb2NrLmdhdGV3YXlzKSB7CiAgICAgICAgICAgIG91dC5wdXNoLmFwcGx5KG91dCwgX3RvQ29uc3VtYWJsZUFycmF5KG1hdGNoQmxvY2suZ2F0ZXdheXMpKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAodGxzTWF0Y2hlcyAmJiBfdHlwZW9mKHRsc01hdGNoZXMpID09PSAnb2JqZWN0JykgewogICAgICAgIHRsc01hdGNoZXMuZm9yRWFjaChmdW5jdGlvbiAobWF0Y2hCbG9jaykgewogICAgICAgICAgaWYgKG1hdGNoQmxvY2suZ2F0ZXdheXMpIHsKICAgICAgICAgICAgb3V0LnB1c2guYXBwbHkob3V0LCBfdG9Db25zdW1hYmxlQXJyYXkobWF0Y2hCbG9jay5nYXRld2F5cykpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgfSwgbWFwR2V0dGVycyh7CiAgICB0OiAnaTE4bi90JwogIH0pKSwKICBtZXRob2RzOiB7CiAgICBnYXRld2F5TGlua3M6IGZ1bmN0aW9uIGdhdGV3YXlMaW5rcyhuYW1lKSB7CiAgICAgIHZhciBuYW1lc3BhY2U7CiAgICAgIGlmICghbmFtZS5pbmNsdWRlcygnLycpKSB7CiAgICAgICAgbmFtZXNwYWNlID0gZ2V0KHRoaXMucm93LCAnbWV0YWRhdGEubmFtZXNwYWNlJykgfHwgJ2lzdGlvLXN5c3RlbSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF9uYW1lJHNwbGl0ID0gbmFtZS5zcGxpdCgnLycpOwogICAgICAgIHZhciBfbmFtZSRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfbmFtZSRzcGxpdCwgMik7CiAgICAgICAgbmFtZXNwYWNlID0gX25hbWUkc3BsaXQyWzBdOwogICAgICAgIG5hbWUgPSBfbmFtZSRzcGxpdDJbMV07CiAgICAgIH0KICAgICAgdmFyIHJvdXRlUGFyYW1zID0gdGhpcy4kcm91dGUucGFyYW1zOwogICAgICB2YXIgcm91dGVOYW1lID0gJ2MtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlLW5hbWVzcGFjZS1pZCc7CiAgICAgIHZhciBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJvdXRlUGFyYW1zKSwge30sIHsKICAgICAgICBwcm9kdWN0OiAnaXN0aW8nLAogICAgICAgIHJlc291cmNlOiBJU1RJTy5HQVRFV0FZLAogICAgICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlLAogICAgICAgIGlkOiBuYW1lCiAgICAgIH0pOwogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6IHJvdXRlTmFtZSwKICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"names":["get","ISTIO","mapGetters","props","value","type","Object","default","_default","row","computed","_objectSpread","gateways","out","httpMatches","reduce","matches","httpRoute","match","push","apply","_toConsumableArray","tlsMatches","tlsRoute","_typeof","forEach","matchBlock","t","methods","gatewayLinks","name","namespace","includes","_name$split","split","_name$split2","_slicedToArray","routeParams","$route","params","routeName","product","resource","GATEWAY","id"],"sources":["node_modules/@rancher/shell/components/formatter/VirtualServiceGateways.vue"],"sourcesContent":["<script>\nimport { get } from '@shell/utils/object';\nimport { ISTIO } from '@shell/config/types';\nimport { mapGetters } from 'vuex';\nexport default {\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    row: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n\n  computed: {\n    gateways() {\n      const out = [];\n      const gateways = get(this.value, 'gateways');\n      const httpMatches = (get(this.value, 'http') || []).reduce((matches, httpRoute) => {\n        if (httpRoute.match) {\n          matches.push(...httpRoute.match);\n\n          return matches;\n        }\n      }, []);\n      const tlsMatches = (get(this.value, 'tls') || []).reduce((matches, tlsRoute) => {\n        if (tlsRoute.match) {\n          matches.push(...tlsRoute.match);\n\n          return matches;\n        }\n      }, []);\n\n      if (gateways) {\n        out.push(...gateways);\n      }\n\n      if (httpMatches && typeof httpMatches === 'object') {\n        httpMatches.forEach((matchBlock) => {\n          if (matchBlock.gateways) {\n            out.push(...matchBlock.gateways);\n          }\n        });\n      }\n\n      if (tlsMatches && typeof tlsMatches === 'object') {\n        tlsMatches.forEach((matchBlock) => {\n          if (matchBlock.gateways) {\n            out.push(...matchBlock.gateways);\n          }\n        });\n      }\n\n      return out;\n    },\n    ...mapGetters({ t: 'i18n/t' })\n  },\n\n  methods: {\n    gatewayLinks(name) {\n      let namespace;\n\n      if (!name.includes('/')) {\n        namespace = get(this.row, 'metadata.namespace') || 'istio-system';\n      } else {\n        [namespace, name] = name.split('/');\n      }\n      const routeParams = this.$route.params;\n      const routeName = 'c-cluster-product-resource-namespace-id';\n      const params = {\n        ...routeParams,\n        product:  'istio',\n        resource: ISTIO.GATEWAY,\n        namespace,\n        id:       name\n      };\n\n      return { name: routeName, params };\n    }\n  }\n};\n</script>\n\n<template>\n  <span>\n    <span\n      v-for=\"(gateway, i) in gateways\"\n      :key=\"gateway\"\n    >\n      <template v-if=\"i < 5\">\n        <nuxt-link :to=\"gatewayLinks(gateway)\">\n          {{ gatewayLinks(gateway).params.id }}\n        </nuxt-link>\n        <span v-if=\"i<gateways.length-1 && i < 4\">,</span>\n      </template>\n    </span>\n    <span\n      v-if=\"gateways.length>7\"\n      class=\"text-muted\"\n    >\n      {{ t('generic.plusMore', {n: gateways.length-4}) }}\n    </span>\n  </span>\n</template>\n"],"mappings":";;;;;;;;;;;;;;;;;AACA,SAAAA,GAAA;AACA,SAAAC,KAAA;AACA,SAAAC,UAAA;AACA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IAEAC,GAAA;MACAJ,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;EACA;EAEAE,QAAA,EAAAC,aAAA;IACAC,QAAA,WAAAA,SAAA;MACA,IAAAC,GAAA;MACA,IAAAD,QAAA,GAAAZ,GAAA,MAAAI,KAAA;MACA,IAAAU,WAAA,IAAAd,GAAA,MAAAI,KAAA,iBAAAW,MAAA,WAAAC,OAAA,EAAAC,SAAA;QACA,IAAAA,SAAA,CAAAC,KAAA;UACAF,OAAA,CAAAG,IAAA,CAAAC,KAAA,CAAAJ,OAAA,EAAAK,kBAAA,CAAAJ,SAAA,CAAAC,KAAA;UAEA,OAAAF,OAAA;QACA;MACA;MACA,IAAAM,UAAA,IAAAtB,GAAA,MAAAI,KAAA,gBAAAW,MAAA,WAAAC,OAAA,EAAAO,QAAA;QACA,IAAAA,QAAA,CAAAL,KAAA;UACAF,OAAA,CAAAG,IAAA,CAAAC,KAAA,CAAAJ,OAAA,EAAAK,kBAAA,CAAAE,QAAA,CAAAL,KAAA;UAEA,OAAAF,OAAA;QACA;MACA;MAEA,IAAAJ,QAAA;QACAC,GAAA,CAAAM,IAAA,CAAAC,KAAA,CAAAP,GAAA,EAAAQ,kBAAA,CAAAT,QAAA;MACA;MAEA,IAAAE,WAAA,IAAAU,OAAA,CAAAV,WAAA;QACAA,WAAA,CAAAW,OAAA,WAAAC,UAAA;UACA,IAAAA,UAAA,CAAAd,QAAA;YACAC,GAAA,CAAAM,IAAA,CAAAC,KAAA,CAAAP,GAAA,EAAAQ,kBAAA,CAAAK,UAAA,CAAAd,QAAA;UACA;QACA;MACA;MAEA,IAAAU,UAAA,IAAAE,OAAA,CAAAF,UAAA;QACAA,UAAA,CAAAG,OAAA,WAAAC,UAAA;UACA,IAAAA,UAAA,CAAAd,QAAA;YACAC,GAAA,CAAAM,IAAA,CAAAC,KAAA,CAAAP,GAAA,EAAAQ,kBAAA,CAAAK,UAAA,CAAAd,QAAA;UACA;QACA;MACA;MAEA,OAAAC,GAAA;IACA;EAAA,GACAX,UAAA;IAAAyB,CAAA;EAAA,GACA;EAEAC,OAAA;IACAC,YAAA,WAAAA,aAAAC,IAAA;MACA,IAAAC,SAAA;MAEA,KAAAD,IAAA,CAAAE,QAAA;QACAD,SAAA,GAAA/B,GAAA,MAAAS,GAAA;MACA;QAAA,IAAAwB,WAAA,GACAH,IAAA,CAAAI,KAAA;QAAA,IAAAC,YAAA,GAAAC,cAAA,CAAAH,WAAA;QAAAF,SAAA,GAAAI,YAAA;QAAAL,IAAA,GAAAK,YAAA;MACA;MACA,IAAAE,WAAA,QAAAC,MAAA,CAAAC,MAAA;MACA,IAAAC,SAAA;MACA,IAAAD,MAAA,GAAA5B,aAAA,CAAAA,aAAA,KACA0B,WAAA;QACAI,OAAA;QACAC,QAAA,EAAAzC,KAAA,CAAA0C,OAAA;QACAZ,SAAA,EAAAA,SAAA;QACAa,EAAA,EAAAd;MAAA,EACA;MAEA;QAAAA,IAAA,EAAAU,SAAA;QAAAD,MAAA,EAAAA;MAAA;IACA;EACA;AACA"}]}