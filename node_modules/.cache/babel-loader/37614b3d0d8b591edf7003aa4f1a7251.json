{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/fleet/FleetRepos.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/fleet/FleetRepos.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBSZXNvdXJjZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlVGFibGUnOwppbXBvcnQgTGluayBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtYXR0ZXIvTGluayc7CmltcG9ydCBTaG9ydGVuZWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybWF0dGVyL1Nob3J0ZW5lZCc7CmltcG9ydCBGbGVldEludHJvIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2ZsZWV0L0ZsZWV0SW50cm8nOwppbXBvcnQgeyBBR0UsIFNUQVRFLCBOQU1FLCBGTEVFVF9TVU1NQVJZIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90YWJsZS1oZWFkZXJzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdGbGVldFJlcG9zJywKICBjb21wb25lbnRzOiB7CiAgICBSZXNvdXJjZVRhYmxlOiBSZXNvdXJjZVRhYmxlLAogICAgTGluazogTGluaywKICAgIFNob3J0ZW5lZDogU2hvcnRlbmVkLAogICAgRmxlZXRJbnRybzogRmxlZXRJbnRybwogIH0sCiAgcHJvcHM6IHsKICAgIHJvd3M6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgc2NoZW1hOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBsb2FkaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfSwKICAgIHVzZVF1ZXJ5UGFyYW1zRm9yU2ltcGxlRmlsdGVyaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZmlsdGVyZWRSb3dzOiBmdW5jdGlvbiBmaWx0ZXJlZFJvd3MoKSB7CiAgICAgIGlmICghdGhpcy5yb3dzKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CgogICAgICAvLyBSZXR1cm5zIGJvb2xlYW4geyBbbmFtZXNwYWNlXTogdHJ1ZSB9CiAgICAgIHZhciBzZWxlY3RlZFdvcmtzcGFjZSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ25hbWVzcGFjZXMnXSgpOwogICAgICByZXR1cm4gdGhpcy5yb3dzLmZpbHRlcihmdW5jdGlvbiAocm93KSB7CiAgICAgICAgcmV0dXJuICEhc2VsZWN0ZWRXb3Jrc3BhY2Vbcm93Lm1ldGFkYXRhLm5hbWVzcGFjZV07CiAgICAgIH0pOwogICAgfSwKICAgIG5vUm93czogZnVuY3Rpb24gbm9Sb3dzKCkgewogICAgICByZXR1cm4gIXRoaXMuZmlsdGVyZWRSb3dzLmxlbmd0aDsKICAgIH0sCiAgICBoZWFkZXJzOiBmdW5jdGlvbiBoZWFkZXJzKCkgewogICAgICB2YXIgb3V0ID0gW1NUQVRFLCBOQU1FLCB7CiAgICAgICAgbmFtZTogJ3JlcG8nLAogICAgICAgIGxhYmVsS2V5OiAndGFibGVIZWFkZXJzLnJlcG8nLAogICAgICAgIHZhbHVlOiAncmVwb0Rpc3BsYXknLAogICAgICAgIHNvcnQ6ICdyZXBvRGlzcGxheScsCiAgICAgICAgc2VhcmNoOiBbJ3NwZWMucmVwbycsICdzdGF0dXMuY29tbWl0J10KICAgICAgfSwgewogICAgICAgIG5hbWU6ICd0YXJnZXQnLAogICAgICAgIGxhYmVsS2V5OiAndGFibGVIZWFkZXJzLnRhcmdldCcsCiAgICAgICAgdmFsdWU6ICd0YXJnZXRJbmZvLm1vZGVEaXNwbGF5JywKICAgICAgICBzb3J0OiBbJ3RhcmdldEluZm8ubW9kZURpc3BsYXknLCAndGFyZ2V0SW5mby5jbHVzdGVyJywgJ3RhcmdldEluZm8uY2x1c3Rlckdyb3VwJ10KICAgICAgfSwgewogICAgICAgIG5hbWU6ICdjbHVzdGVyc1JlYWR5JywKICAgICAgICBsYWJlbEtleTogJ3RhYmxlSGVhZGVycy5jbHVzdGVyc1JlYWR5JywKICAgICAgICB2YWx1ZTogJ3N0YXR1cy5yZWFkeUNsdXN0ZXJzJywKICAgICAgICBzb3J0OiAnc3RhdHVzLnJlYWR5Q2x1c3RlcnMnLAogICAgICAgIHNlYXJjaDogZmFsc2UKICAgICAgfSwgRkxFRVRfU1VNTUFSWSwgQUdFXTsKICAgICAgcmV0dXJuIG91dDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHBhcnNlVGFyZ2V0TW9kZTogZnVuY3Rpb24gcGFyc2VUYXJnZXRNb2RlKHJvdykgewogICAgICB2YXIgX3JvdyR0YXJnZXRJbmZvOwogICAgICByZXR1cm4gKChfcm93JHRhcmdldEluZm8gPSByb3cudGFyZ2V0SW5mbykgPT09IG51bGwgfHwgX3JvdyR0YXJnZXRJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcm93JHRhcmdldEluZm8ubW9kZSkgPT09ICdjbHVzdGVyR3JvdXAnID8gdGhpcy50KCdmbGVldC5naXRSZXBvLndhcm5pbmdUb29sdGlwLmNsdXN0ZXJHcm91cCcpIDogdGhpcy50KCdmbGVldC5naXRSZXBvLndhcm5pbmdUb29sdGlwLmNsdXN0ZXInKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["ResourceTable","Link","Shortened","FleetIntro","AGE","STATE","NAME","FLEET_SUMMARY","name","components","props","rows","type","Array","required","schema","Object","loading","Boolean","useQueryParamsForSimpleFiltering","default","computed","filteredRows","selectedWorkspace","$store","getters","filter","row","metadata","namespace","noRows","length","headers","out","labelKey","value","sort","search","methods","parseTargetMode","_row$targetInfo","targetInfo","mode","t"],"sources":["node_modules/@rancher/shell/components/fleet/FleetRepos.vue"],"sourcesContent":["<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Link from '@shell/components/formatter/Link';\nimport Shortened from '@shell/components/formatter/Shortened';\nimport FleetIntro from '@shell/components/fleet/FleetIntro';\n\nimport {\n  AGE,\n  STATE,\n  NAME,\n  FLEET_SUMMARY\n} from '@shell/config/table-headers';\n\nexport default {\n\n  name: 'FleetRepos',\n\n  components: {\n    ResourceTable, Link, Shortened, FleetIntro\n  },\n  props: {\n    rows: {\n      type:     Array,\n      required: true,\n    },\n\n    schema: {\n      type:     Object,\n      required: true,\n    },\n\n    loading: {\n      type:     Boolean,\n      required: false,\n    },\n\n    useQueryParamsForSimpleFiltering: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  computed: {\n    filteredRows() {\n      if (!this.rows) {\n        return [];\n      }\n\n      // Returns boolean { [namespace]: true }\n      const selectedWorkspace = this.$store.getters['namespaces']();\n\n      return this.rows.filter((row) => {\n        return !!selectedWorkspace[row.metadata.namespace];\n      });\n    },\n\n    noRows() {\n      return !this.filteredRows.length;\n    },\n\n    headers() {\n      const out = [\n        STATE,\n        NAME,\n        {\n          name:     'repo',\n          labelKey: 'tableHeaders.repo',\n          value:    'repoDisplay',\n          sort:     'repoDisplay',\n          search:   ['spec.repo', 'status.commit'],\n        },\n        {\n          name:     'target',\n          labelKey: 'tableHeaders.target',\n          value:    'targetInfo.modeDisplay',\n          sort:     ['targetInfo.modeDisplay', 'targetInfo.cluster', 'targetInfo.clusterGroup'],\n        },\n        {\n          name:     'clustersReady',\n          labelKey: 'tableHeaders.clustersReady',\n          value:    'status.readyClusters',\n          sort:     'status.readyClusters',\n          search:   false,\n        },\n        FLEET_SUMMARY,\n        AGE\n      ];\n\n      return out;\n    },\n  },\n  methods: {\n    parseTargetMode(row) {\n      return row.targetInfo?.mode === 'clusterGroup' ? this.t('fleet.gitRepo.warningTooltip.clusterGroup') : this.t('fleet.gitRepo.warningTooltip.cluster');\n    }\n  },\n};\n</script>\n\n<template>\n  <div>\n    <FleetIntro v-if=\"noRows && !loading\" />\n    <ResourceTable\n      v-if=\"!noRows\"\n      v-bind=\"$attrs\"\n      :schema=\"schema\"\n      :headers=\"headers\"\n      :rows=\"rows\"\n      :loading=\"loading\"\n      :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n      key-field=\"_key\"\n      v-on=\"$listeners\"\n    >\n      <template #cell:repo=\"{row}\">\n        <Link\n          :row=\"row\"\n          :value=\"row.spec.repo\"\n          label-key=\"repoDisplay\"\n          before-icon-key=\"repoIcon\"\n          url-key=\"spec.repo\"\n        />\n        <template v-if=\"row.commitDisplay\">\n          <div class=\"text-muted\">\n            <Shortened\n              long-value-key=\"status.commit\"\n              :row=\"row\"\n              :value=\"row.commitDisplay\"\n            />\n          </div>\n        </template>\n      </template>\n\n      <template #cell:clustersReady=\"{row}\">\n        <span\n          v-if=\"!row.clusterInfo\"\n          class=\"text-muted\"\n        >&mdash;</span>\n        <span\n          v-else-if=\"row.clusterInfo.unready\"\n          class=\"text-warning\"\n        >{{ row.clusterInfo.ready }}/{{ row.clusterInfo.total }}</span>\n        <span\n          v-else\n          class=\"cluster-count-info\"\n        >\n          {{ row.clusterInfo.ready }}/{{ row.clusterInfo.total }}\n          <i\n            v-if=\"!row.clusterInfo.total\"\n            v-clean-tooltip.bottom=\"parseTargetMode(row)\"\n            class=\"icon icon-warning\"\n          />\n        </span>\n      </template>\n\n      <template #cell:target=\"{row}\">\n        {{ row.targetInfo.modeDisplay }}\n      </template>\n    </ResourceTable>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.cluster-count-info {\n  display: flex;\n  align-items: center;\n\n  i {\n    margin-left: 5px;\n    font-size: 22px;\n    color: var(--warning);\n  }\n}\n</style>\n"],"mappings":";;AACA,OAAAA,aAAA;AACA,OAAAC,IAAA;AACA,OAAAC,SAAA;AACA,OAAAC,UAAA;AAEA,SACAC,GAAA,EACAC,KAAA,EACAC,IAAA,EACAC,aAAA,QACA;AAEA;EAEAC,IAAA;EAEAC,UAAA;IACAT,aAAA,EAAAA,aAAA;IAAAC,IAAA,EAAAA,IAAA;IAAAC,SAAA,EAAAA,SAAA;IAAAC,UAAA,EAAAA;EACA;EACAO,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,QAAA;IACA;IAEAC,MAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;IAEAG,OAAA;MACAL,IAAA,EAAAM,OAAA;MACAJ,QAAA;IACA;IAEAK,gCAAA;MACAP,IAAA,EAAAM,OAAA;MACAE,OAAA;IACA;EACA;EAEAC,QAAA;IACAC,YAAA,WAAAA,aAAA;MACA,UAAAX,IAAA;QACA;MACA;;MAEA;MACA,IAAAY,iBAAA,QAAAC,MAAA,CAAAC,OAAA;MAEA,YAAAd,IAAA,CAAAe,MAAA,WAAAC,GAAA;QACA,SAAAJ,iBAAA,CAAAI,GAAA,CAAAC,QAAA,CAAAC,SAAA;MACA;IACA;IAEAC,MAAA,WAAAA,OAAA;MACA,aAAAR,YAAA,CAAAS,MAAA;IACA;IAEAC,OAAA,WAAAA,QAAA;MACA,IAAAC,GAAA,IACA5B,KAAA,EACAC,IAAA,EACA;QACAE,IAAA;QACA0B,QAAA;QACAC,KAAA;QACAC,IAAA;QACAC,MAAA;MACA,GACA;QACA7B,IAAA;QACA0B,QAAA;QACAC,KAAA;QACAC,IAAA;MACA,GACA;QACA5B,IAAA;QACA0B,QAAA;QACAC,KAAA;QACAC,IAAA;QACAC,MAAA;MACA,GACA9B,aAAA,EACAH,GAAA,CACA;MAEA,OAAA6B,GAAA;IACA;EACA;EACAK,OAAA;IACAC,eAAA,WAAAA,gBAAAZ,GAAA;MAAA,IAAAa,eAAA;MACA,SAAAA,eAAA,GAAAb,GAAA,CAAAc,UAAA,cAAAD,eAAA,uBAAAA,eAAA,CAAAE,IAAA,4BAAAC,CAAA,qDAAAA,CAAA;IACA;EACA;AACA"}]}