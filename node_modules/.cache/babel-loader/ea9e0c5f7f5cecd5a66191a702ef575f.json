{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/cloud-credential/gcp.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/cloud-credential/gcp.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IEZpbGVTZWxlY3RvciBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0ZpbGVTZWxlY3Rvcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dCwKICAgIEZpbGVTZWxlY3RvcjogRmlsZVNlbGVjdG9yCiAgfSwKICBtaXhpbnM6IFtDcmVhdGVFZGl0Vmlld10sCiAgd2F0Y2g6IHsKICAgICd2YWx1ZS5kZWNvZGVkRGF0YS5hdXRoRW5jb2RlZEpzb24nOiBmdW5jdGlvbiB2YWx1ZURlY29kZWREYXRhQXV0aEVuY29kZWRKc29uKG5ldSkgewogICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsICEhbmV1KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uRmlsZVNlbGVjdGVkOiBmdW5jdGlvbiBvbkZpbGVTZWxlY3RlZChkYXRhKSB7CiAgICAgIHRoaXMudmFsdWUuc2V0RGF0YSgnYXV0aEVuY29kZWRKc29uJywgZGF0YSk7CiAgICB9LAogICAgdGVzdDogZnVuY3Rpb24gdGVzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY3JlZGVudGlhbHMsIGNvbmZpZywgcHJvamVjdElkLCBfY29uZmlnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNyZWRlbnRpYWxzID0gbnVsbDsKICAgICAgICAgICAgICBjb25maWcgPSBudWxsOwogICAgICAgICAgICAgIHByb2plY3RJZCA9IG51bGw7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgICAgY3JlZGVudGlhbHMgPSBfdGhpcy52YWx1ZS5kZWNvZGVkRGF0YS5hdXRoRW5jb2RlZEpzb247CiAgICAgICAgICAgICAgY29uZmlnID0gSlNPTi5wYXJzZShjcmVkZW50aWFscyB8fCAne30nKTsKICAgICAgICAgICAgICBwcm9qZWN0SWQgPSAoX2NvbmZpZyA9IGNvbmZpZykgPT09IG51bGwgfHwgX2NvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NvbmZpZy5wcm9qZWN0X2lkOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbWVsY2FzZQogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9yZXF1ZXN0JywgewogICAgICAgICAgICAgICAgdXJsOiAnL21ldGEvZ2tlWm9uZXMnLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBjcmVkZW50aWFscywKICAgICAgICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWRpcmVjdFVuYXV0aG9yaXplZDogZmFsc2UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTg7CiAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dFsiY2F0Y2giXSgxMik7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1szLCA5XSwgWzEyLCAxOF1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["CreateEditView","LabeledInput","FileSelector","components","mixins","watch","valueDecodedDataAuthEncodedJson","neu","$emit","methods","onFileSelected","data","value","setData","test","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","credentials","config","projectId","_config","wrap","_callee$","_context","prev","next","decodedData","authEncodedJson","JSON","parse","project_id","t0","abrupt","$store","dispatch","url","method","redirectUnauthorized","t1","stop"],"sources":["node_modules/@rancher/shell/cloud-credential/gcp.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport FileSelector from '@shell/components/form/FileSelector';\n\nexport default {\n  components: { LabeledInput, FileSelector },\n  mixins:     [CreateEditView],\n\n  watch: {\n    'value.decodedData.authEncodedJson'(neu) {\n      this.$emit('validationChanged', !!neu);\n    }\n  },\n\n  methods: {\n    onFileSelected(data) {\n      this.value.setData('authEncodedJson', data);\n    },\n\n    async test() {\n      let credentials = null;\n      let config = null;\n      let projectId = null;\n\n      try {\n        credentials = this.value.decodedData.authEncodedJson;\n        config = JSON.parse(credentials || '{}');\n        projectId = config?.project_id; // eslint-disable-line camelcase\n      } catch (error) {\n        return false;\n      }\n\n      try {\n        await this.$store.dispatch('management/request', {\n          url:                  '/meta/gkeZones',\n          method:               'POST',\n          data:                 { credentials, projectId },\n          redirectUnauthorized: false,\n        });\n\n        return true;\n      } catch (e) {\n        return false;\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <LabeledInput\n      :value=\"value.decodedData.authEncodedJson\"\n      label-key=\"cluster.credential.gcp.authEncodedJson.label\"\n      placeholder-key=\"cluster.credential.gcp.authEncodedJson.placeholder\"\n      type=\"multiline\"\n      :mode=\"mode\"\n      @input=\"value.setData('authEncodedJson', $event);\"\n    />\n    <FileSelector\n      class=\"role-primary btn-sm mt-20 mb-20\"\n      :label=\"t('generic.readFromFile')\"\n      @selected=\"onFileSelected\"\n    />\n    <p\n      v-clean-html=\"t('cluster.credential.gcp.authEncodedJson.help', {}, true)\"\n      class=\"text-muted\"\n    />\n  </div>\n</template>\n"],"mappings":";;;AACA,OAAAA,cAAA;AACA,SAAAC,YAAA;AACA,OAAAC,YAAA;AAEA;EACAC,UAAA;IAAAF,YAAA,EAAAA,YAAA;IAAAC,YAAA,EAAAA;EAAA;EACAE,MAAA,GAAAJ,cAAA;EAEAK,KAAA;IACA,8CAAAC,gCAAAC,GAAA;MACA,KAAAC,KAAA,wBAAAD,GAAA;IACA;EACA;EAEAE,OAAA;IACAC,cAAA,WAAAA,eAAAC,IAAA;MACA,KAAAC,KAAA,CAAAC,OAAA,oBAAAF,IAAA;IACA;IAEAG,IAAA,WAAAA,KAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,WAAA,EAAAC,MAAA,EAAAC,SAAA,EAAAC,OAAA;QAAA,OAAAN,kBAAA,CAAAO,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAR,WAAA;cACAC,MAAA;cACAC,SAAA;cAAAI,QAAA,CAAAC,IAAA;cAGAP,WAAA,GAAAL,KAAA,CAAAH,KAAA,CAAAiB,WAAA,CAAAC,eAAA;cACAT,MAAA,GAAAU,IAAA,CAAAC,KAAA,CAAAZ,WAAA;cACAE,SAAA,IAAAC,OAAA,GAAAF,MAAA,cAAAE,OAAA,uBAAAA,OAAA,CAAAU,UAAA;cAAAP,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAQ,EAAA,GAAAR,QAAA;cAAA,OAAAA,QAAA,CAAAS,MAAA,WAEA;YAAA;cAAAT,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAIAb,KAAA,CAAAqB,MAAA,CAAAC,QAAA;gBACAC,GAAA;gBACAC,MAAA;gBACA5B,IAAA;kBAAAS,WAAA,EAAAA,WAAA;kBAAAE,SAAA,EAAAA;gBAAA;gBACAkB,oBAAA;cACA;YAAA;cAAA,OAAAd,QAAA,CAAAS,MAAA,WAEA;YAAA;cAAAT,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAe,EAAA,GAAAf,QAAA;cAAA,OAAAA,QAAA,CAAAS,MAAA,WAEA;YAAA;YAAA;cAAA,OAAAT,QAAA,CAAAgB,IAAA;UAAA;QAAA,GAAAvB,OAAA;MAAA;IAEA;EACA;AACA"}]}