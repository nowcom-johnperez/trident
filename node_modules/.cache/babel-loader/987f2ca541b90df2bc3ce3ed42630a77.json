{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/download.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/download.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IEpTWmlwIGZyb20gJ2pzemlwJzsKZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkRmlsZShfeCwgX3gyKSB7CiAgcmV0dXJuIF9kb3dubG9hZEZpbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKLy8ge1tmaWxlTmFtZTFdOmRhdGExLCBbZmlsZU5hbWUyXTpkYXRhMn0KZnVuY3Rpb24gX2Rvd25sb2FkRmlsZSgpIHsKICBfZG93bmxvYWRGaWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGZpbGVOYW1lLCBjb250ZW50KSB7CiAgICB2YXIgY29udGVudFR5cGUsCiAgICAgIGJsb2IsCiAgICAgIF95aWVsZCRpbXBvcnQsCiAgICAgIHNhdmVBcywKICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBjb250ZW50VHlwZSA9IF9hcmdzLmxlbmd0aCA+IDIgJiYgX2FyZ3NbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzJdIDogJ3RleHQvcGxhaW47Y2hhcnNldD11dGYtOCc7CiAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdLCB7CiAgICAgICAgICAgIHR5cGU6IGNvbnRlbnRUeXBlCiAgICAgICAgICB9KTsKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgcmV0dXJuIGltcG9ydCgnZmlsZS1zYXZlcicpOwogICAgICAgIGNhc2UgNDoKICAgICAgICAgIF95aWVsZCRpbXBvcnQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgc2F2ZUFzID0gX3lpZWxkJGltcG9ydC5zYXZlQXM7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBzYXZlQXMoYmxvYiwgZmlsZU5hbWUpKTsKICAgICAgICBjYXNlIDc6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2Rvd25sb2FkRmlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVppcChmaWxlcykgewogIC8vIE1vdmluZyB0aGlzIHRvIGEgZHluYW1pYyBjb25zdCBKU1ppcCA9IGltcG9ydCgnanN6aXAnKSBkaWRuJ3Qgd29yay4uLiBmaWd1cmUgb3V0IGxhdGVyCiAgdmFyIHppcCA9IG5ldyBKU1ppcCgpOwogIGZvciAodmFyIGZpbGVOYW1lIGluIGZpbGVzKSB7CiAgICB6aXAuZmlsZShmaWxlTmFtZSwgZmlsZXNbZmlsZU5hbWVdKTsKICB9CiAgcmV0dXJuIHppcC5nZW5lcmF0ZUFzeW5jKHsKICAgIHR5cGU6ICdibG9iJwogIH0pLnRoZW4oZnVuY3Rpb24gKGNvbnRlbnRzKSB7CiAgICByZXR1cm4gY29udGVudHM7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkVXJsKHVybCkgewogIHZhciBpZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ19fZG93bmxvYWRJZnJhbWUnOwogIHZhciBpZnJhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7CiAgaWYgKCFpZnJhbWUpIHsKICAgIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICBpZnJhbWUuaWQgPSBpZDsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyYW1lKTsKICB9CiAgaWZyYW1lLnNyYyA9IHVybDsKfQ=="},{"version":3,"names":["JSZip","downloadFile","_x","_x2","_downloadFile","apply","arguments","_asyncToGenerator","regeneratorRuntime","mark","_callee","fileName","content","contentType","blob","_yield$import","saveAs","_args","wrap","_callee$","_context","prev","next","length","undefined","Blob","type","sent","abrupt","stop","generateZip","files","zip","file","generateAsync","then","contents","downloadUrl","url","id","iframe","document","getElementById","createElement","style","display","body","appendChild","src"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/download.js"],"sourcesContent":["import JSZip from 'jszip';\n\nexport async function downloadFile(fileName, content, contentType = 'text/plain;charset=utf-8') {\n  const blob = new Blob([content], { type: contentType });\n  const { saveAs } = await import('file-saver');\n\n  return saveAs(blob, fileName);\n}\n\n// {[fileName1]:data1, [fileName2]:data2}\nexport function generateZip(files) {\n  // Moving this to a dynamic const JSZip = import('jszip') didn't work... figure out later\n  const zip = new JSZip();\n\n  for ( const fileName in files) {\n    zip.file(fileName, files[fileName]);\n  }\n\n  return zip.generateAsync({ type: 'blob' }).then((contents) => {\n    return contents;\n  });\n}\n\nexport function downloadUrl(url, id = '__downloadIframe') {\n  let iframe = document.getElementById(id);\n\n  if ( !iframe ) {\n    iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n    iframe.id = id;\n    document.body.appendChild(iframe);\n  }\n\n  iframe.src = url;\n}\n"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,gBAAsBC,YAAYA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,aAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;;AAOlC;AAAA,SAAAF,cAAA;EAAAA,aAAA,GAAAG,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,CAPO,SAAAC,QAA4BC,QAAQ,EAAEC,OAAO;IAAA,IAAAC,WAAA;MAAAC,IAAA;MAAAC,aAAA;MAAAC,MAAA;MAAAC,KAAA,GAAAX,SAAA;IAAA,OAAAE,kBAAA,CAAAU,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAET,WAAW,GAAAI,KAAA,CAAAM,MAAA,QAAAN,KAAA,QAAAO,SAAA,GAAAP,KAAA,MAAG,0BAA0B;UACtFH,IAAI,GAAG,IAAIW,IAAI,CAAC,CAACb,OAAO,CAAC,EAAE;YAAEc,IAAI,EAAEb;UAAY,CAAC,CAAC;UAAAO,QAAA,CAAAE,IAAA;UAAA,OAC9B,MAAM,CAAC,YAAY,CAAC;QAAA;UAAAP,aAAA,GAAAK,QAAA,CAAAO,IAAA;UAArCX,MAAM,GAAAD,aAAA,CAANC,MAAM;UAAA,OAAAI,QAAA,CAAAQ,MAAA,WAEPZ,MAAM,CAACF,IAAI,EAAEH,QAAQ,CAAC;QAAA;QAAA;UAAA,OAAAS,QAAA,CAAAS,IAAA;MAAA;IAAA,GAAAnB,OAAA;EAAA,CAC9B;EAAA,OAAAN,aAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAGD,OAAO,SAASwB,WAAWA,CAACC,KAAK,EAAE;EACjC;EACA,IAAMC,GAAG,GAAG,IAAIhC,KAAK,CAAC,CAAC;EAEvB,KAAM,IAAMW,QAAQ,IAAIoB,KAAK,EAAE;IAC7BC,GAAG,CAACC,IAAI,CAACtB,QAAQ,EAAEoB,KAAK,CAACpB,QAAQ,CAAC,CAAC;EACrC;EAEA,OAAOqB,GAAG,CAACE,aAAa,CAAC;IAAER,IAAI,EAAE;EAAO,CAAC,CAAC,CAACS,IAAI,CAAC,UAACC,QAAQ,EAAK;IAC5D,OAAOA,QAAQ;EACjB,CAAC,CAAC;AACJ;AAEA,OAAO,SAASC,WAAWA,CAACC,GAAG,EAA2B;EAAA,IAAzBC,EAAE,GAAAjC,SAAA,CAAAiB,MAAA,QAAAjB,SAAA,QAAAkB,SAAA,GAAAlB,SAAA,MAAG,kBAAkB;EACtD,IAAIkC,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAACH,EAAE,CAAC;EAExC,IAAK,CAACC,MAAM,EAAG;IACbA,MAAM,GAAGC,QAAQ,CAACE,aAAa,CAAC,QAAQ,CAAC;IACzCH,MAAM,CAACI,KAAK,CAACC,OAAO,GAAG,MAAM;IAC7BL,MAAM,CAACD,EAAE,GAAGA,EAAE;IACdE,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,MAAM,CAAC;EACnC;EAEAA,MAAM,CAACQ,GAAG,GAAGV,GAAG;AAClB"}]}