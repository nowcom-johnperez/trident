{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/plugins/steve/index.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/plugins/steve/index.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgY29yZVN0b3JlLCB7IGNvcmVTdG9yZU1vZHVsZSwgY29yZVN0b3JlU3RhdGUgfSBmcm9tICdAc2hlbGwvcGx1Z2lucy9kYXNoYm9hcmQtc3RvcmUvaW5kZXgnOwppbXBvcnQgeyBjcmVhdGVXb3JrZXIsIG11dGF0aW9ucyBhcyBzdWJzY3JpYmVNdXRhdGlvbnMsIGFjdGlvbnMgYXMgc3Vic2NyaWJlQWN0aW9ucywgZ2V0dGVycyBhcyBzdWJzY3JpYmVHZXR0ZXJzIH0gZnJvbSAnLi9zdWJzY3JpYmUnOwppbXBvcnQgZ2V0dGVycywgeyBTVEVWRV9NT0RFTF9UWVBFUyB9IGZyb20gJy4vZ2V0dGVycyc7CmltcG9ydCBtdXRhdGlvbnMgZnJvbSAnLi9tdXRhdGlvbnMnOwppbXBvcnQgYWN0aW9ucyBmcm9tICcuL2FjdGlvbnMnOwpleHBvcnQgZnVuY3Rpb24gU3RldmVGYWN0b3J5KG5hbWVzcGFjZSwgYmFzZVVybCkgewogIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvcmVTdG9yZU1vZHVsZSksIHt9LCB7CiAgICBzdGF0ZTogZnVuY3Rpb24gc3RhdGUoKSB7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvcmVTdG9yZVN0YXRlKG5hbWVzcGFjZSwgYmFzZVVybCkpLCB7fSwgewogICAgICAgIHNvY2tldDogbnVsbCwKICAgICAgICBxdWV1ZTogW10sCiAgICAgICAgLy8gRm9yIGNoYW5nZSBldmVudCBjb2FsZXNjaW5nCiAgICAgICAgd2FudFNvY2tldDogZmFsc2UsCiAgICAgICAgZGVidWdTb2NrZXQ6IGZhbHNlLAogICAgICAgIGFsbG93U3RyZWFtaW5nOiB0cnVlLAogICAgICAgIHBlbmRpbmdGcmFtZXM6IFtdLAogICAgICAgIGRlZmVycmVkUmVxdWVzdHM6IHt9LAogICAgICAgIHN0YXJ0ZWQ6IFtdLAogICAgICAgIGluRXJyb3I6IHt9LAogICAgICAgIHBvZHNCeU5hbWVzcGFjZToge30gLy8gQ2FjaGUgb2YgcG9kcyBieSBuYW1lc3BhY2UKICAgICAgfSk7CiAgICB9LAogICAgZ2V0dGVyczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvcmVTdG9yZU1vZHVsZS5nZXR0ZXJzKSwgZ2V0dGVycyksIHN1YnNjcmliZUdldHRlcnMpLAogICAgbXV0YXRpb25zOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29yZVN0b3JlTW9kdWxlLm11dGF0aW9ucyksIG11dGF0aW9ucyksIHN1YnNjcmliZU11dGF0aW9ucyksCiAgICBhY3Rpb25zOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29yZVN0b3JlTW9kdWxlLmFjdGlvbnMpLCBhY3Rpb25zKSwgc3Vic2NyaWJlQWN0aW9ucykKICB9KTsKfQpleHBvcnQgdmFyIHN0ZXZlU3RvcmVJbml0ID0gZnVuY3Rpb24gc3RldmVTdG9yZUluaXQoc3RvcmUsIGN0eCkgewogIGNyZWF0ZVdvcmtlcihzdG9yZSwgY3R4KTsKfTsKZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChjb25maWcpIHsKICBjb25maWcubmFtZXNwYWNlID0gY29uZmlnLm5hbWVzcGFjZSB8fCAnJzsKICBjb25maWcuYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsIHx8ICIvIi5jb25jYXQoY29uZmlnLm5hbWVzcGFjZSk7CiAgc3dpdGNoIChjb25maWcubmFtZXNwYWNlKSB7CiAgICBjYXNlICdtYW5hZ2VtZW50JzoKICAgICAgY29uZmlnLm1vZGVsQmFzZUNsYXNzID0gU1RFVkVfTU9ERUxfVFlQRVMuQllfVFlQRTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdyYW5jaGVyJzoKICAgICAgY29uZmlnLm1vZGVsQmFzZUNsYXNzID0gU1RFVkVfTU9ERUxfVFlQRVMuTk9STUFOOwogICAgICBicmVhazsKICB9CiAgcmV0dXJuIGNvcmVTdG9yZShTdGV2ZUZhY3RvcnkoY29uZmlnLm5hbWVzcGFjZSwgY29uZmlnLmJhc2VVcmwpLCBjb25maWcsIHN0ZXZlU3RvcmVJbml0KTsKfSk7"},{"version":3,"names":["coreStore","coreStoreModule","coreStoreState","createWorker","mutations","subscribeMutations","actions","subscribeActions","getters","subscribeGetters","STEVE_MODEL_TYPES","SteveFactory","namespace","baseUrl","_objectSpread","state","socket","queue","wantSocket","debugSocket","allowStreaming","pendingFrames","deferredRequests","started","inError","podsByNamespace","steveStoreInit","store","ctx","config","concat","modelBaseClass","BY_TYPE","NORMAN"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/plugins/steve/index.js"],"sourcesContent":["import coreStore, { coreStoreModule, coreStoreState } from '@shell/plugins/dashboard-store/index';\nimport {\n  createWorker,\n  mutations as subscribeMutations,\n  actions as subscribeActions,\n  getters as subscribeGetters\n} from './subscribe';\n\nimport getters, { STEVE_MODEL_TYPES } from './getters';\nimport mutations from './mutations';\nimport actions from './actions';\n\nexport function SteveFactory(namespace, baseUrl) {\n  return {\n    ...coreStoreModule,\n\n    state() {\n      return {\n        ...coreStoreState(namespace, baseUrl),\n        socket:           null,\n        queue:            [], // For change event coalescing\n        wantSocket:       false,\n        debugSocket:      false,\n        allowStreaming:   true,\n        pendingFrames:    [],\n        deferredRequests: {},\n        started:          [],\n        inError:          {},\n        podsByNamespace:  {}, // Cache of pods by namespace\n      };\n    },\n\n    getters: {\n      ...coreStoreModule.getters,\n      ...getters,\n      ...subscribeGetters\n    },\n\n    mutations: {\n      ...coreStoreModule.mutations,\n      ...mutations,\n      ...subscribeMutations,\n    },\n\n    actions: {\n      ...coreStoreModule.actions,\n      ...actions,\n      ...subscribeActions\n    },\n  };\n}\n\nexport const steveStoreInit = (store, ctx) => {\n  createWorker(store, ctx);\n};\n\nexport default (config) => {\n  config.namespace = config.namespace || '';\n\n  config.baseUrl = config.baseUrl || `/${ config.namespace }`;\n\n  switch (config.namespace) {\n  case 'management':\n    config.modelBaseClass = STEVE_MODEL_TYPES.BY_TYPE;\n    break;\n  case 'rancher':\n    config.modelBaseClass = STEVE_MODEL_TYPES.NORMAN;\n    break;\n  }\n\n  return coreStore(\n    SteveFactory(config.namespace, config.baseUrl),\n    config,\n    steveStoreInit\n  );\n};\n"],"mappings":";;;;;;;;;;AAAA,OAAOA,SAAS,IAAIC,eAAe,EAAEC,cAAc,QAAQ,sCAAsC;AACjG,SACEC,YAAY,EACZC,SAAS,IAAIC,kBAAkB,EAC/BC,OAAO,IAAIC,gBAAgB,EAC3BC,OAAO,IAAIC,gBAAgB,QACtB,aAAa;AAEpB,OAAOD,OAAO,IAAIE,iBAAiB,QAAQ,WAAW;AACtD,OAAON,SAAS,MAAM,aAAa;AACnC,OAAOE,OAAO,MAAM,WAAW;AAE/B,OAAO,SAASK,YAAYA,CAACC,SAAS,EAAEC,OAAO,EAAE;EAC/C,OAAAC,aAAA,CAAAA,aAAA,KACKb,eAAe;IAElBc,KAAK,WAAAA,MAAA,EAAG;MACN,OAAAD,aAAA,CAAAA,aAAA,KACKZ,cAAc,CAACU,SAAS,EAAEC,OAAO,CAAC;QACrCG,MAAM,EAAY,IAAI;QACtBC,KAAK,EAAa,EAAE;QAAE;QACtBC,UAAU,EAAQ,KAAK;QACvBC,WAAW,EAAO,KAAK;QACvBC,cAAc,EAAI,IAAI;QACtBC,aAAa,EAAK,EAAE;QACpBC,gBAAgB,EAAE,CAAC,CAAC;QACpBC,OAAO,EAAW,EAAE;QACpBC,OAAO,EAAW,CAAC,CAAC;QACpBC,eAAe,EAAG,CAAC,CAAC,CAAE;MAAA;IAE1B,CAAC;IAEDjB,OAAO,EAAAM,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACFb,eAAe,CAACO,OAAO,GACvBA,OAAO,GACPC,gBAAgB,CACpB;IAEDL,SAAS,EAAAU,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACJb,eAAe,CAACG,SAAS,GACzBA,SAAS,GACTC,kBAAkB,CACtB;IAEDC,OAAO,EAAAQ,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACFb,eAAe,CAACK,OAAO,GACvBA,OAAO,GACPC,gBAAgB;EACpB;AAEL;AAEA,OAAO,IAAMmB,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,KAAK,EAAEC,GAAG,EAAK;EAC5CzB,YAAY,CAACwB,KAAK,EAAEC,GAAG,CAAC;AAC1B,CAAC;AAED,gBAAe,UAACC,MAAM,EAAK;EACzBA,MAAM,CAACjB,SAAS,GAAGiB,MAAM,CAACjB,SAAS,IAAI,EAAE;EAEzCiB,MAAM,CAAChB,OAAO,GAAGgB,MAAM,CAAChB,OAAO,QAAAiB,MAAA,CAASD,MAAM,CAACjB,SAAS,CAAG;EAE3D,QAAQiB,MAAM,CAACjB,SAAS;IACxB,KAAK,YAAY;MACfiB,MAAM,CAACE,cAAc,GAAGrB,iBAAiB,CAACsB,OAAO;MACjD;IACF,KAAK,SAAS;MACZH,MAAM,CAACE,cAAc,GAAGrB,iBAAiB,CAACuB,MAAM;MAChD;EACF;EAEA,OAAOjC,SAAS,CACdW,YAAY,CAACkB,MAAM,CAACjB,SAAS,EAAEiB,MAAM,CAAChB,OAAO,CAAC,EAC9CgB,MAAM,EACNH,cACF,CAAC;AACH,CAAC"}]}