{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/CustomCommand.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/CustomCommand.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IEluZm9Cb3ggZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvSW5mb0JveCc7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCBDb3B5Q29kZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Db3B5Q29kZSc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IEtleVZhbHVlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vS2V5VmFsdWUnOwppbXBvcnQgVGFpbnRzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vVGFpbnRzJzsKaW1wb3J0IHsgTUFOQUdFTUVOVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBzYW5pdGl6ZUtleSwgc2FuaXRpemVJUCwgc2FuaXRpemVWYWx1ZSB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQmFubmVyOiBCYW5uZXIsCiAgICBDaGVja2JveDogQ2hlY2tib3gsCiAgICBDb3B5Q29kZTogQ29weUNvZGUsCiAgICBJbmZvQm94OiBJbmZvQm94LAogICAgS2V5VmFsdWU6IEtleVZhbHVlLAogICAgTGFiZWxlZElucHV0OiBMYWJlbGVkSW5wdXQsCiAgICBUYWludHM6IFRhaW50cwogIH0sCiAgcHJvcHM6IHsKICAgIGNsdXN0ZXI6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNsdXN0ZXJUb2tlbjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULk5PREUKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93QWR2YW5jZWQ6IGZhbHNlLAogICAgICBldGNkOiB0cnVlLAogICAgICBjb250cm9sUGxhbmU6IHRydWUsCiAgICAgIHdvcmtlcjogdHJ1ZSwKICAgICAgaW5zZWN1cmU6IGZhbHNlLAogICAgICBpbnNlY3VyZVdpbmRvd3M6IGZhbHNlLAogICAgICBhZGRyZXNzOiAnJywKICAgICAgaW50ZXJuYWxBZGRyZXNzOiAnJywKICAgICAgbm9kZU5hbWU6ICcnLAogICAgICBsYWJlbHM6IHt9LAogICAgICB0YWludHM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxpbnV4Q29tbWFuZDogZnVuY3Rpb24gbGludXhDb21tYW5kKCkgewogICAgICB2YXIgb3V0ID0gdGhpcy5pbnNlY3VyZSA/IFt0aGlzLmNsdXN0ZXJUb2tlbi5pbnNlY3VyZU5vZGVDb21tYW5kXSA6IFt0aGlzLmNsdXN0ZXJUb2tlbi5ub2RlQ29tbWFuZF07CiAgICAgIHRoaXMuZXRjZCAmJiBvdXQucHVzaCgnLS1ldGNkJyk7CiAgICAgIHRoaXMuY29udHJvbFBsYW5lICYmIG91dC5wdXNoKCctLWNvbnRyb2xwbGFuZScpOwogICAgICB0aGlzLndvcmtlciAmJiBvdXQucHVzaCgnLS13b3JrZXInKTsKICAgICAgdGhpcy5hZGRyZXNzICYmIG91dC5wdXNoKCItLWFkZHJlc3MgIi5jb25jYXQoc2FuaXRpemVJUCh0aGlzLmFkZHJlc3MpKSk7CiAgICAgIHRoaXMuaW50ZXJuYWxBZGRyZXNzICYmIG91dC5wdXNoKCItLWludGVybmFsLWFkZHJlc3MgIi5jb25jYXQoc2FuaXRpemVWYWx1ZSh0aGlzLmludGVybmFsQWRkcmVzcykpKTsKICAgICAgdGhpcy5ub2RlTmFtZSAmJiBvdXQucHVzaCgiLS1ub2RlLW5hbWUgIi5jb25jYXQoc2FuaXRpemVWYWx1ZSh0aGlzLm5vZGVOYW1lKSkpOwogICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5sYWJlbHMpIHsKICAgICAgICB2YXIgayA9IHNhbml0aXplS2V5KGtleSk7CiAgICAgICAgdmFyIHYgPSBzYW5pdGl6ZVZhbHVlKHRoaXMubGFiZWxzW2tdKTsKICAgICAgICBpZiAoayAmJiB2KSB7CiAgICAgICAgICBvdXQucHVzaCgiLS1sYWJlbCAiLmNvbmNhdChrLCAiPSIpLmNvbmNhdCh2KSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnRhaW50cyksCiAgICAgICAgX3N0ZXA7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciB0ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB2YXIgX2sgPSBzYW5pdGl6ZUtleSh0LmtleSk7CiAgICAgICAgICB2YXIgX3YgPSBzYW5pdGl6ZVZhbHVlKHQudmFsdWUpOwogICAgICAgICAgdmFyIGUgPSBzYW5pdGl6ZVZhbHVlKHQuZWZmZWN0KTsKICAgICAgICAgIGlmIChfayAmJiBfdiAmJiBlKSB7CiAgICAgICAgICAgIG91dC5wdXNoKCItLXRhaW50cyAiLmNvbmNhdChfaywgIj0iKS5jb25jYXQoX3YsICI6IikuY29uY2F0KGUpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgICByZXR1cm4gb3V0LmpvaW4oJyAnKTsKICAgIH0sCiAgICB3aW5kb3dzQ29tbWFuZDogZnVuY3Rpb24gd2luZG93c0NvbW1hbmQoKSB7CiAgICAgIHZhciBvdXQgPSB0aGlzLmluc2VjdXJlV2luZG93cyA/IFt0aGlzLmNsdXN0ZXJUb2tlbi5pbnNlY3VyZVdpbmRvd3NOb2RlQ29tbWFuZF0gOiBbdGhpcy5jbHVzdGVyVG9rZW4ud2luZG93c05vZGVDb21tYW5kXTsKICAgICAgdGhpcy5hZGRyZXNzICYmIG91dC5wdXNoKCItQWRkcmVzcyBcIiIuY29uY2F0KHNhbml0aXplVmFsdWUodGhpcy5hZGRyZXNzKSwgIlwiIikpOwogICAgICB0aGlzLmludGVybmFsQWRkcmVzcyAmJiBvdXQucHVzaCgiLUludGVybmFsQWRkcmVzcyBcIiIuY29uY2F0KHNhbml0aXplVmFsdWUodGhpcy5pbnRlcm5hbEFkZHJlc3MpLCAiXCIiKSk7CiAgICAgIHRoaXMubm9kZU5hbWUgJiYgb3V0LnB1c2goIi1Ob2RlTmFtZSBcIiIuY29uY2F0KHNhbml0aXplVmFsdWUodGhpcy5ub2RlTmFtZSksICJcIiIpKTsKICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMubGFiZWxzKSB7CiAgICAgICAgdmFyIGsgPSBzYW5pdGl6ZUtleShrZXkpOwogICAgICAgIHZhciB2ID0gc2FuaXRpemVWYWx1ZSh0aGlzLmxhYmVsc1trXSk7CiAgICAgICAgaWYgKGsgJiYgdikgewogICAgICAgICAgb3V0LnB1c2goIi1MYWJlbCBcIiIuY29uY2F0KGssICI9IikuY29uY2F0KHYsICJcIiIpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnRhaW50cyksCiAgICAgICAgX3N0ZXAyOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgdCA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgIHZhciBfazIgPSBzYW5pdGl6ZUtleSh0LmtleSk7CiAgICAgICAgICB2YXIgX3YyID0gc2FuaXRpemVWYWx1ZSh0LnZhbHVlKTsKICAgICAgICAgIHZhciBlID0gc2FuaXRpemVWYWx1ZSh0LmVmZmVjdCk7CiAgICAgICAgICBpZiAoX2syICYmIF92MiAmJiBlKSB7CiAgICAgICAgICAgIG91dC5wdXNoKCItVGFpbnQgXCIiLmNvbmNhdChfazIsICI9IikuY29uY2F0KF92MiwgIjoiKS5jb25jYXQoZSwgIlwiIikpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIG91dC5qb2luKCcgJyk7CiAgICB9LAogICAgLy8gQ2x1c3RlcnMgbmVlZCBsaW51eCBub2RlcyB3aXRoIGV0Y2QsIGNvbnRyb2xwbGFuZSwgYW5kIHdvcmtlciByb2xlcyBiZWZvcmUgd2luZG93cyBub2RlcyBjYW4gYmUgcmVnaXN0cmF0aW9uCiAgICByZWFkeUZvcldpbmRvd3M6IGZ1bmN0aW9uIHJlYWR5Rm9yV2luZG93cygpIHsKICAgICAgaWYgKCF0aGlzLmNsdXN0ZXIubWdtdCB8fCAhdGhpcy5jbHVzdGVyLm1nbXQuaXNSZWFkeSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB2YXIgbm9kZXMgPSB0aGlzLmNsdXN0ZXIubm9kZXMgfHwgW107CiAgICAgIHZhciBhbGxSb2xlcyA9IG5vZGVzLnJlZHVjZShmdW5jdGlvbiAoYWxsLCBub2RlKSB7CiAgICAgICAgdmFyIGlzV29ya2VyID0gbm9kZS5pc1dvcmtlciwKICAgICAgICAgIGlzRXRjZCA9IG5vZGUuaXNFdGNkLAogICAgICAgICAgaXNDb250cm9sUGxhbmUgPSBub2RlLmlzQ29udHJvbFBsYW5lOwogICAgICAgIGlmIChpc1dvcmtlciAmJiAhYWxsLmluY2x1ZGVzKCd3b3JrZXInKSkgewogICAgICAgICAgYWxsLnB1c2goJ3dvcmtlcicpOwogICAgICAgIH0KICAgICAgICBpZiAoaXNFdGNkICYmICFhbGwuaW5jbHVkZXMoJ2V0Y2QnKSkgewogICAgICAgICAgYWxsLnB1c2goJ2V0Y2QnKTsKICAgICAgICB9CiAgICAgICAgaWYgKGlzQ29udHJvbFBsYW5lICYmICFhbGwuaW5jbHVkZXMoJ2NvbnRyb2xQbGFuZScpKSB7CiAgICAgICAgICBhbGwucHVzaCgnY29udHJvbFBsYW5lJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhbGw7CiAgICAgIH0sIFtdKTsKICAgICAgcmV0dXJuIGFsbFJvbGVzLmxlbmd0aCA9PT0gMzsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZUFkdmFuY2VkOiBmdW5jdGlvbiB0b2dnbGVBZHZhbmNlZCgpIHsKICAgICAgdGhpcy5zaG93QWR2YW5jZWQgPSAhdGhpcy5zaG93QWR2YW5jZWQ7CiAgICB9LAogICAgY29waWVkV2luZG93czogZnVuY3Rpb24gY29waWVkV2luZG93cygpIHsKICAgICAgdGhpcy4kZW1pdCgnY29waWVkLXdpbmRvd3MnKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["Banner","InfoBox","Checkbox","CopyCode","LabeledInput","KeyValue","Taints","MANAGEMENT","sanitizeKey","sanitizeIP","sanitizeValue","components","props","cluster","type","Object","required","clusterToken","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","NODE","stop","data","showAdvanced","etcd","controlPlane","worker","insecure","insecureWindows","address","internalAddress","nodeName","labels","taints","computed","linuxCommand","out","insecureNodeCommand","nodeCommand","push","concat","key","k","v","_iterator","_createForOfIteratorHelper","_step","s","n","done","t","value","e","effect","err","f","join","windowsCommand","insecureWindowsNodeCommand","windowsNodeCommand","_iterator2","_step2","readyForWindows","mgmt","isReady","nodes","allRoles","reduce","all","node","isWorker","isEtcd","isControlPlane","includes","length","methods","toggleAdvanced","copiedWindows","$emit"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/CustomCommand.vue"],"sourcesContent":["<script>\nimport { Banner } from '@components/Banner';\nimport InfoBox from '@shell/components/InfoBox';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport CopyCode from '@shell/components/CopyCode';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport Taints from '@shell/components/form/Taints';\nimport { MANAGEMENT } from '@shell/config/types';\n\nimport { sanitizeKey, sanitizeIP, sanitizeValue } from '@shell/utils/string';\n\nexport default {\n  components: {\n    Banner, Checkbox, CopyCode, InfoBox, KeyValue, LabeledInput, Taints\n  },\n\n  props: {\n    cluster: {\n      type:     Object,\n      required: true,\n    },\n\n    clusterToken: {\n      type:     Object,\n      required: true,\n    }\n  },\n\n  async fetch() {\n    await this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE });\n  },\n\n  data() {\n    return {\n      showAdvanced:    false,\n      etcd:            true,\n      controlPlane:    true,\n      worker:          true,\n      insecure:        false,\n      insecureWindows: false,\n      address:         '',\n      internalAddress: '',\n      nodeName:        '',\n      labels:          {},\n      taints:          []\n    };\n  },\n\n  computed: {\n    linuxCommand() {\n      const out = this.insecure ? [this.clusterToken.insecureNodeCommand] : [this.clusterToken.nodeCommand];\n\n      this.etcd && out.push('--etcd');\n      this.controlPlane && out.push('--controlplane');\n      this.worker && out.push('--worker');\n      this.address && out.push(`--address ${ sanitizeIP(this.address) }`);\n      this.internalAddress && out.push(`--internal-address ${ sanitizeValue(this.internalAddress) }`);\n      this.nodeName && out.push(`--node-name ${ sanitizeValue(this.nodeName) }`);\n\n      for ( const key in this.labels ) {\n        const k = sanitizeKey(key);\n        const v = sanitizeValue(this.labels[k]);\n\n        if ( k && v ) {\n          out.push(`--label ${ k }=${ v }`);\n        }\n      }\n\n      for ( const t of this.taints ) {\n        const k = sanitizeKey(t.key);\n        const v = sanitizeValue(t.value);\n        const e = sanitizeValue(t.effect);\n\n        if ( k && v && e ) {\n          out.push(`--taints ${ k }=${ v }:${ e }`);\n        }\n      }\n\n      return out.join(' ');\n    },\n\n    windowsCommand() {\n      const out = this.insecureWindows ? [this.clusterToken.insecureWindowsNodeCommand] : [this.clusterToken.windowsNodeCommand];\n\n      this.address && out.push(`-Address \"${ sanitizeValue(this.address) }\"`);\n      this.internalAddress && out.push(`-InternalAddress \"${ sanitizeValue(this.internalAddress) }\"`);\n      this.nodeName && out.push(`-NodeName \"${ sanitizeValue(this.nodeName) }\"`);\n\n      for ( const key in this.labels ) {\n        const k = sanitizeKey(key);\n        const v = sanitizeValue(this.labels[k]);\n\n        if ( k && v ) {\n          out.push(`-Label \"${ k }=${ v }\"`);\n        }\n      }\n\n      for ( const t of this.taints ) {\n        const k = sanitizeKey(t.key);\n        const v = sanitizeValue(t.value);\n        const e = sanitizeValue(t.effect);\n\n        if ( k && v && e ) {\n          out.push(`-Taint \"${ k }=${ v }:${ e }\"`);\n        }\n      }\n\n      return out.join(' ');\n    },\n\n    // Clusters need linux nodes with etcd, controlplane, and worker roles before windows nodes can be registration\n    readyForWindows() {\n      if (!this.cluster.mgmt || !this.cluster.mgmt.isReady) {\n        return false;\n      }\n      const nodes = this.cluster.nodes || [];\n\n      const allRoles = nodes.reduce((all, node) => {\n        const { isWorker, isEtcd, isControlPlane } = node;\n\n        if (isWorker && !all.includes('worker')) {\n          all.push('worker');\n        }\n        if (isEtcd && !all.includes('etcd')) {\n          all.push('etcd');\n        }\n        if (isControlPlane && !all.includes('controlPlane')) {\n          all.push('controlPlane');\n        }\n\n        return all;\n      }, []);\n\n      return allRoles.length === 3;\n    }\n\n  },\n\n  methods: {\n    toggleAdvanced() {\n      this.showAdvanced = !this.showAdvanced;\n    },\n\n    copiedWindows() {\n      this.$emit('copied-windows');\n    }\n  },\n};\n\n</script>\n\n<template>\n  <div>\n    <InfoBox\n      :step=\"1\"\n      class=\"step-box\"\n    >\n      <h3 v-t=\"'cluster.custom.nodeRole.label'\" />\n      <h4 v-t=\"'cluster.custom.nodeRole.detail'\" />\n      <Checkbox\n        v-model=\"etcd\"\n        label-key=\"model.machine.role.etcd\"\n      />\n      <Checkbox\n        v-model=\"controlPlane\"\n        label-key=\"model.machine.role.controlPlane\"\n      />\n      <Checkbox\n        v-model=\"worker\"\n        label-key=\"model.machine.role.worker\"\n      />\n      <Banner\n        v-if=\"!etcd || !controlPlane || !worker\"\n        data-testid=\"node-role-warning\"\n        color=\"warning\"\n        :label=\"t('cluster.custom.nodeRole.warning')\"\n      />\n    </InfoBox>\n\n    <InfoBox\n      v-if=\"showAdvanced\"\n      :step=\"2\"\n      class=\"step-box\"\n    >\n      <h3 v-t=\"'cluster.custom.advanced.label'\" />\n      <h4 v-t=\"'cluster.custom.advanced.detail'\" />\n\n      <div class=\"row mb-10\">\n        <div class=\"col span-4\">\n          <LabeledInput\n            v-model=\"nodeName\"\n            label-key=\"cluster.custom.advanced.nodeName\"\n          />\n        </div>\n        <div class=\"col span-4\">\n          <LabeledInput\n            v-model=\"address\"\n            label-key=\"cluster.custom.advanced.publicIp\"\n          />\n        </div>\n        <div class=\"col span-4\">\n          <LabeledInput\n            v-model=\"internalAddress\"\n            label-key=\"cluster.custom.advanced.privateIp\"\n          />\n        </div>\n      </div>\n\n      <KeyValue\n        v-model=\"labels\"\n        class=\"mb-10\"\n        mode=\"edit\"\n        :title=\"t('cluster.custom.advanced.nodeLabel.title')\"\n        :add-label=\"t('cluster.custom.advanced.nodeLabel.label')\"\n        :read-allowed=\"false\"\n      />\n\n      <Taints\n        v-model=\"taints\"\n        class=\"mb-10\"\n        mode=\"edit\"\n        :value=\"taints\"\n      />\n\n      <a\n        v-t=\"'generic.hideAdvanced'\"\n        @click=\"toggleAdvanced\"\n      />\n    </InfoBox>\n\n    <div\n      v-else\n      class=\"mb-20\"\n    >\n      <a\n        v-t=\"'generic.showAdvanced'\"\n        @click=\"toggleAdvanced\"\n      />\n    </div>\n\n    <InfoBox\n      :step=\"showAdvanced ? 3 : 2\"\n      class=\"step-box\"\n    >\n      <h3 v-t=\"'cluster.custom.registrationCommand.label'\" />\n      <h4 v-t=\"'cluster.custom.registrationCommand.linuxDetail'\" />\n      <CopyCode\n        id=\"copiedLinux\"\n        class=\"m-10 p-10\"\n      >\n        {{ linuxCommand }}\n      </CopyCode>\n      <Checkbox\n        v-if=\"clusterToken.insecureNodeCommand\"\n        v-model=\"insecure\"\n        label-key=\"cluster.custom.registrationCommand.insecure\"\n      />\n\n      <template v-if=\"cluster.supportsWindows\">\n        <hr class=\"mt-20 mb-20\">\n        <h4 v-t=\"'cluster.custom.registrationCommand.windowsDetail'\" />\n        <Banner\n          v-if=\"cluster.isRke1\"\n          color=\"warning\"\n          :label=\"t('cluster.custom.registrationCommand.windowsDeprecatedForRKE1')\"\n        />\n        <template v-if=\"readyForWindows\">\n          <CopyCode\n            id=\"copiedWindows\"\n            class=\"m-10 p-10\"\n            @copied=\"copiedWindows\"\n          >\n            {{ windowsCommand }}\n          </CopyCode>\n          <Checkbox\n            v-if=\"clusterToken.insecureWindowsNodeCommand\"\n            v-model=\"insecureWindows\"\n            label-key=\"cluster.custom.registrationCommand.insecure\"\n          />\n          <Banner\n            color=\"info\"\n            :label=\"t('cluster.custom.registrationCommand.windowsWarning')\"\n          />\n        </template>\n        <Banner\n          v-else\n          color=\"info\"\n          :label=\"t('cluster.custom.registrationCommand.windowsNotReady')\"\n        />\n      </template>\n    </InfoBox>\n  </div>\n</template>\n"],"mappings":"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"}]}