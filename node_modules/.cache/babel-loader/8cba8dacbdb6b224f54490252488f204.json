{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/detail/provisioning.cattle.io.cluster.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/detail/provisioning.cattle.io.cluster.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IFJlc291cmNlVGFibGUsIHsgZGVmYXVsdFRhYmxlU29ydEdlbmVyYXRpb25GbiB9IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlVGFibGUnOwppbXBvcnQgUmVzb3VyY2VUYWJzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vUmVzb3VyY2VUYWJzJzsKaW1wb3J0IFNvcnRhYmxlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZSc7CmltcG9ydCBDb3B5Q29kZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Db3B5Q29kZSc7CmltcG9ydCBUYWIgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkL1RhYic7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmltcG9ydCB7IENBUEksIE1BTkFHRU1FTlQsIE5PUk1BTiwgU05BUFNIT1QgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgU1RBVEUsIE5BTUUgYXMgTkFNRV9DT0wsIEFHRSwgQUdFX05PUk1BTiwgSU5URVJOQUxfRVhURVJOQUxfSVAsIFNUQVRFX05PUk1BTiwgUk9MRVMsIE1BQ0hJTkVfTk9ERV9PUywgTUFOQUdFTUVOVF9OT0RFX09TLCBOQU1FIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90YWJsZS1oZWFkZXJzJzsKaW1wb3J0IHsgU1RBVEVTX0VOVU0gfSBmcm9tICdAc2hlbGwvcGx1Z2lucy9kYXNoYm9hcmQtc3RvcmUvcmVzb3VyY2UtY2xhc3MnOwppbXBvcnQgQ3VzdG9tQ29tbWFuZCBmcm9tICdAc2hlbGwvZWRpdC9wcm92aXNpb25pbmcuY2F0dGxlLmlvLmNsdXN0ZXIvQ3VzdG9tQ29tbWFuZCc7CmltcG9ydCBBc3luY0J1dHRvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Bc3luY0J1dHRvbi52dWUnOwppbXBvcnQgQW5zaVVwIGZyb20gJ2Fuc2lfdXAnOwppbXBvcnQgZGF5IGZyb20gJ2RheWpzJzsKaW1wb3J0IHsgYWRkUGFyYW1zIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3VybCc7CmltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gJ0BzaGVsbC91dGlscy9jcnlwdG8nOwppbXBvcnQgeyBEQVRFX0ZPUk1BVCwgVElNRV9GT1JNQVQsIFNDQUxFX1BPT0xfUFJPTVBUIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3ByZWZzJzsKaW1wb3J0IHsgZXNjYXBlSHRtbCB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwppbXBvcnQgTWFjaGluZVN1bW1hcnlHcmFwaCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtYXR0ZXIvTWFjaGluZVN1bW1hcnlHcmFwaCc7CmltcG9ydCBTb2NrZXQsIHsgRVZFTlRfQ09OTkVDVEVELCBFVkVOVF9ESVNDT05ORUNURUQsIEVWRU5UX01FU1NBR0UsCi8vICBFVkVOVF9GUkFNRV9USU1FT1VULApFVkVOVF9DT05ORUNUX0VSUk9SIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvY2tldCc7CmltcG9ydCB7IGdldCB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgQ2FwaU1hY2hpbmVEZXBsb3ltZW50IGZyb20gJ0BzaGVsbC9tb2RlbHMvY2x1c3Rlci54LWs4cy5pby5tYWNoaW5lZGVwbG95bWVudCc7CmltcG9ydCB7IGlzQWx0ZXJuYXRlIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3BsYXRmb3JtJzsKdmFyIGxhc3RJZCA9IDE7CnZhciBhbnNpdXAgPSBuZXcgQW5zaVVwKCk7CgovKioKICogTWFjaGluZSBEZXBsb3ltZW50IGhhcyBhIHJlZmVyZW5jZSB0byB0aGUgJ3RlbXBsYXRlJyB1c2VkIHRvIGNyZWF0ZSB0aGF0IGRlcGxveW1lbnQKICogRm9yIGFuIGVtcHR5IG1hY2hpbmUgcG9vbCwgd2UgKG9idmlvdXNseSkgZG9uJ3QgZ2V0IGFueSBtYWNoaW5lIGRlcGxveW1lbnRzIGZvciB0aGF0IHBvb2wuCiAqCiAqIFRoaXMgY2xhc3MgYWxsb3dzIHVzIHRvIGZha2UgYSBtYWNoaW5lIGRlcGxveW1lbnQgLSB3aGVuIGNyZWF0ZWQsIHdlIHNldCBhZGRpdGlvbmFsIHByb3BlcnRpZXMgKF9jbHVzdGVyIGV0YykKICogYW5kIHVzZSB0aGVzZSBpbiB0aGUgZ2V0dGVycy4KICoqLwp2YXIgRW1wdHlDYXBpTWFjaGluZURlcGxveW1lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9DYXBpTWFjaGluZURlcGxveW1lbikgewogIF9pbmhlcml0cyhFbXB0eUNhcGlNYWNoaW5lRGVwbG95bWVudCwgX0NhcGlNYWNoaW5lRGVwbG95bWVuKTsKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEVtcHR5Q2FwaU1hY2hpbmVEZXBsb3ltZW50KTsKICBmdW5jdGlvbiBFbXB0eUNhcGlNYWNoaW5lRGVwbG95bWVudCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbXB0eUNhcGlNYWNoaW5lRGVwbG95bWVudCk7CiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQogIF9jcmVhdGVDbGFzcyhFbXB0eUNhcGlNYWNoaW5lRGVwbG95bWVudCwgW3sKICAgIGtleTogImluQ2x1c3RlclNwZWMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9jbHVzdGVyU3BlYzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbHVzdGVyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fY2x1c3RlcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0ZW1wbGF0ZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3RlbXBsYXRlOwogICAgfQogIH1dKTsKICByZXR1cm4gRW1wdHlDYXBpTWFjaGluZURlcGxveW1lbnQ7Cn0oQ2FwaU1hY2hpbmVEZXBsb3ltZW50KTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcsCiAgICBCYW5uZXI6IEJhbm5lciwKICAgIFJlc291cmNlVGFibGU6IFJlc291cmNlVGFibGUsCiAgICBSZXNvdXJjZVRhYnM6IFJlc291cmNlVGFicywKICAgIFNvcnRhYmxlVGFibGU6IFNvcnRhYmxlVGFibGUsCiAgICBUYWI6IFRhYiwKICAgIENvcHlDb2RlOiBDb3B5Q29kZSwKICAgIEN1c3RvbUNvbW1hbmQ6IEN1c3RvbUNvbW1hbmQsCiAgICBBc3luY0J1dHRvbjogQXN5bmNCdXR0b24sCiAgICBNYWNoaW5lU3VtbWFyeUdyYXBoOiBNYWNoaW5lU3VtbWFyeUdyYXBoCiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3RoaXNDbHVzdGVyTWFjaGluZXMkOwogICAgICB2YXIgZXh0Q2xhc3MsIGZldGNoT25lLCBmZXRjaE9uZVJlcywgZmV0Y2hUd28sIHRoaXNDbHVzdGVyTWFjaGluZXMsIG1hY2hpbmVEZXBsb3ltZW50VGVtcGxhdGVUeXBlLCBmZXRjaFR3b1JlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy52YWx1ZS53YWl0Rm9yUHJvdmlzaW9uZXIoKTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgZXh0Q2xhc3MgPSBfdGhpcy4kcGx1Z2luLmdldER5bmFtaWMoJ3Byb3Zpc2lvbmVyJywgX3RoaXMudmFsdWUubWFjaGluZVByb3ZpZGVyKTsKICAgICAgICAgICAgaWYgKGV4dENsYXNzKSB7CiAgICAgICAgICAgICAgX3RoaXMuZXh0UHJvdmlkZXIgPSBuZXcgZXh0Q2xhc3MoewogICAgICAgICAgICAgICAgZGlzcGF0Y2g6IF90aGlzLiRzdG9yZS5kaXNwYXRjaCwKICAgICAgICAgICAgICAgIGdldHRlcnM6IF90aGlzLiRzdG9yZS5nZXR0ZXJzLAogICAgICAgICAgICAgICAgYXhpb3M6IF90aGlzLiRzdG9yZS4kYXhpb3MsCiAgICAgICAgICAgICAgICAkcGx1Z2luOiBfdGhpcy4kc3RvcmUuYXBwLiRwbHVnaW4sCiAgICAgICAgICAgICAgICAkdDogX3RoaXMudAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF90aGlzLmV4dERldGFpbFRhYnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF90aGlzLmV4dERldGFpbFRhYnMpLCBfdGhpcy5leHRQcm92aWRlci5kZXRhaWxUYWJzKTsKICAgICAgICAgICAgICBfdGhpcy5leHRDdXN0b21QYXJhbXMgPSB7CiAgICAgICAgICAgICAgICBwcm92aWRlcjogX3RoaXMudmFsdWUubWFjaGluZVByb3ZpZGVyCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmZXRjaE9uZSA9IHt9OwogICAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvY2FuTGlzdCddKENBUEkuTUFDSElORV9ERVBMT1lNRU5UKSkgewogICAgICAgICAgICAgIGZldGNoT25lLm1hY2hpbmVEZXBsb3ltZW50cyA9IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogQ0FQSS5NQUNISU5FX0RFUExPWU1FTlQKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvY2FuTGlzdCddKENBUEkuTUFDSElORSkpIHsKICAgICAgICAgICAgICBmZXRjaE9uZS5tYWNoaW5lcyA9IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogQ0FQSS5NQUNISU5FCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L2Nhbkxpc3QnXShTTkFQU0hPVCkpIHsKICAgICAgICAgICAgICBmZXRjaE9uZS5zbmFwc2hvdHMgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IFNOQVBTSE9UCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKF90aGlzLnZhbHVlLmlzSW1wb3J0ZWQgfHwgX3RoaXMudmFsdWUuaXNDdXN0b20gfHwgX3RoaXMudmFsdWUuaXNIb3N0ZWRLdWJlcm5ldGVzUHJvdmlkZXIpIHsKICAgICAgICAgICAgICBmZXRjaE9uZS5jbHVzdGVyVG9rZW4gPSBfdGhpcy52YWx1ZS5nZXRPckNyZWF0ZVRva2VuKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIE5lZWQgdG8gZ2V0IE5vcm1hbiBjbHVzdGVycyBzbyB0aGF0IHdlIGNhbiBjaGVjayBpZiB1c2VyIGhhcyBwZXJtaXNzaW9ucyB0byBhY2Nlc3MgdGhlIGxvY2FsIGNsdXN0ZXIKICAgICAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5nZXR0ZXJzWydyYW5jaGVyL2Nhbkxpc3QnXShOT1JNQU4uQ0xVU1RFUikpIHsKICAgICAgICAgICAgICBmZXRjaE9uZS5ub3JtYW5DbHVzdGVycyA9IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTk9STUFOLkNMVVNURVIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoX3RoaXMudmFsdWUuaXNSa2UxICYmIF90aGlzLiRzdG9yZS5nZXR0ZXJzWydpc1JhbmNoZXInXSkgewogICAgICAgICAgICAgIGZldGNoT25lLmV0Y2RCYWNrdXBzID0gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdyYW5jaGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBOT1JNQU4uRVRDRF9CQUNLVVAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBmZXRjaE9uZS5ub3JtYW5Ob2RlUG9vbHMgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JhbmNoZXIvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IE5PUk1BTi5OT0RFX1BPT0wKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgIHJldHVybiBhbGxIYXNoKGZldGNoT25lKTsKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGZldGNoT25lUmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX3RoaXMuYWxsTWFjaGluZXMgPSBmZXRjaE9uZVJlcy5tYWNoaW5lcyB8fCBbXTsKICAgICAgICAgICAgX3RoaXMuYWxsTWFjaGluZURlcGxveW1lbnRzID0gZmV0Y2hPbmVSZXMubWFjaGluZURlcGxveW1lbnRzIHx8IFtdOwogICAgICAgICAgICBfdGhpcy5oYXZlTWFjaGluZXMgPSAhIWZldGNoT25lUmVzLm1hY2hpbmVzOwogICAgICAgICAgICBfdGhpcy5oYXZlRGVwbG95bWVudHMgPSAhIWZldGNoT25lUmVzLm1hY2hpbmVEZXBsb3ltZW50czsKICAgICAgICAgICAgX3RoaXMuY2x1c3RlclRva2VuID0gZmV0Y2hPbmVSZXMuY2x1c3RlclRva2VuOwogICAgICAgICAgICBfdGhpcy5ldGNkQmFja3VwcyA9IGZldGNoT25lUmVzLmV0Y2RCYWNrdXBzOwogICAgICAgICAgICBpZiAoZmV0Y2hPbmVSZXMubm9ybWFuQ2x1c3RlcnMpIHsKICAgICAgICAgICAgICAvLyBEb2VzIHRoZSB1c2VyIGhhdmUgYWNjZXNzIHRvIHRoZSBsb2NhbCBjbHVzdGVyPyBOZWVkIHRvIGluIG9yZGVyIHRvIGJlIGFibGUgdG8gc2hvdyB0aGUgJ1JlbGF0ZWQgUmVzb3VyY2VzJyB0YWIKICAgICAgICAgICAgICBfdGhpcy5oYXNMb2NhbEFjY2VzcyA9ICEhZmV0Y2hPbmVSZXMubm9ybWFuQ2x1c3RlcnMuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgICAgICAgICAgcmV0dXJuIGMuaW50ZXJuYWw7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZmV0Y2hUd28gPSB7fTsKICAgICAgICAgICAgdGhpc0NsdXN0ZXJNYWNoaW5lcyA9IF90aGlzLmFsbE1hY2hpbmVEZXBsb3ltZW50cy5maWx0ZXIoZnVuY3Rpb24gKGRlcGxveW1lbnQpIHsKICAgICAgICAgICAgICB2YXIgX2RlcGxveW1lbnQkc3BlYzsKICAgICAgICAgICAgICByZXR1cm4gKGRlcGxveW1lbnQgPT09IG51bGwgfHwgZGVwbG95bWVudCA9PT0gdm9pZCAwIHx8IChfZGVwbG95bWVudCRzcGVjID0gZGVwbG95bWVudC5zcGVjKSA9PT0gbnVsbCB8fCBfZGVwbG95bWVudCRzcGVjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGVwbG95bWVudCRzcGVjLmNsdXN0ZXJOYW1lKSA9PT0gX3RoaXMudmFsdWUubWV0YWRhdGEubmFtZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG1hY2hpbmVEZXBsb3ltZW50VGVtcGxhdGVUeXBlID0gdGhpc0NsdXN0ZXJNYWNoaW5lcyA9PT0gbnVsbCB8fCB0aGlzQ2x1c3Rlck1hY2hpbmVzID09PSB2b2lkIDAgfHwgKF90aGlzQ2x1c3Rlck1hY2hpbmVzJCA9IHRoaXNDbHVzdGVyTWFjaGluZXNbMF0pID09PSBudWxsIHx8IF90aGlzQ2x1c3Rlck1hY2hpbmVzJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXNDbHVzdGVyTWFjaGluZXMkLnRlbXBsYXRlVHlwZTsKICAgICAgICAgICAgaWYgKG1hY2hpbmVEZXBsb3ltZW50VGVtcGxhdGVUeXBlICYmIF90aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L3NjaGVtYUZvciddKG1hY2hpbmVEZXBsb3ltZW50VGVtcGxhdGVUeXBlKSkgewogICAgICAgICAgICAgIGZldGNoVHdvLm1kdHQgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IG1hY2hpbmVEZXBsb3ltZW50VGVtcGxhdGVUeXBlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFfdGhpcy5zaG93TWFjaGluZXMpIHsKICAgICAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvY2FuTGlzdCddKE1BTkFHRU1FTlQuTk9ERSkpIHsKICAgICAgICAgICAgICAgIGZldGNoVHdvLmFsbE5vZGVzID0gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuTk9ERQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChfdGhpcy4kc3RvcmUuZ2V0dGVyc1snbWFuYWdlbWVudC9jYW5MaXN0J10oTUFOQUdFTUVOVC5OT0RFX1BPT0wpKSB7CiAgICAgICAgICAgICAgICBmZXRjaFR3by5hbGxOb2RlUG9vbHMgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5OT0RFX1BPT0wKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvY2FuTGlzdCddKE1BTkFHRU1FTlQuTk9ERV9URU1QTEFURSkpIHsKICAgICAgICAgICAgICAgIGZldGNoVHdvLm5vZGVUZW1wbGF0ZXMgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5OT0RFX1RFTVBMQVRFCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI4OwogICAgICAgICAgICByZXR1cm4gYWxsSGFzaChmZXRjaFR3byk7CiAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICBmZXRjaFR3b1JlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF90aGlzLmFsbE5vZGVzID0gZmV0Y2hUd29SZXMuYWxsTm9kZXMgfHwgW107CiAgICAgICAgICAgIF90aGlzLmhhdmVOb2RlcyA9ICEhZmV0Y2hUd29SZXMuYWxsTm9kZXM7CiAgICAgICAgICAgIF90aGlzLmFsbE5vZGVQb29scyA9IGZldGNoVHdvUmVzLmFsbE5vZGVQb29scyB8fCBbXTsKICAgICAgICAgICAgX3RoaXMuaGF2ZU5vZGVQb29scyA9ICEhZmV0Y2hUd29SZXMuYWxsTm9kZVBvb2xzOwogICAgICAgICAgICBfdGhpcy5tYWNoaW5lVGVtcGxhdGVzID0gZmV0Y2hUd29SZXMubWR0dCB8fCBbXTsKCiAgICAgICAgICAgIC8vIEZldGNoIFJLRSB0ZW1wbGF0ZSByZXZpc2lvbnMgc28gd2UgY2FuIHNob3cgd2hlbiBhbiB1cGRhdGVkIHRlbXBsYXRlIGlzIGF2YWlsYWJsZQogICAgICAgICAgICAvLyBUaGlzIHJlcXVlc3QgZG9lcyBub3QgbmVlZCB0byBiZSBibG9ja2luZwogICAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvY2FuTGlzdCddKE1BTkFHRU1FTlQuUktFX1RFTVBMQVRFKSkgewogICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5SS0VfVEVNUExBVEUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvY2FuTGlzdCddKE1BTkFHRU1FTlQuUktFX1RFTVBMQVRFX1JFVklTSU9OKSkgewogICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5SS0VfVEVNUExBVEVfUkVWSVNJT04KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLnNob3dMb2cpIHsKICAgICAgdGhpcy5jb25uZWN0TG9nKCk7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMubG9nU29ja2V0KSB7CiAgICAgIHRoaXMubG9nU29ja2V0LmRpc2Nvbm5lY3QoKTsKICAgICAgdGhpcy5sb2dTb2NrZXQgPSBudWxsOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbE1hY2hpbmVzOiBbXSwKICAgICAgYWxsTWFjaGluZURlcGxveW1lbnRzOiBbXSwKICAgICAgYWxsTm9kZXM6IFtdLAogICAgICBhbGxOb2RlUG9vbHM6IFtdLAogICAgICBoYXZlTWFjaGluZXM6IGZhbHNlLAogICAgICBoYXZlRGVwbG95bWVudHM6IGZhbHNlLAogICAgICBoYXZlTm9kZXM6IGZhbHNlLAogICAgICBoYXZlTm9kZVBvb2xzOiBmYWxzZSwKICAgICAgaGFzTG9jYWxBY2Nlc3M6IGZhbHNlLAogICAgICBtZ210Tm9kZVNjaGVtYTogdGhpcy4kc3RvcmUuZ2V0dGVyc1sibWFuYWdlbWVudC9zY2hlbWFGb3IiXShNQU5BR0VNRU5ULk5PREUpLAogICAgICBtYWNoaW5lU2NoZW1hOiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyJtYW5hZ2VtZW50L3NjaGVtYUZvciJdKENBUEkuTUFDSElORSksCiAgICAgIGNsdXN0ZXJUb2tlbjogbnVsbCwKICAgICAgZXRjZEJhY2t1cHM6IG51bGwsCiAgICAgIGxvZ09wZW46IGZhbHNlLAogICAgICBsb2dTb2NrZXQ6IG51bGwsCiAgICAgIGxvZ3M6IFtdLAogICAgICBleHRQcm92aWRlcjogbnVsbCwKICAgICAgZXh0Q3VzdG9tUGFyYW1zOiBudWxsLAogICAgICBleHREZXRhaWxUYWJzOiB7CiAgICAgICAgbWFjaGluZXM6IHRydWUsCiAgICAgICAgLy8gaW4gdGhpcyBjb21wb25lbnQKICAgICAgICBsb2dzOiB0cnVlLAogICAgICAgIC8vIGluIHRoaXMgY29tcG9uZW50CiAgICAgICAgcmVnaXN0cmF0aW9uOiB0cnVlLAogICAgICAgIC8vIGluIHRoaXMgY29tcG9uZW50CiAgICAgICAgc25hcHNob3RzOiB0cnVlLAogICAgICAgIC8vIGluIHRoaXMgY29tcG9uZW50CiAgICAgICAgcmVsYXRlZDogdHJ1ZSwKICAgICAgICAvLyBpbiBSZXNvdXJjZVRhYnMKICAgICAgICBldmVudHM6IHRydWUsCiAgICAgICAgLy8gaW4gUmVzb3VyY2VUYWJzCiAgICAgICAgY29uZGl0aW9uczogdHJ1ZSAvLyBpbiBSZXNvdXJjZVRhYnMKICAgICAgfSwKICAgICAgc2hvd1dpbmRvd3NXYXJuaW5nOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBzaG93Tm9kZXM6IGZ1bmN0aW9uIHNob3dOb2RlcyhuZXUpIHsKICAgICAgaWYgKG5ldSkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdyYW5jaGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICB0eXBlOiBOT1JNQU4uTk9ERQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZGVmYXVsdFRhYjogZnVuY3Rpb24gZGVmYXVsdFRhYigpIHsKICAgICAgaWYgKHRoaXMuc2hvd1JlZ2lzdHJhdGlvbikgewogICAgICAgIHZhciBfdGhpcyRtYWNoaW5lcywgX3RoaXMkbm9kZXM7CiAgICAgICAgaWYgKHRoaXMudmFsdWUuaXNSa2UyID8gISgoX3RoaXMkbWFjaGluZXMgPSB0aGlzLm1hY2hpbmVzKSAhPT0gbnVsbCAmJiBfdGhpcyRtYWNoaW5lcyAhPT0gdm9pZCAwICYmIF90aGlzJG1hY2hpbmVzLmxlbmd0aCkgOiAhKChfdGhpcyRub2RlcyA9IHRoaXMubm9kZXMpICE9PSBudWxsICYmIF90aGlzJG5vZGVzICE9PSB2b2lkIDAgJiYgX3RoaXMkbm9kZXMubGVuZ3RoKSkgewogICAgICAgICAgcmV0dXJuICdyZWdpc3RyYXRpb24nOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5zaG93TWFjaGluZXMpIHsKICAgICAgICByZXR1cm4gJ21hY2hpbmUtcG9vbHMnOwogICAgICB9CiAgICAgIGlmICh0aGlzLnNob3dOb2RlcykgewogICAgICAgIHJldHVybiAnbm9kZS1wb29scyc7CiAgICAgIH0KICAgICAgcmV0dXJuICcnOwogICAgfSwKICAgIC8vIFVzZWQgdG8gc2hvdyBzdW1tYXJ5IGdyYXBoIGZvciBlYWNoIG5vZGUgcG9vbCBncm91cCBpbiB0aGUgbWFjaGluZSBwb29sIHRhYmxlCiAgICBwb29sU3VtbWFyeUluZm86IGZ1bmN0aW9uIHBvb2xTdW1tYXJ5SW5mbygpIHsKICAgICAgdmFyIF90aGlzJHZhbHVlOwogICAgICB2YXIgaW5mbyA9IHt9OwogICAgICAoX3RoaXMkdmFsdWUgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSA9PT0gdm9pZCAwIHx8IF90aGlzJHZhbHVlLnBvb2xzLmZvckVhY2goZnVuY3Rpb24gKHApIHsKICAgICAgICB2YXIgZ3JvdXAgPSAiWyIuY29uY2F0KHAudHlwZSwgIjogIikuY29uY2F0KHAuaWQsICJdIik7CiAgICAgICAgaW5mb1tncm91cF0gPSBwOwogICAgICB9KTsKICAgICAgcmV0dXJuIGluZm87CiAgICB9LAogICAgZmFrZU1hY2hpbmVzOiBmdW5jdGlvbiBmYWtlTWFjaGluZXMoKSB7CiAgICAgIHZhciBfdGhpcyR2YWx1ZSRzcGVjJHJrZUMsCiAgICAgICAgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIG1hY2hpbmVOYW1lRm4gPSBmdW5jdGlvbiBtYWNoaW5lTmFtZUZuKGNsdXN0ZXJOYW1lLCBtYWNoaW5lUG9vbE5hbWUpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KGNsdXN0ZXJOYW1lLCAiLSIpLmNvbmNhdChtYWNoaW5lUG9vbE5hbWUpOwogICAgICB9OwoKICAgICAgLy8gV2hlbiB3ZSBzY2FsZSB1cCwgdGhlIHF1YW50aXR5IHdpbGwgY2hhbmdlIHRvIE4rMSAtIHNvIGZyb20gMCB0byAxLCB0aGUgcXVhbnRpdHkgY2hhbmdlcywKICAgICAgLy8gYnV0IGl0IHRha2VzIHRpZW0gZm9yIHRoZSBtYWNoaW5lIHRvIGFwcGVhciwgc28gdGhlIHBvb2wgaXMgZW1wdHksIGJ1dCBpZiB3ZSBqdXN0IGdvIG9mZiBvbiBhIG5vbi16ZXJvIHF1cW50aXR5CiAgICAgIC8vIHRoZW4gdGhlIHBvb2wgd291bGQgYmUgaGlkZGVuIC0gc28gd2UgZmluZCBlbXB0eSBwb29sIGJ5IGNoZWNraW5nIHRoZSBtYWNoaW5lcwogICAgICB2YXIgZW1wdHlQb29scyA9ICgoKF90aGlzJHZhbHVlJHNwZWMkcmtlQyA9IHRoaXMudmFsdWUuc3BlYy5ya2VDb25maWcpID09PSBudWxsIHx8IF90aGlzJHZhbHVlJHNwZWMkcmtlQyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUkc3BlYyRya2VDLm1hY2hpbmVQb29scykgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAobXApIHsKICAgICAgICB2YXIgbWFjaGluZUZ1bGxOYW1lID0gbWFjaGluZU5hbWVGbihfdGhpczIudmFsdWUubmFtZSwgbXAubmFtZSk7CiAgICAgICAgdmFyIG1hY2hpbmVzID0gX3RoaXMyLnZhbHVlLm1hY2hpbmVzLmZpbHRlcihmdW5jdGlvbiAobWFjaGluZSkgewogICAgICAgICAgdmFyIF9tYWNoaW5lJHNwZWMsIF9tYWNoaW5lJHNwZWMyLCBfbWFjaGluZSRtZXRhZGF0YSwgX21hY2hpbmUkbWV0YWRhdGEyOwogICAgICAgICAgdmFyIGlzRWxlbWVudGFsQ2x1c3RlciA9IChfbWFjaGluZSRzcGVjID0gbWFjaGluZS5zcGVjKSA9PT0gbnVsbCB8fCBfbWFjaGluZSRzcGVjID09PSB2b2lkIDAgfHwgKF9tYWNoaW5lJHNwZWMgPSBfbWFjaGluZSRzcGVjLmluZnJhc3RydWN0dXJlUmVmKSA9PT0gbnVsbCB8fCBfbWFjaGluZSRzcGVjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWFjaGluZSRzcGVjLmFwaVZlcnNpb24uc3RhcnRzV2l0aCgnZWxlbWVudGFsLmNhdHRsZS5pbycpOwogICAgICAgICAgdmFyIG1hY2hpbmVQb29sSW5mTmFtZSA9IChfbWFjaGluZSRzcGVjMiA9IG1hY2hpbmUuc3BlYykgPT09IG51bGwgfHwgX21hY2hpbmUkc3BlYzIgPT09IHZvaWQgMCB8fCAoX21hY2hpbmUkc3BlYzIgPSBfbWFjaGluZSRzcGVjMi5pbmZyYXN0cnVjdHVyZVJlZikgPT09IG51bGwgfHwgX21hY2hpbmUkc3BlYzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tYWNoaW5lJHNwZWMyLm5hbWU7CiAgICAgICAgICBpZiAoaXNFbGVtZW50YWxDbHVzdGVyKSB7CiAgICAgICAgICAgIHJldHVybiBtYWNoaW5lUG9vbEluZk5hbWUuaW5jbHVkZXMobWFjaGluZUZ1bGxOYW1lKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBpZiBsYWJlbHMgZXhpc3QsIHRoZW4gdGhlIG1hY2hpbmVGdWxsTmFtZSBtdXN0IHVuZXF1aXZvY2FsbHkgYmUgZXF1YWwgdG8gbWFuY2hpbmVMYWJlbEZ1bGxOYW1lIChiYXNlZCBvbiBsYWJlbHMpCiAgICAgICAgICB2YXIgbWFjaGluZUxhYmVsQ2x1c3Rlck5hbWUgPSAoX21hY2hpbmUkbWV0YWRhdGEgPSBtYWNoaW5lLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfbWFjaGluZSRtZXRhZGF0YSA9PT0gdm9pZCAwIHx8IChfbWFjaGluZSRtZXRhZGF0YSA9IF9tYWNoaW5lJG1ldGFkYXRhLmxhYmVscykgPT09IG51bGwgfHwgX21hY2hpbmUkbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tYWNoaW5lJG1ldGFkYXRhWydjbHVzdGVyLngtazhzLmlvL2NsdXN0ZXItbmFtZSddOwogICAgICAgICAgdmFyIG1hY2hpbmVMYWJlbFBvb2xOYW1lID0gKF9tYWNoaW5lJG1ldGFkYXRhMiA9IG1hY2hpbmUubWV0YWRhdGEpID09PSBudWxsIHx8IF9tYWNoaW5lJG1ldGFkYXRhMiA9PT0gdm9pZCAwIHx8IChfbWFjaGluZSRtZXRhZGF0YTIgPSBfbWFjaGluZSRtZXRhZGF0YTIubGFiZWxzKSA9PT0gbnVsbCB8fCBfbWFjaGluZSRtZXRhZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tYWNoaW5lJG1ldGFkYXRhMlsncmtlLmNhdHRsZS5pby9ya2UtbWFjaGluZS1wb29sLW5hbWUnXTsKICAgICAgICAgIGlmIChtYWNoaW5lTGFiZWxDbHVzdGVyTmFtZSAmJiBtYWNoaW5lTGFiZWxQb29sTmFtZSkgewogICAgICAgICAgICB2YXIgbWFuY2hpbmVMYWJlbEZ1bGxOYW1lID0gbWFjaGluZU5hbWVGbihtYWNoaW5lTGFiZWxDbHVzdGVyTmFtZSwgbWFjaGluZUxhYmVsUG9vbE5hbWUpOwogICAgICAgICAgICByZXR1cm4gbWFjaGluZUZ1bGxOYW1lID09PSBtYW5jaGluZUxhYmVsRnVsbE5hbWU7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gbWFjaGluZVBvb2xJbmZOYW1lLnN0YXJ0c1dpdGgobWFjaGluZUZ1bGxOYW1lKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbWFjaGluZXMubGVuZ3RoID09PSAwOwogICAgICB9KTsKCiAgICAgIC8vIFdoZW4gYSBkZXBsb3ltZW50IGhhcyBubyBtYWNoaW5lcyBpdCdzIG5vdCBzaG93bi4uLi4gc28gYWRkIGEgZmFrZSBtYWNoaW5lIHRvIGl0CiAgICAgIC8vIFRoaXMgaXMgYSBjYXRjaCBhbGwgc2NlbmFyaW8gc2VlbiBpbiBvbGRlciBub2RlIHBvb2wgd29ybGQgYnV0IG5vdCBkZXBsb3ltZW50cwogICAgICByZXR1cm4gZW1wdHlQb29scy5tYXAoZnVuY3Rpb24gKG1wLCBpKSB7CiAgICAgICAgdmFyIHBvb2wgPSBuZXcgRW1wdHlDYXBpTWFjaGluZURlcGxveW1lbnQoewogICAgICAgICAgaWQ6IGksCiAgICAgICAgICBtZXRhZGF0YTogewogICAgICAgICAgICBuYW1lOiAiIi5jb25jYXQoX3RoaXMyLnZhbHVlLm5hbWVEaXNwbGF5LCAiLSIpLmNvbmNhdChtcC5uYW1lKSwKICAgICAgICAgICAgbmFtZXNwYWNlOiBfdGhpczIudmFsdWUubmFtZXNwYWNlCiAgICAgICAgICB9LAogICAgICAgICAgc3BlYzoge30KICAgICAgICB9LCB7CiAgICAgICAgICBnZXR0ZXJzOiBfdGhpczIuJHN0b3JlLmdldHRlcnMsCiAgICAgICAgICByb290R2V0dGVyczogX3RoaXMyLiRyb290LiRzdG9yZS5nZXR0ZXJzCiAgICAgICAgfSk7CiAgICAgICAgdmFyIHRlbXBsYXRlTmFtZVByZWZpeCA9ICIiLmNvbmNhdChwb29sLm1ldGFkYXRhLm5hbWUsICItIik7CgogICAgICAgIC8vIEFsbCBvZiB0aGVzZSBwcm9wZXJ0aWVzIGFyZSBuZWVkZWQgdG8gZW5zdXJlIHRoZSBwb29sIGRpc3BsYXlzIGNvcnJlY3RseSBhbmQgdGhhdCB3ZSBjYW4gc2NhbGUgdXAgYW5kIGRvd24KICAgICAgICBwb29sLl90ZW1wbGF0ZSA9IF90aGlzMi5tYWNoaW5lVGVtcGxhdGVzLmZpbmQoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB0Lm1ldGFkYXRhLm5hbWUuc3RhcnRzV2l0aCh0ZW1wbGF0ZU5hbWVQcmVmaXgpOwogICAgICAgIH0pOwogICAgICAgIHBvb2wuX2NsdXN0ZXIgPSBfdGhpczIudmFsdWU7CiAgICAgICAgcG9vbC5fY2x1c3RlclNwZWMgPSBtcDsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcG9vbElkOiBwb29sLmlkLAogICAgICAgICAgbWFpblJvd0tleTogJ2lzRmFrZScsCiAgICAgICAgICBwb29sOiBwb29sLAogICAgICAgICAgYXZhaWxhYmxlQWN0aW9uczogW10KICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBtYWNoaW5lczogZnVuY3Rpb24gbWFjaGluZXMoKSB7CiAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMudmFsdWUubWFjaGluZXMpLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5mYWtlTWFjaGluZXMpKTsKICAgIH0sCiAgICBub2RlczogZnVuY3Rpb24gbm9kZXMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgbm9kZXMgPSB0aGlzLmFsbE5vZGVzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4Lm1nbXRDbHVzdGVySWQgPT09IF90aGlzMy52YWx1ZS5tZ210Q2x1c3RlcklkOwogICAgICB9KTsKICAgICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobm9kZXMpLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5mYWtlTm9kZXMpKTsKICAgIH0sCiAgICBmYWtlTm9kZXM6IGZ1bmN0aW9uIGZha2VOb2RlcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIC8vIFdoZW4gYSBwb29sIGhhcyBubyBub2RlcyBpdCdzIG5vdCBzaG93bi4uLi4gc28gYWRkIGEgZmFrZSBub2RlIHRvIGl0CiAgICAgIHZhciBlbXB0eU5vZGVQb29scyA9IHRoaXMuYWxsTm9kZVBvb2xzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4LnNwZWMuY2x1c3Rlck5hbWUgPT09IF90aGlzNC52YWx1ZS5tZ210Q2x1c3RlcklkICYmIHguc3BlYy5xdWFudGl0eSA9PT0gMDsKICAgICAgfSk7CiAgICAgIHJldHVybiBlbXB0eU5vZGVQb29scy5tYXAoZnVuY3Rpb24gKG5wKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHNwZWM6IHsKICAgICAgICAgICAgbm9kZVBvb2xOYW1lOiBucC5pZC5yZXBsYWNlKCcvJywgJzonKQogICAgICAgICAgfSwKICAgICAgICAgIG1haW5Sb3dLZXk6ICdpc0Zha2UnLAogICAgICAgICAgcG9vbDogbnAsCiAgICAgICAgICBhdmFpbGFibGVBY3Rpb25zOiBbXQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dNYWNoaW5lczogZnVuY3Rpb24gc2hvd01hY2hpbmVzKCkgewogICAgICB2YXIgc2hvd01hY2hpbmVzID0gdGhpcy5oYXZlTWFjaGluZXMgJiYgKHRoaXMudmFsdWUuaXNSa2UyIHx8ICEhdGhpcy5tYWNoaW5lcy5sZW5ndGgpOwogICAgICByZXR1cm4gc2hvd01hY2hpbmVzICYmIHRoaXMuZXh0RGV0YWlsVGFicy5tYWNoaW5lczsKICAgIH0sCiAgICBzaG93Tm9kZXM6IGZ1bmN0aW9uIHNob3dOb2RlcygpIHsKICAgICAgcmV0dXJuICF0aGlzLnNob3dNYWNoaW5lcyAmJiB0aGlzLmhhdmVOb2RlcyAmJiAhIXRoaXMubm9kZXMubGVuZ3RoOwogICAgfSwKICAgIHNob3dTbmFwc2hvdHM6IGZ1bmN0aW9uIHNob3dTbmFwc2hvdHMoKSB7CiAgICAgIGlmICh0aGlzLnZhbHVlLmlzUmtlMSkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydyYW5jaGVyL2Nhbkxpc3QnXShOT1JNQU4uRVRDRF9CQUNLVVApICYmIHRoaXMuZXh0RGV0YWlsVGFicy5zbmFwc2hvdHM7CiAgICAgIH0gZWxzZSBpZiAodGhpcy52YWx1ZS5pc1JrZTIpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snbWFuYWdlbWVudC9jYW5MaXN0J10oU05BUFNIT1QpICYmIHRoaXMuZXh0RGV0YWlsVGFicy5zbmFwc2hvdHM7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIHNob3dFa3NOb2RlR3JvdXBXYXJuaW5nOiBmdW5jdGlvbiBzaG93RWtzTm9kZUdyb3VwV2FybmluZygpIHsKICAgICAgaWYgKHRoaXMudmFsdWUucHJvdmlzaW9uZXIgPT09ICdFS1MnICYmIHRoaXMudmFsdWUuc3RhdGUgIT09IFNUQVRFU19FTlVNLkFDVElWRSkgewogICAgICAgIHZhciBkZXNpcmVkVG90YWwgPSB0aGlzLnZhbHVlLmVrc05vZGVHcm91cHMuZmlsdGVyKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICByZXR1cm4gZy5kZXNpcmVkU2l6ZSA9PT0gMDsKICAgICAgICB9KTsKICAgICAgICBpZiAoZGVzaXJlZFRvdGFsLmxlbmd0aCA9PT0gdGhpcy52YWx1ZS5la3NOb2RlR3JvdXBzLmxlbmd0aCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBtYWNoaW5lSGVhZGVyczogZnVuY3Rpb24gbWFjaGluZUhlYWRlcnMoKSB7CiAgICAgIHJldHVybiBbU1RBVEUsIE5BTUVfQ09MLCB7CiAgICAgICAgbmFtZTogJ25vZGUtbmFtZScsCiAgICAgICAgbGFiZWxLZXk6ICd0YWJsZUhlYWRlcnMubWFjaGluZU5vZGVOYW1lJywKICAgICAgICBzb3J0OiAnc3RhdHVzLm5vZGVSZWYubmFtZScsCiAgICAgICAgdmFsdWU6ICdzdGF0dXMubm9kZVJlZi5uYW1lJywKICAgICAgICBmb3JtYXR0ZXI6ICdMaW5rRGV0YWlsJywKICAgICAgICBmb3JtYXR0ZXJPcHRzOiB7CiAgICAgICAgICByZWZlcmVuY2U6ICdrdWJlTm9kZURldGFpbExvY2F0aW9uJwogICAgICAgIH0sCiAgICAgICAgZGFzaElmRW1wdHk6IHRydWUKICAgICAgfSwgSU5URVJOQUxfRVhURVJOQUxfSVAsIE1BQ0hJTkVfTk9ERV9PUywgUk9MRVMsIEFHRV07CiAgICB9LAogICAgbWdtdE5vZGVTY2hlbWFIZWFkZXJzOiBmdW5jdGlvbiBtZ210Tm9kZVNjaGVtYUhlYWRlcnMoKSB7CiAgICAgIHJldHVybiBbU1RBVEUsIE5BTUVfQ09MLCB7CiAgICAgICAgbmFtZTogJ25vZGUtbmFtZScsCiAgICAgICAgbGFiZWxLZXk6ICd0YWJsZUhlYWRlcnMubWFjaGluZU5vZGVOYW1lJywKICAgICAgICBzb3J0OiAna3ViZU5vZGVOYW1lJywKICAgICAgICB2YWx1ZTogJ2t1YmVOb2RlTmFtZScsCiAgICAgICAgZm9ybWF0dGVyOiAnTGlua0RldGFpbCcsCiAgICAgICAgZm9ybWF0dGVyT3B0czogewogICAgICAgICAgcmVmZXJlbmNlOiAna3ViZU5vZGVEZXRhaWxMb2NhdGlvbicKICAgICAgICB9LAogICAgICAgIGRhc2hJZkVtcHR5OiB0cnVlCiAgICAgIH0sIElOVEVSTkFMX0VYVEVSTkFMX0lQLCBNQU5BR0VNRU5UX05PREVfT1MsIFJPTEVTLCBBR0VdOwogICAgfSwKICAgIHJrZTFTbmFwc2hvdHM6IGZ1bmN0aW9uIHJrZTFTbmFwc2hvdHMoKSB7CiAgICAgIHZhciBfdGhpcyR2YWx1ZSRtZ210OwogICAgICB2YXIgbWdtdElkID0gKF90aGlzJHZhbHVlJG1nbXQgPSB0aGlzLnZhbHVlLm1nbXQpID09PSBudWxsIHx8IF90aGlzJHZhbHVlJG1nbXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHZhbHVlJG1nbXQuaWQ7CiAgICAgIGlmICghbWdtdElkKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICAgIHJldHVybiAodGhpcy5ldGNkQmFja3VwcyB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHguY2x1c3RlcklkID09PSBtZ210SWQ7CiAgICAgIH0pOwogICAgfSwKICAgIHJrZTJTbmFwc2hvdHM6IGZ1bmN0aW9uIHJrZTJTbmFwc2hvdHMoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLmV0Y2RTbmFwc2hvdHM7CiAgICB9LAogICAgcmtlMVNuYXBzaG90SGVhZGVyczogZnVuY3Rpb24gcmtlMVNuYXBzaG90SGVhZGVycygpIHsKICAgICAgcmV0dXJuIFtTVEFURV9OT1JNQU4sIHsKICAgICAgICBuYW1lOiAnbmFtZScsCiAgICAgICAgbGFiZWxLZXk6ICd0YWJsZUhlYWRlcnMubmFtZScsCiAgICAgICAgdmFsdWU6ICduYW1lRGlzcGxheScsCiAgICAgICAgc29ydDogWyduYW1lU29ydCddLAogICAgICAgIGNhbkJlVmFyaWFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIG5hbWU6ICd2ZXJzaW9uJywKICAgICAgICBsYWJlbEtleTogJ3RhYmxlSGVhZGVycy52ZXJzaW9uJywKICAgICAgICB2YWx1ZTogJ3N0YXR1cy5rdWJlcm5ldGVzVmVyc2lvbicsCiAgICAgICAgc29ydDogJ3N0YXR1cy5rdWJlcm5ldGVzVmVyc2lvbicsCiAgICAgICAgd2lkdGg6IDE1MAogICAgICB9LCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIEFHRV9OT1JNQU4pLCB7fSwgewogICAgICAgIGNhbkJlVmFyaWFibGU6IHRydWUKICAgICAgfSksIHsKICAgICAgICBuYW1lOiAnbWFudWFsJywKICAgICAgICBsYWJlbEtleTogJ3RhYmxlSGVhZGVycy5tYW51YWwnLAogICAgICAgIHZhbHVlOiAnbWFudWFsJywKICAgICAgICBmb3JtYXR0ZXI6ICdDaGVja2VkJywKICAgICAgICBzb3J0OiBbJ21hbnVhbCddLAogICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICB3aWR0aDogNTAKICAgICAgfV07CiAgICB9LAogICAgcmtlMlNuYXBzaG90SGVhZGVyczogZnVuY3Rpb24gcmtlMlNuYXBzaG90SGVhZGVycygpIHsKICAgICAgcmV0dXJuIFtfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIFNUQVRFX05PUk1BTiksIHt9LCB7CiAgICAgICAgdmFsdWU6ICdzbmFwc2hvdEZpbGUuc3RhdHVzJywKICAgICAgICBmb3JtYXR0ZXJPcHRzOiB7CiAgICAgICAgICBhcmJpdHJhcnk6IHRydWUKICAgICAgICB9CiAgICAgIH0pLCBOQU1FLCB7CiAgICAgICAgbmFtZTogJ3NpemUnLAogICAgICAgIGxhYmVsS2V5OiAndGFibGVIZWFkZXJzLnNpemUnLAogICAgICAgIHZhbHVlOiAnc25hcHNob3RGaWxlLnNpemUnLAogICAgICAgIHNvcnQ6ICdzbmFwc2hvdEZpbGUuc2l6ZScsCiAgICAgICAgZm9ybWF0dGVyOiAnU2knLAogICAgICAgIHdpZHRoOiAxNTAKICAgICAgfSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBBR0UpLCB7fSwgewogICAgICAgIHNvcnQ6ICdzbmFwc2hvdEZpbGUuY3JlYXRlZEF0OmRlc2MnLAogICAgICAgIGNhbkJlVmFyaWFibGU6IHRydWUKICAgICAgfSldOwogICAgfSwKICAgIHNob3dSZWdpc3RyYXRpb246IGZ1bmN0aW9uIHNob3dSZWdpc3RyYXRpb24oKSB7CiAgICAgIGlmICghdGhpcy5jbHVzdGVyVG9rZW4pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKHRoaXMudmFsdWUuaXNJbXBvcnRlZCkgewogICAgICAgIHZhciBfdGhpcyR2YWx1ZSRtZ210MjsKICAgICAgICByZXR1cm4gISgoX3RoaXMkdmFsdWUkbWdtdDIgPSB0aGlzLnZhbHVlLm1nbXQpICE9PSBudWxsICYmIF90aGlzJHZhbHVlJG1nbXQyICE9PSB2b2lkIDAgJiYgX3RoaXMkdmFsdWUkbWdtdDIuaXNSZWFkeSkgJiYgdGhpcy5leHREZXRhaWxUYWJzLnJlZ2lzdHJhdGlvbjsKICAgICAgfQogICAgICBpZiAodGhpcy52YWx1ZS5pc0N1c3RvbSkgewogICAgICAgIHJldHVybiB0aGlzLmV4dERldGFpbFRhYnMucmVnaXN0cmF0aW9uOwogICAgICB9CiAgICAgIGlmICh0aGlzLnZhbHVlLmlzSG9zdGVkS3ViZXJuZXRlc1Byb3ZpZGVyICYmICF0aGlzLmlzQ2x1c3RlclJlYWR5KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZXh0RGV0YWlsVGFicy5yZWdpc3RyYXRpb247CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGlzQ2x1c3RlclJlYWR5OiBmdW5jdGlvbiBpc0NsdXN0ZXJSZWFkeSgpIHsKICAgICAgdmFyIF90aGlzJHZhbHVlJG1nbXQzOwogICAgICByZXR1cm4gKF90aGlzJHZhbHVlJG1nbXQzID0gdGhpcy52YWx1ZS5tZ210KSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSRtZ210MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUkbWdtdDMuaXNSZWFkeTsKICAgIH0sCiAgICBzaG93TG9nOiBmdW5jdGlvbiBzaG93TG9nKCkgewogICAgICB2YXIgX3RoaXMkdmFsdWUkbWdtdDQ7CiAgICAgIHZhciBzaG93TG9nID0gKF90aGlzJHZhbHVlJG1nbXQ0ID0gdGhpcy52YWx1ZS5tZ210KSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSRtZ210NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUkbWdtdDQuaGFzTGluaygnbG9nJyk7CiAgICAgIHJldHVybiBzaG93TG9nICYmIHRoaXMuZXh0RGV0YWlsVGFicy5sb2dzOwogICAgfSwKICAgIGRhdGVUaW1lRm9ybWF0U3RyOiBmdW5jdGlvbiBkYXRlVGltZUZvcm1hdFN0cigpIHsKICAgICAgdmFyIGRhdGVGb3JtYXQgPSBlc2NhcGVIdG1sKHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ByZWZzL2dldCddKERBVEVfRk9STUFUKSk7CiAgICAgIHJldHVybiAiIi5jb25jYXQoZGF0ZUZvcm1hdCwgIiAiKS5jb25jYXQodGhpcy50aW1lRm9ybWF0U3RyKTsKICAgIH0sCiAgICB0aW1lRm9ybWF0U3RyOiBmdW5jdGlvbiB0aW1lRm9ybWF0U3RyKCkgewogICAgICByZXR1cm4gZXNjYXBlSHRtbCh0aGlzLiRzdG9yZS5nZXR0ZXJzWydwcmVmcy9nZXQnXShUSU1FX0ZPUk1BVCkpOwogICAgfSwKICAgIGhhc1dpbmRvd3NNYWNoaW5lOiBmdW5jdGlvbiBoYXNXaW5kb3dzTWFjaGluZSgpIHsKICAgICAgcmV0dXJuIHRoaXMubWFjaGluZXMuc29tZShmdW5jdGlvbiAobWFjaGluZSkgewogICAgICAgIHJldHVybiBnZXQobWFjaGluZSwgJ3N0YXR1cy5ub2RlSW5mby5vcGVyYXRpbmdTeXN0ZW0nKSA9PT0gJ3dpbmRvd3MnOwogICAgICB9KTsKICAgIH0sCiAgICBzbmFwc2hvdHNHcm91cEJ5OiBmdW5jdGlvbiBzbmFwc2hvdHNHcm91cEJ5KCkgewogICAgICByZXR1cm4gJ2JhY2t1cExvY2F0aW9uJzsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB3aW5kb3cuYyA9IHRoaXM7CiAgfSwKICBtZXRob2RzOiB7CiAgICB0b2dnbGVTY2FsZURvd25Nb2RhbDogZnVuY3Rpb24gdG9nZ2xlU2NhbGVEb3duTW9kYWwoZXZlbnQsIHJlc291cmNlcykgewogICAgICAvLyBDaGVjayBpZiB0aGUgdXNlciBoZWxkIGFsdCBrZXkgd2hlbiBhbiBhY3Rpb24gaXMgY2xpY2tlZC4KICAgICAgdmFyIGFsdCA9IGlzQWx0ZXJuYXRlKGV2ZW50KTsKICAgICAgdmFyIHNob3dTY2FsZVBvb2xQcm9tcHQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydwcmVmcy9nZXQnXShTQ0FMRV9QT09MX1BST01QVCk7CgogICAgICAvLyBQcm9tcHQgaWYgc2hvd1NjYWxlUG9vbFByb21wdCBwcmVmIG5vdCBzdG9yZSBhbmQgdXNlciBkaWQgbm90IGhlbGQgYWx0IGtleQogICAgICBpZiAoIWFsdCAmJiAhc2hvd1NjYWxlUG9vbFByb21wdCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L3Byb21wdE1vZGFsJywgewogICAgICAgICAgY29tcG9uZW50OiAnU2NhbGVQb29sRG93bkRpYWxvZycsCiAgICAgICAgICByZXNvdXJjZXM6IHJlc291cmNlcywKICAgICAgICAgIG1vZGFsV2lkdGg6ICc0NTBweCcKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBVc2VyIGhlbGQgYWx0IGtleSwgc28gZG9uJ3QgcHJvbXB0CiAgICAgICAgcmVzb3VyY2VzLnNjYWxlUG9vbCgtMSk7CiAgICAgIH0KICAgIH0sCiAgICB0YWtlU25hcHNob3Q6IGZ1bmN0aW9uIHRha2VTbmFwc2hvdChidG5DYikgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS52YWx1ZS50YWtlU25hcHNob3QoKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIC8vIEdpdmUgdGhlIGNoYW5nZSBldmVudCBzb21lIHRpbWUgdG8gc2hvdyB1cAogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgYnRuQ2IodHJ1ZSk7CiAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgX3RoaXM1LiRzdG9yZS5kaXNwYXRjaCgnZ3Jvd2wvZnJvbUVycm9yJywgewogICAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvciBjcmVhdGluZyBzbmFwc2hvdCcsCiAgICAgICAgICAgICAgICBlcnI6IF9jb250ZXh0Mi50MAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJ0bkNiKGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaG93UG9vbEFjdGlvbjogZnVuY3Rpb24gc2hvd1Bvb2xBY3Rpb24oZXZlbnQsIHBvb2wpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJhY3Rpb24tbWVudS9zaG93IiwgewogICAgICAgIHJlc291cmNlczogW3Bvb2xdLAogICAgICAgIGVsZW06IGV2ZW50LnRhcmdldAogICAgICB9KTsKICAgIH0sCiAgICBzaG93UG9vbEFjdGlvbkJ1dHRvbjogZnVuY3Rpb24gc2hvd1Bvb2xBY3Rpb25CdXR0b24ocG9vbCkgewogICAgICB2YXIgX3Bvb2wkYXZhaWxhYmxlQWN0aW9uOwogICAgICByZXR1cm4gISEoKF9wb29sJGF2YWlsYWJsZUFjdGlvbiA9IHBvb2wuYXZhaWxhYmxlQWN0aW9ucykgIT09IG51bGwgJiYgX3Bvb2wkYXZhaWxhYmxlQWN0aW9uICE9PSB2b2lkIDAgJiYgX3Bvb2wkYXZhaWxhYmxlQWN0aW9uLmxlbmd0aCk7CiAgICB9LAogICAgY29ubmVjdExvZzogZnVuY3Rpb24gY29ubmVjdExvZygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfdGhpczYkdmFsdWUkbWdtdDsKICAgICAgICB2YXIgcGFyYW1zLCB1cmw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghX3RoaXM2LmxvZ1NvY2tldCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmxvZ1NvY2tldC5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfdGhpczYubG9nU29ja2V0ID0gbnVsbDsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGZvbGxvdzogdHJ1ZSwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcHM6IHRydWUsCiAgICAgICAgICAgICAgICBwcmV0dHk6IHRydWUKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHVybCA9IChfdGhpczYkdmFsdWUkbWdtdCA9IF90aGlzNi52YWx1ZS5tZ210KSA9PT0gbnVsbCB8fCBfdGhpczYkdmFsdWUkbWdtdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXM2JHZhbHVlJG1nbXQubGlua0ZvcignbG9nJyk7CiAgICAgICAgICAgICAgdXJsID0gYWRkUGFyYW1zKHVybC5yZXBsYWNlKC9eaHR0cC8sICd3cycpLCBwYXJhbXMpOwogICAgICAgICAgICAgIF90aGlzNi5sb2dTb2NrZXQgPSBuZXcgU29ja2V0KHVybCwgdHJ1ZSwgMCk7CiAgICAgICAgICAgICAgX3RoaXM2LmxvZ1NvY2tldC5hZGRFdmVudExpc3RlbmVyKEVWRU5UX0NPTk5FQ1RFRCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIF90aGlzNi5sb2dzID0gW107CiAgICAgICAgICAgICAgICBfdGhpczYubG9nT3BlbiA9IHRydWU7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX3RoaXM2LmxvZ1NvY2tldC5hZGRFdmVudExpc3RlbmVyKEVWRU5UX0RJU0NPTk5FQ1RFRCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIF90aGlzNi5sb2dPcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX3RoaXM2LmxvZ1NvY2tldC5hZGRFdmVudExpc3RlbmVyKEVWRU5UX0NPTk5FQ1RfRVJST1IsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBfdGhpczYubG9nT3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ29ubmVjdCBFcnJvcicsIGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfdGhpczYubG9nU29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfTUVTU0FHRSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHZhciBsaW5lID0gYmFzZTY0RGVjb2RlKGUuZGV0YWlsLmRhdGEpOwogICAgICAgICAgICAgICAgdmFyIG1zZyA9IGxpbmU7CiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IG51bGw7CiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gbGluZS5pbmRleE9mKCcgJyk7CiAgICAgICAgICAgICAgICBpZiAoaWR4ID4gMCkgewogICAgICAgICAgICAgICAgICB2YXIgdGltZVN0ciA9IGxpbmUuc3Vic3RyKDAsIGlkeCk7CiAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGltZVN0cik7CiAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oZGF0ZS5nZXRTZWNvbmRzKCkpKSB7CiAgICAgICAgICAgICAgICAgICAgdGltZSA9IGRhdGUudG9JU09TdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICBtc2cgPSBsaW5lLnN1YnN0cihpZHggKyAxKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX3RoaXM2LmxvZ3MucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBsYXN0SWQrKywKICAgICAgICAgICAgICAgICAgbXNnOiBhbnNpdXAuYW5zaV90b19odG1sKG1zZyksCiAgICAgICAgICAgICAgICAgIHJhd01zZzogbXNnLAogICAgICAgICAgICAgICAgICB0aW1lOiB0aW1lCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfdGhpczYubG9nU29ja2V0LmNvbm5lY3QoKTsKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHRpbWUpIHsKICAgICAgaWYgKCF0aW1lKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICAgIHZhciB2YWwgPSBkYXkodGltZSk7CiAgICAgIHZhciB0b2RheSA9IGRheSgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwogICAgICBpZiAodmFsLmZvcm1hdCgnWVlZWS1NTS1ERCcpID09PSB0b2RheSkgewogICAgICAgIHJldHVybiBkYXkodGltZSkuZm9ybWF0KHRoaXMudGltZUZvcm1hdFN0cik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGRheSh0aW1lKS5mb3JtYXQodGhpcy5kYXRlVGltZUZvcm1hdFN0cik7CiAgICAgIH0KICAgIH0sCiAgICBtYWNoaW5lU29ydEdlbmVyYXRpb25GbjogZnVuY3Rpb24gbWFjaGluZVNvcnRHZW5lcmF0aW9uRm4oKSB7CiAgICAgIC8vIFRoZSBzb3J0IGdlbmVyYXRpb24gZnVuY3Rpb24gY3JlYXRlcyBhIHVuaXF1ZSB2YWx1ZSBhbmQgaXMgdXNlZCB0byBjcmVhdGUgYSBrZXkgaW5jbHVkaW5nIHNvcnQgZGV0YWlscy4KICAgICAgLy8gVGhlIHVuaXF1ZSBrZXkgZGV0ZXJtaW5lcyBpZiB0aGUgbGlzdCBpcyByZWRyYXduIG9yIGEgY2FjaGVkIHZlcnNpb24gaXMgc2hvd24uCiAgICAgIC8vIEJlY2F1c2Ugd2UgZW5zdXJlIHRoZSAnbm90IGluIGEgcG9vbCcgZ3JvdXAgaXMgdGhlcmUgdmlhIGEgcm93LCBhbmQgdGltaW5nIGlzc3VlcywgdGhlIHVucWl1ZSBrZXkgZG9lc24ndCBjaGFuZ2UKICAgICAgLy8gYWZ0ZXIgYSBtYWNoaW5lIGlzIGFkZGVkL3JlbW92ZWQuLi4gc28gdGhlIGxpc3Qgd29uJ3QgdXBkYXRlLi4uIHNvIHdlIG5lZWQgdG8gaW5qZWN0IGEgc3RyaW5nIHRvIGVuc3VyZSB0aGUga2V5IGlzIGZyZXNoCiAgICAgIHZhciBiYXNlID0gZGVmYXVsdFRhYmxlU29ydEdlbmVyYXRpb25Gbih0aGlzLm1hY2hpbmVTY2hlbWEsIHRoaXMuJHN0b3JlKTsKICAgICAgcmV0dXJuIGJhc2UgKyAoISF0aGlzLmZha2VNYWNoaW5lcy5sZW5ndGggPyAnLWZha2UnIDogJycpOwogICAgfSwKICAgIG5vZGVTb3J0R2VuZXJhdGlvbkZuOiBmdW5jdGlvbiBub2RlU29ydEdlbmVyYXRpb25GbigpIHsKICAgICAgLy8gVGhlIHNvcnQgZ2VuZXJhdGlvbiBmdW5jdGlvbiBjcmVhdGVzIGEgdW5pcXVlIHZhbHVlIGFuZCBpcyB1c2VkIHRvIGNyZWF0ZSBhIGtleSBpbmNsdWRpbmcgc29ydCBkZXRhaWxzLgogICAgICAvLyBUaGUgdW5pcXVlIGtleSBkZXRlcm1pbmVzIGlmIHRoZSBsaXN0IGlzIHJlZHJhd24gb3IgYSBjYWNoZWQgdmVyc2lvbiBpcyBzaG93bi4KICAgICAgLy8gQmVjYXVzZSB3ZSBlbnN1cmUgdGhlICdub3QgaW4gYSBwb29sJyBncm91cCBpcyB0aGVyZSB2aWEgYSByb3csIGFuZCB0aW1pbmcgaXNzdWVzLCB0aGUgdW5xaXVlIGtleSBkb2Vzbid0IGNoYW5nZQogICAgICAvLyBhZnRlciBhIG1hY2hpbmUgaXMgYWRkZWQvcmVtb3ZlZC4uLiBzbyB0aGUgbGlzdCB3b24ndCB1cGRhdGUuLi4gc28gd2UgbmVlZCB0byBpbmplY3QgYSBzdHJpbmcgdG8gZW5zdXJlIHRoZSBrZXkgaXMgZnJlc2gKICAgICAgdmFyIGJhc2UgPSBkZWZhdWx0VGFibGVTb3J0R2VuZXJhdGlvbkZuKHRoaXMubWdtdE5vZGVTY2hlbWEsIHRoaXMuJHN0b3JlKTsKICAgICAgcmV0dXJuIGJhc2UgKyAoISF0aGlzLmZha2VOb2Rlcy5sZW5ndGggPyAnLWZha2UnIDogJycpOwogICAgfQogIH0KfTs="},{"version":3,"names":["Loading","Banner","ResourceTable","defaultTableSortGenerationFn","ResourceTabs","SortableTable","CopyCode","Tab","allHash","CAPI","MANAGEMENT","NORMAN","SNAPSHOT","STATE","NAME","NAME_COL","AGE","AGE_NORMAN","INTERNAL_EXTERNAL_IP","STATE_NORMAN","ROLES","MACHINE_NODE_OS","MANAGEMENT_NODE_OS","STATES_ENUM","CustomCommand","AsyncButton","AnsiUp","day","addParams","base64Decode","DATE_FORMAT","TIME_FORMAT","SCALE_POOL_PROMPT","escapeHtml","MachineSummaryGraph","Socket","EVENT_CONNECTED","EVENT_DISCONNECTED","EVENT_MESSAGE","EVENT_CONNECT_ERROR","get","CapiMachineDeployment","isAlternate","lastId","ansiup","EmptyCapiMachineDeployment","_CapiMachineDeploymen","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","_clusterSpec","_cluster","_template","components","props","value","type","Object","default","_default","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","_thisClusterMachines$","extClass","fetchOne","fetchOneRes","fetchTwo","thisClusterMachines","machineDeploymentTemplateType","fetchTwoRes","wrap","_callee$","_context","prev","next","waitForProvisioner","$plugin","getDynamic","machineProvider","extProvider","dispatch","$store","getters","axios","$axios","app","$t","t","extDetailTabs","_objectSpread","detailTabs","extCustomParams","provider","MACHINE_DEPLOYMENT","machineDeployments","MACHINE","machines","snapshots","isImported","isCustom","isHostedKubernetesProvider","clusterToken","getOrCreateToken","CLUSTER","normanClusters","isRke1","etcdBackups","ETCD_BACKUP","normanNodePools","NODE_POOL","sent","allMachines","allMachineDeployments","haveMachines","haveDeployments","hasLocalAccess","find","c","internal","filter","deployment","_deployment$spec","spec","clusterName","metadata","name","templateType","mdtt","showMachines","NODE","allNodes","allNodePools","NODE_TEMPLATE","nodeTemplates","haveNodes","haveNodePools","machineTemplates","RKE_TEMPLATE","RKE_TEMPLATE_REVISION","stop","created","showLog","connectLog","beforeDestroy","logSocket","disconnect","data","mgmtNodeSchema","machineSchema","logOpen","logs","registration","related","events","conditions","showWindowsWarning","watch","showNodes","neu","computed","defaultTab","showRegistration","_this$machines","_this$nodes","isRke2","length","nodes","poolSummaryInfo","_this$value","info","pools","forEach","p","group","concat","id","fakeMachines","_this$value$spec$rkeC","_this2","machineNameFn","machinePoolName","emptyPools","rkeConfig","machinePools","mp","machineFullName","machine","_machine$spec","_machine$spec2","_machine$metadata","_machine$metadata2","isElementalCluster","infrastructureRef","apiVersion","startsWith","machinePoolInfName","includes","machineLabelClusterName","labels","machineLabelPoolName","manchineLabelFullName","map","i","pool","nameDisplay","namespace","rootGetters","$root","templateNamePrefix","poolId","mainRowKey","availableActions","_toConsumableArray","_this3","x","mgmtClusterId","fakeNodes","_this4","emptyNodePools","quantity","np","nodePoolName","replace","showSnapshots","showEksNodeGroupWarning","provisioner","state","ACTIVE","desiredTotal","eksNodeGroups","g","desiredSize","machineHeaders","labelKey","sort","formatter","formatterOpts","reference","dashIfEmpty","mgmtNodeSchemaHeaders","rke1Snapshots","_this$value$mgmt","mgmtId","mgmt","clusterId","rke2Snapshots","etcdSnapshots","rke1SnapshotHeaders","canBeVariable","width","align","rke2SnapshotHeaders","arbitrary","_this$value$mgmt2","isReady","isClusterReady","_this$value$mgmt3","_this$value$mgmt4","hasLink","dateTimeFormatStr","dateFormat","timeFormatStr","hasWindowsMachine","some","snapshotsGroupBy","mounted","window","methods","toggleScaleDownModal","event","resources","alt","showScalePoolPrompt","component","modalWidth","scalePool","takeSnapshot","btnCb","_this5","_callee2","_callee2$","_context2","setTimeout","t0","title","err","showPoolAction","commit","elem","target","showPoolActionButton","_pool$availableAction","_this6","_callee3","_this6$value$mgmt","params","url","_callee3$","_context3","follow","timestamps","pretty","linkFor","addEventListener","e","console","error","line","detail","msg","time","idx","indexOf","timeStr","substr","date","Date","isNaN","getSeconds","toISOString","push","ansi_to_html","rawMsg","connect","format","val","today","machineSortGenerationFn","base","nodeSortGenerationFn"],"sources":["node_modules/@rancher/shell/detail/provisioning.cattle.io.cluster.vue"],"sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\nimport ResourceTable, { defaultTableSortGenerationFn } from '@shell/components/ResourceTable';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport SortableTable from '@shell/components/SortableTable';\nimport CopyCode from '@shell/components/CopyCode';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { allHash } from '@shell/utils/promise';\nimport { CAPI, MANAGEMENT, NORMAN, SNAPSHOT } from '@shell/config/types';\nimport {\n  STATE, NAME as NAME_COL, AGE, AGE_NORMAN, INTERNAL_EXTERNAL_IP, STATE_NORMAN, ROLES, MACHINE_NODE_OS, MANAGEMENT_NODE_OS, NAME,\n} from '@shell/config/table-headers';\nimport { STATES_ENUM } from '@shell/plugins/dashboard-store/resource-class';\nimport CustomCommand from '@shell/edit/provisioning.cattle.io.cluster/CustomCommand';\nimport AsyncButton from '@shell/components/AsyncButton.vue';\nimport AnsiUp from 'ansi_up';\nimport day from 'dayjs';\nimport { addParams } from '@shell/utils/url';\nimport { base64Decode } from '@shell/utils/crypto';\nimport { DATE_FORMAT, TIME_FORMAT, SCALE_POOL_PROMPT } from '@shell/store/prefs';\nimport { escapeHtml } from '@shell/utils/string';\nimport MachineSummaryGraph from '@shell/components/formatter/MachineSummaryGraph';\nimport Socket, {\n  EVENT_CONNECTED,\n  EVENT_DISCONNECTED,\n  EVENT_MESSAGE,\n  //  EVENT_FRAME_TIMEOUT,\n  EVENT_CONNECT_ERROR\n} from '@shell/utils/socket';\nimport { get } from '@shell/utils/object';\nimport CapiMachineDeployment from '@shell/models/cluster.x-k8s.io.machinedeployment';\nimport { isAlternate } from '@shell/utils/platform';\n\nlet lastId = 1;\nconst ansiup = new AnsiUp();\n\n/**\n * Machine Deployment has a reference to the 'template' used to create that deployment\n * For an empty machine pool, we (obviously) don't get any machine deployments for that pool.\n *\n * This class allows us to fake a machine deployment - when created, we set additional properties (_cluster etc)\n * and use these in the getters.\n **/\nclass EmptyCapiMachineDeployment extends CapiMachineDeployment {\n  get inClusterSpec() {\n    return this._clusterSpec;\n  }\n\n  get cluster() {\n    return this._cluster;\n  }\n\n  get template() {\n    return this._template;\n  }\n}\n\nexport default {\n  components: {\n    Loading,\n    Banner,\n    ResourceTable,\n    ResourceTabs,\n    SortableTable,\n    Tab,\n    CopyCode,\n    CustomCommand,\n    AsyncButton,\n    MachineSummaryGraph,\n  },\n\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n\n  async fetch() {\n    await this.value.waitForProvisioner();\n\n    const extClass = this.$plugin.getDynamic('provisioner', this.value.machineProvider);\n\n    if (extClass) {\n      this.extProvider = new extClass({\n        dispatch: this.$store.dispatch,\n        getters:  this.$store.getters,\n        axios:    this.$store.$axios,\n        $plugin:  this.$store.app.$plugin,\n        $t:       this.t\n      });\n      this.extDetailTabs = {\n        ...this.extDetailTabs,\n        ...this.extProvider.detailTabs\n      };\n      this.extCustomParams = { provider: this.value.machineProvider };\n    }\n\n    const fetchOne = {};\n\n    if ( this.$store.getters['management/canList'](CAPI.MACHINE_DEPLOYMENT) ) {\n      fetchOne.machineDeployments = this.$store.dispatch('management/findAll', { type: CAPI.MACHINE_DEPLOYMENT });\n    }\n\n    if ( this.$store.getters['management/canList'](CAPI.MACHINE) ) {\n      fetchOne.machines = this.$store.dispatch('management/findAll', { type: CAPI.MACHINE });\n    }\n\n    if ( this.$store.getters['management/canList'](SNAPSHOT) ) {\n      fetchOne.snapshots = this.$store.dispatch('management/findAll', { type: SNAPSHOT });\n    }\n\n    if ( this.value.isImported || this.value.isCustom || this.value.isHostedKubernetesProvider ) {\n      fetchOne.clusterToken = this.value.getOrCreateToken();\n    }\n\n    // Need to get Norman clusters so that we can check if user has permissions to access the local cluster\n    if ( this.$store.getters['rancher/canList'](NORMAN.CLUSTER) ) {\n      fetchOne.normanClusters = this.$store.dispatch('rancher/findAll', { type: NORMAN.CLUSTER });\n    }\n\n    if ( this.value.isRke1 && this.$store.getters['isRancher'] ) {\n      fetchOne.etcdBackups = this.$store.dispatch('rancher/findAll', { type: NORMAN.ETCD_BACKUP });\n\n      fetchOne.normanNodePools = this.$store.dispatch('rancher/findAll', { type: NORMAN.NODE_POOL });\n    }\n\n    const fetchOneRes = await allHash(fetchOne);\n\n    this.allMachines = fetchOneRes.machines || [];\n    this.allMachineDeployments = fetchOneRes.machineDeployments || [];\n    this.haveMachines = !!fetchOneRes.machines;\n    this.haveDeployments = !!fetchOneRes.machineDeployments;\n    this.clusterToken = fetchOneRes.clusterToken;\n    this.etcdBackups = fetchOneRes.etcdBackups;\n\n    if (fetchOneRes.normanClusters) {\n      // Does the user have access to the local cluster? Need to in order to be able to show the 'Related Resources' tab\n      this.hasLocalAccess = !!fetchOneRes.normanClusters.find((c) => c.internal);\n    }\n\n    const fetchTwo = {};\n\n    const thisClusterMachines = this.allMachineDeployments.filter((deployment) => {\n      return deployment?.spec?.clusterName === this.value.metadata.name;\n    });\n\n    const machineDeploymentTemplateType = thisClusterMachines?.[0]?.templateType;\n\n    if (machineDeploymentTemplateType && this.$store.getters['management/schemaFor'](machineDeploymentTemplateType) ) {\n      fetchTwo.mdtt = this.$store.dispatch('management/findAll', { type: machineDeploymentTemplateType });\n    }\n\n    if (!this.showMachines) {\n      if ( this.$store.getters['management/canList'](MANAGEMENT.NODE) ) {\n        fetchTwo.allNodes = this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE });\n      }\n\n      if ( this.$store.getters['management/canList'](MANAGEMENT.NODE_POOL) ) {\n        fetchTwo.allNodePools = this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE_POOL });\n      }\n\n      if ( this.$store.getters['management/canList'](MANAGEMENT.NODE_TEMPLATE) ) {\n        fetchTwo.nodeTemplates = this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE_TEMPLATE });\n      }\n    }\n\n    const fetchTwoRes = await allHash(fetchTwo);\n\n    this.allNodes = fetchTwoRes.allNodes || [];\n    this.haveNodes = !!fetchTwoRes.allNodes;\n    this.allNodePools = fetchTwoRes.allNodePools || [];\n    this.haveNodePools = !!fetchTwoRes.allNodePools;\n    this.machineTemplates = fetchTwoRes.mdtt || [];\n\n    // Fetch RKE template revisions so we can show when an updated template is available\n    // This request does not need to be blocking\n    if ( this.$store.getters['management/canList'](MANAGEMENT.RKE_TEMPLATE) ) {\n      this.$store.dispatch('management/findAll', { type: MANAGEMENT.RKE_TEMPLATE });\n    }\n\n    if ( this.$store.getters['management/canList'](MANAGEMENT.RKE_TEMPLATE_REVISION) ) {\n      this.$store.dispatch('management/findAll', { type: MANAGEMENT.RKE_TEMPLATE_REVISION });\n    }\n  },\n\n  created() {\n    if ( this.showLog ) {\n      this.connectLog();\n    }\n  },\n\n  beforeDestroy() {\n    if ( this.logSocket ) {\n      this.logSocket.disconnect();\n      this.logSocket = null;\n    }\n  },\n\n  data() {\n    return {\n\n      allMachines:           [],\n      allMachineDeployments: [],\n      allNodes:              [],\n      allNodePools:          [],\n\n      haveMachines:    false,\n      haveDeployments: false,\n      haveNodes:       false,\n      haveNodePools:   false,\n      hasLocalAccess:  false,\n\n      mgmtNodeSchema: this.$store.getters[`management/schemaFor`](MANAGEMENT.NODE),\n      machineSchema:  this.$store.getters[`management/schemaFor`](CAPI.MACHINE),\n\n      clusterToken: null,\n      etcdBackups:  null,\n\n      logOpen:   false,\n      logSocket: null,\n      logs:      [],\n\n      extProvider:     null,\n      extCustomParams: null,\n      extDetailTabs:   {\n        machines:     true, // in this component\n        logs:         true, // in this component\n        registration: true, // in this component\n        snapshots:    true, // in this component\n        related:      true, // in ResourceTabs\n        events:       true, // in ResourceTabs\n        conditions:   true, // in ResourceTabs\n      },\n\n      showWindowsWarning: false\n    };\n  },\n\n  watch: {\n    showNodes(neu) {\n      if (neu) {\n        this.$store.dispatch('rancher/findAll', { type: NORMAN.NODE });\n      }\n    },\n  },\n\n  computed: {\n    defaultTab() {\n      if (this.showRegistration) {\n        if (this.value.isRke2 ? !this.machines?.length : !this.nodes?.length) {\n          return 'registration';\n        }\n      }\n\n      if (this.showMachines) {\n        return 'machine-pools';\n      }\n\n      if (this.showNodes) {\n        return 'node-pools';\n      }\n\n      return '';\n    },\n\n    // Used to show summary graph for each node pool group in the machine pool table\n    poolSummaryInfo() {\n      const info = {};\n\n      this.value?.pools.forEach((p) => {\n        const group = `[${ p.type }: ${ p.id }]`;\n\n        info[group] = p;\n      });\n\n      return info;\n    },\n\n    fakeMachines() {\n      const machineNameFn = (clusterName, machinePoolName) => `${ clusterName }-${ machinePoolName }`;\n\n      // When we scale up, the quantity will change to N+1 - so from 0 to 1, the quantity changes,\n      // but it takes tiem for the machine to appear, so the pool is empty, but if we just go off on a non-zero quqntity\n      // then the pool would be hidden - so we find empty pool by checking the machines\n      const emptyPools = (this.value.spec.rkeConfig?.machinePools || []).filter((mp) => {\n        const machineFullName = machineNameFn(this.value.name, mp.name);\n\n        const machines = this.value.machines.filter((machine) => {\n          const isElementalCluster = machine.spec?.infrastructureRef?.apiVersion.startsWith('elemental.cattle.io');\n          const machinePoolInfName = machine.spec?.infrastructureRef?.name;\n\n          if (isElementalCluster) {\n            return machinePoolInfName.includes(machineFullName);\n          }\n\n          // if labels exist, then the machineFullName must unequivocally be equal to manchineLabelFullName (based on labels)\n          const machineLabelClusterName = machine.metadata?.labels?.['cluster.x-k8s.io/cluster-name'];\n          const machineLabelPoolName = machine.metadata?.labels?.['rke.cattle.io/rke-machine-pool-name'];\n\n          if (machineLabelClusterName && machineLabelPoolName) {\n            const manchineLabelFullName = machineNameFn(machineLabelClusterName, machineLabelPoolName);\n\n            return machineFullName === manchineLabelFullName;\n          }\n\n          return machinePoolInfName.startsWith(machineFullName);\n        });\n\n        return machines.length === 0;\n      });\n\n      // When a deployment has no machines it's not shown.... so add a fake machine to it\n      // This is a catch all scenario seen in older node pool world but not deployments\n      return emptyPools.map((mp, i) => {\n        const pool = new EmptyCapiMachineDeployment(\n          {\n            id:       i,\n            metadata: {\n              name:      `${ this.value.nameDisplay }-${ mp.name }`,\n              namespace: this.value.namespace,\n            },\n            spec: {}\n          },\n          {\n            getters:     this.$store.getters,\n            rootGetters: this.$root.$store.getters,\n          }\n        );\n\n        const templateNamePrefix = `${ pool.metadata.name }-`;\n\n        // All of these properties are needed to ensure the pool displays correctly and that we can scale up and down\n        pool._template = this.machineTemplates.find((t) => t.metadata.name.startsWith(templateNamePrefix));\n        pool._cluster = this.value;\n        pool._clusterSpec = mp;\n\n        return {\n          poolId:           pool.id,\n          mainRowKey:       'isFake',\n          pool,\n          availableActions: []\n        };\n      });\n    },\n\n    machines() {\n      return [...this.value.machines, ...this.fakeMachines];\n    },\n\n    nodes() {\n      const nodes = this.allNodes.filter((x) => x.mgmtClusterId === this.value.mgmtClusterId);\n\n      return [...nodes, ...this.fakeNodes];\n    },\n\n    fakeNodes() {\n      // When a pool has no nodes it's not shown.... so add a fake node to it\n      const emptyNodePools = this.allNodePools.filter((x) => x.spec.clusterName === this.value.mgmtClusterId && x.spec.quantity === 0);\n\n      return emptyNodePools.map((np) => ({\n        spec:             { nodePoolName: np.id.replace('/', ':') },\n        mainRowKey:       'isFake',\n        pool:             np,\n        availableActions: []\n      }));\n    },\n\n    showMachines() {\n      const showMachines = this.haveMachines && (this.value.isRke2 || !!this.machines.length);\n\n      return showMachines && this.extDetailTabs.machines;\n    },\n\n    showNodes() {\n      return !this.showMachines && this.haveNodes && !!this.nodes.length;\n    },\n\n    showSnapshots() {\n      if (this.value.isRke1) {\n        return this.$store.getters['rancher/canList'](NORMAN.ETCD_BACKUP) && this.extDetailTabs.snapshots;\n      } else if (this.value.isRke2) {\n        return this.$store.getters['management/canList'](SNAPSHOT) && this.extDetailTabs.snapshots;\n      }\n\n      return false;\n    },\n\n    showEksNodeGroupWarning() {\n      if ( this.value.provisioner === 'EKS' && this.value.state !== STATES_ENUM.ACTIVE) {\n        const desiredTotal = this.value.eksNodeGroups.filter((g) => g.desiredSize === 0);\n\n        if ( desiredTotal.length === this.value.eksNodeGroups.length ) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    machineHeaders() {\n      return [\n        STATE,\n        NAME_COL,\n        {\n          name:          'node-name',\n          labelKey:      'tableHeaders.machineNodeName',\n          sort:          'status.nodeRef.name',\n          value:         'status.nodeRef.name',\n          formatter:     'LinkDetail',\n          formatterOpts: { reference: 'kubeNodeDetailLocation' },\n          dashIfEmpty:   true,\n        },\n        INTERNAL_EXTERNAL_IP,\n        MACHINE_NODE_OS,\n        ROLES,\n        AGE,\n      ];\n    },\n\n    mgmtNodeSchemaHeaders() {\n      return [\n        STATE, NAME_COL,\n        {\n          name:          'node-name',\n          labelKey:      'tableHeaders.machineNodeName',\n          sort:          'kubeNodeName',\n          value:         'kubeNodeName',\n          formatter:     'LinkDetail',\n          formatterOpts: { reference: 'kubeNodeDetailLocation' },\n          dashIfEmpty:   true,\n        },\n        INTERNAL_EXTERNAL_IP,\n        MANAGEMENT_NODE_OS,\n        ROLES,\n        AGE\n      ];\n    },\n\n    rke1Snapshots() {\n      const mgmtId = this.value.mgmt?.id;\n\n      if ( !mgmtId ) {\n        return [];\n      }\n\n      return (this.etcdBackups || []).filter((x) => x.clusterId === mgmtId);\n    },\n\n    rke2Snapshots() {\n      return this.value.etcdSnapshots;\n    },\n\n    rke1SnapshotHeaders() {\n      return [\n        STATE_NORMAN,\n        {\n          name:          'name',\n          labelKey:      'tableHeaders.name',\n          value:         'nameDisplay',\n          sort:          ['nameSort'],\n          canBeVariable: true,\n        },\n        {\n          name:     'version',\n          labelKey: 'tableHeaders.version',\n          value:    'status.kubernetesVersion',\n          sort:     'status.kubernetesVersion',\n          width:    150,\n        },\n        { ...AGE_NORMAN, canBeVariable: true },\n        {\n          name:      'manual',\n          labelKey:  'tableHeaders.manual',\n          value:     'manual',\n          formatter: 'Checked',\n          sort:      ['manual'],\n          align:     'center',\n          width:     50,\n        },\n      ];\n    },\n\n    rke2SnapshotHeaders() {\n      return [\n        {\n          ...STATE_NORMAN, value: 'snapshotFile.status', formatterOpts: { arbitrary: true }\n        },\n        NAME,\n        {\n          name:      'size',\n          labelKey:  'tableHeaders.size',\n          value:     'snapshotFile.size',\n          sort:      'snapshotFile.size',\n          formatter: 'Si',\n          width:     150,\n        },\n        {\n          ...AGE,\n          sort:          'snapshotFile.createdAt:desc',\n          canBeVariable: true\n        },\n      ];\n    },\n\n    showRegistration() {\n      if ( !this.clusterToken ) {\n        return false;\n      }\n\n      if ( this.value.isImported ) {\n        return !this.value.mgmt?.isReady && this.extDetailTabs.registration;\n      }\n\n      if ( this.value.isCustom ) {\n        return this.extDetailTabs.registration;\n      }\n\n      if ( this.value.isHostedKubernetesProvider && !this.isClusterReady ) {\n        return this.extDetailTabs.registration;\n      }\n\n      return false;\n    },\n\n    isClusterReady() {\n      return this.value.mgmt?.isReady;\n    },\n\n    showLog() {\n      const showLog = this.value.mgmt?.hasLink('log');\n\n      return showLog && this.extDetailTabs.logs;\n    },\n\n    dateTimeFormatStr() {\n      const dateFormat = escapeHtml( this.$store.getters['prefs/get'](DATE_FORMAT));\n\n      return `${ dateFormat } ${ this.timeFormatStr }`;\n    },\n\n    timeFormatStr() {\n      return escapeHtml( this.$store.getters['prefs/get'](TIME_FORMAT));\n    },\n\n    hasWindowsMachine() {\n      return this.machines.some((machine) => get(machine, 'status.nodeInfo.operatingSystem') === 'windows');\n    },\n\n    snapshotsGroupBy() {\n      return 'backupLocation';\n    }\n  },\n\n  mounted() {\n    window.c = this;\n  },\n\n  methods: {\n    toggleScaleDownModal( event, resources ) {\n      // Check if the user held alt key when an action is clicked.\n      const alt = isAlternate(event);\n      const showScalePoolPrompt = this.$store.getters['prefs/get'](SCALE_POOL_PROMPT);\n\n      // Prompt if showScalePoolPrompt pref not store and user did not held alt key\n      if (!alt && !showScalePoolPrompt) {\n        this.$store.dispatch('management/promptModal', {\n          component:  'ScalePoolDownDialog',\n          resources,\n          modalWidth: '450px'\n        });\n      } else {\n        // User held alt key, so don't prompt\n        resources.scalePool(-1);\n      }\n    },\n\n    async takeSnapshot(btnCb) {\n      try {\n        await this.value.takeSnapshot();\n\n        // Give the change event some time to show up\n        setTimeout(() => {\n          btnCb(true);\n        }, 1000);\n      } catch (err) {\n        this.$store.dispatch('growl/fromError', { title: 'Error creating snapshot', err });\n        btnCb(false);\n      }\n    },\n\n    showPoolAction(event, pool) {\n      this.$store.commit(`action-menu/show`, {\n        resources: [pool],\n        elem:      event.target\n      });\n    },\n\n    showPoolActionButton(pool) {\n      return !!pool.availableActions?.length;\n    },\n\n    async connectLog() {\n      if ( this.logSocket ) {\n        await this.logSocket.disconnect();\n        this.logSocket = null;\n      }\n\n      const params = {\n        follow:     true,\n        timestamps: true,\n        pretty:     true,\n      };\n\n      let url = this.value.mgmt?.linkFor('log');\n\n      url = addParams(url.replace(/^http/, 'ws'), params);\n\n      this.logSocket = new Socket(url, true, 0);\n      this.logSocket.addEventListener(EVENT_CONNECTED, (e) => {\n        this.logs = [];\n        this.logOpen = true;\n      });\n\n      this.logSocket.addEventListener(EVENT_DISCONNECTED, (e) => {\n        this.logOpen = false;\n      });\n\n      this.logSocket.addEventListener(EVENT_CONNECT_ERROR, (e) => {\n        this.logOpen = false;\n        console.error('Connect Error', e); // eslint-disable-line no-console\n      });\n\n      this.logSocket.addEventListener(EVENT_MESSAGE, (e) => {\n        const line = base64Decode(e.detail.data);\n\n        let msg = line;\n        let time = null;\n\n        const idx = line.indexOf(' ');\n\n        if ( idx > 0 ) {\n          const timeStr = line.substr(0, idx);\n          const date = new Date(timeStr);\n\n          if ( !isNaN(date.getSeconds()) ) {\n            time = date.toISOString();\n            msg = line.substr(idx + 1);\n          }\n        }\n\n        this.logs.push({\n          id:     lastId++,\n          msg:    ansiup.ansi_to_html(msg),\n          rawMsg: msg,\n          time,\n        });\n      });\n\n      this.logSocket.connect();\n    },\n\n    format(time) {\n      if ( !time ) {\n        return '';\n      }\n\n      const val = day(time);\n      const today = day().format('YYYY-MM-DD');\n\n      if ( val.format('YYYY-MM-DD') === today ) {\n        return day(time).format(this.timeFormatStr);\n      } else {\n        return day(time).format(this.dateTimeFormatStr);\n      }\n    },\n\n    machineSortGenerationFn() {\n      // The sort generation function creates a unique value and is used to create a key including sort details.\n      // The unique key determines if the list is redrawn or a cached version is shown.\n      // Because we ensure the 'not in a pool' group is there via a row, and timing issues, the unqiue key doesn't change\n      // after a machine is added/removed... so the list won't update... so we need to inject a string to ensure the key is fresh\n      const base = defaultTableSortGenerationFn(this.machineSchema, this.$store);\n\n      return base + (!!this.fakeMachines.length ? '-fake' : '');\n    },\n\n    nodeSortGenerationFn() {\n      // The sort generation function creates a unique value and is used to create a key including sort details.\n      // The unique key determines if the list is redrawn or a cached version is shown.\n      // Because we ensure the 'not in a pool' group is there via a row, and timing issues, the unqiue key doesn't change\n      // after a machine is added/removed... so the list won't update... so we need to inject a string to ensure the key is fresh\n      const base = defaultTableSortGenerationFn(this.mgmtNodeSchema, this.$store);\n\n      return base + (!!this.fakeNodes.length ? '-fake' : '');\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <Banner\n      v-if=\"showWindowsWarning\"\n      color=\"error\"\n      :label=\"t('cluster.banner.os', { newOS: 'Windows', existingOS: 'Linux' })\"\n    />\n    <Banner\n      v-if=\"showEksNodeGroupWarning\"\n      color=\"error\"\n      :label=\"t('cluster.banner.desiredNodeGroupWarning')\"\n    />\n\n    <Banner\n      v-if=\"$fetchState.error\"\n      color=\"error\"\n      :label=\"$fetchState.error\"\n    />\n    <ResourceTabs\n      v-model=\"value\"\n      :default-tab=\"defaultTab\"\n      :need-related=\"hasLocalAccess\"\n      :extension-params=\"extCustomParams\"\n      :needRelated=\"extDetailTabs.related\"\n      :needEvents=\"extDetailTabs.events\"\n      :needConditions=\"extDetailTabs.conditions\"\n    >\n      <Tab\n        v-if=\"showMachines\"\n        name=\"machine-pools\"\n        :label-key=\"value.isCustom ? 'cluster.tabs.machines' : 'cluster.tabs.machinePools'\"\n        :weight=\"4\"\n      >\n        <ResourceTable\n          :rows=\"machines\"\n          :schema=\"machineSchema\"\n          :headers=\"machineHeaders\"\n          default-sort-by=\"name\"\n          :groupable=\"false\"\n          :group-by=\"value.isCustom ? null : 'poolId'\"\n          group-ref=\"pool\"\n          :group-sort=\"['pool.nameDisplay']\"\n          :sort-generation-fn=\"machineSortGenerationFn\"\n        >\n          <template #main-row:isFake=\"{fullColspan}\">\n            <tr class=\"main-row\">\n              <td\n                :colspan=\"fullColspan\"\n                class=\"no-entries\"\n              >\n                {{ t('node.list.noNodes') }}\n              </td>\n            </tr>\n          </template>\n\n          <template #group-by=\"{group}\">\n            <div\n              class=\"pool-row\"\n              :class=\"{'has-description':group.ref && group.ref.template}\"\n            >\n              <div\n                v-trim-whitespace\n                class=\"group-tab\"\n              >\n                <div\n                  v-if=\"group && group.ref\"\n                  v-clean-html=\"group.ref.groupByPoolShortLabel\"\n                />\n                <div\n                  v-else\n                  v-clean-html=\"t('resourceTable.groupLabel.notInANodePool')\"\n                />\n                <div\n                  v-if=\"group.ref && group.ref.template\"\n                  class=\"description text-muted text-small\"\n                >\n                  {{ group.ref.providerDisplay }} &ndash;  {{ group.ref.providerLocation }} / {{ group.ref.providerSize }} ({{ group.ref.providerName }})\n                </div>\n              </div>\n              <div\n                v-if=\"group.ref && poolSummaryInfo[group.ref]\"\n                class=\"right group-header-buttons mr-20\"\n              >\n                <MachineSummaryGraph\n                  :row=\"poolSummaryInfo[group.ref]\"\n                  :horizontal=\"true\"\n                  class=\"mr-20\"\n                />\n                <template v-if=\"value.hasLink('update') && group.ref.showScalePool\">\n                  <button\n                    v-clean-tooltip=\"t('node.list.scaleDown')\"\n                    :disabled=\"!group.ref.canScaleDownPool()\"\n                    type=\"button\"\n                    class=\"btn btn-sm role-secondary\"\n                    @click=\"toggleScaleDownModal($event, group.ref)\"\n                  >\n                    <i class=\"icon icon-sm icon-minus\" />\n                  </button>\n                  <button\n                    v-clean-tooltip=\"t('node.list.scaleUp')\"\n                    :disabled=\"!group.ref.canScaleUpPool()\"\n                    type=\"button\"\n                    class=\"btn btn-sm role-secondary ml-10\"\n                    @click=\"group.ref.scalePool(1)\"\n                  >\n                    <i class=\"icon icon-sm icon-plus\" />\n                  </button>\n                </template>\n              </div>\n            </div>\n          </template>\n        </ResourceTable>\n      </Tab>\n\n      <Tab\n        v-else-if=\"showNodes\"\n        name=\"node-pools\"\n        :label-key=\"value.isCustom ? 'cluster.tabs.machines' : 'cluster.tabs.machinePools'\"\n        :weight=\"4\"\n      >\n        <ResourceTable\n          :schema=\"mgmtNodeSchema\"\n          :headers=\"mgmtNodeSchemaHeaders\"\n          :rows=\"nodes\"\n          :groupable=\"false\"\n          :group-by=\"value.isCustom ? null : 'spec.nodePoolName'\"\n          group-ref=\"pool\"\n          :group-sort=\"['pool.nameDisplay']\"\n          :sort-generation-fn=\"nodeSortGenerationFn\"\n        >\n          <template #main-row:isFake=\"{fullColspan}\">\n            <tr class=\"main-row\">\n              <td\n                :colspan=\"fullColspan\"\n                class=\"no-entries\"\n              >\n                {{ t('node.list.noNodes') }}\n              </td>\n            </tr>\n          </template>\n\n          <template #group-by=\"{group}\">\n            <div\n              class=\"pool-row\"\n              :class=\"{'has-description':group.ref && group.ref.nodeTemplate}\"\n            >\n              <div\n                v-trim-whitespace\n                class=\"group-tab\"\n              >\n                <div\n                  v-if=\"group.ref\"\n                  v-clean-html=\"t('resourceTable.groupLabel.nodePool', { name: group.ref.spec.hostnamePrefix}, true)\"\n                />\n                <div\n                  v-else\n                  v-clean-html=\"t('resourceTable.groupLabel.notInANodePool')\"\n                />\n                <div\n                  v-if=\"group.ref && group.ref.nodeTemplate\"\n                  class=\"description text-muted text-small\"\n                >\n                  {{ group.ref.providerDisplay }} &ndash;  {{ group.ref.providerLocation }} / {{ group.ref.providerSize }} ({{ group.ref.providerName }})\n                </div>\n              </div>\n              <div\n                v-if=\"group.ref\"\n                class=\"right group-header-buttons\"\n              >\n                <MachineSummaryGraph\n                  :row=\"poolSummaryInfo[group.ref]\"\n                  :horizontal=\"true\"\n                  class=\"mr-20\"\n                />\n                <template v-if=\"group.ref.hasLink('update')\">\n                  <button\n                    v-clean-tooltip=\"t('node.list.scaleDown')\"\n                    :disabled=\"group.ref.spec.quantity < 2\"\n                    type=\"button\"\n                    class=\"btn btn-sm role-secondary\"\n                    @click=\"toggleScaleDownModal($event, group.ref)\"\n                  >\n                    <i class=\"icon icon-sm icon-minus\" />\n                  </button>\n                  <button\n                    v-clean-tooltip=\"t('node.list.scaleUp')\"\n                    type=\"button\"\n                    class=\"btn btn-sm role-secondary ml-10\"\n                    @click=\"group.ref.scalePool(1)\"\n                  >\n                    <i class=\"icon icon-sm icon-plus\" />\n                  </button>\n                </template>\n\n                <button\n                  type=\"button\"\n                  class=\"project-action btn btn-sm role-multi-action actions mr-5 ml-15\"\n                  :class=\"{invisible: !showPoolActionButton(group.ref)}\"\n                  @click=\"showPoolAction($event, group.ref)\"\n                >\n                  <i class=\"icon icon-actions\" />\n                </button>\n              </div>\n            </div>\n          </template>\n        </ResourceTable>\n      </Tab>\n\n      <Tab\n        v-if=\"showLog\"\n        name=\"log\"\n        :label=\"t('cluster.tabs.log')\"\n        :weight=\"3\"\n        class=\"logs-container\"\n      >\n        <table\n          class=\"fixed\"\n          cellpadding=\"0\"\n          cellspacing=\"0\"\n        >\n          <tbody class=\"logs-body\">\n            <template v-if=\"logs.length\">\n              <tr\n                v-for=\"line in logs\"\n                :key=\"line.id\"\n              >\n                <td\n                  :key=\"line.id + '-time'\"\n                  v-clean-html=\"format(line.time)\"\n                  class=\"time\"\n                />\n                <td\n                  :key=\"line.id + '-msg'\"\n                  v-clean-html=\"line.msg\"\n                  class=\"msg\"\n                />\n              </tr>\n            </template>\n            <tr\n              v-else-if=\"!logOpen\"\n              v-t=\"'cluster.log.connecting'\"\n              colspan=\"2\"\n              class=\"msg text-muted\"\n            />\n            <tr\n              v-else\n              v-t=\"'cluster.log.noData'\"\n              colspan=\"2\"\n              class=\"msg text-muted\"\n            />\n          </tbody>\n        </table>\n      </Tab>\n\n      <Tab\n        v-if=\"showRegistration\"\n        name=\"registration\"\n        :label=\"t('cluster.tabs.registration')\"\n        :weight=\"2\"\n      >\n        <Banner\n          v-if=\"!value.isCustom\"\n          color=\"warning\"\n          :label=\"t('cluster.import.warningBanner')\"\n        />\n        <CustomCommand\n          v-if=\"value.isCustom\"\n          :cluster-token=\"clusterToken\"\n          :cluster=\"value\"\n          @copied-windows=\"hasWindowsMachine ? null : showWindowsWarning = true\"\n        />\n        <template v-else>\n          <h4 v-clean-html=\"t('cluster.import.commandInstructions', null, true)\" />\n          <CopyCode class=\"m-10 p-10\">\n            {{ clusterToken.command }}\n          </CopyCode>\n\n          <h4\n            v-clean-html=\"t('cluster.import.commandInstructionsInsecure', null, true)\"\n            class=\"mt-10\"\n          />\n          <CopyCode class=\"m-10 p-10\">\n            {{ clusterToken.insecureCommand }}\n          </CopyCode>\n\n          <h4\n            v-clean-html=\"t('cluster.import.clusterRoleBindingInstructions', null, true)\"\n            class=\"mt-10\"\n          />\n          <CopyCode class=\"m-10 p-10\">\n            {{ t('cluster.import.clusterRoleBindingCommand', null, true) }}\n          </CopyCode>\n        </template>\n      </Tab>\n\n      <Tab\n        v-if=\"showSnapshots\"\n        name=\"snapshots\"\n        label=\"Snapshots\"\n        :weight=\"1\"\n      >\n        <SortableTable\n          class=\"snapshots\"\n          :headers=\"value.isRke1 ? rke1SnapshotHeaders : rke2SnapshotHeaders\"\n          default-sort-by=\"age\"\n          :table-actions=\"value.isRke1\"\n          :rows=\"value.isRke1 ? rke1Snapshots : rke2Snapshots\"\n          :search=\"false\"\n          :groupable=\"true\"\n          :group-by=\"snapshotsGroupBy\"\n        >\n          <template #header-right>\n            <AsyncButton\n              mode=\"snapshot\"\n              class=\"btn role-primary\"\n              :disabled=\"!isClusterReady\"\n              @click=\"takeSnapshot\"\n            />\n          </template>\n          <template #group-by=\"{group}\">\n            <div class=\"group-bar\">\n              <div class=\"group-tab\">\n                {{ t('cluster.snapshot.groupLabel') }}: {{ group.key }}\n              </div>\n            </div>\n          </template>\n        </SortableTable>\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.main-row .no-entries {\n  text-align: center;\n}\n\n.pool-row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  &.has-description {\n    .group-tab {\n      &, &::after {\n          height: 50px;\n      }\n\n      &::after {\n          right: -20px;\n      }\n\n      .description {\n          margin-top: -20px;\n      }\n    }\n  }\n  .group-header-buttons {\n    align-items: center;\n    display: flex;\n  }\n}\n\n.logs-container {\n  height: 100%;\n  overflow: auto;\n  padding: 5px;\n  background-color: var(--logs-bg);\n  font-family: Menlo,Consolas,monospace;\n  color: var(--logs-text);\n\n  .closed {\n    opacity: 0.25;\n  }\n\n  .time {\n    white-space: nowrap;\n    width: auto;\n    padding-right: 15px;\n    user-select: none;\n  }\n\n  .msg {\n    white-space: normal;\n\n    .highlight {\n      color: var(--logs-highlight);\n      background-color: var(--logs-highlight-bg);\n    }\n  }\n}\n\n.snapshots ::v-deep .state-description{\n  font-size: .8em;\n  color: var(--error);\n}\n\n</style>\n"],"mappings":"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"}]}