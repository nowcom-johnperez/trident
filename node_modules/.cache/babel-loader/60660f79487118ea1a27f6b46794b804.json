{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/secret/tls.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/secret/tls.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX0VESVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IEZpbGVTZWxlY3RvciwgeyBjcmVhdGVPblNlbGVjdGVkIH0gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9GaWxlU2VsZWN0b3InOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTGFiZWxlZElucHV0OiBMYWJlbGVkSW5wdXQsCiAgICBGaWxlU2VsZWN0b3I6IEZpbGVTZWxlY3RvcgogIH0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAvLyBkbyBub3Qgc2hvdyBleGlzdGluZyBrZXkgd2hlbiBlZGl0aW5nCiAgICB2YXIgb3JpZ2luYWxLZXkgPSB0aGlzLnZhbHVlLmRlY29kZWREYXRhWyd0bHMua2V5J10gfHwgJyc7CiAgICB2YXIga2V5ID0gdGhpcy5tb2RlID09PSBfRURJVCA/ICcnIDogb3JpZ2luYWxLZXk7CiAgICB2YXIgY3J0ID0gdGhpcy52YWx1ZS5kZWNvZGVkRGF0YVsndGxzLmNydCddIHx8ICcnOwogICAgcmV0dXJuIHsKICAgICAgb3JpZ2luYWxLZXk6IG9yaWdpbmFsS2V5LAogICAgICBrZXk6IGtleSwKICAgICAgY3J0OiBjcnQKICAgIH07CiAgfSwKICB3YXRjaDogewogICAga2V5OiAndXBkYXRlJywKICAgIGNydDogJ3VwZGF0ZScKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uS2V5U2VsZWN0ZWQ6IGNyZWF0ZU9uU2VsZWN0ZWQoJ2tleScpLAogICAgb25DcnRTZWxlY3RlZDogY3JlYXRlT25TZWxlY3RlZCgnY3J0JyksCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgdmFyIGtleVRvU2F2ZTsKCiAgICAgIC8vIHVzZSBwcmVleGlzdGluZyBrZXkgaWYgbm8gbmV3IG9uZSB3YXMgcHJvdmlkZWQgd2hpbGUgZWRpdGluZwogICAgICBpZiAodGhpcy5tb2RlID09PSBfRURJVCAmJiAhdGhpcy5rZXkubGVuZ3RoKSB7CiAgICAgICAga2V5VG9TYXZlID0gdGhpcy5vcmlnaW5hbEtleTsKICAgICAgfSBlbHNlIHsKICAgICAgICBrZXlUb1NhdmUgPSB0aGlzLmtleTsKICAgICAgfQogICAgICB0aGlzLnZhbHVlLnNldERhdGEoJ3Rscy5jcnQnLCB0aGlzLmNydCk7CiAgICAgIHRoaXMudmFsdWUuc2V0RGF0YSgndGxzLmtleScsIGtleVRvU2F2ZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_EDIT","LabeledInput","FileSelector","createOnSelected","components","props","value","type","Object","required","mode","String","data","originalKey","decodedData","key","crt","watch","methods","onKeySelected","onCrtSelected","update","keyToSave","length","setData"],"sources":["node_modules/@rancher/shell/edit/secret/tls.vue"],"sourcesContent":["<script>\nimport { _EDIT } from '@shell/config/query-params';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport FileSelector, { createOnSelected } from '@shell/components/form/FileSelector';\n\nexport default {\n  components: { LabeledInput, FileSelector },\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    mode: {\n      type:     String,\n      required: true,\n    }\n  },\n\n  data() {\n    // do not show existing key when editing\n    const originalKey = this.value.decodedData['tls.key'] || '';\n    const key = this.mode === _EDIT ? '' : originalKey;\n    const crt = this.value.decodedData['tls.crt'] || '';\n\n    return {\n      originalKey,\n      key,\n      crt,\n    };\n  },\n\n  watch: {\n    key: 'update',\n    crt: 'update',\n  },\n\n  methods: {\n    onKeySelected: createOnSelected('key'),\n    onCrtSelected: createOnSelected('crt'),\n\n    update() {\n      let keyToSave;\n\n      // use preexisting key if no new one was provided while editing\n      if (this.mode === _EDIT && !this.key.length) {\n        keyToSave = this.originalKey;\n      } else {\n        keyToSave = this.key;\n      }\n\n      this.value.setData('tls.crt', this.crt);\n      this.value.setData('tls.key', keyToSave);\n    }\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"key\"\n          type=\"multiline\"\n          :label=\"t('secret.certificate.privateKey')\"\n          :mode=\"mode\"\n          :placeholder=\"t('secret.certificate.privateKeyPlaceholder')\"\n        />\n        <FileSelector\n          class=\"btn btn-sm bg-primary mt-10\"\n          :label=\"t('generic.readFromFile')\"\n          @selected=\"onKeySelected\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"crt\"\n          required\n          type=\"multiline\"\n          :label=\"t('secret.certificate.certificate')\"\n          :mode=\"mode\"\n          :placeholder=\"t('secret.certificate.certificatePlaceholder')\"\n        />\n        <FileSelector\n          class=\"btn btn-sm bg-primary mt-10\"\n          :label=\"t('generic.readFromFile')\"\n          @selected=\"onCrtSelected\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n"],"mappings":"AACA,SAAAA,KAAA;AACA,SAAAC,YAAA;AACA,OAAAC,YAAA,IAAAC,gBAAA;AAEA;EACAC,UAAA;IAAAH,YAAA,EAAAA,YAAA;IAAAC,YAAA,EAAAA;EAAA;EAEAG,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAC,IAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;EACA;EAEAG,IAAA,WAAAA,KAAA;IACA;IACA,IAAAC,WAAA,QAAAP,KAAA,CAAAQ,WAAA;IACA,IAAAC,GAAA,QAAAL,IAAA,KAAAV,KAAA,QAAAa,WAAA;IACA,IAAAG,GAAA,QAAAV,KAAA,CAAAQ,WAAA;IAEA;MACAD,WAAA,EAAAA,WAAA;MACAE,GAAA,EAAAA,GAAA;MACAC,GAAA,EAAAA;IACA;EACA;EAEAC,KAAA;IACAF,GAAA;IACAC,GAAA;EACA;EAEAE,OAAA;IACAC,aAAA,EAAAhB,gBAAA;IACAiB,aAAA,EAAAjB,gBAAA;IAEAkB,MAAA,WAAAA,OAAA;MACA,IAAAC,SAAA;;MAEA;MACA,SAAAZ,IAAA,KAAAV,KAAA,UAAAe,GAAA,CAAAQ,MAAA;QACAD,SAAA,QAAAT,WAAA;MACA;QACAS,SAAA,QAAAP,GAAA;MACA;MAEA,KAAAT,KAAA,CAAAkB,OAAA,iBAAAR,GAAA;MACA,KAAAV,KAAA,CAAAkB,OAAA,YAAAF,SAAA;IACA;EACA;AACA"}]}