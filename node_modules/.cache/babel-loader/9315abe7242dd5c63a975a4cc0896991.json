{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/WorkloadHealthScale.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/WorkloadHealthScale.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuc3RyaW5nLnJlcGxhY2UtYWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgUHJvZ3Jlc3NCYXJNdWx0aSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Qcm9ncmVzc0Jhck11bHRpJzsKaW1wb3J0IFBsdXNNaW51cyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1BsdXNNaW51cyc7CmltcG9ydCB7IFBPRCwgU0NBTEFCTEVfV09SS0xPQURfVFlQRVMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgdWNGaXJzdCB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwp2YXIgU0NBTEFCTEVfVFlQRVMgPSBPYmplY3QudmFsdWVzKFNDQUxBQkxFX1dPUktMT0FEX1RZUEVTKTsKdmFyIElOVkFMSURfVFlQRVMgPSBbUE9EXTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFBsdXNNaW51czogUGx1c01pbnVzLAogICAgUHJvZ3Jlc3NCYXJNdWx0aTogUHJvZ3Jlc3NCYXJNdWx0aQogIH0sCiAgcHJvcHM6IHsKICAgIHJvdzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgY29sOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICByb3dLZXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrT3V0c2lkZSk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBleHBhbmRlZDogZmFsc2UsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGNQYXJ0czogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMucm93S2V5LCAiLXdvcmtsb2FkLWhlYWx0aC1zY2FsZSIpLnJlcGxhY2VBbGwoJy0nLCAnJyk7CiAgICB9LAogICAgY2FuU2NhbGU6IGZ1bmN0aW9uIGNhblNjYWxlKCkgewogICAgICByZXR1cm4gISFTQ0FMQUJMRV9UWVBFUy5pbmNsdWRlcyh0aGlzLnJvdy50eXBlKSAmJiB0aGlzLnJvdy5jYW5VcGRhdGU7CiAgICB9LAogICAgY2FuU2hvdzogZnVuY3Rpb24gY2FuU2hvdygpIHsKICAgICAgcmV0dXJuICFJTlZBTElEX1RZUEVTLmluY2x1ZGVzKHRoaXMucm93LnR5cGUpOwogICAgfSwKICAgIHBhcnRzOiBmdW5jdGlvbiBwYXJ0cygpIHsKICAgICAgcmV0dXJuIHRoaXMuY1BhcnRzOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbGl2ZVVwZGF0ZTogZnVuY3Rpb24gbGl2ZVVwZGF0ZSgpIHsKICAgICAgaWYgKHRoaXMubG9hZGluZykgewogICAgICAgIHJldHVybiA1OwogICAgICB9CiAgICAgIHRoaXMuY1BhcnRzID0gT2JqZWN0LmVudHJpZXModGhpcy5yb3cuam9iR2F1Z2VzIHx8IHRoaXMucm93LnBvZEdhdWdlcyB8fCBbXSkubWFwKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksCiAgICAgICAgICBuYW1lID0gX3JlZjJbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBjb2xvcjogImJnLSIuY29uY2F0KHZhbHVlLmNvbG9yKSwKICAgICAgICAgIHZhbHVlOiB2YWx1ZS5jb3VudCB8fCAwLAogICAgICAgICAgbGFiZWw6IHVjRmlyc3QobmFtZSkKICAgICAgICB9OwogICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC52YWx1ZSA+IDA7CiAgICAgIH0pOwogICAgICByZXR1cm4gNTsKICAgIH0sCiAgICBzdGFydERlbGF5ZWRMb2FkaW5nOiBmdW5jdGlvbiBzdGFydERlbGF5ZWRMb2FkaW5nKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5saXZlVXBkYXRlKCk7CiAgICB9LAogICAgb25DbGlja091dHNpZGU6IGZ1bmN0aW9uIG9uQ2xpY2tPdXRzaWRlKGV2ZW50KSB7CiAgICAgIHZhciBjb21wb25lbnQgPSB0aGlzLiRyZWZzWyJyb290LSIuY29uY2F0KHRoaXMuaWQpXTsKICAgICAgaWYgKCFjb21wb25lbnQgfHwgY29tcG9uZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5leHBhbmRlZCA9IGZhbHNlOwogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH0sCiAgICBzY2FsZURvd246IGZ1bmN0aW9uIHNjYWxlRG93bigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2NhbGUoZmFsc2UpOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2NhbGVVcDogZnVuY3Rpb24gc2NhbGVVcCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zY2FsZSh0cnVlKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2NhbGU6IGZ1bmN0aW9uIHNjYWxlKGlzVXApIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBWdWUuc2V0KF90aGlzMywgJ2Rpc2FibGVkJywgdHJ1ZSk7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgICAgIGlmICghaXNVcCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnJvdy5zY2FsZVVwKCk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5yb3cuc2NhbGVEb3duKCk7CiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goJ2dyb3dsL2Zyb21FcnJvcicsIHsKICAgICAgICAgICAgICAgIHRpdGxlOiBfdGhpczMudCgnd29ya2xvYWQubGlzdC5lcnJvckNhbm5vdFNjYWxlJywgewogICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IGlzVXAgPyAndXAnIDogJ2Rvd24nLAogICAgICAgICAgICAgICAgICB3b3JrbG9hZE5hbWU6IF90aGlzMy5yb3cubmFtZQogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBlcnI6IF9jb250ZXh0My50MAogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBWdWUuc2V0KF90aGlzMywgJ2Rpc2FibGVkJywgZmFsc2UpOwogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpbnNpZGVCb3VuZHM6IGZ1bmN0aW9uIGluc2lkZUJvdW5kcyhib3VuZGluZywgYm91bmRzKSB7CiAgICAgIHJldHVybiBib3VuZGluZy50b3AgPj0gYm91bmRzLnRvcCAmJiBib3VuZGluZy5sZWZ0ID49IGJvdW5kcy5sZWZ0ICYmIGJvdW5kaW5nLnJpZ2h0IDw9IGJvdW5kcy5yaWdodCAmJiBib3VuZGluZy5ib3R0b20gPD0gYm91bmRzLmJvdHRvbTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBleHBhbmRlZDogZnVuY3Rpb24gZXhwYW5kZWQobmV1KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBpZiAobmV1KSB7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tPdXRzaWRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja091dHNpZGUpOwogICAgICB9CgogICAgICAvLyBJZiB0aGUgZHJvcCBkb3duIGNvbnRlbnQgYXBwZWFycyBvdXRzaWRlIG9mIHRoZSB3aW5kb3cgdGhlbiBtb3ZlIGl0IHRvIGJlIGFib3ZlIHRoZSB0cmlnZ2VyCiAgICAgIC8vIERvIHRoaXMgaXMgdGhyZWUgc3RlcHMKICAgICAgLy8gZXhwYW5kZWQ6IGZhbHNlICYgZXhwYW5kZWQtY2hlY2tlZCA9IGZhbHNlIC0gQ29udGVudCBkb2VzIG5vdCBhcHBlYXIgaW4gRE9NCiAgICAgIC8vIGV4cGFuZGVkOiB0cnVlICYgZXhwYW5kZWQtY2hlY2tlZCA9IGZhbHNlIC0gQ29udGVudCBhcHBlYXJzIGluIERPTSAoc28gaXQncyBsb2NhdGlvbiBjYW4gYmUgY2FsY3VsYXRlZCB0byBiZSBpbiBvciBvdXQgb2YgYW4gYXJlYSkgYnV0IGlzbid0IHZpc2libGUgKHVzZXIgZG9lc24ndCBzZWUgY29udGVudCBibGlwIGZyb20gYmVsb3cgdG8gYWJvdmUgdHJpZ2dlcikKICAgICAgLy8gZXhwYW5kZWQ6IHRydWUgJiBleHBhbmRlZC1jaGVja2VkID0gdHJ1ZSAtIENvbnRlbnQgYXBwZWFycyBpbiBET00gYW5kIGlzIHZpc2libGUgKGl0J3MgZmluYWwgbG9jYXRpb24gaXMga25vd24gc28gdXNlciBjYW4gc2VlKQogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBUaGVyZSBiZSBiZWFzdHMgd2l0aG91dCB0aGlzIChjbGFzc2VzIGRvbid0IGdldCBhcHBsaWVkLi4uIHNvIGRyb3AgZG93biBuZXZlciBnZXRzIHNob3duKQogICAgICAgIHZhciBkcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzNC5pZCk7CiAgICAgICAgaWYgKCFuZXUpIHsKICAgICAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUoJ2V4cGFuZGVkLWNoZWNrZWQnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIEVuc3VyZSBkcm9wIGRvd24gd2lsbCBiZSBpbnNpZGUgb2YgdGhlIHdpbmRvdywgb3RoZXJ3aXNlIHNob3cgYWJvdmUgdGhlIHRyaWdnZXIKICAgICAgICB2YXIgYm91bmRpbmcgPSBkcm9wZG93bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgaW5zaWRlV2luZG93ID0gX3RoaXM0Lmluc2lkZUJvdW5kcyhib3VuZGluZywgewogICAgICAgICAgdG9wOiAwLAogICAgICAgICAgbGVmdDogMCwKICAgICAgICAgIHJpZ2h0OiB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsCiAgICAgICAgICBib3R0b206IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGluc2lkZVdpbmRvdykgewogICAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnb3V0LW9mLXZpZXcnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnb3V0LW9mLXZpZXcnKTsKICAgICAgICB9CgogICAgICAgIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIHRoZSBhY3R1YWwgZGlzcGxheSBvZiB0aGUgZHJvcCBkb3duIChhZnRlciB3ZSd2ZSBjYWxjdWxhdGVkIGlmIGl0IGdvZXMgYmVsb3cgb3IgYWJvdmUgdHJpZ2dlcikKICAgICAgICBkcm9wZG93bi5jbGFzc0xpc3QuYWRkKCdleHBhbmRlZC1jaGVja2VkJyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["Vue","ProgressBarMulti","PlusMinus","POD","SCALABLE_WORKLOAD_TYPES","ucFirst","SCALABLE_TYPES","Object","values","INVALID_TYPES","components","props","row","type","required","col","rowKey","String","beforeDestroy","document","removeEventListener","onClickOutside","data","disabled","expanded","loading","cParts","computed","id","concat","replaceAll","canScale","includes","canUpdate","canShow","parts","methods","liveUpdate","entries","jobGauges","podGauges","map","_ref","_ref2","_slicedToArray","name","value","color","count","label","filter","x","startDelayedLoading","event","component","$refs","contains","target","preventDefault","stopPropagation","scaleDown","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","scale","stop","scaleUp","_this2","_callee2","_callee2$","_context2","isUp","_this3","_callee3","_callee3$","_context3","set","t0","$store","dispatch","title","t","direction","workloadName","err","root","insideBounds","bounding","bounds","top","left","right","bottom","watch","neu","_this4","addEventListener","setTimeout","dropdown","getElementById","classList","remove","getBoundingClientRect","insideWindow","window","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","add"],"sources":["node_modules/@rancher/shell/components/formatter/WorkloadHealthScale.vue"],"sourcesContent":["<script>\nimport Vue from 'vue';\nimport ProgressBarMulti from '@shell/components/ProgressBarMulti';\nimport PlusMinus from '@shell/components/form/PlusMinus';\nimport { POD, SCALABLE_WORKLOAD_TYPES } from '@shell/config/types';\nimport { ucFirst } from '@shell/utils/string';\n\nconst SCALABLE_TYPES = Object.values(SCALABLE_WORKLOAD_TYPES);\nconst INVALID_TYPES = [POD];\n\nexport default {\n  components: { PlusMinus, ProgressBarMulti },\n\n  props: {\n    row: {\n      type:     Object,\n      required: true\n    },\n    col: {\n      type:     Object,\n      required: true\n    },\n    rowKey: {\n      type:     String,\n      required: true\n    },\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('click', this.onClickOutside);\n  },\n\n  data() {\n    return {\n      disabled: false,\n      expanded: false,\n      loading:  true,\n      cParts:   [],\n    };\n  },\n\n  computed: {\n    id() {\n      return `${ this.rowKey }-workload-health-scale`.replaceAll('-', '');\n    },\n\n    canScale() {\n      return !!SCALABLE_TYPES.includes(this.row.type) && this.row.canUpdate;\n    },\n\n    canShow() {\n      return !INVALID_TYPES.includes(this.row.type);\n    },\n\n    parts() {\n      return this.cParts;\n    },\n  },\n\n  methods: {\n    liveUpdate() {\n      if (this.loading) {\n        return 5;\n      }\n\n      this.cParts = Object.entries(this.row.jobGauges || this.row.podGauges || [])\n        .map(([name, value]) => ({\n          color: `bg-${ value.color }`,\n          value: value.count || 0,\n          label: ucFirst(name)\n        })).filter((x) => x.value > 0);\n\n      return 5;\n    },\n    startDelayedLoading() {\n      this.loading = false;\n      this.liveUpdate();\n    },\n\n    onClickOutside(event) {\n      const { [`root-${ this.id }`]: component } = this.$refs;\n\n      if (!component || component.contains(event.target)) {\n        return;\n      }\n      this.expanded = false;\n      event.preventDefault();\n      event.stopPropagation();\n    },\n\n    async scaleDown() {\n      await this.scale(false);\n    },\n    async scaleUp() {\n      await this.scale(true);\n    },\n    async scale(isUp) {\n      Vue.set(this, 'disabled', true);\n      try {\n        if (isUp) {\n          await this.row.scaleUp();\n        } else {\n          await this.row.scaleDown();\n        }\n      } catch (err) {\n        this.$store.dispatch('growl/fromError', {\n          title: this.t('workload.list.errorCannotScale', { direction: isUp ? 'up' : 'down', workloadName: this.row.name }),\n          err\n        },\n        { root: true });\n      }\n      Vue.set(this, 'disabled', false);\n    },\n\n    insideBounds(bounding, bounds) {\n      return bounding.top >= bounds.top &&\n        bounding.left >= bounds.left &&\n        bounding.right <= bounds.right &&\n        bounding.bottom <= bounds.bottom;\n    },\n\n  },\n\n  watch: {\n    expanded(neu) {\n      if (neu) {\n        document.addEventListener('click', this.onClickOutside);\n      } else {\n        document.removeEventListener('click', this.onClickOutside);\n      }\n\n      // If the drop down content appears outside of the window then move it to be above the trigger\n      // Do this is three steps\n      // expanded: false & expanded-checked = false - Content does not appear in DOM\n      // expanded: true & expanded-checked = false - Content appears in DOM (so it's location can be calculated to be in or out of an area) but isn't visible (user doesn't see content blip from below to above trigger)\n      // expanded: true & expanded-checked = true - Content appears in DOM and is visible (it's final location is known so user can see)\n      setTimeout(() => { // There be beasts without this (classes don't get applied... so drop down never gets shown)\n        const dropdown = document.getElementById(this.id);\n\n        if (!neu) {\n          dropdown.classList.remove('expanded-checked');\n\n          return;\n        }\n\n        // Ensure drop down will be inside of the window, otherwise show above the trigger\n        const bounding = dropdown.getBoundingClientRect();\n        const insideWindow = this.insideBounds(bounding, {\n          top:    0,\n          left:   0,\n          right:  window.innerWidth || document.documentElement.clientWidth,\n          bottom: window.innerHeight || document.documentElement.clientHeight,\n        });\n\n        if (insideWindow) {\n          dropdown.classList.remove('out-of-view');\n        } else {\n          dropdown.classList.add('out-of-view');\n        }\n\n        // This will trigger the actual display of the drop down (after we've calculated if it goes below or above trigger)\n        dropdown.classList.add('expanded-checked');\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <div v-if=\"!canShow\" />\n  <div\n    v-else-if=\"loading\"\n    class=\"hs-popover__loader\"\n  >\n    <i class=\"icon icon-spinner\" />\n  </div>\n  <div\n    v-else\n    :id=\"`root-${id}`\"\n    :ref=\"`root-${id}`\"\n    class=\"hs-popover\"\n  >\n    <div\n      id=\"trigger\"\n      class=\"hs-popover__trigger\"\n      :class=\"{expanded}\"\n      @click=\"expanded = !expanded\"\n    >\n      <ProgressBarMulti\n        v-if=\"parts\"\n        class=\"health\"\n        :values=\"parts\"\n        :show-zeros=\"true\"\n      />\n      <i :class=\"{icon: true, 'icon-chevron-up': expanded, 'icon-chevron-down': !expanded}\" />\n    </div>\n    <div\n      :id=\"id\"\n      class=\"hs-popover__content\"\n      :class=\"{expanded, [id]:true}\"\n    >\n      <div>\n        <div\n          v-for=\"obj in parts\"\n          :key=\"obj.label\"\n          class=\"counts\"\n        >\n          <span class=\"counts-label\">{{ obj.label }}</span>\n          <span>{{ obj.value }}</span>\n        </div>\n        <div\n          v-if=\"canScale\"\n          class=\"text-center scale\"\n        >\n          <span>{{ t('tableHeaders.scale') }} </span>\n          <PlusMinus\n            :value=\"row.spec.replicas\"\n            :disabled=\"disabled\"\n            @minus=\"scaleDown\"\n            @plus=\"scaleUp\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n\n$height: 30px;\n$width: 150px;\n\n.hs-popover {\n  position: relative;\n\n  &__loader {\n    align-items: center;\n    border: solid thin var(--sortable-table-top-divider);\n    display: flex;\n    height: $height;\n    width: $width;\n\n    > i {\n      font-size: 16px;\n      height: 16px;\n      margin-left: 5px;\n      width: 16px;\n    }\n  }\n\n  &__trigger {\n    display: flex;\n    align-items: center;\n\n    width: $width;\n    height: $height;\n\n    border: solid thin var(--sortable-table-top-divider);\n\n    &.expanded {\n      background-color: var(--sortable-table-row-bg);\n    }\n    &:not(.expanded):hover {\n      background-color: var(--accent-btn);\n      .icon {\n        color: unset;\n      }\n    }\n\n    $icon-width: 21px;\n\n    .health {\n      width: $width - $icon-width;\n      margin-left: 5px;\n    }\n    .icon {\n      width: $icon-width;\n      color: var(--primary);\n      margin-top: 1px;\n      padding: 0 5px 0 3px; // It would be better to display flex here... but the icon looks a pixel off to the right\n    }\n  }\n\n  &__content {\n    z-index: 14;\n    width: $width;\n\n    border: solid thin var(--sortable-table-top-divider);\n    background-color: var(--sortable-table-row-bg);\n\n    position: absolute;\n    margin-top: -1px;\n\n    display: none;\n    visibility: hidden;\n    &.expanded {\n      display: inline;\n    }\n    &.expanded-checked {\n      visibility: visible;\n    }\n\n    &.out-of-view {\n      // Flip to show drop down above trigger\n      bottom: 0;\n      margin-bottom: $height - 1px;\n    }\n\n    & > div {\n      padding: 10px;\n    }\n\n    .counts {\n      display: flex;\n      justify-content: space-between;\n\n      &-label {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    }\n    .scale {\n      margin-top: 10px;\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n    }\n  }\n}\n\n</style>\n"],"mappings":"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"}]}