{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0KZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IENydVJlc291cmNlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NydVJlc291cmNlJzsKaW1wb3J0IFNlbGVjdEljb25HcmlkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NlbGVjdEljb25HcmlkJzsKaW1wb3J0IEVtYmVyUGFnZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9FbWJlclBhZ2UnOwppbXBvcnQgeyBUb2dnbGVTd2l0Y2ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL1RvZ2dsZVN3aXRjaCc7CmltcG9ydCB7IENIQVJULCBGUk9NX0NMVVNURVIsIFNVQl9UWVBFLCBfRURJVCwgX0lNUE9SVCwgX0NPTkZJRywgX1ZJRVcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgc29ydEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvcnQnOwppbXBvcnQgeyBzZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgbWFwUHJlZiwgUFJPVklTSU9ORVIsIF9SS0UxIGFzIF9SS0UsIF9SS0UyIGFzIF9SS0UzIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3ByZWZzJzsKaW1wb3J0IHsgZmlsdGVyQW5kQXJyYW5nZUNoYXJ0cyB9IGZyb20gJ0BzaGVsbC9zdG9yZS9jYXRhbG9nJzsKaW1wb3J0IHsgQ0FUQUxPRyB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKaW1wb3J0IHsgQ0FQSSwgTUFOQUdFTUVOVCwgREVGQVVMVF9XT1JLU1BBQ0UgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgbWFwRmVhdHVyZSwgUktFMiBhcyBSS0UyX0ZFQVRVUkUgfSBmcm9tICdAc2hlbGwvc3RvcmUvZmVhdHVyZXMnOwppbXBvcnQgeyBhbGxIYXNoIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3Byb21pc2UnOwppbXBvcnQgeyBCTEFOS19DTFVTVEVSIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3N0b3JlLXR5cGVzLmpzJzsKaW1wb3J0IHsgRUxFTUVOVEFMX1BST0RVQ1RfTkFNRSwgRUxFTUVOVEFMX0NMVVNURVJfUFJPVklERVIgfSBmcm9tICcuLi8uLi9jb25maWcvZWxlbWVudGFsLXR5cGVzJzsKaW1wb3J0IFJrZTJDb25maWcgZnJvbSAnLi9ya2UyJzsKaW1wb3J0IEltcG9ydCBmcm9tICcuL2ltcG9ydCc7CnZhciBTT1JUX0dST1VQUyA9IHsKICB0ZW1wbGF0ZTogMSwKICBrb250YWluZXI6IDIsCiAgcmtlMTogMywKICBya2UyOiAzLAogIHJlZ2lzdGVyOiA0LAogIGN1c3RvbTogNSwKICBjdXN0b20xOiA1LAogIGN1c3RvbTI6IDUKfTsKCi8vIHVTZWQgdG8gcHJveHkgc3R5bGVzaGVldHMgZm9yIGN1c3RvbSBkcml2ZXJzIHRoYXQgcHJvdmlkZSBjdXN0b20gVUkgKFJLRTEpCnZhciBQUk9YWV9FTkRQT0lOVCA9ICcvbWV0YS9wcm94eSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ3J1Q2x1c3RlcicsCiAgY29tcG9uZW50czogewogICAgQ3J1UmVzb3VyY2U6IENydVJlc291cmNlLAogICAgRW1iZXJQYWdlOiBFbWJlclBhZ2UsCiAgICBJbXBvcnQ6IEltcG9ydCwKICAgIExvYWRpbmc6IExvYWRpbmcsCiAgICBSa2UyQ29uZmlnOiBSa2UyQ29uZmlnLAogICAgU2VsZWN0SWNvbkdyaWQ6IFNlbGVjdEljb25HcmlkLAogICAgVG9nZ2xlU3dpdGNoOiBUb2dnbGVTd2l0Y2gKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKICBwcm9wczogewogICAgcmVhbE1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIC8qKgogICAgICogSW5oZXJpdGVkIGdsb2JhbCBpZGVudGlmaWVyIHByZWZpeCBmb3IgdGVzdHMKICAgICAqIERlZmluZSBhIHRlcm0gYmFzZWQgb24gdGhlIHBhcmVudCBjb21wb25lbnQgdG8gYXZvaWQgY29uZmxpY3RzIG9uIG11bHRpcGxlIGNvbXBvbmVudHMKICAgICAqLwogICAgY29tcG9uZW50VGVzdGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NsdXN0ZXItbWFuYWdlci1jcmVhdGUnCiAgICB9CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGhhc2gsIHJlcywgZXh0ZW5zaW9uQ2xhc3NlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaGFzaCA9IHsKICAgICAgICAgICAgICAvLyBUaGVzZSBhcmVuJ3QgZXhwbGljaXRseSB1c2VkLCBidXQgbmVlZCB0byBiZSBsaXN0ZW5pbmcgZm9yIGNoYW5nZSBldmVudHMKICAgICAgICAgICAgICBtZ210Q2x1c3RlcnM6IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5DTFVTVEVSCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgcHJvdkNsdXN0ZXJzOiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IENBUEkuUkFOQ0hFUl9DTFVTVEVSCiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgY2F0YWxvZzogX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjYXRhbG9nL2xvYWQnKQogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbIm1hbmFnZW1lbnQvY2FuTGlzdCJdKE1BTkFHRU1FTlQuTk9ERV9EUklWRVIpKSB7CiAgICAgICAgICAgICAgaGFzaC5ub2RlRHJpdmVycyA9IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5OT0RFX0RSSVZFUgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChfdGhpcy4kc3RvcmUuZ2V0dGVyc1sibWFuYWdlbWVudC9jYW5MaXN0Il0oTUFOQUdFTUVOVC5LT05UQUlORVJfRFJJVkVSKSkgewogICAgICAgICAgICAgIGhhc2gua29udGFpbmVyRHJpdmVycyA9IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5LT05UQUlORVJfRFJJVkVSCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKF90aGlzLnZhbHVlLmlkICYmICFfdGhpcy52YWx1ZS5pc1JrZTIpIHsKICAgICAgICAgICAgICAvLyBUaGVzZSBhcmUgbmVlZGVkIHRvIHJlc29sdmUgcmVmZXJlbmNlcyBpbiB0aGUgbWdtdCBjbHVzdGVyIC0+IG5vZGUgcG9vbCAtPiBub2RlIHRlbXBsYXRlIHRvIGZpZ3VyZSBvdXQgd2hhdCBwcm92aWRlciB0aGUgY2x1c3RlciBpcyB1c2luZwogICAgICAgICAgICAgIC8vIHNvIHRoYXQgdGhlIGVkaXQgaWZyYW1lIGZvciBlbWJlciBwYWdlcyBjYW4gZ28gdG8gdGhlIHJpZ2h0IHBsYWNlLgogICAgICAgICAgICAgIGlmIChfdGhpcy4kc3RvcmUuZ2V0dGVyc1sibWFuYWdlbWVudC9jYW5MaXN0Il0oTUFOQUdFTUVOVC5OT0RFX1BPT0wpKSB7CiAgICAgICAgICAgICAgICBoYXNoLnJrZTFOb2RlUG9vbHMgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5OT0RFX1BPT0wKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbIm1hbmFnZW1lbnQvY2FuTGlzdCJdKE1BTkFHRU1FTlQuTk9ERV9URU1QTEFURSkpIHsKICAgICAgICAgICAgICAgIGhhc2gucmtlMU5vZGVUZW1wbGF0ZXMgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5OT0RFX1RFTVBMQVRFCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgIHJldHVybiBhbGxIYXNoKGhhc2gpOwogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfdGhpcy5ub2RlRHJpdmVycyA9IHJlcy5ub2RlRHJpdmVycyB8fCBbXTsKICAgICAgICAgICAgX3RoaXMua29udGFpbmVyRHJpdmVycyA9IHJlcy5rb250YWluZXJEcml2ZXJzIHx8IFtdOwogICAgICAgICAgICBpZiAoIV90aGlzLnZhbHVlLnNwZWMpIHsKICAgICAgICAgICAgICBzZXQoX3RoaXMudmFsdWUsICdzcGVjJywge30pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghX3RoaXMudmFsdWUuaWQpIHsKICAgICAgICAgICAgICBpZiAoIV90aGlzLnZhbHVlLm1ldGFkYXRhKSB7CiAgICAgICAgICAgICAgICBzZXQoX3RoaXMudmFsdWUsICdtZXRhZGF0YScsIHt9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgc2V0KF90aGlzLnZhbHVlLm1ldGFkYXRhLCAnbmFtZXNwYWNlJywgREVGQVVMVF9XT1JLU1BBQ0UpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBGb3IgdGhlIG5vZGUgZHJpdmVycywgbG9vayBmb3IgY3VzdG9tIFVJIHRoYXQgd2UgY2FuIHVzZSB0byBzaG93IGFuIGljb24gKGlmIG5vdCBidWlsdC1pbikKICAgICAgICAgICAgX3RoaXMubm9kZURyaXZlcnMuZm9yRWFjaChmdW5jdGlvbiAoZHJpdmVyKSB7CiAgICAgICAgICAgICAgdmFyIF9kcml2ZXIkc3BlYywgX2RyaXZlciRzcGVjMiwgX2RyaXZlciRzcGVjMzsKICAgICAgICAgICAgICBpZiAoISgoX2RyaXZlciRzcGVjID0gZHJpdmVyLnNwZWMpICE9PSBudWxsICYmIF9kcml2ZXIkc3BlYyAhPT0gdm9pZCAwICYmIF9kcml2ZXIkc3BlYy5idWlsdGluKSAmJiAoX2RyaXZlciRzcGVjMiA9IGRyaXZlci5zcGVjKSAhPT0gbnVsbCAmJiBfZHJpdmVyJHNwZWMyICE9PSB2b2lkIDAgJiYgX2RyaXZlciRzcGVjMi51aVVybCAmJiAoX2RyaXZlciRzcGVjMyA9IGRyaXZlci5zcGVjKSAhPT0gbnVsbCAmJiBfZHJpdmVyJHNwZWMzICE9PSB2b2lkIDAgJiYgX2RyaXZlciRzcGVjMy5hY3RpdmUpIHsKICAgICAgICAgICAgICAgIHZhciBfZHJpdmVyJHNwZWM0OwogICAgICAgICAgICAgICAgdmFyIG5hbWUgPSAoKF9kcml2ZXIkc3BlYzQgPSBkcml2ZXIuc3BlYykgPT09IG51bGwgfHwgX2RyaXZlciRzcGVjNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RyaXZlciRzcGVjNC5kaXNwbGF5TmFtZSkgfHwgZHJpdmVyLmlkOwogICAgICAgICAgICAgICAgdmFyIGNzc1VybCA9IGRyaXZlci5zcGVjLnVpVXJsLnJlcGxhY2UoL1wuanMkLywgJy5jc3MnKTsKICAgICAgICAgICAgICAgIGlmIChjc3NVcmwuc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IGNzc1VybC5zdGFydHNXaXRoKCdodHRwczovLycpKSB7CiAgICAgICAgICAgICAgICAgIGNzc1VybCA9ICIiLmNvbmNhdChQUk9YWV9FTkRQT0lOVCwgIi8iKS5jb25jYXQoY3NzVXJsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF90aGlzLmxvYWRTdHlsZXNoZWV0KGNzc1VybCwgImRyaXZlci11aS1jc3MtIi5jb25jYXQoZHJpdmVyLmlkKSk7CiAgICAgICAgICAgICAgICBfdGhpcy5pY29uQ2xhc3Nlc1tuYW1lXSA9ICJtYWNoaW5lLWRyaXZlciAiLmNvbmNhdChuYW1lKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gQ3VzdG9tIFByb3ZpZGVycyBmcm9tIGV4dGVuc2lvbnMgLSBpbml0aWFsaXplIGVhY2ggd2l0aCB0aGUgc3RvcmUgYW5kIHRoZSBpMThuIHNlcnZpY2UKICAgICAgICAgICAgLy8gV3JhcCBpbiB0cnkgLi4uIGNhdGNoLCB0byBwcmV2ZW50IGVycm9ycyBpbiBhbiBleHRlbnNpb24gYnJlYWtpbmcgdGhlIHBhZ2UKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBleHRlbnNpb25DbGFzc2VzID0gX3RoaXMuJHBsdWdpbi5saXN0RHluYW1pYygncHJvdmlzaW9uZXInKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcGx1Z2luLmdldER5bmFtaWMoJ3Byb3Zpc2lvbmVyJywgbmFtZSk7CiAgICAgICAgICAgICAgfSk7IC8vIFdlIGNhbid0IHBhc3MgaW4gdGhpcy4kc3RvcmUgYXMgdGhpcyBsZWFkcyB0byBhIGNpcmN1bGFyLXJlZmVyZW5jZSB0aGF0IGNhdXNlcyBWdWUgdG8gZnJlZXplLAogICAgICAgICAgICAgIC8vIHNvIHBhc3MgaW4gc3BlY2lmaWMgc2VydmljZXMgdGhhdCB0aGUgcHJvdmlzaW9uZXIgZXh0ZW5zaW9uIG1heSBuZWVkCiAgICAgICAgICAgICAgX3RoaXMuZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbkNsYXNzZXMubWFwKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGMoewogICAgICAgICAgICAgICAgICBkaXNwYXRjaDogX3RoaXMuJHN0b3JlLmRpc3BhdGNoLAogICAgICAgICAgICAgICAgICBnZXR0ZXJzOiBfdGhpcy4kc3RvcmUuZ2V0dGVycywKICAgICAgICAgICAgICAgICAgYXhpb3M6IF90aGlzLiRzdG9yZS4kYXhpb3MsCiAgICAgICAgICAgICAgICAgICRwbHVnaW46IF90aGlzLiRzdG9yZS5hcHAuJHBsdWdpbiwKICAgICAgICAgICAgICAgICAgdDogZnVuY3Rpb24gdCgpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy50LmFwcGx5KF90aGlzLCBhcmdzKTsKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgaXNDcmVhdGU6IF90aGlzLmlzQ3JlYXRlLAogICAgICAgICAgICAgICAgICBpc0VkaXQ6IF90aGlzLmlzRWRpdCwKICAgICAgICAgICAgICAgICAgaXNWaWV3OiBfdGhpcy5pc1ZpZXcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBwcm92aXNpb25lcihzKSBmcm9tIGV4dGVuc2lvbnMnLCBlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgIH0KICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgc3ViVHlwZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5W1NVQl9UWVBFXSB8fCBudWxsOwogICAgdmFyIGNoYXJ0ID0gdGhpcy4kcm91dGUucXVlcnlbQ0hBUlRdIHx8IG51bGw7CiAgICB2YXIgaXNJbXBvcnQgPSB0aGlzLnJlYWxNb2RlID09PSBfSU1QT1JUOwogICAgcmV0dXJuIHsKICAgICAgbm9kZURyaXZlcnM6IFtdLAogICAgICBrb250YWluZXJEcml2ZXJzOiBbXSwKICAgICAgZXh0ZW5zaW9uczogW10sCiAgICAgIHN1YlR5cGU6IHN1YlR5cGUsCiAgICAgIGNoYXJ0OiBjaGFydCwKICAgICAgaXNJbXBvcnQ6IGlzSW1wb3J0LAogICAgICBwcm92aWRlckNsdXN0ZXI6IG51bGwsCiAgICAgIGljb25DbGFzc2VzOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBhbGxDaGFydHM6ICdjYXRhbG9nL2NoYXJ0cycKICB9KSksIG1hcEdldHRlcnMoJ3R5cGUtbWFwJywgWydhY3RpdmVQcm9kdWN0cyddKSksIHt9LCB7CiAgICBwcmVmZXJyZWRQcm92aXNpb25lcjogbWFwUHJlZihQUk9WSVNJT05FUiksCiAgICBfUktFMTogZnVuY3Rpb24gX1JLRTEoKSB7CiAgICAgIHJldHVybiBfUktFOwogICAgfSwKICAgIF9SS0UyOiBmdW5jdGlvbiBfUktFMigpIHsKICAgICAgcmV0dXJuIF9SS0UzOwogICAgfSwKICAgIGVtYmVyTGluazogZnVuY3Rpb24gZW1iZXJMaW5rKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKHRoaXMudmFsdWUpIHsKICAgICAgICB2YXIgX3RoaXMkdmFsdWUkbWdtdDsKICAgICAgICAvLyBGb3IgY3VzdG9tIFJLRTIgY2x1c3RlcnMsIGRvbid0IGxvYWQgYW4gRW1iZXIgcGFnZS4KICAgICAgICAvLyBJdCBzaG91bGQgYmUgdGhlIGRhc2hib2FyZC4KICAgICAgICBpZiAodGhpcy52YWx1ZS5pc1JrZTIgJiYgKHRoaXMudmFsdWUuaXNDdXN0b20gJiYgdGhpcy5tb2RlID09PSBfRURJVCB8fCB0aGlzLnZhbHVlLmlzQ3VzdG9tICYmIHRoaXMuYXMgPT09IF9DT05GSUcgJiYgdGhpcy5tb2RlID09PSBfVklFVyB8fCAodGhpcy5zdWJUeXBlIHx8ICcnKS50b0xvd2VyQ2FzZSgpID09PSAnY3VzdG9tJykpIHsKICAgICAgICAgIC8vIEZvciBhZG1pbnMsIHRoaXMudmFsdWUuaXNDdXN0b20gaXMgdXNlZCB0byBjaGVjayBpZiBpdCBpcyBhIGN1c3RvbSBjbHVzdGVyLgogICAgICAgICAgLy8gRm9yIGNsdXN0ZXIgb3duZXJzLCB0aGlzLnN1YnR5cGUgaXMgdXNlZC4KICAgICAgICAgIHRoaXMuc2VsZWN0VHlwZSgnY3VzdG9tJywgZmFsc2UpOwogICAgICAgICAgcmV0dXJuICcnOwogICAgICAgIH0KICAgICAgICAvLyBGb3IgUktFMi9LM3MgY2x1c3RlcnMgcHJvdmlzaW9uZWQgaW4gUmFuY2hlciB3aXRoIG5vZGUgcG9vbHMsCiAgICAgICAgLy8gZG8gbm90IHVzZSBhbiBpRnJhbWVkIEVtYmVyIHBhZ2UuCiAgICAgICAgaWYgKHRoaXMudmFsdWUuaXNSa2UyICYmIHRoaXMudmFsdWUubWFjaGluZVByb3ZpZGVyKSB7CiAgICAgICAgICAvLyBFZGl0IGV4aXN0aW5nIFJLRTIKICAgICAgICAgIHRoaXMuc2VsZWN0VHlwZSh0aGlzLnZhbHVlLm1hY2hpbmVQcm92aWRlciwgZmFsc2UpOwogICAgICAgICAgcmV0dXJuICcnOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5zdWJUeXBlKSB7CiAgICAgICAgICAvLyBGb3IgUktFMSBhbmQgaG9zdGVkIEt1YmVybmV0ZXMgQ2x1c3RlcnMsIHNldCB0aGUgZW1iZXIgbGluawogICAgICAgICAgLy8gc28gdGhhdCB3ZSBsb2FkIHRoZSBwYWdlIHJhdGhlciB0aGFuIHVzaW5nIFJLRTIgY3JlYXRlCiAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSB0aGlzLnN1YlR5cGVzLmZpbmQoZnVuY3Rpb24gKHMpIHsKICAgICAgICAgICAgcmV0dXJuIHMuaWQgPT09IF90aGlzMi5zdWJUeXBlOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoc2VsZWN0ZWQgIT09IG51bGwgJiYgc2VsZWN0ZWQgIT09IHZvaWQgMCAmJiBzZWxlY3RlZC5saW5rKSB7CiAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZC5saW5rOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5zZWxlY3RUeXBlKHRoaXMuc3ViVHlwZSwgZmFsc2UpOwogICAgICAgICAgcmV0dXJuICcnOwogICAgICAgIH0KICAgICAgICBpZiAoKF90aGlzJHZhbHVlJG1nbXQgPSB0aGlzLnZhbHVlLm1nbXQpICE9PSBudWxsICYmIF90aGlzJHZhbHVlJG1nbXQgIT09IHZvaWQgMCAmJiBfdGhpcyR2YWx1ZSRtZ210LmVtYmVyRWRpdFBhdGgpIHsKICAgICAgICAgIC8vIElmcmFtZSBhbiBvbGQgcGFnZQogICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUubWdtdC5lbWJlckVkaXRQYXRoOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gJyc7CiAgICB9LAogICAgcmtlMkVuYWJsZWQ6IG1hcEZlYXR1cmUoUktFMl9GRUFUVVJFKSwKICAgIHByb3Zpc2lvbmVyOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIC8vIFRoaXMgY2FuIGluY29ycmVjdGx5IHJldHVybiBya2UxIGluc3RlYWQKICAgICAgICAvLyBvZiBya2UyIGZvciBjbHVzdGVyIG93bmVycy4KICAgICAgICBpZiAoIXRoaXMucmtlMkVuYWJsZWQpIHsKICAgICAgICAgIHJldHVybiBfUktFOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5wcmVmZXJyZWRQcm92aXNpb25lcjsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV1KSB7CiAgICAgICAgdGhpcy5wcmVmZXJyZWRQcm92aXNpb25lciA9IG5ldTsKICAgICAgfQogICAgfSwKICAgIGlzUmtlMTogZnVuY3Rpb24gaXNSa2UxKCkgewogICAgICByZXR1cm4gdGhpcy5wcm92aXNpb25lciA9PT0gX1JLRTsKICAgIH0sCiAgICBpc1JrZTI6IGZ1bmN0aW9uIGlzUmtlMigpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuaXNSa2UyOwogICAgfSwKICAgIHRlbXBsYXRlT3B0aW9uczogZnVuY3Rpb24gdGVtcGxhdGVPcHRpb25zKCkgewogICAgICBpZiAoIXRoaXMucmtlMkVuYWJsZWQpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgICAgdmFyIG91dCA9IGZpbHRlckFuZEFycmFuZ2VDaGFydHModGhpcy5hbGxDaGFydHMsIHsKICAgICAgICBzaG93VHlwZXM6IENBVEFMT0cuX0NMVVNURVJfVFBMCiAgICAgIH0pOwogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIHN1YlR5cGVzOiBmdW5jdGlvbiBzdWJUeXBlcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBnZXR0ZXJzID0gdGhpcy4kc3RvcmUuZ2V0dGVyczsKICAgICAgdmFyIGlzSW1wb3J0ID0gdGhpcy5pc0ltcG9ydDsKICAgICAgdmFyIGlzRWxlbWVudGFsQWN0aXZlID0gISF0aGlzLmFjdGl2ZVByb2R1Y3RzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSBFTEVNRU5UQUxfUFJPRFVDVF9OQU1FOwogICAgICB9KTsKICAgICAgdmFyIG91dCA9IFtdOwogICAgICB2YXIgdGVtcGxhdGVzID0gdGhpcy50ZW1wbGF0ZU9wdGlvbnM7CiAgICAgIHZhciB2dWVLb250YWluZXJUeXBlcyA9IGdldHRlcnNbJ3BsdWdpbnMvY2x1c3RlckRyaXZlcnMnXTsKICAgICAgdmFyIG1hY2hpbmVUeXBlcyA9IHRoaXMubm9kZURyaXZlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHguc3BlYy5hY3RpdmUgJiYgeC5zdGF0ZSA9PT0gJ2FjdGl2ZSc7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4LnNwZWMuZGlzcGxheU5hbWUgfHwgeC5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMua29udGFpbmVyRHJpdmVycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4gaXNJbXBvcnQgPyB4LnNob3dJbXBvcnQgOiB4LnNob3dDcmVhdGU7CiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKG9iaikgewogICAgICAgIGlmICh2dWVLb250YWluZXJUeXBlcy5pbmNsdWRlcyhvYmouZHJpdmVyTmFtZSkpIHsKICAgICAgICAgIGFkZFR5cGUob2JqLmRyaXZlck5hbWUsICdrb250YWluZXInLCBmYWxzZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFkZFR5cGUob2JqLmRyaXZlck5hbWUsICdrb250YWluZXInLCBmYWxzZSwgaXNJbXBvcnQgPyBvYmouZW1iZXJJbXBvcnRQYXRoIDogb2JqLmVtYmVyQ3JlYXRlUGF0aCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKGlzSW1wb3J0KSB7CiAgICAgICAgYWRkVHlwZSgnaW1wb3J0JywgJ2N1c3RvbScsIGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0ZW1wbGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hhcnQpIHsKICAgICAgICAgIG91dC5wdXNoKHsKICAgICAgICAgICAgaWQ6ICJjaGFydDoiLmNvbmNhdChjaGFydC5pZCksCiAgICAgICAgICAgIGxhYmVsOiBjaGFydC5jaGFydE5hbWVEaXNwbGF5LAogICAgICAgICAgICBkZXNjcmlwdGlvbjogY2hhcnQuY2hhcnREZXNjcmlwdGlvbiwKICAgICAgICAgICAgaWNvbjogY2hhcnQuaWNvbiB8fCByZXF1aXJlKCd+c2hlbGwvYXNzZXRzL2ltYWdlcy9nZW5lcmljLWNhdGFsb2cuc3ZnJyksCiAgICAgICAgICAgIGdyb3VwOiAndGVtcGxhdGUnLAogICAgICAgICAgICB0YWc6IGdldHRlcnNbJ2kxOG4vdCddKCdnZW5lcmljLnRlY2hQcmV2aWV3JykKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIGlmICh0aGlzLmlzUmtlMSkgewogICAgICAgICAgbWFjaGluZVR5cGVzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgIGFkZFR5cGUoaWQsICdya2UxJywgZmFsc2UsICIvZy9jbHVzdGVycy9hZGQvbGF1bmNoLyIuY29uY2F0KGlkKSwgX3RoaXMzLmljb25DbGFzc2VzW2lkXSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGFkZFR5cGUoJ2N1c3RvbScsICdjdXN0b20xJywgZmFsc2UsICcvZy9jbHVzdGVycy9hZGQvbGF1bmNoL2N1c3RvbScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtYWNoaW5lVHlwZXMuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgYWRkVHlwZShpZCwgJ3JrZTInLCBmYWxzZSk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICAvLyBBZGQgZnJvbSBleHRlbnNpb25zCiAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAoZXh0KSB7CiAgICAgICAgICAgIGFkZEV4dGVuc2lvblR5cGUoZXh0LCBnZXR0ZXJzKTsKICAgICAgICAgIH0pOwogICAgICAgICAgYWRkVHlwZSgnY3VzdG9tJywgJ2N1c3RvbTInLCBmYWxzZSk7CiAgICAgICAgICBpZiAoaXNFbGVtZW50YWxBY3RpdmUpIHsKICAgICAgICAgICAgYWRkVHlwZShFTEVNRU5UQUxfQ0xVU1RFUl9QUk9WSURFUiwgJ2N1c3RvbTInLCBmYWxzZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBvdXQ7CiAgICAgIGZ1bmN0aW9uIGFkZEV4dGVuc2lvblR5cGUoZXh0LCBnZXR0ZXJzKSB7CiAgICAgICAgdmFyIGljb25DbGFzcyA9IGV4dC5pY29uQ2xhc3M7CiAgICAgICAgdmFyIGljb24gPSBleHQuaWNvbjsKICAgICAgICBpZiAoaWNvbikgewogICAgICAgICAgaWNvbkNsYXNzID0gdW5kZWZpbmVkOwogICAgICAgIH0gZWxzZSBpZiAoIWljb25DbGFzcykgewogICAgICAgICAgaWNvbiA9IHJlcXVpcmUoJ35zaGVsbC9hc3NldHMvaW1hZ2VzL2dlbmVyaWMtZHJpdmVyLnN2ZycpOwogICAgICAgIH0KICAgICAgICB2YXIgc3VidHlwZSA9IHsKICAgICAgICAgIGlkOiBleHQuaWQsCiAgICAgICAgICBsYWJlbDogZXh0LmxhYmVsIHx8IGdldHRlcnNbJ2kxOG4vdCddKCJjbHVzdGVyLnByb3ZpZGVyLiIuY29uY2F0KGV4dC5pZCkpLAogICAgICAgICAgZGVzY3JpcHRpb246IGV4dC5kZXNjcmlwdGlvbiwKICAgICAgICAgIGljb246IGljb24sCiAgICAgICAgICBpY29uQ2xhc3M6IGljb25DbGFzcywKICAgICAgICAgIGdyb3VwOiBleHQuZ3JvdXAgfHwgJ3JrZTInLAogICAgICAgICAgZGlzYWJsZWQ6IGV4dC5kaXNhYmxlZCB8fCBmYWxzZSwKICAgICAgICAgIGxpbms6IGV4dC5saW5rLAogICAgICAgICAgdGFnOiBleHQudGFnCiAgICAgICAgfTsKICAgICAgICBvdXQucHVzaChzdWJ0eXBlKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBhZGRUeXBlKGlkLCBncm91cCkgewogICAgICAgIHZhciBkaXNhYmxlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7CiAgICAgICAgdmFyIGxpbmsgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7CiAgICAgICAgdmFyIGljb25DbGFzcyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogdW5kZWZpbmVkOwogICAgICAgIHZhciBsYWJlbCA9IGdldHRlcnNbJ2kxOG4vd2l0aEZhbGxiYWNrJ10oImNsdXN0ZXIucHJvdmlkZXIuXCIiLmNvbmNhdChpZCwgIlwiIiksIG51bGwsIGlkKTsKICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBnZXR0ZXJzWydpMThuL3dpdGhGYWxsYmFjayddKCJjbHVzdGVyLnByb3ZpZGVyRGVzY3JpcHRpb24uXCIiLmNvbmNhdChpZCwgIlwiIiksIG51bGwsICcnKTsKICAgICAgICB2YXIgdGFnID0gJyc7CiAgICAgICAgdmFyIGljb247CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGljb24gPSByZXF1aXJlKCJ+c2hlbGwvYXNzZXRzL2ltYWdlcy9wcm92aWRlcnMvIi5jb25jYXQoaWQsICIuc3ZnIikpOwogICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgaWYgKGljb24pIHsKICAgICAgICAgIGljb25DbGFzcyA9IHVuZGVmaW5lZDsKICAgICAgICB9IGVsc2UgaWYgKCFpY29uQ2xhc3MpIHsKICAgICAgICAgIGljb24gPSByZXF1aXJlKCd+c2hlbGwvYXNzZXRzL2ltYWdlcy9nZW5lcmljLWRyaXZlci5zdmcnKTsKICAgICAgICB9CiAgICAgICAgdmFyIHN1YnR5cGUgPSB7CiAgICAgICAgICBpZDogaWQsCiAgICAgICAgICBsYWJlbDogbGFiZWwsCiAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sCiAgICAgICAgICBpY29uOiBpY29uLAogICAgICAgICAgaWNvbkNsYXNzOiBpY29uQ2xhc3MsCiAgICAgICAgICBncm91cDogZ3JvdXAsCiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsCiAgICAgICAgICBsaW5rOiBsaW5rLAogICAgICAgICAgdGFnOiB0YWcKICAgICAgICB9OwogICAgICAgIG91dC5wdXNoKHN1YnR5cGUpOwogICAgICB9CiAgICB9LAogICAgZ3JvdXBlZFN1YlR5cGVzOiBmdW5jdGlvbiBncm91cGVkU3ViVHlwZXMoKSB7CiAgICAgIHZhciBvdXQgPSB7fTsKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuc3ViVHlwZXMpLAogICAgICAgIF9zdGVwOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgcm93ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB2YXIgbmFtZSA9IHJvdy5ncm91cDsKICAgICAgICAgIHZhciBlbnRyeSA9IG91dFtuYW1lXTsKICAgICAgICAgIGlmICghZW50cnkpIHsKICAgICAgICAgICAgZW50cnkgPSB7CiAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICBsYWJlbDogdGhpcy4kc3RvcmUuZ2V0dGVyc1snaTE4bi93aXRoRmFsbGJhY2snXSgiY2x1c3Rlci5wcm92aWRlckdyb3VwLlwiIi5jb25jYXQodGhpcy5pc0ltcG9ydCA/ICdyZWdpc3Rlci0nIDogJ2NyZWF0ZS0nKS5jb25jYXQobmFtZSwgIlwiIiksIG51bGwsIG5hbWUpLAogICAgICAgICAgICAgIHR5cGVzOiBbXSwKICAgICAgICAgICAgICBzb3J0OiBTT1JUX0dST1VQU1tuYW1lXQogICAgICAgICAgICB9OwogICAgICAgICAgICBvdXRbbmFtZV0gPSBlbnRyeTsKICAgICAgICAgIH0KICAgICAgICAgIGVudHJ5LnR5cGVzLnB1c2gocm93KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgICBmb3IgKHZhciBrIGluIG91dCkgewogICAgICAgIG91dFtrXS50eXBlcyA9IHNvcnRCeShvdXRba10udHlwZXMsICdsYWJlbCcpOwogICAgICB9CiAgICAgIHJldHVybiBzb3J0QnkoT2JqZWN0LnZhbHVlcyhvdXQpLCAnc29ydCcpOwogICAgfSwKICAgIGZpcnN0Tm9kZURyaXZlckl0ZW06IGZ1bmN0aW9uIGZpcnN0Tm9kZURyaXZlckl0ZW0oKSB7CiAgICAgIHJldHVybiB0aGlzLmdyb3VwZWRTdWJUeXBlcy5maW5kSW5kZXgoZnVuY3Rpb24gKG9iaikgewogICAgICAgIHJldHVybiBbX1JLRSwgX1JLRTNdLmluY2x1ZGVzKG9iai5uYW1lKTsKICAgICAgfSk7CiAgICB9LAogICAgZmlyc3RDdXN0b21DbHVzdGVySXRlbTogZnVuY3Rpb24gZmlyc3RDdXN0b21DbHVzdGVySXRlbSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZ3JvdXBlZFN1YlR5cGVzLmZpbmRJbmRleChmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgcmV0dXJuIFsnY3VzdG9tJywgJ2N1c3RvbTEnLCAnY3VzdG9tMiddLmluY2x1ZGVzKG9iai5uYW1lKTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgc2hvd1JrZVRvZ2dsZTogZnVuY3Rpb24gc2hvd1JrZVRvZ2dsZShpKSB7CiAgICAgIGlmICh0aGlzLmlzSW1wb3J0IHx8ICF0aGlzLnJrZTJFbmFibGVkKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmICh0aGlzLmZpcnN0Tm9kZURyaXZlckl0ZW0gPj0gMCkgewogICAgICAgIHJldHVybiBpID09PSB0aGlzLmZpcnN0Tm9kZURyaXZlckl0ZW07CiAgICAgIH0KICAgICAgcmV0dXJuIGkgPT09IHRoaXMuZmlyc3RDdXN0b21DbHVzdGVySXRlbTsKICAgIH0sCiAgICBsb2FkU3R5bGVzaGVldDogZnVuY3Rpb24gbG9hZFN0eWxlc2hlZXQodXJsLCBpZCkgewogICAgICBpZiAoIWlkKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignbG9hZFN0eWxlc2hlZXQgY2FsbGVkIHdpdGhvdXQgYW4gaWQnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCgogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8gQ2hlY2sgaWYgdGhlIHN0eWxlc2hlZXQgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQKICAgICAgaWYgKCQoIiMiLmNvbmNhdChpZCkpLmxlbmd0aCA+IDApIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpOwogICAgICBsaW5rLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgbGluay5yZW1vdmUoKTsKICAgICAgfTsKICAgICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7CiAgICAgIGxpbmsuc3JjID0gdXJsOwogICAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICAgIGxpbmsuaWQgPSBpZDsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0hFQUQnKVswXS5hcHBlbmRDaGlsZChsaW5rKTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZScsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjbHVzdGVyOiB0aGlzLiRyb3V0ZS5wYXJhbXMuY2x1c3RlciwKICAgICAgICAgIHByb2R1Y3Q6IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3Byb2R1Y3RJZCddLAogICAgICAgICAgcmVzb3VyY2U6IENBUEkuUkFOQ0hFUl9DTFVTVEVSCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjb2xvckZvcjogZnVuY3Rpb24gY29sb3JGb3Iob2JqKSB7CiAgICAgIHJldHVybiAiY29sb3IiLmNvbmNhdChTT1JUX0dST1VQU1tvYmouZ3JvdXBdIHx8IDEpOwogICAgfSwKICAgIGNsaWNrZWRUeXBlOiBmdW5jdGlvbiBjbGlja2VkVHlwZShvYmopIHsKICAgICAgdmFyIGlkID0gb2JqLmlkOwogICAgICB2YXIgcGFydHMgPSBpZC5zcGxpdCgnOicsIDIpOwogICAgICBpZiAocGFydHNbMF0gPT09ICdjaGFydCcpIHsKICAgICAgICB2YXIgX2xvY2FsQ2x1c3RlcjsKICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjYXRhbG9nL2NoYXJ0J10oewogICAgICAgICAga2V5OiBwYXJ0c1sxXQogICAgICAgIH0pOwogICAgICAgIHZhciBsb2NhbENsdXN0ZXI7CiAgICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbIm1hbmFnZW1lbnQvY2FuTGlzdCJdKE1BTkFHRU1FTlQuQ0xVU1RFUikpIHsKICAgICAgICAgIGxvY2FsQ2x1c3RlciA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvYWxsJ10oTUFOQUdFTUVOVC5DTFVTVEVSKS5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiB4LmlzTG9jYWw7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgY2hhcnQuZ29Ub0luc3RhbGwoRlJPTV9DTFVTVEVSLCAoKF9sb2NhbENsdXN0ZXIgPSBsb2NhbENsdXN0ZXIpID09PSBudWxsIHx8IF9sb2NhbENsdXN0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sb2NhbENsdXN0ZXIuaWQpIHx8IEJMQU5LX0NMVVNURVIsIHRydWUpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLiRyb3V0ZXIuYXBwbHlRdWVyeShfZGVmaW5lUHJvcGVydHkoe30sIFNVQl9UWVBFLCBpZCkpOwogICAgICB0aGlzLnNlbGVjdFR5cGUoaWQpOwogICAgfSwKICAgIHNlbGVjdFR5cGU6IGZ1bmN0aW9uIHNlbGVjdFR5cGUodHlwZSkgewogICAgICB2YXIgZmV0Y2ggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgICAgIHZhciBwYXJ0cyA9IHR5cGUuc3BsaXQoJzonLCAyKTsKICAgICAgaWYgKHBhcnRzWzBdID09PSAnY2hhcnQnKSB7CiAgICAgICAgdGhpcy5zdWJUeXBlID0gJ2NoYXJ0JzsKICAgICAgICB0aGlzLiRlbWl0KCdzZXQtc3VidHlwZScsIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2kxOG4vd2l0aEZhbGxiYWNrJ10oImNsdXN0ZXIucHJvdmlkZXIuY2hhcnQiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zdWJUeXBlID0gdHlwZTsKICAgICAgICB0aGlzLiRlbWl0KCdzZXQtc3VidHlwZScsIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2kxOG4vd2l0aEZhbGxiYWNrJ10oImNsdXN0ZXIucHJvdmlkZXIuXCIiLmNvbmNhdCh0eXBlLCAiXCIiKSwgbnVsbCwgdHlwZSkpOwogICAgICB9CiAgICAgIGlmIChmZXRjaCkgewogICAgICAgIHRoaXMuJGZldGNoKCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["CreateEditView","Loading","CruResource","SelectIconGrid","EmberPage","ToggleSwitch","CHART","FROM_CLUSTER","SUB_TYPE","_EDIT","_IMPORT","_CONFIG","_VIEW","mapGetters","sortBy","set","mapPref","PROVISIONER","_RKE1","_RKE2","filterAndArrangeCharts","CATALOG","CAPI","MANAGEMENT","DEFAULT_WORKSPACE","mapFeature","RKE2","RKE2_FEATURE","allHash","BLANK_CLUSTER","ELEMENTAL_PRODUCT_NAME","ELEMENTAL_CLUSTER_PROVIDER","Rke2Config","Import","SORT_GROUPS","template","kontainer","rke1","rke2","register","custom","custom1","custom2","PROXY_ENDPOINT","name","components","mixins","props","realMode","type","String","required","mode","value","Object","default","componentTestid","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","hash","res","extensionClasses","wrap","_callee$","_context","prev","next","mgmtClusters","$store","dispatch","CLUSTER","provClusters","RANCHER_CLUSTER","catalog","getters","NODE_DRIVER","nodeDrivers","KONTAINER_DRIVER","kontainerDrivers","id","isRke2","NODE_POOL","rke1NodePools","NODE_TEMPLATE","rke1NodeTemplates","sent","spec","metadata","forEach","driver","_driver$spec","_driver$spec2","_driver$spec3","builtin","uiUrl","active","_driver$spec4","displayName","cssUrl","replace","startsWith","concat","loadStylesheet","iconClasses","$plugin","listDynamic","map","getDynamic","extensions","c","axios","$axios","app","t","_len","arguments","length","args","Array","_key","apply","isCreate","isEdit","isView","e","console","error","stop","data","subType","$route","query","chart","isImport","providerCluster","computed","_objectSpread","allCharts","preferredProvisioner","emberLink","_this2","_this$value$mgmt","isCustom","as","toLowerCase","selectType","machineProvider","selected","subTypes","find","s","link","mgmt","emberEditPath","rke2Enabled","provisioner","get","neu","isRke1","templateOptions","out","showTypes","_CLUSTER_TPL","_this3","isElementalActive","activeProducts","item","templates","vueKontainerTypes","machineTypes","filter","x","state","showImport","showCreate","obj","includes","driverName","addType","emberImportPath","emberCreatePath","push","label","chartNameDisplay","description","chartDescription","icon","require","group","tag","ext","addExtensionType","iconClass","undefined","subtype","disabled","groupedSubTypes","_iterator","_createForOfIteratorHelper","_step","n","done","row","entry","types","sort","err","f","k","values","firstNodeDriverItem","findIndex","firstCustomClusterItem","methods","showRkeToggle","i","url","$","document","createElement","onerror","remove","rel","src","href","getElementsByTagName","appendChild","cancel","$router","params","cluster","product","resource","colorFor","clickedType","parts","split","_localCluster","key","localCluster","isLocal","goToInstall","applyQuery","_defineProperty","$emit","$fetch"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/index.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Loading from '@shell/components/Loading';\nimport CruResource from '@shell/components/CruResource';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport EmberPage from '@shell/components/EmberPage';\nimport { ToggleSwitch } from '@components/Form/ToggleSwitch';\nimport {\n  CHART, FROM_CLUSTER, SUB_TYPE, _EDIT, _IMPORT, _CONFIG, _VIEW\n} from '@shell/config/query-params';\nimport { mapGetters } from 'vuex';\nimport { sortBy } from '@shell/utils/sort';\nimport { set } from '@shell/utils/object';\nimport { mapPref, PROVISIONER, _RKE1, _RKE2 } from '@shell/store/prefs';\nimport { filterAndArrangeCharts } from '@shell/store/catalog';\nimport { CATALOG } from '@shell/config/labels-annotations';\nimport { CAPI, MANAGEMENT, DEFAULT_WORKSPACE } from '@shell/config/types';\nimport { mapFeature, RKE2 as RKE2_FEATURE } from '@shell/store/features';\nimport { allHash } from '@shell/utils/promise';\nimport { BLANK_CLUSTER } from '@shell/store/store-types.js';\nimport { ELEMENTAL_PRODUCT_NAME, ELEMENTAL_CLUSTER_PROVIDER } from '../../config/elemental-types';\nimport Rke2Config from './rke2';\nimport Import from './import';\n\nconst SORT_GROUPS = {\n  template:  1,\n  kontainer: 2,\n  rke1:      3,\n  rke2:      3,\n  register:  4,\n  custom:    5,\n  custom1:   5,\n  custom2:   5,\n};\n\n// uSed to proxy stylesheets for custom drivers that provide custom UI (RKE1)\nconst PROXY_ENDPOINT = '/meta/proxy';\n\nexport default {\n  name: 'CruCluster',\n\n  components: {\n    CruResource,\n    EmberPage,\n    Import,\n    Loading,\n    Rke2Config,\n    SelectIconGrid,\n    ToggleSwitch\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    realMode: {\n      type:     String,\n      required: true,\n    },\n\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:    Object,\n      default: null,\n    },\n\n    /**\n     * Inherited global identifier prefix for tests\n     * Define a term based on the parent component to avoid conflicts on multiple components\n     */\n    componentTestid: {\n      type:    String,\n      default: 'cluster-manager-create'\n    }\n  },\n\n  async fetch() {\n    const hash = {\n      // These aren't explicitly used, but need to be listening for change events\n      mgmtClusters: this.$store.dispatch('management/findAll', { type: MANAGEMENT.CLUSTER }),\n      provClusters: this.$store.dispatch('management/findAll', { type: CAPI.RANCHER_CLUSTER }),\n\n      catalog: this.$store.dispatch('catalog/load'),\n    };\n\n    if (this.$store.getters[`management/canList`](MANAGEMENT.NODE_DRIVER)) {\n      hash.nodeDrivers = this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE_DRIVER });\n    }\n\n    if (this.$store.getters[`management/canList`](MANAGEMENT.KONTAINER_DRIVER)) {\n      hash.kontainerDrivers = this.$store.dispatch('management/findAll', { type: MANAGEMENT.KONTAINER_DRIVER });\n    }\n\n    if ( this.value.id && !this.value.isRke2 ) {\n      // These are needed to resolve references in the mgmt cluster -> node pool -> node template to figure out what provider the cluster is using\n      // so that the edit iframe for ember pages can go to the right place.\n      if (this.$store.getters[`management/canList`](MANAGEMENT.NODE_POOL)) {\n        hash.rke1NodePools = this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE_POOL });\n      }\n\n      if (this.$store.getters[`management/canList`](MANAGEMENT.NODE_TEMPLATE)) {\n        hash.rke1NodeTemplates = this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE_TEMPLATE });\n      }\n    }\n\n    const res = await allHash(hash);\n\n    this.nodeDrivers = res.nodeDrivers || [];\n    this.kontainerDrivers = res.kontainerDrivers || [];\n\n    if ( !this.value.spec ) {\n      set(this.value, 'spec', {});\n    }\n\n    if ( !this.value.id ) {\n      if ( !this.value.metadata ) {\n        set(this.value, 'metadata', {});\n      }\n\n      set(this.value.metadata, 'namespace', DEFAULT_WORKSPACE);\n    }\n\n    // For the node drivers, look for custom UI that we can use to show an icon (if not built-in)\n    this.nodeDrivers.forEach((driver) => {\n      if (!driver.spec?.builtin && driver.spec?.uiUrl && driver.spec?.active) {\n        const name = driver.spec?.displayName || driver.id;\n        let cssUrl = driver.spec.uiUrl.replace(/\\.js$/, '.css');\n\n        if (cssUrl.startsWith('http://') || cssUrl.startsWith('https://')) {\n          cssUrl = `${ PROXY_ENDPOINT }/${ cssUrl }`;\n        }\n\n        this.loadStylesheet(cssUrl, `driver-ui-css-${ driver.id }`);\n\n        this.iconClasses[name] = `machine-driver ${ name }`;\n      }\n    });\n\n    // Custom Providers from extensions - initialize each with the store and the i18n service\n    // Wrap in try ... catch, to prevent errors in an extension breaking the page\n    try {\n      const extensionClasses = this.$plugin.listDynamic('provisioner').map((name) => this.$plugin.getDynamic('provisioner', name));\n\n      // We can't pass in this.$store as this leads to a circular-reference that causes Vue to freeze,\n      // so pass in specific services that the provisioner extension may need\n      this.extensions = extensionClasses.map((c) => new c({\n        dispatch: this.$store.dispatch,\n        getters:  this.$store.getters,\n        axios:    this.$store.$axios,\n        $plugin:  this.$store.app.$plugin,\n        t:        (...args) => this.t.apply(this, args),\n        isCreate: this.isCreate,\n        isEdit:   this.isEdit,\n        isView:   this.isView,\n      }));\n    } catch (e) {\n      console.error('Error loading provisioner(s) from extensions', e); // eslint-disable-line no-console\n    }\n  },\n\n  data() {\n    const subType = this.$route.query[SUB_TYPE] || null;\n    const chart = this.$route.query[CHART] || null;\n    const isImport = this.realMode === _IMPORT;\n\n    return {\n      nodeDrivers:      [],\n      kontainerDrivers: [],\n      extensions:       [],\n      subType,\n      chart,\n      isImport,\n      providerCluster:  null,\n      iconClasses:      {},\n    };\n  },\n\n  computed: {\n    ...mapGetters({ allCharts: 'catalog/charts' }),\n    ...mapGetters('type-map', ['activeProducts']),\n    preferredProvisioner: mapPref(PROVISIONER),\n    _RKE1:                () => _RKE1,\n    _RKE2:                () => _RKE2,\n\n    emberLink() {\n      if (this.value) {\n        // For custom RKE2 clusters, don't load an Ember page.\n        // It should be the dashboard.\n        if ( this.value.isRke2 && ((this.value.isCustom && this.mode === _EDIT) || (this.value.isCustom && this.as === _CONFIG && this.mode === _VIEW) || (this.subType || '').toLowerCase() === 'custom')) {\n          // For admins, this.value.isCustom is used to check if it is a custom cluster.\n          // For cluster owners, this.subtype is used.\n          this.selectType('custom', false);\n\n          return '';\n        }\n        // For RKE2/K3s clusters provisioned in Rancher with node pools,\n        // do not use an iFramed Ember page.\n        if ( this.value.isRke2 && this.value.machineProvider ) {\n          // Edit existing RKE2\n          this.selectType(this.value.machineProvider, false);\n\n          return '';\n        }\n        if ( this.subType ) {\n          // For RKE1 and hosted Kubernetes Clusters, set the ember link\n          // so that we load the page rather than using RKE2 create\n          const selected = this.subTypes.find((s) => s.id === this.subType);\n\n          if (selected?.link) {\n            return selected.link;\n          }\n\n          this.selectType(this.subType, false);\n\n          return '';\n        }\n\n        if ( this.value.mgmt?.emberEditPath ) {\n          // Iframe an old page\n          return this.value.mgmt.emberEditPath;\n        }\n      }\n\n      return '';\n    },\n\n    rke2Enabled: mapFeature(RKE2_FEATURE),\n\n    provisioner: {\n      get() {\n        // This can incorrectly return rke1 instead\n        // of rke2 for cluster owners.\n        if ( !this.rke2Enabled ) {\n          return _RKE1;\n        }\n\n        return this.preferredProvisioner;\n      },\n\n      set(neu) {\n        this.preferredProvisioner = neu;\n      },\n    },\n\n    isRke1() {\n      return this.provisioner === _RKE1;\n    },\n\n    isRke2() {\n      return this.value.isRke2;\n    },\n\n    templateOptions() {\n      if ( !this.rke2Enabled ) {\n        return [];\n      }\n\n      const out = filterAndArrangeCharts(this.allCharts, { showTypes: CATALOG._CLUSTER_TPL });\n\n      return out;\n    },\n\n    subTypes() {\n      const getters = this.$store.getters;\n      const isImport = this.isImport;\n      const isElementalActive = !!this.activeProducts.find((item) => item.name === ELEMENTAL_PRODUCT_NAME);\n\n      const out = [];\n\n      const templates = this.templateOptions;\n      const vueKontainerTypes = getters['plugins/clusterDrivers'];\n      const machineTypes = this.nodeDrivers.filter((x) => x.spec.active && x.state === 'active').map((x) => x.spec.displayName || x.id);\n\n      this.kontainerDrivers.filter((x) => (isImport ? x.showImport : x.showCreate)).forEach((obj) => {\n        if ( vueKontainerTypes.includes(obj.driverName) ) {\n          addType(obj.driverName, 'kontainer', false);\n        } else {\n          addType(obj.driverName, 'kontainer', false, (isImport ? obj.emberImportPath : obj.emberCreatePath));\n        }\n      });\n\n      if ( isImport ) {\n        addType('import', 'custom', false);\n      } else {\n        templates.forEach((chart) => {\n          out.push({\n            id:          `chart:${ chart.id }`,\n            label:       chart.chartNameDisplay,\n            description: chart.chartDescription,\n            icon:        chart.icon || require('~shell/assets/images/generic-catalog.svg'),\n            group:       'template',\n            tag:         getters['i18n/t']('generic.techPreview')\n          });\n        });\n\n        if (this.isRke1 ) {\n          machineTypes.forEach((id) => {\n            addType(id, 'rke1', false, `/g/clusters/add/launch/${ id }`, this.iconClasses[id]);\n          });\n\n          addType('custom', 'custom1', false, '/g/clusters/add/launch/custom');\n        } else {\n          machineTypes.forEach((id) => {\n            addType(id, 'rke2', false);\n          });\n\n          // Add from extensions\n          this.extensions.forEach((ext) => {\n            addExtensionType(ext, getters);\n          });\n\n          addType('custom', 'custom2', false);\n\n          if (isElementalActive) {\n            addType(ELEMENTAL_CLUSTER_PROVIDER, 'custom2', false);\n          }\n        }\n      }\n\n      return out;\n\n      function addExtensionType(ext, getters) {\n        let iconClass = ext.iconClass;\n        let icon = ext.icon;\n\n        if (icon) {\n          iconClass = undefined;\n        } else if (!iconClass) {\n          icon = require('~shell/assets/images/generic-driver.svg');\n        }\n\n        const subtype = {\n          id:          ext.id,\n          label:       ext.label || getters['i18n/t'](`cluster.provider.${ ext.id }`),\n          description: ext.description,\n          icon,\n          iconClass,\n          group:       ext.group || 'rke2',\n          disabled:    ext.disabled || false,\n          link:        ext.link,\n          tag:         ext.tag\n        };\n\n        out.push(subtype);\n      }\n\n      function addType(id, group, disabled = false, link = null, iconClass = undefined) {\n        const label = getters['i18n/withFallback'](`cluster.provider.\"${ id }\"`, null, id);\n        const description = getters['i18n/withFallback'](`cluster.providerDescription.\"${ id }\"`, null, '');\n        const tag = '';\n\n        let icon;\n\n        try {\n          icon = require(`~shell/assets/images/providers/${ id }.svg`);\n        } catch (e) {}\n\n        if (icon) {\n          iconClass = undefined;\n        } else if (!iconClass) {\n          icon = require('~shell/assets/images/generic-driver.svg');\n        }\n\n        const subtype = {\n          id,\n          label,\n          description,\n          icon,\n          iconClass,\n          group,\n          disabled,\n          link,\n          tag\n        };\n\n        out.push(subtype);\n      }\n    },\n\n    groupedSubTypes() {\n      const out = {};\n\n      for ( const row of this.subTypes ) {\n        const name = row.group;\n        let entry = out[name];\n\n        if ( !entry ) {\n          entry = {\n            name,\n            label: this.$store.getters['i18n/withFallback'](`cluster.providerGroup.\"${ this.isImport ? 'register-' : 'create-' }${ name }\"`, null, name),\n            types: [],\n            sort:  SORT_GROUPS[name],\n          };\n\n          out[name] = entry;\n        }\n\n        entry.types.push(row);\n      }\n\n      for ( const k in out ) {\n        out[k].types = sortBy(out[k].types, 'label');\n      }\n\n      return sortBy(Object.values(out), 'sort');\n    },\n\n    firstNodeDriverItem() {\n      return this.groupedSubTypes.findIndex((obj) => [_RKE1, _RKE2].includes(obj.name));\n    },\n\n    firstCustomClusterItem() {\n      return this.groupedSubTypes.findIndex((obj) => ['custom', 'custom1', 'custom2'].includes(obj.name));\n    },\n  },\n\n  methods: {\n    showRkeToggle(i) {\n      if (this.isImport || !this.rke2Enabled) {\n        return false;\n      }\n\n      if (this.firstNodeDriverItem >= 0) {\n        return i === this.firstNodeDriverItem;\n      }\n\n      return i === this.firstCustomClusterItem;\n    },\n\n    loadStylesheet(url, id) {\n      if ( !id ) {\n        console.error('loadStylesheet called without an id'); // eslint-disable-line no-console\n\n        return;\n      }\n\n      // Check if the stylesheet has already been loaded\n      if ( $(`#${id}`).length > 0 ) { // eslint-disable-line\n        return;\n      }\n\n      const link = document.createElement('link');\n\n      link.onerror = () => {\n        link.remove();\n      };\n      link.rel = 'stylesheet';\n      link.src = url;\n      link.href = url;\n      link.id = id;\n      document.getElementsByTagName('HEAD')[0].appendChild(link);\n    },\n\n    cancel() {\n      this.$router.push({\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  this.$route.params.cluster,\n          product:  this.$store.getters['productId'],\n          resource: CAPI.RANCHER_CLUSTER,\n        },\n      });\n    },\n\n    colorFor(obj) {\n      return `color${ SORT_GROUPS[obj.group] || 1 }`;\n    },\n\n    clickedType(obj) {\n      const id = obj.id;\n      const parts = id.split(':', 2);\n\n      if ( parts[0] === 'chart' ) {\n        const chart = this.$store.getters['catalog/chart']({ key: parts[1] });\n        let localCluster;\n\n        if (this.$store.getters[`management/canList`](MANAGEMENT.CLUSTER)) {\n          localCluster = this.$store.getters['management/all'](MANAGEMENT.CLUSTER).find((x) => x.isLocal);\n        }\n\n        chart.goToInstall(FROM_CLUSTER, localCluster?.id || BLANK_CLUSTER, true);\n\n        return;\n      }\n\n      this.$router.applyQuery({ [SUB_TYPE]: id });\n      this.selectType(id);\n    },\n\n    selectType(type, fetch = true) {\n      const parts = type.split(':', 2);\n\n      if ( parts[0] === 'chart' ) {\n        this.subType = 'chart';\n        this.$emit('set-subtype', this.$store.getters['i18n/withFallback'](`cluster.provider.chart`));\n      } else {\n        this.subType = type;\n        this.$emit('set-subtype', this.$store.getters['i18n/withFallback'](`cluster.provider.\"${ type }\"`, null, type));\n      }\n\n      if ( fetch ) {\n        this.$fetch();\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div\n    v-else-if=\"emberLink\"\n    class=\"embed\"\n  >\n    <EmberPage\n      :force-new=\"true\"\n      :src=\"emberLink\"\n    />\n  </div>\n  <CruResource\n    v-else\n    :mode=\"mode\"\n    :validation-passed=\"true\"\n    :selected-subtype=\"subType\"\n    :resource=\"value\"\n    :errors=\"errors\"\n    :subtypes=\"subTypes\"\n    :cancel-event=\"true\"\n    :prevent-enter-submit=\"true\"\n    class=\"create-cluster\"\n    @finish=\"save\"\n    @cancel=\"cancel\"\n    @select-type=\"selectType\"\n    @error=\"e=>errors = e\"\n  >\n    <template #subtypes>\n      <div\n        v-for=\"(obj, i) in groupedSubTypes\"\n        :key=\"obj.id\"\n        class=\"mb-20\"\n        style=\"width: 100%;\"\n      >\n        <h4>\n          <div\n            v-if=\"showRkeToggle(i)\"\n            class=\"grouped-type\"\n          >\n            <ToggleSwitch\n              v-model=\"provisioner\"\n              data-testid=\"cluster-manager-create-rke-switch\"\n              class=\"rke-switch\"\n              off-value=\"rke1\"\n              :off-label=\"t('cluster.toggle.v1')\"\n              on-value=\"rke2\"\n              :on-label=\"t('cluster.toggle.v2')\"\n            />\n          </div>\n          {{ obj.label }}\n        </h4>\n        <SelectIconGrid\n          :rows=\"obj.types\"\n          key-field=\"id\"\n          name-field=\"label\"\n          side-label-field=\"tag\"\n          :color-for=\"colorFor\"\n          :component-testid=\"'cluster-manager-create-grid-' + i\"\n          @clicked=\"clickedType\"\n        />\n      </div>\n    </template>\n\n    <Import\n      v-if=\"isImport\"\n      v-model=\"value\"\n      :mode=\"mode\"\n      :provider=\"subType\"\n    />\n    <Rke2Config\n      v-else-if=\"subType\"\n      v-model=\"value\"\n      :initial-value=\"initialValue\"\n      :live-value=\"liveValue\"\n      :mode=\"mode\"\n      :provider=\"subType\"\n    />\n\n    <template\n      v-if=\"subType\"\n      #form-footer\n    >\n      <div><!-- Hide the outer footer --></div>\n    </template>\n  </CruResource>\n</template>\n\n<style lang='scss'>\n  .grouped-type {\n    position: relative;\n  }\n\n  .rke-switch {\n    margin-top: -10px;\n    position: absolute;\n    right: 0;\n  }\n</style>\n"],"mappings":"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"}]}