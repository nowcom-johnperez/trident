{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/store/prefs.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/store/prefs.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0IHsgU0VUVElORyB9IGZyb20gJ0BzaGVsbC9jb25maWcvc2V0dGluZ3MnOwppbXBvcnQgeyBNQU5BR0VNRU5ULCBTVEVWRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBjbG9uZSB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CnZhciBkZWZpbml0aW9ucyA9IHt9OwovKioKICogS2V5L3ZhbHVlIG9mIHByZWZyZW5jZXMgYXJlIHN0b3JlZCBiZWZvcmUgbG9naW4gaGVyZSBhbmQgY29va2llcyBkdWUgbGFjayBvZiBhY2Nlc3MgcGVybWlzc2lvbi4KICogT25jZSB1c2VyIGlzIGxvZ2dlZCBpbiB3aGlsZSBzZXR0aW5nIGFzVXNlclByZWZlcmVuY2UsIHVwZGF0ZSBzdG9yZWQgYmVmb3JlIGxvZ2luIEtleS92YWx1ZSB0byB0aGUgYmFja2VuZCBpbiBsb2FkU2VydmVyIGZ1bmN0aW9uLgogKi8KdmFyIHByZWZzQmVmb3JlTG9naW4gPSB7fTsKZXhwb3J0IHZhciBjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUobmFtZSwgZGVmKSB7CiAgdmFyIG9wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgdmFyIHBhcnNlSlNPTiA9IG9wdC5wYXJzZUpTT04gPT09IHRydWU7CiAgdmFyIGFzQ29va2llID0gb3B0LmFzQ29va2llID09PSB0cnVlOwogIHZhciBhc1VzZXJQcmVmZXJlbmNlID0gb3B0LmFzVXNlclByZWZlcmVuY2UgIT09IGZhbHNlOwogIHZhciBvcHRpb25zID0gb3B0Lm9wdGlvbnM7CiAgdmFyIGluaGVyaXRGcm9tID0gb3B0LmluaGVyaXRGcm9tOwogIGRlZmluaXRpb25zW25hbWVdID0gewogICAgZGVmOiBkZWYsCiAgICBvcHRpb25zOiBvcHRpb25zLAogICAgcGFyc2VKU09OOiBwYXJzZUpTT04sCiAgICBhc0Nvb2tpZTogYXNDb29raWUsCiAgICBhc1VzZXJQcmVmZXJlbmNlOiBhc1VzZXJQcmVmZXJlbmNlLAogICAgaW5oZXJpdEZyb206IGluaGVyaXRGcm9tLAogICAgLy8gaWYgdmFsdWUgaXMgbm90IGRlZmluZWQgb24gc2VydmVyLCB3ZSBjYW4gZGVmYXVsdCBpdCB0byBhbm90aGVyIHByZWYKICAgIG1hbmdsZVJlYWQ6IG9wdC5tYW5nbGVSZWFkLAogICAgLy8gQWx0ZXIgdGhlIHZhbHVlIHJlYWQgZnJvbSB0aGUgQVBJICh0byBtYXRjaCBvbGQgUmFuY2hlciBleHBlY3RhdGlvbnMpCiAgICBtYW5nbGVXcml0ZTogb3B0Lm1hbmdsZVdyaXRlIC8vIEFsdGVyIHRoZSB2YWx1ZSB3cml0dGVuIGJhY2sgdG8gdGhlIEFQSSAoZGl0dG8pCiAgfTsKICByZXR1cm4gbmFtZTsKfTsKZXhwb3J0IHZhciBtYXBQcmVmID0gZnVuY3Rpb24gbWFwUHJlZihuYW1lKSB7CiAgcmV0dXJuIHsKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncHJlZnMvZ2V0J10obmFtZSk7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3ByZWZzL3NldCcsIHsKICAgICAgICBrZXk6IG5hbWUsCiAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgIH0pOwogICAgfQogIH07Cn07CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLQp2YXIgcGFyc2VKU09OID0gdHJ1ZTsgLy8gU2hvcnRjdXQgZm9yIHNldHRpbmcgaXQgYmVsb3cKdmFyIGFzQ29va2llID0gdHJ1ZTsgLy8gU3RvcmUgYXMgYSBjb29raWUgc28gdGhhdCBpdCdzIGF2YWlsYWJsZSBiZWZvcmUgYXV0aCArIG9uIHNlcnZlci1zaWRlCgovLyBLZXlzIG11c3QgYmUgbG93ZXJjYXNlIGFuZCB2YWxpZCBkbnMgbGFiZWwgKGEteiAwLTkgLSkKZXhwb3J0IHZhciBDTFVTVEVSID0gY3JlYXRlKCdjbHVzdGVyJywgJycpOwpleHBvcnQgdmFyIExBU1RfTkFNRVNQQUNFID0gY3JlYXRlKCdsYXN0LW5hbWVzcGFjZScsICcnKTsKZXhwb3J0IHZhciBOQU1FU1BBQ0VfRklMVEVSUyA9IGNyZWF0ZSgnbnMtYnktY2x1c3RlcicsIHt9LCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgV09SS1NQQUNFID0gY3JlYXRlKCd3b3Jrc3BhY2UnLCAnJyk7CmV4cG9ydCB2YXIgRVhQQU5ERURfR1JPVVBTID0gY3JlYXRlKCdvcGVuLWdyb3VwcycsIFsnY2x1c3RlcicsICdwb2xpY3knLCAncmJhYycsICdzZXJ2aWNlRGlzY292ZXJ5JywgJ3N0b3JhZ2UnLCAnd29ya2xvYWQnXSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIEZBVk9SSVRFX1RZUEVTID0gY3JlYXRlKCdmYXYtdHlwZScsIFtdLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgUElOTkVEX0NMVVNURVJTID0gY3JlYXRlKCdwaW5uZWQtY2x1c3RlcnMnLCBbXSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIEdST1VQX1JFU09VUkNFUyA9IGNyZWF0ZSgnZ3JvdXAtYnknLCAnbmFtZXNwYWNlJyk7CmV4cG9ydCB2YXIgRElGRiA9IGNyZWF0ZSgnZGlmZicsICd1bmlmaWVkJywgewogIG9wdGlvbnM6IFsndW5pZmllZCcsICdzcGxpdCddCn0pOwpleHBvcnQgdmFyIFRIRU1FID0gY3JlYXRlKCd0aGVtZScsICdhdXRvJywgewogIG9wdGlvbnM6IFsnbGlnaHQnLCAnYXV0bycsICdkYXJrJ10sCiAgYXNDb29raWU6IGFzQ29va2llLAogIHBhcnNlSlNPTjogcGFyc2VKU09OLAogIG1hbmdsZVJlYWQ6IGZ1bmN0aW9uIG1hbmdsZVJlYWQoeCkgewogICAgcmV0dXJuIHgucmVwbGFjZSgvXnVpLS8sICcnKTsKICB9LAogIG1hbmdsZVdyaXRlOiBmdW5jdGlvbiBtYW5nbGVXcml0ZSh4KSB7CiAgICByZXR1cm4gInVpLSIuY29uY2F0KHgpOwogIH0KfSk7CmV4cG9ydCB2YXIgUFJFRkVSU19TQ0hFTUUgPSBjcmVhdGUoJ3BjcycsICcnLCB7CiAgYXNDb29raWU6IGFzQ29va2llLAogIGFzVXNlclByZWZlcmVuY2U6IGZhbHNlCn0pOwpleHBvcnQgdmFyIExPQ0FMRSA9IGNyZWF0ZSgnbG9jYWxlJywgJ2VuLXVzJywgewogIGFzQ29va2llOiBhc0Nvb2tpZQp9KTsKZXhwb3J0IHZhciBLRVlNQVAgPSBjcmVhdGUoJ2tleW1hcCcsICdzdWJsaW1lJywgewogIG9wdGlvbnM6IFsnc3VibGltZScsICdlbWFjcycsICd2aW0nXQp9KTsKZXhwb3J0IHZhciBST1dTX1BFUl9QQUdFID0gY3JlYXRlKCdwZXItcGFnZScsIDEwMCwgewogIG9wdGlvbnM6IFsxMCwgMjUsIDUwLCAxMDBdLAogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIExPR1NfV1JBUCA9IGNyZWF0ZSgnbG9ncy13cmFwJywgdHJ1ZSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIExPR1NfVElNRSA9IGNyZWF0ZSgnbG9ncy10aW1lJywgdHJ1ZSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIExPR1NfUkFOR0UgPSBjcmVhdGUoJ2xvZ3MtcmFuZ2UnLCAnMzAgbWludXRlcycsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBISURFX1JFUE9TID0gY3JlYXRlKCdoaWRlLXJlcG9zJywgW10sIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBISURFX0RFU0MgPSBjcmVhdGUoJ2hpZGUtZGVzYycsIFtdLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgSElERV9TRU5TSVRJVkUgPSBjcmVhdGUoJ2hpZGUtc2Vuc2l0aXZlJywgdHJ1ZSwgewogIG9wdGlvbnM6IFt0cnVlLCBmYWxzZV0sCiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgU0hPV19QUkVfUkVMRUFTRSA9IGNyZWF0ZSgnc2hvdy1wcmUtcmVsZWFzZScsIGZhbHNlLCB7CiAgb3B0aW9uczogW2ZhbHNlLCB0cnVlXSwKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBTSE9XX0NIQVJUX01PREUgPSBjcmVhdGUoJ2NoYXJ0LW1vZGUnLCAnZmVhdHVyZWQnLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgREFURV9GT1JNQVQgPSBjcmVhdGUoJ2RhdGUtZm9ybWF0JywgJ2RkZCwgTU1NIEQgWVlZWScsIHsKICBvcHRpb25zOiBbJ2RkZCwgTU1NIEQgWVlZWScsICdkZGQsIEQgTU1NIFlZWVknLCAnRC9NL1lZWVknLCAnTS9EL1lZWVknLCAnWVlZWS1NTS1ERCddCn0pOwpleHBvcnQgdmFyIFRJTUVfRk9STUFUID0gY3JlYXRlKCd0aW1lLWZvcm1hdCcsICdoOm1tOnNzIGEnLCB7CiAgb3B0aW9uczogWydoOm1tOnNzIGEnLCAnSEg6bW06c3MnXQp9KTsKZXhwb3J0IHZhciBUSU1FX1pPTkUgPSBjcmVhdGUoJ3RpbWUtem9uZScsICdsb2NhbCcpOwovLyBERVYgd2lsbCBiZSBkZXByZWNhdGVkIG9uIHYyLjcuMCwgYnV0IGlzIG5lZWRlZCBzbyB0aGF0IHdlIGNhbiBncmFiIHRoZSB2YWx1ZSBmb3IgdGhlIG5ldyBzZXR0aW5ncyB0aGF0IGRlcml2ZWQgZnJvbSBpdAovLyBzdWNoIGFzOiBWSUVXX0lOX0FQSSwgQUxMX05BTUVTUEFDRVMsIFRIRU1FX1NIT1JUQ1VUCmV4cG9ydCB2YXIgREVWID0gY3JlYXRlKCdkZXYnLCBmYWxzZSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIFZJRVdfSU5fQVBJID0gY3JlYXRlKCd2aWV3LWluLWFwaScsIGZhbHNlLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04sCiAgaW5oZXJpdEZyb206IERFVgp9KTsKZXhwb3J0IHZhciBBTExfTkFNRVNQQUNFUyA9IGNyZWF0ZSgnYWxsLW5hbWVzcGFjZXMnLCBmYWxzZSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OLAogIGluaGVyaXRGcm9tOiBERVYKfSk7CmV4cG9ydCB2YXIgVEhFTUVfU0hPUlRDVVQgPSBjcmVhdGUoJ3RoZW1lLXNob3J0Y3V0JywgZmFsc2UsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTiwKICBpbmhlcml0RnJvbTogREVWCn0pOwpleHBvcnQgdmFyIExBU1RfVklTSVRFRCA9IGNyZWF0ZSgnbGFzdC12aXNpdGVkJywgJ2hvbWUnLCB7CiAgcGFyc2VKU09OOiBwYXJzZUpTT04KfSk7CmV4cG9ydCB2YXIgU0VFTl9XSEFUU19ORVcgPSBjcmVhdGUoJ3NlZW4td2hhdHNuZXcnLCAnJywgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwpleHBvcnQgdmFyIFJFQURfV0hBVFNfTkVXID0gY3JlYXRlKCdyZWFkLXdoYXRzbmV3JywgJycsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBBRlRFUl9MT0dJTl9ST1VURSA9IGNyZWF0ZSgnYWZ0ZXItbG9naW4tcm91dGUnLCAnaG9tZScsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBISURFX0hPTUVfUEFHRV9DQVJEUyA9IGNyZWF0ZSgnaG9tZS1wYWdlLWNhcmRzJywge30sIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTgp9KTsKZXhwb3J0IHZhciBQTFVHSU5fREVWRUxPUEVSID0gY3JlYXRlKCdwbHVnaW4tZGV2ZWxvcGVyJywgZmFsc2UsIHsKICBwYXJzZUpTT046IHBhcnNlSlNPTiwKICBpbmhlcml0RnJvbTogREVWCn0pOyAvLyBJcyB0aGUgdXNlciBhIHBsdWdpbiBkZXZlbG9wZXI/CgpleHBvcnQgdmFyIF9SS0UxID0gJ3JrZTEnOwpleHBvcnQgdmFyIF9SS0UyID0gJ3JrZTInOwpleHBvcnQgdmFyIFBST1ZJU0lPTkVSID0gY3JlYXRlKCdwcm92aXNpb25lcicsIF9SS0UyLCB7CiAgb3B0aW9uczogW19SS0UxLCBfUktFMl0KfSk7CgovLyBQcm9tbyBmb3IgUG9kIFNlY3VyaXR5IFBvbGljaWVzIChQU1BzKSBiZWluZyBkZXByZWNhdGVkIG9uIGt1YmUgdmVyc2lvbiAxLjI1IG9uIENsdXN0ZXIgRGFzaGJvYXJkIHBhZ2UKZXhwb3J0IHZhciBQU1BfREVQUkVDQVRJT05fQkFOTkVSID0gY3JlYXRlKCdoaWRlLXBzcC1kZXByZWNhdGlvbi1iYW5uZXInLCBmYWxzZSwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwoKLy8gTWF4aW11bSBudW1iZXIgb2YgY2x1c3RlcnMgdG8gc2hvdyBpbiB0aGUgc2xpZGUtaW4gbWVudQpleHBvcnQgdmFyIE1FTlVfTUFYX0NMVVNURVJTID0gMTA7Ci8vIFByb21wdCBmb3IgY29uZmlybSB3aGVuIHNjYWxpbmcgZG93biBub2RlIHBvb2wgaW4gR1VJIGFuZCBzYXZlIHRoZSBwcmVmCmV4cG9ydCB2YXIgU0NBTEVfUE9PTF9QUk9NUFQgPSBjcmVhdGUoJ3NjYWxlLXBvb2wtcHJvbXB0JywgbnVsbCwgewogIHBhcnNlSlNPTjogcGFyc2VKU09OCn0pOwovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKdmFyIGNvb2tpZVByZWZpeCA9ICdSXyc7CnZhciBjb29raWVPcHRpb25zID0gewogIG1heEFnZTogMzY1ICogODY0MDAsCiAgcGF0aDogJy8nLAogIHNhbWVTaXRlOiB0cnVlLAogIHNlY3VyZTogdHJ1ZQp9OwpleHBvcnQgdmFyIHN0YXRlID0gZnVuY3Rpb24gc3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIGNvb2tpZXNMb2FkZWQ6IGZhbHNlLAogICAgZGF0YToge30sCiAgICBkZWZpbml0aW9uczogZGVmaW5pdGlvbnMKICB9Owp9OwpleHBvcnQgdmFyIGdldHRlcnMgPSB7CiAgZ2V0OiBmdW5jdGlvbiBnZXQoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgIHZhciBkZWZpbml0aW9uID0gc3RhdGUuZGVmaW5pdGlvbnNba2V5XTsKICAgICAgaWYgKCFkZWZpbml0aW9uKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHByZWZlcmVuY2U6ICIuY29uY2F0KGtleSkpOwogICAgICB9CiAgICAgIHZhciB1c2VyID0gc3RhdGUuZGF0YVtrZXldOwogICAgICBpZiAodXNlciAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIGNsb25lKHVzZXIpOwogICAgICB9CiAgICAgIHZhciBkZWYgPSBjbG9uZShkZWZpbml0aW9uLmRlZik7CiAgICAgIHJldHVybiBkZWY7CiAgICB9OwogIH0sCiAgZGVmYXVsdFZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VmFsdWUoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgIHZhciBkZWZpbml0aW9uID0gc3RhdGUuZGVmaW5pdGlvbnNba2V5XTsKICAgICAgaWYgKCFkZWZpbml0aW9uKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHByZWZlcmVuY2U6ICIuY29uY2F0KGtleSkpOwogICAgICB9CiAgICAgIHJldHVybiBjbG9uZShkZWZpbml0aW9uLmRlZik7CiAgICB9OwogIH0sCiAgb3B0aW9uczogZnVuY3Rpb24gb3B0aW9ucyhzdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHsKICAgICAgdmFyIGRlZmluaXRpb24gPSBzdGF0ZS5kZWZpbml0aW9uc1trZXldOwogICAgICBpZiAoIWRlZmluaXRpb24pIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gcHJlZmVyZW5jZTogIi5jb25jYXQoa2V5KSk7CiAgICAgIH0KICAgICAgaWYgKCFkZWZpbml0aW9uLm9wdGlvbnMpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlByZWZlcmVuY2UgZG9lcyBub3QgaGF2ZSBvcHRpb25zOiAiLmNvbmNhdChrZXkpKTsKICAgICAgfQogICAgICByZXR1cm4gZGVmaW5pdGlvbi5vcHRpb25zLnNsaWNlKCk7CiAgICB9OwogIH0sCiAgdGhlbWU6IGZ1bmN0aW9uIHRoZW1lKHN0YXRlLCBnZXR0ZXJzLCByb290U3RhdGUsIHJvb3RHZXR0ZXJzKSB7CiAgICB2YXIgc2V0dGluZyA9IHJvb3RHZXR0ZXJzWydtYW5hZ2VtZW50L2J5SWQnXShNQU5BR0VNRU5ULlNFVFRJTkcsIFNFVFRJTkcuVEhFTUUpOwogICAgaWYgKHNldHRpbmcgIT09IG51bGwgJiYgc2V0dGluZyAhPT0gdm9pZCAwICYmIHNldHRpbmcudmFsdWUpIHsKICAgICAgcmV0dXJuIHNldHRpbmcgPT09IG51bGwgfHwgc2V0dGluZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2V0dGluZy52YWx1ZTsKICAgIH0KICAgIHZhciB0aGVtZSA9IGdldHRlcnNbJ2dldCddKFRIRU1FKTsKICAgIHZhciBwY3MgPSBnZXR0ZXJzWydnZXQnXShQUkVGRVJTX1NDSEVNRSk7CgogICAgLy8gY29uc29sZS5sb2coJ0dldCBUaGVtZScsIHRoZW1lLCBwY3MpOwoKICAgIC8vIEVtYmVyIFVJIHVzZXMgdGhpcyBwcmVmaXgKICAgIGlmICh0aGVtZS5zdGFydHNXaXRoKCd1aS0nKSkgewogICAgICB0aGVtZSA9IHRoZW1lLnN1YnN0cigzKTsKICAgIH0KICAgIGlmICh0aGVtZSA9PT0gJ2F1dG8nKSB7CiAgICAgIGlmIChwY3MgPT09ICdsaWdodCcgfHwgcGNzID09PSAnZGFyaycpIHsKICAgICAgICByZXR1cm4gcGNzOwogICAgICB9CiAgICAgIHJldHVybiAnZGFyayc7CiAgICB9CiAgICByZXR1cm4gdGhlbWU7CiAgfSwKICBhZnRlckxvZ2luUm91dGU6IGZ1bmN0aW9uIGFmdGVyTG9naW5Sb3V0ZShzdGF0ZSwgZ2V0dGVycykgewogICAgdmFyIGFmdGVyTG9naW5Sb3V0ZVByZWYgPSBnZXR0ZXJzWydnZXQnXShBRlRFUl9MT0dJTl9ST1VURSk7CiAgICBpZiAodHlwZW9mIGFmdGVyTG9naW5Sb3V0ZVByZWYgIT09ICdzdHJpbmcnKSB7CiAgICAgIHJldHVybiBhZnRlckxvZ2luUm91dGVQcmVmOwogICAgfQogICAgc3dpdGNoICh0cnVlKSB7CiAgICAgIGNhc2UgYWZ0ZXJMb2dpblJvdXRlUHJlZiA9PT0gJ2hvbWUnOgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICB9OwogICAgICBjYXNlIGFmdGVyTG9naW5Sb3V0ZVByZWYgPT09ICdsYXN0LXZpc2l0ZWQnOgogICAgICAgIHsKICAgICAgICAgIHZhciBsYXN0VmlzaXRlZFByZWYgPSBnZXR0ZXJzWydnZXQnXShMQVNUX1ZJU0lURUQpOwogICAgICAgICAgaWYgKGxhc3RWaXNpdGVkUHJlZikgewogICAgICAgICAgICByZXR1cm4gbGFzdFZpc2l0ZWRQcmVmOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGNsdXN0ZXJQcmVmID0gZ2V0dGVyc1snZ2V0J10oQ0xVU1RFUik7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLWV4cGxvcmVyJywKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgcHJvZHVjdDogJ2V4cGxvcmVyJywKICAgICAgICAgICAgICBjbHVzdGVyOiBjbHVzdGVyUHJlZgogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgY2FzZSAhIWFmdGVyTG9naW5Sb3V0ZVByZWYubWF0Y2goLy4rLWRhc2hib2FyZCQvKToKICAgICAgICB7CiAgICAgICAgICB2YXIgY2x1c3RlcklkID0gYWZ0ZXJMb2dpblJvdXRlUHJlZi5zcGxpdCgnLWRhc2hib2FyZCcpWzBdOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbmFtZTogJ2MtY2x1c3Rlci1leHBsb3JlcicsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIHByb2R1Y3Q6ICdleHBsb3JlcicsCiAgICAgICAgICAgICAgY2x1c3RlcjogY2x1c3RlcklkCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfQogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuYW1lOiBhZnRlckxvZ2luUm91dGVQcmVmCiAgICAgICAgfTsKICAgIH0KICB9Cn07CmV4cG9ydCB2YXIgbXV0YXRpb25zID0gewogIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoc3RhdGUsIF9yZWYpIHsKICAgIHZhciBrZXkgPSBfcmVmLmtleSwKICAgICAgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgVnVlLnNldChzdGF0ZS5kYXRhLCBrZXksIHZhbHVlKTsKICB9LAogIGNvb2tpZXNMb2FkZWQ6IGZ1bmN0aW9uIGNvb2tpZXNMb2FkZWQoc3RhdGUpIHsKICAgIHN0YXRlLmNvb2tpZXNMb2FkZWQgPSB0cnVlOwogIH0sCiAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHN0YXRlKSB7CiAgICBmb3IgKHZhciBrZXkgaW4gc3RhdGUuZGVmaW5pdGlvbnMpIHsKICAgICAgdmFyIF9zdGF0ZSRkZWZpbml0aW9ucyRrZTsKICAgICAgaWYgKChfc3RhdGUkZGVmaW5pdGlvbnMka2UgPSBzdGF0ZS5kZWZpbml0aW9uc1trZXldKSAhPT0gbnVsbCAmJiBfc3RhdGUkZGVmaW5pdGlvbnMka2UgIT09IHZvaWQgMCAmJiBfc3RhdGUkZGVmaW5pdGlvbnMka2UuYXNDb29raWUpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICBkZWxldGUgc3RhdGUuZGF0YVtrZXldOwogICAgfQogIH0sCiAgc2V0RGVmaW5pdGlvbjogZnVuY3Rpb24gc2V0RGVmaW5pdGlvbihzdGF0ZSwgX3JlZjIpIHsKICAgIHZhciBuYW1lID0gX3JlZjIubmFtZSwKICAgICAgX3JlZjIkZGVmaW5pdGlvbiA9IF9yZWYyLmRlZmluaXRpb24sCiAgICAgIGRlZmluaXRpb24gPSBfcmVmMiRkZWZpbml0aW9uID09PSB2b2lkIDAgPyB7fSA6IF9yZWYyJGRlZmluaXRpb247CiAgICBzdGF0ZS5kZWZpbml0aW9uc1tuYW1lXSA9IGRlZmluaXRpb247CiAgfQp9OwpleHBvcnQgdmFyIGFjdGlvbnMgPSB7CiAgc2V0OiBmdW5jdGlvbiBzZXQoX3JlZjMsIG9wdCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBkaXNwYXRjaCwgY29tbWl0LCByb290R2V0dGVycywgc3RhdGUsIGtleSwgdmFsdWUsIGRlZmluaXRpb24sIHNlcnZlciwgX29wdCwgY2hlY2tMb2dpbiwgX3NlcnZlcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZjMuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYzLnJvb3RHZXR0ZXJzLCBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgICAgICAgICBrZXkgPSBvcHQua2V5LCB2YWx1ZSA9IG9wdC52YWx1ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3QKICAgICAgICAgICAgZGVmaW5pdGlvbiA9IHN0YXRlLmRlZmluaXRpb25zW2tleV07CiAgICAgICAgICAgIGlmICghb3B0LnZhbCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlIHZhbHVlLCBub3QgdmFsJyk7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNvbW1pdCgnbG9hZCcsIHsKICAgICAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmFzQ29va2llKSB7CiAgICAgICAgICAgICAgX29wdCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29va2llT3B0aW9ucyksIHt9LCB7CiAgICAgICAgICAgICAgICBwYXJzZUpTT046IGRlZmluaXRpb24ucGFyc2VKU09OID09PSB0cnVlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX3RoaXMuJGNvb2tpZXMuc2V0KCIiLmNvbmNhdChjb29raWVQcmVmaXgpLmNvbmNhdChrZXkpLnRvVXBwZXJDYXNlKCksIHZhbHVlLCBfb3B0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWRlZmluaXRpb24uYXNVc2VyUHJlZmVyZW5jZSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBjaGVja0xvZ2luID0gcm9vdEdldHRlcnNbJ2F1dGgvbG9nZ2VkSW4nXTsgLy8gQ2hlY2sgZm9yIGxvZ2luIHN0YXR1cwogICAgICAgICAgICBpZiAoY2hlY2tMb2dpbikgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBwcmVmc0JlZm9yZUxvZ2luW2tleV0gPSB2YWx1ZTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdsb2FkU2VydmVyJywga2V5KTsKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIHNlcnZlciA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIGlmICghKChfc2VydmVyID0gc2VydmVyKSAhPT0gbnVsbCAmJiBfc2VydmVyICE9PSB2b2lkIDAgJiYgX3NlcnZlci5kYXRhKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5tYW5nbGVXcml0ZSkgewogICAgICAgICAgICAgIHZhbHVlID0gZGVmaW5pdGlvbi5tYW5nbGVXcml0ZSh2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGRlZmluaXRpb24ucGFyc2VKU09OKSB7CiAgICAgICAgICAgICAgVnVlLnNldChzZXJ2ZXIuZGF0YSwga2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFZ1ZS5zZXQoc2VydmVyLmRhdGEsIGtleSwgdmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgcmV0dXJuIHNlcnZlci5zYXZlKHsKICAgICAgICAgICAgICByZWRpcmVjdFVuYXV0aG9yaXplZDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjY7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIzOwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEyKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIHR5cGU6IF9jb250ZXh0LnQwLnR5cGUsCiAgICAgICAgICAgICAgc3RhdHVzOiBfY29udGV4dC50MC5zdGF0dXMKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMTIsIDIzXV0pOwogICAgfSkpKCk7CiAgfSwKICBzZXRUaGVtZTogZnVuY3Rpb24gc2V0VGhlbWUoX3JlZjQsIHZhbCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBkaXNwYXRjaDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjQuZGlzcGF0Y2g7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdzZXQnLCB7CiAgICAgICAgICAgICAga2V5OiBUSEVNRSwKICAgICAgICAgICAgICB2YWx1ZTogdmFsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIGxvYWRDb29raWVzOiBmdW5jdGlvbiBsb2FkQ29va2llcyhfcmVmNSkgewogICAgdmFyIHN0YXRlID0gX3JlZjUuc3RhdGUsCiAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIGlmIChzdGF0ZS5jb29raWVzTG9hZGVkKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGZvciAodmFyIGtleSBpbiBzdGF0ZS5kZWZpbml0aW9ucykgewogICAgICB2YXIgZGVmaW5pdGlvbiA9IHN0YXRlLmRlZmluaXRpb25zW2tleV07CiAgICAgIGlmICghZGVmaW5pdGlvbi5hc0Nvb2tpZSkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICAgIHZhciBvcHQgPSB7CiAgICAgICAgcGFyc2VKU09OOiBkZWZpbml0aW9uLnBhcnNlSlNPTiA9PT0gdHJ1ZQogICAgICB9OwogICAgICB2YXIgdmFsdWUgPSB0aGlzLiRjb29raWVzLmdldCgiIi5jb25jYXQoY29va2llUHJlZml4KS5jb25jYXQoa2V5KS50b1VwcGVyQ2FzZSgpLCBvcHQpOwogICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbW1pdCgnbG9hZCcsIHsKICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIGNvbW1pdCgnY29va2llc0xvYWRlZCcpOwogIH0sCiAgbG9hZFRoZW1lOiBmdW5jdGlvbiBsb2FkVGhlbWUoX3JlZjYpIHsKICAgIHZhciBzdGF0ZSA9IF9yZWY2LnN0YXRlLAogICAgICBkaXNwYXRjaCA9IF9yZWY2LmRpc3BhdGNoOwogICAgaWYgKHByb2Nlc3MuY2xpZW50KSB7CiAgICAgIHZhciB3YXRjaERhcmsgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpOwogICAgICB2YXIgd2F0Y2hMaWdodCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KScpOwogICAgICB2YXIgd2F0Y2hOb25lID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogbm8tcHJlZmVyZW5jZSknKTsKICAgICAgdmFyIGludGVydmFsID0gMzAgKiA2MCAqIDEwMDA7CiAgICAgIHZhciBuZXh0SGFsZkhvdXIgPSBpbnRlcnZhbCAtIE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkpICUgaW50ZXJ2YWw7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGRpc3BhdGNoKCdsb2FkVGhlbWUnKTsKICAgICAgfSwgbmV4dEhhbGZIb3VyKTsKICAgICAgLy8gY29uc29sZS5sb2coJ1VwZGF0ZSB0aGVtZSBpbicsIG5leHRIYWxmSG91ciwgJ21zJyk7CgogICAgICBpZiAod2F0Y2hEYXJrLm1hdGNoZXMpIHsKICAgICAgICBjaGFuZ2VkKCdkYXJrJyk7CiAgICAgIH0gZWxzZSBpZiAod2F0Y2hMaWdodC5tYXRjaGVzKSB7CiAgICAgICAgY2hhbmdlZCgnbGlnaHQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjaGFuZ2VkKGZyb21DbG9jaygpKTsKICAgICAgfQogICAgICB3YXRjaERhcmsuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS5tYXRjaGVzKSB7CiAgICAgICAgICBjaGFuZ2VkKCdkYXJrJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgd2F0Y2hMaWdodC5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLm1hdGNoZXMpIHsKICAgICAgICAgIGNoYW5nZWQoJ2xpZ2h0Jyk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgd2F0Y2hOb25lLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUubWF0Y2hlcykgewogICAgICAgICAgY2hhbmdlZChmcm9tQ2xvY2soKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIGNoYW5nZWQodmFsdWUpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ1ByZWZlcnMgVGhlbWU6JywgdmFsdWUpOwogICAgICBkaXNwYXRjaCgnc2V0JywgewogICAgICAgIGtleTogUFJFRkVSU19TQ0hFTUUsCiAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgIH0pOwogICAgfQogICAgZnVuY3Rpb24gZnJvbUNsb2NrKCkgewogICAgICB2YXIgaG91ciA9IG5ldyBEYXRlKCkuZ2V0SG91cnMoKTsKICAgICAgaWYgKGhvdXIgPCA3IHx8IGhvdXIgPj0gMTgpIHsKICAgICAgICByZXR1cm4gJ2RhcmsnOwogICAgICB9CiAgICAgIHJldHVybiAnbGlnaHQnOwogICAgfQogIH0sCiAgbG9hZFNlcnZlcjogZnVuY3Rpb24gbG9hZFNlcnZlcihfcmVmNywgaWdub3JlS2V5KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIF9zZXJ2ZXIyOwogICAgICB2YXIgc3RhdGUsIGRpc3BhdGNoLCBjb21taXQsIHJvb3RTdGF0ZSwgcm9vdEdldHRlcnMsIHNlcnZlciwgYWxsLCBrZXksIGRlZmluaXRpb24sIHZhbHVlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgc3RhdGUgPSBfcmVmNy5zdGF0ZSwgZGlzcGF0Y2ggPSBfcmVmNy5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZjcuY29tbWl0LCByb290U3RhdGUgPSBfcmVmNy5yb290U3RhdGUsIHJvb3RHZXR0ZXJzID0gX3JlZjcucm9vdEdldHRlcnM7CiAgICAgICAgICAgIHNlcnZlciA9IHsKICAgICAgICAgICAgICBkYXRhOiB7fQogICAgICAgICAgICB9OwogICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI7CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgdHlwZTogU1RFVkUuUFJFRkVSRU5DRSwKICAgICAgICAgICAgICBvcHQ6IHsKICAgICAgICAgICAgICAgIHVybDogJ3VzZXJwcmVmZXJlbmNlcycsCiAgICAgICAgICAgICAgICBmb3JjZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHdhdGNoOiBmYWxzZSwKICAgICAgICAgICAgICAgIHJlZGlyZWN0VW5hdXRob3JpemVkOiBmYWxzZSwKICAgICAgICAgICAgICAgIHN0cmVhbTogZmFsc2UKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBhbGwgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgc2VydmVyID0gYWxsID09PSBudWxsIHx8IGFsbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxsWzBdOwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA5OwogICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMik7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcHJlZmVyZW5jZXMnLCBfY29udGV4dDMudDApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgaWYgKChfc2VydmVyMiA9IHNlcnZlcikgIT09IG51bGwgJiYgX3NlcnZlcjIgIT09IHZvaWQgMCAmJiBfc2VydmVyMi5kYXRhKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBpZiAoIShPYmplY3Qua2V5cyhwcmVmc0JlZm9yZUxvZ2luKS5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgT2JqZWN0LmtleXMocHJlZnNCZWZvcmVMb2dpbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgc2VydmVyLmRhdGFba2V5XSA9IHByZWZzQmVmb3JlTG9naW5ba2V5XTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTk7CiAgICAgICAgICAgIHJldHVybiBzZXJ2ZXIuc2F2ZSh7CiAgICAgICAgICAgICAgcmVkaXJlY3RVbmF1dGhvcml6ZWQ6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgLy8gQ2xlYXIgcHJlZnNCZWZvcmVMb2dpbiwgYXMgd2UgaGF2ZSBub3cgc2F2ZWQgdGhlc2VzCiAgICAgICAgICAgIHByZWZzQmVmb3JlTG9naW4gPSB7fTsKICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIF9jb250ZXh0My50MSA9IHJlZ2VuZXJhdG9yUnVudGltZS5rZXlzKHN0YXRlLmRlZmluaXRpb25zKTsKICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIGlmICgoX2NvbnRleHQzLnQyID0gX2NvbnRleHQzLnQxKCkpLmRvbmUpIHsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQxOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGtleSA9IF9jb250ZXh0My50Mi52YWx1ZTsKICAgICAgICAgICAgZGVmaW5pdGlvbiA9IHN0YXRlLmRlZmluaXRpb25zW2tleV07CiAgICAgICAgICAgIHZhbHVlID0gY2xvbmUoc2VydmVyLmRhdGFba2V5XSk7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGRlZmluaXRpb24uaW5oZXJpdEZyb20pIHsKICAgICAgICAgICAgICB2YWx1ZSA9IGNsb25lKHNlcnZlci5kYXRhW2RlZmluaXRpb24uaW5oZXJpdEZyb21dKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoISh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGtleSA9PT0gaWdub3JlS2V5KSkgewogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoImNvbnRpbnVlIiwgMjEpOwogICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgaWYgKCFkZWZpbml0aW9uLnBhcnNlSlNPTikgewogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyOTsKICAgICAgICAgICAgdmFsdWUgPSBKU09OLnBhcnNlKHZhbHVlKTsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzNzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDMzOwogICAgICAgICAgICBfY29udGV4dDMudDMgPSBfY29udGV4dDNbImNhdGNoIl0oMjkpOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBwcmVmJywga2V5LCB2YWx1ZSwgX2NvbnRleHQzLnQzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJjb250aW51ZSIsIDIxKTsKICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLm1hbmdsZVJlYWQpIHsKICAgICAgICAgICAgICB2YWx1ZSA9IGRlZmluaXRpb24ubWFuZ2xlUmVhZCh2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29tbWl0KCdsb2FkJywgewogICAgICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDQxOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgc2VydmVyKTsKICAgICAgICAgIGNhc2UgNDI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzIsIDldLCBbMjksIDMzXV0pOwogICAgfSkpKCk7CiAgfSwKICBzZXRMYXN0VmlzaXRlZDogZnVuY3Rpb24gc2V0TGFzdFZpc2l0ZWQoX3JlZjgsIHJvdXRlKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmOC5zdGF0ZSwKICAgICAgZGlzcGF0Y2ggPSBfcmVmOC5kaXNwYXRjaCwKICAgICAgZ2V0dGVycyA9IF9yZWY4LmdldHRlcnM7CiAgICBpZiAoIXJvdXRlKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBPbmx5IHNhdmUgdGhlIGxhc3QgdmlzaXRlZCBwYWdlIGlmIHRoZSB1c2VyIGhhcyB0aGF0IHNldCBhcyB0aGUgbG9naW4gcm91dGUgcHJlZmVyZW5jZQogICAgdmFyIGFmdGVyTG9naW5Sb3V0ZVByZWYgPSBnZXR0ZXJzWydnZXQnXShBRlRFUl9MT0dJTl9ST1VURSk7CiAgICB2YXIgZG9Ob3RUcmFja0xhc3RWaXNpdGVkID0gdHlwZW9mIGFmdGVyTG9naW5Sb3V0ZVByZWYgIT09ICdzdHJpbmcnIHx8IGFmdGVyTG9naW5Sb3V0ZVByZWYgIT09ICdsYXN0LXZpc2l0ZWQnOwogICAgaWYgKGRvTm90VHJhY2tMYXN0VmlzaXRlZCkgewogICAgICByZXR1cm47CiAgICB9CiAgICB2YXIgdG9TYXZlID0gZ2V0TG9naW5Sb3V0ZShyb3V0ZSk7CiAgICByZXR1cm4gZGlzcGF0Y2goJ3NldCcsIHsKICAgICAga2V5OiBMQVNUX1ZJU0lURUQsCiAgICAgIHZhbHVlOiB0b1NhdmUKICAgIH0pOwogIH0sCiAgdG9nZ2xlVGhlbWU6IGZ1bmN0aW9uIHRvZ2dsZVRoZW1lKF9yZWY5KSB7CiAgICB2YXIgZ2V0dGVycyA9IF9yZWY5LmdldHRlcnMsCiAgICAgIGRpc3BhdGNoID0gX3JlZjkuZGlzcGF0Y2g7CiAgICB2YXIgdmFsdWUgPSBnZXR0ZXJzW1RIRU1FXSA9PT0gJ2xpZ2h0JyA/ICdkYXJrJyA6ICdsaWdodCc7CiAgICByZXR1cm4gZGlzcGF0Y2goJ3NldCcsIHsKICAgICAga2V5OiBUSEVNRSwKICAgICAgdmFsdWU6IHZhbHVlCiAgICB9KTsKICB9LAogIHNldEJyYW5kU3R5bGU6IGZ1bmN0aW9uIHNldEJyYW5kU3R5bGUoX3JlZjEwKSB7CiAgICB2YXIgcm9vdFN0YXRlID0gX3JlZjEwLnJvb3RTdGF0ZSwKICAgICAgcm9vdEdldHRlcnMgPSBfcmVmMTAucm9vdEdldHRlcnM7CiAgICB2YXIgZGFyayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgICBpZiAocm9vdFN0YXRlLm1hbmFnZW1lbnRSZWFkeSkgewogICAgICB0cnkgewogICAgICAgIHZhciBicmFuZFNldHRpbmcgPSByb290R2V0dGVyc1snbWFuYWdlbWVudC9ieUlkJ10oTUFOQUdFTUVOVC5TRVRUSU5HLCBTRVRUSU5HLkJSQU5EKTsKICAgICAgICBpZiAoYnJhbmRTZXR0aW5nICYmIGJyYW5kU2V0dGluZy52YWx1ZSAmJiBicmFuZFNldHRpbmcudmFsdWUgIT09ICcnKSB7CiAgICAgICAgICB2YXIgYnJhbmQgPSBicmFuZFNldHRpbmcudmFsdWU7CiAgICAgICAgICB2YXIgYnJhbmRNZXRhID0gcmVxdWlyZSgifnNoZWxsL2Fzc2V0cy9icmFuZC8iLmNvbmNhdChicmFuZCwgIi9tZXRhZGF0YS5qc29uIikpOwogICAgICAgICAgdmFyIGhhc1N0eWxlc2hlZXQgPSBicmFuZE1ldGEuaGFzU3R5bGVzaGVldCA9PT0gJ3RydWUnOwogICAgICAgICAgaWYgKGhhc1N0eWxlc2hlZXQpIHsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKGJyYW5kKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFRPRE8gb3B0aW9uIGFwcGx5IGNvbG9yIGF0IHJ1bnRpbWUKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHt9CiAgICB9CiAgfQp9OwpmdW5jdGlvbiBnZXRMb2dpblJvdXRlKHJvdXRlKSB7CiAgdmFyIF9yb3V0ZSRuYW1lOwogIHZhciBwYXJ0cyA9ICgoX3JvdXRlJG5hbWUgPSByb3V0ZS5uYW1lKSA9PT0gbnVsbCB8fCBfcm91dGUkbmFtZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JvdXRlJG5hbWUuc3BsaXQoJy0nKSkgfHwgW107CiAgdmFyIHBhcmFtcyA9IHt9OwogIHZhciByb3V0ZVBhcmFtcyA9IHJvdXRlLnBhcmFtcyB8fCB7fTsKCiAgLy8gRmluZCB0aGUgJ3Jlc291cmNlJyBwYXJ0IG9mIHRoZSByb3V0ZSwgaWYgaXQgaXMgdGhlcmUKICB2YXIgaW5kZXggPSBwYXJ0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHApIHsKICAgIHJldHVybiBwID09PSAncmVzb3VyY2UnOwogIH0pOwogIGlmIChpbmRleCA+PSAwKSB7CiAgICBwYXJ0cyA9IHBhcnRzLnNsaWNlKDAsIGluZGV4KTsKICB9CgogIC8vIEp1c3Qga2VlcCB0aGUgcGFyYW1zIHRoYXQgYXJlIG5lZWRlZAogIHBhcnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7CiAgICBpZiAocm91dGVQYXJhbXNbcGFyYW1dKSB7CiAgICAgIHBhcmFtc1twYXJhbV0gPSByb3V0ZVBhcmFtc1twYXJhbV07CiAgICB9CiAgfSk7CiAgcmV0dXJuIHsKICAgIG5hbWU6IHBhcnRzLmpvaW4oJy0nKSwKICAgIHBhcmFtczogcGFyYW1zCiAgfTsKfQ=="},{"version":3,"names":["SETTING","MANAGEMENT","STEVE","clone","Vue","definitions","prefsBeforeLogin","create","name","def","opt","arguments","length","undefined","parseJSON","asCookie","asUserPreference","options","inheritFrom","mangleRead","mangleWrite","mapPref","get","$store","getters","set","value","dispatch","key","CLUSTER","LAST_NAMESPACE","NAMESPACE_FILTERS","WORKSPACE","EXPANDED_GROUPS","FAVORITE_TYPES","PINNED_CLUSTERS","GROUP_RESOURCES","DIFF","THEME","x","replace","concat","PREFERS_SCHEME","LOCALE","KEYMAP","ROWS_PER_PAGE","LOGS_WRAP","LOGS_TIME","LOGS_RANGE","HIDE_REPOS","HIDE_DESC","HIDE_SENSITIVE","SHOW_PRE_RELEASE","SHOW_CHART_MODE","DATE_FORMAT","TIME_FORMAT","TIME_ZONE","DEV","VIEW_IN_API","ALL_NAMESPACES","THEME_SHORTCUT","LAST_VISITED","SEEN_WHATS_NEW","READ_WHATS_NEW","AFTER_LOGIN_ROUTE","HIDE_HOME_PAGE_CARDS","PLUGIN_DEVELOPER","_RKE1","_RKE2","PROVISIONER","PSP_DEPRECATION_BANNER","MENU_MAX_CLUSTERS","SCALE_POOL_PROMPT","cookiePrefix","cookieOptions","maxAge","path","sameSite","secure","state","cookiesLoaded","data","definition","Error","user","defaultValue","slice","theme","rootState","rootGetters","setting","pcs","startsWith","substr","afterLoginRoute","afterLoginRoutePref","lastVisitedPref","clusterPref","params","product","cluster","match","clusterId","split","mutations","load","_ref","reset","_state$definitions$ke","setDefinition","_ref2","_ref2$definition","actions","_ref3","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","commit","server","_opt","checkLogin","_server","wrap","_callee$","_context","prev","next","val","_objectSpread","$cookies","toUpperCase","abrupt","sent","JSON","stringify","save","redirectUnauthorized","t0","type","status","stop","setTheme","_ref4","_callee2","_callee2$","_context2","loadCookies","_ref5","loadTheme","_ref6","process","client","watchDark","window","matchMedia","watchLight","watchNone","interval","nextHalfHour","Math","round","Date","getTime","setTimeout","matches","changed","fromClock","addListener","e","hour","getHours","loadServer","_ref7","ignoreKey","_callee3","_server2","all","_callee3$","_context3","PREFERENCE","url","force","watch","stream","root","console","error","Object","keys","forEach","t1","t2","done","parse","t3","setLastVisited","_ref8","route","doNotTrackLastVisited","toSave","getLoginRoute","toggleTheme","_ref9","setBrandStyle","_ref10","dark","managementReady","brandSetting","BRAND","brand","brandMeta","require","hasStylesheet","document","body","classList","add","_unused","_route$name","parts","routeParams","index","findIndex","p","param","join"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/store/prefs.js"],"sourcesContent":["import { SETTING } from '@shell/config/settings';\nimport { MANAGEMENT, STEVE } from '@shell/config/types';\nimport { clone } from '@shell/utils/object';\nimport Vue from 'vue';\n\nconst definitions = {};\n/**\n * Key/value of prefrences are stored before login here and cookies due lack of access permission.\n * Once user is logged in while setting asUserPreference, update stored before login Key/value to the backend in loadServer function.\n */\nlet prefsBeforeLogin = {};\n\nexport const create = function(name, def, opt = {}) {\n  const parseJSON = opt.parseJSON === true;\n  const asCookie = opt.asCookie === true;\n  const asUserPreference = opt.asUserPreference !== false;\n  const options = opt.options;\n  const inheritFrom = opt.inheritFrom;\n\n  definitions[name] = {\n    def,\n    options,\n    parseJSON,\n    asCookie,\n    asUserPreference,\n    inheritFrom, // if value is not defined on server, we can default it to another pref\n    mangleRead:  opt.mangleRead, // Alter the value read from the API (to match old Rancher expectations)\n    mangleWrite: opt.mangleWrite, // Alter the value written back to the API (ditto)\n  };\n\n  return name;\n};\n\nexport const mapPref = function(name) {\n  return {\n    get() {\n      return this.$store.getters['prefs/get'](name);\n    },\n\n    set(value) {\n      this.$store.dispatch('prefs/set', { key: name, value });\n    }\n  };\n};\n\n// --------------------\nconst parseJSON = true; // Shortcut for setting it below\nconst asCookie = true; // Store as a cookie so that it's available before auth + on server-side\n\n// Keys must be lowercase and valid dns label (a-z 0-9 -)\nexport const CLUSTER = create('cluster', '');\nexport const LAST_NAMESPACE = create('last-namespace', '');\nexport const NAMESPACE_FILTERS = create('ns-by-cluster', {}, { parseJSON });\nexport const WORKSPACE = create('workspace', '');\nexport const EXPANDED_GROUPS = create('open-groups', ['cluster', 'policy', 'rbac', 'serviceDiscovery', 'storage', 'workload'], { parseJSON });\nexport const FAVORITE_TYPES = create('fav-type', [], { parseJSON });\nexport const PINNED_CLUSTERS = create('pinned-clusters', [], { parseJSON });\nexport const GROUP_RESOURCES = create('group-by', 'namespace');\nexport const DIFF = create('diff', 'unified', { options: ['unified', 'split'] });\nexport const THEME = create('theme', 'auto', {\n  options:     ['light', 'auto', 'dark'],\n  asCookie,\n  parseJSON,\n  mangleRead:  (x) => x.replace(/^ui-/, ''),\n  mangleWrite: (x) => `ui-${ x }`,\n});\nexport const PREFERS_SCHEME = create('pcs', '', { asCookie, asUserPreference: false });\nexport const LOCALE = create('locale', 'en-us', { asCookie });\nexport const KEYMAP = create('keymap', 'sublime', { options: ['sublime', 'emacs', 'vim'] });\nexport const ROWS_PER_PAGE = create('per-page', 100, { options: [10, 25, 50, 100], parseJSON });\nexport const LOGS_WRAP = create('logs-wrap', true, { parseJSON });\nexport const LOGS_TIME = create('logs-time', true, { parseJSON });\nexport const LOGS_RANGE = create('logs-range', '30 minutes', { parseJSON });\nexport const HIDE_REPOS = create('hide-repos', [], { parseJSON });\nexport const HIDE_DESC = create('hide-desc', [], { parseJSON });\nexport const HIDE_SENSITIVE = create('hide-sensitive', true, { options: [true, false], parseJSON });\nexport const SHOW_PRE_RELEASE = create('show-pre-release', false, { options: [false, true], parseJSON });\nexport const SHOW_CHART_MODE = create('chart-mode', 'featured', { parseJSON });\n\nexport const DATE_FORMAT = create('date-format', 'ddd, MMM D YYYY', {\n  options: [\n    'ddd, MMM D YYYY',\n    'ddd, D MMM YYYY',\n    'D/M/YYYY',\n    'M/D/YYYY',\n    'YYYY-MM-DD'\n  ]\n});\n\nexport const TIME_FORMAT = create('time-format', 'h:mm:ss a', {\n  options: [\n    'h:mm:ss a',\n    'HH:mm:ss'\n  ]\n});\n\nexport const TIME_ZONE = create('time-zone', 'local');\n// DEV will be deprecated on v2.7.0, but is needed so that we can grab the value for the new settings that derived from it\n// such as: VIEW_IN_API, ALL_NAMESPACES, THEME_SHORTCUT\nexport const DEV = create('dev', false, { parseJSON });\nexport const VIEW_IN_API = create('view-in-api', false, { parseJSON, inheritFrom: DEV });\nexport const ALL_NAMESPACES = create('all-namespaces', false, { parseJSON, inheritFrom: DEV });\nexport const THEME_SHORTCUT = create('theme-shortcut', false, { parseJSON, inheritFrom: DEV });\nexport const LAST_VISITED = create('last-visited', 'home', { parseJSON });\nexport const SEEN_WHATS_NEW = create('seen-whatsnew', '', { parseJSON });\nexport const READ_WHATS_NEW = create('read-whatsnew', '', { parseJSON });\nexport const AFTER_LOGIN_ROUTE = create('after-login-route', 'home', { parseJSON } );\nexport const HIDE_HOME_PAGE_CARDS = create('home-page-cards', {}, { parseJSON } );\nexport const PLUGIN_DEVELOPER = create('plugin-developer', false, { parseJSON, inheritFrom: DEV }); // Is the user a plugin developer?\n\nexport const _RKE1 = 'rke1';\nexport const _RKE2 = 'rke2';\nexport const PROVISIONER = create('provisioner', _RKE2, { options: [_RKE1, _RKE2] });\n\n// Promo for Pod Security Policies (PSPs) being deprecated on kube version 1.25 on Cluster Dashboard page\nexport const PSP_DEPRECATION_BANNER = create('hide-psp-deprecation-banner', false, { parseJSON });\n\n// Maximum number of clusters to show in the slide-in menu\nexport const MENU_MAX_CLUSTERS = 10;\n// Prompt for confirm when scaling down node pool in GUI and save the pref\nexport const SCALE_POOL_PROMPT = create('scale-pool-prompt', null, { parseJSON });\n// --------------------\n\nconst cookiePrefix = 'R_';\nconst cookieOptions = {\n  maxAge:   365 * 86400,\n  path:     '/',\n  sameSite: true,\n  secure:   true,\n};\n\nexport const state = function() {\n  return {\n    cookiesLoaded: false,\n    data:          {},\n    definitions,\n  };\n};\n\nexport const getters = {\n  get: (state) => (key) => {\n    const definition = state.definitions[key];\n\n    if (!definition) {\n      throw new Error(`Unknown preference: ${ key }`);\n    }\n\n    const user = state.data[key];\n\n    if (user !== undefined) {\n      return clone(user);\n    }\n\n    const def = clone(definition.def);\n\n    return def;\n  },\n\n  defaultValue: (state) => (key) => {\n    const definition = state.definitions[key];\n\n    if (!definition) {\n      throw new Error(`Unknown preference: ${ key }`);\n    }\n\n    return clone(definition.def);\n  },\n\n  options: (state) => (key) => {\n    const definition = state.definitions[key];\n\n    if (!definition) {\n      throw new Error(`Unknown preference: ${ key }`);\n    }\n\n    if (!definition.options) {\n      throw new Error(`Preference does not have options: ${ key }`);\n    }\n\n    return definition.options.slice();\n  },\n\n  theme: (state, getters, rootState, rootGetters) => {\n    const setting = rootGetters['management/byId'](MANAGEMENT.SETTING, SETTING.THEME);\n\n    if (setting?.value) {\n      return setting?.value;\n    }\n\n    let theme = getters['get'](THEME);\n    const pcs = getters['get'](PREFERS_SCHEME);\n\n    // console.log('Get Theme', theme, pcs);\n\n    // Ember UI uses this prefix\n    if ( theme.startsWith('ui-') ) {\n      theme = theme.substr(3);\n    }\n\n    if ( theme === 'auto' ) {\n      if ( pcs === 'light' || pcs === 'dark' ) {\n        return pcs;\n      }\n\n      return 'dark';\n    }\n\n    return theme;\n  },\n\n  afterLoginRoute: (state, getters) => {\n    const afterLoginRoutePref = getters['get'](AFTER_LOGIN_ROUTE);\n\n    if (typeof afterLoginRoutePref !== 'string') {\n      return afterLoginRoutePref;\n    }\n\n    switch (true) {\n    case (afterLoginRoutePref === 'home'):\n      return { name: 'home' };\n    case (afterLoginRoutePref === 'last-visited'): {\n      const lastVisitedPref = getters['get'](LAST_VISITED);\n\n      if (lastVisitedPref) {\n        return lastVisitedPref;\n      }\n      const clusterPref = getters['get'](CLUSTER);\n\n      return { name: 'c-cluster-explorer', params: { product: 'explorer', cluster: clusterPref } };\n    }\n    case (!!afterLoginRoutePref.match(/.+-dashboard$/)):\n    {\n      const clusterId = afterLoginRoutePref.split('-dashboard')[0];\n\n      return { name: 'c-cluster-explorer', params: { product: 'explorer', cluster: clusterId } };\n    }\n    default:\n      return { name: afterLoginRoutePref };\n    }\n  }\n};\n\nexport const mutations = {\n  load(state, { key, value }) {\n    Vue.set(state.data, key, value);\n  },\n\n  cookiesLoaded(state) {\n    state.cookiesLoaded = true;\n  },\n\n  reset(state) {\n    for (const key in state.definitions) {\n      if ( state.definitions[key]?.asCookie ) {\n        continue;\n      }\n      delete state.data[key];\n    }\n  },\n\n  setDefinition(state, { name, definition = {} }) {\n    state.definitions[name] = definition;\n  },\n};\n\nexport const actions = {\n  async set({\n    dispatch, commit, rootGetters, state\n  }, opt) {\n    let { key, value } = opt; // eslint-disable-line prefer-const\n    const definition = state.definitions[key];\n    let server;\n\n    if ( opt.val ) {\n      throw new Error('Use value, not val');\n    }\n\n    commit('load', { key, value });\n\n    if ( definition.asCookie ) {\n      const opt = {\n        ...cookieOptions,\n        parseJSON: definition.parseJSON === true\n      };\n\n      this.$cookies.set(`${ cookiePrefix }${ key }`.toUpperCase(), value, opt);\n    }\n\n    if ( definition.asUserPreference ) {\n      const checkLogin = rootGetters['auth/loggedIn'];\n\n      // Check for login status\n      if (!checkLogin) {\n        prefsBeforeLogin[key] = value;\n\n        return;\n      }\n\n      try {\n        server = await dispatch('loadServer', key); // There's no watch on prefs, so get before set...\n\n        if ( server?.data ) {\n          if ( definition.mangleWrite ) {\n            value = definition.mangleWrite(value);\n          }\n\n          if ( definition.parseJSON ) {\n            Vue.set(server.data, key, JSON.stringify(value));\n          } else {\n            Vue.set(server.data, key, value);\n          }\n\n          await server.save({ redirectUnauthorized: false });\n        }\n      } catch (e) {\n        // Well it failed, but not much to do about it...\n\n        // Return the error\n        return { type: e.type, status: e.status };\n      }\n    }\n  },\n\n  async setTheme({ dispatch }, val) {\n    await dispatch('set', { key: THEME, value: val });\n  },\n\n  loadCookies({ state, commit }) {\n    if ( state.cookiesLoaded ) {\n      return;\n    }\n\n    for (const key in state.definitions) {\n      const definition = state.definitions[key];\n\n      if ( !definition.asCookie ) {\n        continue;\n      }\n\n      const opt = { parseJSON: definition.parseJSON === true };\n      const value = this.$cookies.get(`${ cookiePrefix }${ key }`.toUpperCase(), opt);\n\n      if (value !== undefined) {\n        commit('load', { key, value });\n      }\n    }\n\n    commit('cookiesLoaded');\n  },\n\n  loadTheme({ state, dispatch }) {\n    if ( process.client ) {\n      const watchDark = window.matchMedia('(prefers-color-scheme: dark)');\n      const watchLight = window.matchMedia('(prefers-color-scheme: light)');\n      const watchNone = window.matchMedia('(prefers-color-scheme: no-preference)');\n\n      const interval = 30 * 60 * 1000;\n      const nextHalfHour = interval - Math.round(new Date().getTime()) % interval;\n\n      setTimeout(() => {\n        dispatch('loadTheme');\n      }, nextHalfHour);\n      // console.log('Update theme in', nextHalfHour, 'ms');\n\n      if ( watchDark.matches ) {\n        changed('dark');\n      } else if ( watchLight.matches ) {\n        changed('light');\n      } else {\n        changed(fromClock());\n      }\n\n      watchDark.addListener((e) => {\n        if ( e.matches ) {\n          changed('dark');\n        }\n      });\n\n      watchLight.addListener((e) => {\n        if ( e.matches ) {\n          changed('light');\n        }\n      });\n\n      watchNone.addListener((e) => {\n        if ( e.matches ) {\n          changed(fromClock());\n        }\n      });\n    }\n\n    function changed(value) {\n      // console.log('Prefers Theme:', value);\n      dispatch('set', { key: PREFERS_SCHEME, value });\n    }\n\n    function fromClock() {\n      const hour = new Date().getHours();\n\n      if ( hour < 7 || hour >= 18 ) {\n        return 'dark';\n      }\n\n      return 'light';\n    }\n  },\n\n  async loadServer( {\n    state, dispatch, commit, rootState, rootGetters\n  }, ignoreKey) {\n    let server = { data: {} };\n\n    try {\n      const all = await dispatch('management/findAll', {\n        type: STEVE.PREFERENCE,\n        opt:  {\n          url:                  'userpreferences',\n          force:                true,\n          watch:                false,\n          redirectUnauthorized: false,\n          stream:               false,\n        }\n      }, { root: true });\n\n      server = all?.[0];\n    } catch (e) {\n      console.error('Error loading preferences', e); // eslint-disable-line no-console\n\n      return;\n    }\n\n    if ( !server?.data ) {\n      return;\n    }\n\n    // if prefsBeforeLogin has values from login page, update the backend\n    if (Object.keys(prefsBeforeLogin).length > 0) {\n      Object.keys(prefsBeforeLogin).forEach((key) => {\n        server.data[key] = prefsBeforeLogin[key];\n      });\n\n      await server.save({ redirectUnauthorized: false });\n\n      // Clear prefsBeforeLogin, as we have now saved theses\n      prefsBeforeLogin = {};\n    }\n\n    for (const key in state.definitions) {\n      const definition = state.definitions[key];\n      let value = clone(server.data[key]);\n\n      if (value === undefined && definition.inheritFrom) {\n        value = clone(server.data[definition.inheritFrom]);\n      }\n\n      if ( value === undefined || key === ignoreKey) {\n        continue;\n      }\n\n      if ( definition.parseJSON ) {\n        try {\n          value = JSON.parse(value);\n        } catch (err) {\n          console.error('Error parsing server pref', key, value, err); // eslint-disable-line no-console\n          continue;\n        }\n      }\n\n      if ( definition.mangleRead ) {\n        value = definition.mangleRead(value);\n      }\n\n      commit('load', { key, value });\n    }\n\n    return server;\n  },\n\n  setLastVisited({ state, dispatch, getters }, route) {\n    if (!route) {\n      return;\n    }\n\n    // Only save the last visited page if the user has that set as the login route preference\n    const afterLoginRoutePref = getters['get'](AFTER_LOGIN_ROUTE);\n    const doNotTrackLastVisited = typeof afterLoginRoutePref !== 'string' || afterLoginRoutePref !== 'last-visited';\n\n    if (doNotTrackLastVisited) {\n      return;\n    }\n\n    const toSave = getLoginRoute(route);\n\n    return dispatch('set', { key: LAST_VISITED, value: toSave });\n  },\n\n  toggleTheme({ getters, dispatch }) {\n    const value = getters[THEME] === 'light' ? 'dark' : 'light';\n\n    return dispatch('set', { key: THEME, value });\n  },\n\n  setBrandStyle({ rootState, rootGetters }, dark = false) {\n    if (rootState.managementReady) {\n      try {\n        const brandSetting = rootGetters['management/byId'](MANAGEMENT.SETTING, SETTING.BRAND);\n\n        if (brandSetting && brandSetting.value && brandSetting.value !== '') {\n          const brand = brandSetting.value;\n\n          const brandMeta = require(`~shell/assets/brand/${ brand }/metadata.json`);\n          const hasStylesheet = brandMeta.hasStylesheet === 'true';\n\n          if (hasStylesheet) {\n            document.body.classList.add(brand);\n          } else {\n            // TODO option apply color at runtime\n          }\n        }\n      } catch {}\n    }\n  }\n};\n\nfunction getLoginRoute(route) {\n  let parts = route.name?.split('-') || [];\n  const params = {};\n  const routeParams = route.params || {};\n\n  // Find the 'resource' part of the route, if it is there\n  const index = parts.findIndex((p) => p === 'resource');\n\n  if (index >= 0) {\n    parts = parts.slice(0, index);\n  }\n\n  // Just keep the params that are needed\n  parts.forEach((param) => {\n    if (routeParams[param]) {\n      params[param] = routeParams[param];\n    }\n  });\n\n  return {\n    name: parts.join('-'),\n    params\n  };\n}\n"],"mappings":"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"}]}