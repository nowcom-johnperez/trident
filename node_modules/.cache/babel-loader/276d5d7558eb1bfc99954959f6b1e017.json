{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/object.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/object.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX3R5cGVvZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1siQEBpdGVyYXRvciJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfQppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZsYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS51bnNjb3BhYmxlcy5mbGF0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuYXNzaWduLmpzIjsKaW1wb3J0IGNsb25lRGVlcCBmcm9tICdsb2Rhc2gvY2xvbmVEZWVwJzsKaW1wb3J0IGZsYXR0ZW5EZWVwIGZyb20gJ2xvZGFzaC9mbGF0dGVuRGVlcCc7CmltcG9ydCBjb21wYWN0IGZyb20gJ2xvZGFzaC9jb21wYWN0JzsKaW1wb3J0IHsgSlNPTlBhdGggfSBmcm9tICdqc29ucGF0aC1wbHVzJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgdHJhbnNmb3JtIGZyb20gJ2xvZGFzaC90cmFuc2Zvcm0nOwppbXBvcnQgaXNPYmplY3QgZnJvbSAnbG9kYXNoL2lzT2JqZWN0JzsKaW1wb3J0IGlzQXJyYXkgZnJvbSAnbG9kYXNoL2lzQXJyYXknOwppbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7CmltcG9ydCBkaWZmZXJlbmNlIGZyb20gJ2xvZGFzaC9kaWZmZXJlbmNlJzsKaW1wb3J0IHsgc3BsaXRPYmplY3RQYXRoLCBqb2luT2JqZWN0UGF0aCB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwppbXBvcnQgeyBhZGRPYmplY3QgfSBmcm9tICdAc2hlbGwvdXRpbHMvYXJyYXknOwpleHBvcnQgZnVuY3Rpb24gc2V0KG9iaiwgcGF0aCwgdmFsdWUpIHsKICB2YXIgcHRyID0gb2JqOwogIGlmICghcHRyKSB7CiAgICByZXR1cm47CiAgfQogIHZhciBwYXJ0cyA9IHNwbGl0T2JqZWN0UGF0aChwYXRoKTsKICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIga2V5ID0gcGFydHNbaV07CiAgICBpZiAoaSA9PT0gcGFydHMubGVuZ3RoIC0gMSkgewogICAgICBWdWUuc2V0KHB0ciwga2V5LCB2YWx1ZSk7CiAgICB9IGVsc2UgaWYgKCFwdHJba2V5XSkgewogICAgICAvLyBNYWtlIHN1cmUgcGFyZW50IGtleXMgZXhpc3QKICAgICAgVnVlLnNldChwdHIsIGtleSwge30pOwogICAgfQogICAgcHRyID0gcHRyW2tleV07CiAgfQogIHJldHVybiBvYmo7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFZhbHVlcyhvYmosIHBhdGgpIHsKICB2YXIga2V5c0luT3JkZXIgPSBwYXRoLnNwbGl0KCcuJyk7CiAgdmFyIGN1cnJlbnRWYWx1ZSA9IFtvYmpdOwogIGtleXNJbk9yZGVyLmZvckVhY2goZnVuY3Rpb24gKGN1cnJlbnRLZXkpIHsKICAgIGN1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZS5tYXAoZnVuY3Rpb24gKGluZGV4VmFsdWUpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5kZXhWYWx1ZSkpIHsKICAgICAgICByZXR1cm4gaW5kZXhWYWx1ZS5tYXAoZnVuY3Rpb24gKGFycikgewogICAgICAgICAgcmV0dXJuIGFycltjdXJyZW50S2V5XTsKICAgICAgICB9KS5mbGF0KCk7CiAgICAgIH0gZWxzZSBpZiAoaW5kZXhWYWx1ZSkgewogICAgICAgIHJldHVybiBpbmRleFZhbHVlW2N1cnJlbnRLZXldOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9KS5mbGF0KCk7CiAgfSk7CiAgcmV0dXJuIGN1cnJlbnRWYWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHZhbCkgewogICAgcmV0dXJuIHZhbCAhPT0gbnVsbDsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0KG9iaiwgcGF0aCkgewogIGlmICghcGF0aCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdHJhbnNsYXRlIGFuIGVtcHR5IGlucHV0LiBUaGUgdCBmdW5jdGlvbiByZXF1aXJlcyBhIHN0cmluZy4nKTsKICB9CiAgaWYgKHBhdGguc3RhcnRzV2l0aCgnJCcpKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gSlNPTlBhdGgoewogICAgICAgIHBhdGg6IHBhdGgsCiAgICAgICAganNvbjogb2JqLAogICAgICAgIHdyYXA6IGZhbHNlCiAgICAgIH0pOwogICAgfSBjYXRjaCAoZSkgewogICAgICBjb25zb2xlLmxvZygnSlNPTiBQYXRoIGVycm9yJywgZSwgcGF0aCwgb2JqKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCgogICAgICByZXR1cm4gJyhKU09OIFBhdGggZXJyKSc7CiAgICB9CiAgfQogIGlmICghcGF0aC5pbmNsdWRlcygnLicpKSB7CiAgICB2YXIgX29iajsKICAgIHJldHVybiAoX29iaiA9IG9iaikgPT09IG51bGwgfHwgX29iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29ialtwYXRoXTsKICB9CiAgdmFyIHBhcnRzID0gc3BsaXRPYmplY3RQYXRoKHBhdGgpOwogIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHsKICAgIGlmICghb2JqKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIG9iaiA9IG9ialtwYXJ0c1tpXV07CiAgfQogIHJldHVybiBvYmo7Cn0KZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShvYmosIHBhdGgpIHsKICB2YXIgcGFyZW50QXJ5ID0gc3BsaXRPYmplY3RQYXRoKHBhdGgpOwoKICAvLyBSZW1vdmUgdGhlIHZlcnkgbGFzdCBwYXJ0IG9mIHRoZSBwYXRoCgogIGlmIChwYXJlbnRBcnkubGVuZ3RoID09PSAxKSB7CiAgICBWdWUuc2V0KG9iaiwgcGF0aCwgdW5kZWZpbmVkKTsKICAgIGRlbGV0ZSBvYmpbcGF0aF07CiAgfSBlbHNlIHsKICAgIHZhciBsZWFmS2V5ID0gcGFyZW50QXJ5LnBvcCgpOwogICAgdmFyIHBhcmVudCA9IGdldChvYmosIGpvaW5PYmplY3RQYXRoKHBhcmVudEFyeSkpOwogICAgaWYgKHBhcmVudCkgewogICAgICBWdWUuc2V0KHBhcmVudCwgbGVhZktleSwgdW5kZWZpbmVkKTsKICAgICAgZGVsZXRlIHBhcmVudFtsZWFmS2V5XTsKICAgIH0KICB9CiAgcmV0dXJuIG9iajsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0dGVyKHBhdGgpIHsKICByZXR1cm4gZnVuY3Rpb24gKG9iaikgewogICAgcmV0dXJuIGdldChvYmosIHBhdGgpOwogIH07Cn0KZXhwb3J0IGZ1bmN0aW9uIGNsb25lKG9iaikgewogIHJldHVybiBjbG9uZURlZXAob2JqKTsKfQpleHBvcnQgZnVuY3Rpb24gaXNFbXB0eShvYmopIHsKICBpZiAoIW9iaikgewogICAgcmV0dXJuIHRydWU7CiAgfQogIHJldHVybiAhT2JqZWN0LmtleXMob2JqKS5sZW5ndGg7Cn0KCi8qKgogKiBDaGVja3MgdG8gc2VlIGlmIHRoZSBvYmplY3QgaXMgYSBzaW1wbGUga2V5IHZhbHVlIHBhaXIgd2hlcmUgYWxsIHZhbHVlcyBhcmUKICoganVzdCBwcmltaXRpdmVzLgogKiBAcGFyYW0ge2FueX0gb2JqCiAqLwpleHBvcnQgZnVuY3Rpb24gaXNTaW1wbGVLZXlWYWx1ZShvYmopIHsKICByZXR1cm4gb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaikgJiYgX3R5cGVvZihvYmopID09PSAnb2JqZWN0JyAmJiBPYmplY3QudmFsdWVzKG9iaiB8fCB7fSkuZXZlcnkoZnVuY3Rpb24gKHYpIHsKICAgIHJldHVybiBfdHlwZW9mKHYpICE9PSAnb2JqZWN0JzsKICB9KTsKfQoKLyoKcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBubyBrZXkvdmFsdWUgcGFpcnMgKGluY2x1ZGluZyBuZXN0ZWQpIHdoZXJlIHRoZSB2YWx1ZSBpczoKICBlbXB0eSBhcnJheQogIGVtcHR5IG9iamVjdAogIG51bGwKICB1bmRlZmluZWQKKi8KZXhwb3J0IGZ1bmN0aW9uIGNsZWFuVXAob2JqKSB7CiAgT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgdmFyIHZhbCA9IG9ialtrZXldOwogICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgewogICAgICBvYmpba2V5XSA9IHZhbC5tYXAoZnVuY3Rpb24gKGVhY2gpIHsKICAgICAgICBpZiAoZWFjaCAhPT0gbnVsbCAmJiBlYWNoICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJldHVybiBjbGVhblVwKGVhY2gpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmIChvYmpba2V5XS5sZW5ndGggPT09IDApIHsKICAgICAgICBkZWxldGUgb2JqW2tleV07CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsID09PSBudWxsKSB7CiAgICAgIGRlbGV0ZSBvYmpba2V5XTsKICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSkgewogICAgICBpZiAoaXNFbXB0eSh2YWwpKSB7CiAgICAgICAgZGVsZXRlIG9ialtrZXldOwogICAgICB9CiAgICAgIG9ialtrZXldID0gY2xlYW5VcCh2YWwpOwogICAgfQogIH0pOwogIHJldHVybiBvYmo7Cn0KZXhwb3J0IGZ1bmN0aW9uIGRlZmluZWRLZXlzKG9iaikgewogIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgdmFyIHZhbCA9IG9ialtrZXldOwogICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgewogICAgICByZXR1cm4ga2V5OwogICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7CiAgICAgIHJldHVybiAoZGVmaW5lZEtleXModmFsKSB8fCBbXSkubWFwKGZ1bmN0aW9uIChzdWJrZXkpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KGtleSwgIi4iKS5jb25jYXQoc3Via2V5KTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4ga2V5OwogICAgfQogIH0pOwogIHJldHVybiBjb21wYWN0KGZsYXR0ZW5EZWVwKGtleXMpKTsKfQpleHBvcnQgZnVuY3Rpb24gZGlmZihmcm9tLCB0bykgewogIGZyb20gPSBmcm9tIHx8IHt9OwogIHRvID0gdG8gfHwge307CgogIC8vIENvcHkgdmFsdWVzIGluICd0bycgdGhhdCBhcmUgZGlmZmVyZW50IHRoYW4gZnJvbQogIHZhciBvdXQgPSB0cmFuc2Zvcm0odG8sIGZ1bmN0aW9uIChyZXMsIHRvVmFsLCBrKSB7CiAgICB2YXIgZnJvbVZhbCA9IGZyb21ba107CiAgICBpZiAoaXNFcXVhbCh0b1ZhbCwgZnJvbVZhbCkpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKEFycmF5LmlzQXJyYXkodG9WYWwpIHx8IEFycmF5LmlzQXJyYXkoZnJvbVZhbCkpIHsKICAgICAgLy8gRG9uJ3QgZGlmZiBhcnJheXMsIGp1c3QgdXNlIHRoZSB3aG9sZSB2YWx1ZQogICAgICByZXNba10gPSB0b1ZhbDsKICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodG9WYWwpICYmIGlzT2JqZWN0KGZyb21ba10pKSB7CiAgICAgIHJlc1trXSA9IGRpZmYoZnJvbVZhbCwgdG9WYWwpOwogICAgfSBlbHNlIHsKICAgICAgcmVzW2tdID0gdG9WYWw7CiAgICB9CiAgfSk7CiAgdmFyIGZyb21LZXlzID0gZGVmaW5lZEtleXMoZnJvbSk7CiAgdmFyIHRvS2V5cyA9IGRlZmluZWRLZXlzKHRvKTsKCiAgLy8gUmV0dXJuIGtleXMgdGhhdCBhcmUgaW4gJ2Zyb20nIGJ1dCBub3QgJ3RvLicKICB2YXIgbWlzc2luZyA9IGRpZmZlcmVuY2UoZnJvbUtleXMsIHRvS2V5cyk7CiAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG1pc3NpbmcpLAogICAgX3N0ZXA7CiAgdHJ5IHsKICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgIHZhciBrID0gX3N0ZXAudmFsdWU7CiAgICAgIHNldChvdXQsIGssIG51bGwpOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yLmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yLmYoKTsKICB9CiAgcmV0dXJuIG91dDsKfQoKLyoqCiAqIFN1cGVyIHNpbXBsZSBsb2Rhc2ggaXNFcXVhbCBlcXVpdmFsZW50LgogKgogKiBPbmx5IGNoZWNrcyByb290IHByb3BlcnRpZXMgZm9yIHN0cmljdCBlcXVhbGl0eQogKi8KZnVuY3Rpb24gaXNFcXVhbEJhc2ljKGZyb20sIHRvKSB7CiAgdmFyIGZyb21LZXlzID0gT2JqZWN0LmtleXMoZnJvbSB8fCB7fSk7CiAgdmFyIHRvS2V5cyA9IE9iamVjdC5rZXlzKHRvIHx8IHt9KTsKICBpZiAoZnJvbUtleXMubGVuZ3RoICE9PSB0b0tleXMubGVuZ3RoKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQogIGZvciAodmFyIGkgPSAwOyBpIDwgZnJvbUtleXMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBmcm9tVmFsdWUgPSBmcm9tW2Zyb21LZXlzW2ldXTsKICAgIHZhciB0b1ZhbHVlID0gdG9bZnJvbUtleXNbaV1dOwogICAgaWYgKGZyb21WYWx1ZSAhPT0gdG9WYWx1ZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQogIHJldHVybiB0cnVlOwp9CmV4cG9ydCB7IGlzRXF1YWxCYXNpYyBhcyBpc0VxdWFsIH07CmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VzZXQoZnJvbSwgdG8pIHsKICB2YXIgcGFyZW50UGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogW107CiAgdmFyIG91dCA9IHt9OwogIGlmIChpc0VxdWFsKGZyb20sIHRvKSkgewogICAgcmV0dXJuIG91dDsKICB9CiAgZm9yICh2YXIgayBpbiBmcm9tKSB7CiAgICB2YXIgcGF0aCA9IGpvaW5PYmplY3RQYXRoKFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFyZW50UGF0aCksIFtrXSkpOwogICAgaWYgKCEoayBpbiB0bykpIHsKICAgICAgb3V0W3BhdGhdID0gewogICAgICAgIG9wOiAncmVtb3ZlJywKICAgICAgICBwYXRoOiBwYXRoCiAgICAgIH07CiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGZyb21ba10pICYmIGlzT2JqZWN0KHRvW2tdKSB8fCBpc0FycmF5KGZyb21ba10pICYmIGlzQXJyYXkodG9ba10pKSB7CiAgICAgIG91dCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3V0KSwgY2hhbmdlc2V0KGZyb21ba10sIHRvW2tdLCBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhcmVudFBhdGgpLCBba10pKSk7CiAgICB9IGVsc2UgaWYgKCFpc0VxdWFsKGZyb21ba10sIHRvW2tdKSkgewogICAgICBvdXRbcGF0aF0gPSB7CiAgICAgICAgb3A6ICdjaGFuZ2UnLAogICAgICAgIGZyb206IGZyb21ba10sCiAgICAgICAgdmFsdWU6IHRvW2tdCiAgICAgIH07CiAgICB9CiAgfQogIGZvciAodmFyIF9rIGluIHRvKSB7CiAgICBpZiAoIShfayBpbiBmcm9tKSkgewogICAgICB2YXIgX3BhdGggPSBqb2luT2JqZWN0UGF0aChbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhcmVudFBhdGgpLCBbX2tdKSk7CiAgICAgIG91dFtfcGF0aF0gPSB7CiAgICAgICAgb3A6ICdhZGQnLAogICAgICAgIHZhbHVlOiB0b1tfa10KICAgICAgfTsKICAgIH0KICB9CiAgcmV0dXJuIG91dDsKfQpleHBvcnQgZnVuY3Rpb24gY2hhbmdlc2V0Q29uZmxpY3RzKGEsIGIpIHsKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGEpLnNvcnQoKTsKICB2YXIgb3V0ID0gW107CiAgdmFyIHNlZW4gPSB7fTsKICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGtleXMpLAogICAgX3N0ZXAyOwogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICB2YXIgayA9IF9zdGVwMi52YWx1ZTsKICAgICAgdmFyIG9rID0gdHJ1ZTsKICAgICAgdmFyIGFhID0gYVtrXTsKICAgICAgdmFyIGJiID0gYltrXTsKCiAgICAgIC8vIElmIHdlJ3ZlIHNlZW4gYSBjaGFuZ2UgZm9yIGEgcGFyZW50IG9mIHRoaXMga2V5IGJlZm9yZSAoZS5nLiBsb29raW5nIGF0IGBzcGVjLnJlcGxpY2FzYCBhbmQgdGhlcmUncyBhbHJlYWR5IGJlZW4gYSBjaGFuZ2UgdG8gYHNwZWNgKSwgYXNzdW1lIHRoZXkgY29uZmxpY3QKICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwYXJlbnRLZXlzKGspKSwKICAgICAgICBfc3RlcDQ7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBwYXJlbnRLZXkgPSBfc3RlcDQudmFsdWU7CiAgICAgICAgICBpZiAoc2VlbltwYXJlbnRLZXldKSB7CiAgICAgICAgICAgIG9rID0gZmFsc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgIH0KICAgICAgc2VlbltrXSA9IHRydWU7CiAgICAgIGlmIChvayAmJiBiYikgewogICAgICAgIHN3aXRjaCAoIiIuY29uY2F0KGFhLm9wLCAiLSIpLmNvbmNhdChiYi5vcCkpIHsKICAgICAgICAgIGNhc2UgJ2FkZC1hZGQnOgogICAgICAgICAgY2FzZSAnYWRkLWNoYW5nZSc6CiAgICAgICAgICBjYXNlICdjaGFuZ2UtYWRkJzoKICAgICAgICAgIGNhc2UgJ2NoYW5nZS1jaGFuZ2UnOgogICAgICAgICAgICBvayA9IGlzRXF1YWwoYWEudmFsdWUsIGJiLnZhbHVlKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdhZGQtcmVtb3ZlJzoKICAgICAgICAgIGNhc2UgJ2NoYW5nZS1yZW1vdmUnOgogICAgICAgICAgY2FzZSAncmVtb3ZlLWFkZCc6CiAgICAgICAgICBjYXNlICdyZW1vdmUtY2hhbmdlJzoKICAgICAgICAgICAgb2sgPSBmYWxzZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdyZW1vdmUtcmVtb3ZlJzoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIG9rID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghb2spIHsKICAgICAgICBhZGRPYmplY3Qob3V0LCBrKTsKICAgICAgfQogICAgfQoKICAgIC8vIENoZWNrIHBhcmVudCBrZXlzIGdvaW5nIHRoZSBvdGhlciB3YXkKICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvcjIuZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3IyLmYoKTsKICB9CiAga2V5cyA9IE9iamVjdC5rZXlzKGIpLnNvcnQoKTsKICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGtleXMpLAogICAgX3N0ZXAzOwogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICB2YXIgX2syID0gX3N0ZXAzLnZhbHVlOwogICAgICB2YXIgX29rID0gdHJ1ZTsKICAgICAgdmFyIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwYXJlbnRLZXlzKF9rMikpLAogICAgICAgIF9zdGVwNTsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9wYXJlbnRLZXkgPSBfc3RlcDUudmFsdWU7CiAgICAgICAgICBpZiAoc2VlbltfcGFyZW50S2V5XSkgewogICAgICAgICAgICBfb2sgPSBmYWxzZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgfQogICAgICBzZWVuW19rMl0gPSB0cnVlOwogICAgICBpZiAoIV9vaykgewogICAgICAgIGFkZE9iamVjdChvdXQsIF9rMik7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvcjMuZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3IzLmYoKTsKICB9CiAgcmV0dXJuIG91dC5zb3J0KCk7CiAgZnVuY3Rpb24gcGFyZW50S2V5cyhrKSB7CiAgICB2YXIgb3V0ID0gW107CiAgICB2YXIgcGFydHMgPSBzcGxpdE9iamVjdFBhdGgoayk7CiAgICBwYXJ0cy5wb3AoKTsKICAgIHdoaWxlIChwYXJ0cy5sZW5ndGgpIHsKICAgICAgdmFyIHBhdGggPSBqb2luT2JqZWN0UGF0aChwYXJ0cyk7CiAgICAgIG91dC5wdXNoKHBhdGgpOwogICAgICBwYXJ0cy5wb3AoKTsKICAgIH0KICAgIHJldHVybiBvdXQ7CiAgfQp9CmV4cG9ydCBmdW5jdGlvbiBhcHBseUNoYW5nZXNldChvYmosIGNoYW5nZXNldCkgewogIHZhciBlbnRyeTsKICBmb3IgKHZhciBwYXRoIGluIGNoYW5nZXNldCkgewogICAgZW50cnkgPSBjaGFuZ2VzZXRbcGF0aF07CiAgICBpZiAoZW50cnkub3AgPT09ICdhZGQnIHx8IGVudHJ5Lm9wID09PSAnY2hhbmdlJykgewogICAgICBzZXQob2JqLCBwYXRoLCBlbnRyeS52YWx1ZSk7CiAgICB9IGVsc2UgaWYgKGVudHJ5Lm9wID09PSAncmVtb3ZlJykgewogICAgICByZW1vdmUob2JqLCBwYXRoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBvcGVyYXRpb246Ii5jb25jYXQoZW50cnkub3ApKTsKICAgIH0KICB9CiAgcmV0dXJuIG9iajsKfQoKLyoqCiAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnMKICovCmV4cG9ydCBmdW5jdGlvbiBwaWNrQnkoKSB7CiAgdmFyIG9iaiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgdmFyIHByZWRpY2F0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsKICAgIHJldHVybiBmYWxzZTsKICB9OwogIHJldHVybiBPYmplY3QuZW50cmllcyhvYmopLnJlZHVjZShmdW5jdGlvbiAocmVzLCBfcmVmKSB7CiAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAga2V5ID0gX3JlZjJbMF0sCiAgICAgIHZhbHVlID0gX3JlZjJbMV07CiAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXkpKSB7CiAgICAgIHJlc1trZXldID0gdmFsdWU7CiAgICB9CiAgICByZXR1cm4gcmVzOwogIH0sIHt9KTsKfQoKLyoqCiAqIENvbnZlcnQgbGlzdCB0byBkaWN0aW9uYXJ5IGZyb20gYSBnaXZlbiBmdW5jdGlvbgogKiBAcGFyYW0geyp9IGFycmF5CiAqIEBwYXJhbSB7Kn0gY2FsbGJhY2sKICogQHJldHVybnMKICovCmV4cG9ydCB2YXIgdG9EaWN0aW9uYXJ5ID0gZnVuY3Rpb24gdG9EaWN0aW9uYXJ5KGFycmF5LCBjYWxsYmFjaykgewogIHJldHVybiBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCwgW3t9XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFycmF5Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaXRlbSwgY2FsbGJhY2soaXRlbSkpOwogIH0pKSkpOwp9Ow=="},{"version":3,"names":["cloneDeep","flattenDeep","compact","JSONPath","Vue","transform","isObject","isArray","isEqual","difference","splitObjectPath","joinObjectPath","addObject","set","obj","path","value","ptr","parts","i","length","key","getAllValues","keysInOrder","split","currentValue","forEach","currentKey","map","indexValue","Array","arr","flat","filter","val","get","Error","startsWith","json","wrap","e","console","log","includes","_obj","remove","parentAry","undefined","leafKey","pop","parent","getter","clone","isEmpty","Object","keys","isSimpleKeyValue","_typeof","values","every","v","cleanUp","each","definedKeys","subkey","concat","diff","from","to","out","res","toVal","k","fromVal","fromKeys","toKeys","missing","_iterator","_createForOfIteratorHelper","_step","s","n","done","err","f","isEqualBasic","fromValue","toValue","changeset","parentPath","arguments","_toConsumableArray","op","_objectSpread","changesetConflicts","a","b","sort","seen","_iterator2","_step2","ok","aa","bb","_iterator4","parentKeys","_step4","parentKey","_iterator3","_step3","_iterator5","_step5","push","applyChangeset","entry","pickBy","predicate","entries","reduce","_ref","_ref2","_slicedToArray","toDictionary","array","callback","assign","apply","item","_defineProperty"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/object.js"],"sourcesContent":["import cloneDeep from 'lodash/cloneDeep';\nimport flattenDeep from 'lodash/flattenDeep';\nimport compact from 'lodash/compact';\nimport { JSONPath } from 'jsonpath-plus';\nimport Vue from 'vue';\nimport transform from 'lodash/transform';\nimport isObject from 'lodash/isObject';\nimport isArray from 'lodash/isArray';\nimport isEqual from 'lodash/isEqual';\nimport difference from 'lodash/difference';\nimport { splitObjectPath, joinObjectPath } from '@shell/utils/string';\nimport { addObject } from '@shell/utils/array';\n\nexport function set(obj, path, value) {\n  let ptr = obj;\n\n  if (!ptr) {\n    return;\n  }\n\n  const parts = splitObjectPath(path);\n\n  for (let i = 0; i < parts.length; i++) {\n    const key = parts[i];\n\n    if ( i === parts.length - 1 ) {\n      Vue.set(ptr, key, value);\n    } else if ( !ptr[key] ) {\n      // Make sure parent keys exist\n      Vue.set(ptr, key, {});\n    }\n\n    ptr = ptr[key];\n  }\n\n  return obj;\n}\n\nexport function getAllValues(obj, path) {\n  const keysInOrder = path.split('.');\n  let currentValue = [obj];\n\n  keysInOrder.forEach((currentKey) => {\n    currentValue = currentValue.map((indexValue) => {\n      if (Array.isArray(indexValue)) {\n        return indexValue.map((arr) => arr[currentKey]).flat();\n      } else if (indexValue) {\n        return indexValue[currentKey];\n      } else {\n        return null;\n      }\n    }).flat();\n  });\n\n  return currentValue.filter((val) => val !== null);\n}\n\nexport function get(obj, path) {\n  if ( !path) {\n    throw new Error('Cannot translate an empty input. The t function requires a string.');\n  }\n  if ( path.startsWith('$') ) {\n    try {\n      return JSONPath({\n        path,\n        json: obj,\n        wrap: false,\n      });\n    } catch (e) {\n      console.log('JSON Path error', e, path, obj); // eslint-disable-line no-console\n\n      return '(JSON Path err)';\n    }\n  }\n  if ( !path.includes('.') ) {\n    return obj?.[path];\n  }\n\n  const parts = splitObjectPath(path);\n\n  for (let i = 0; i < parts.length; i++) {\n    if (!obj) {\n      return;\n    }\n\n    obj = obj[parts[i]];\n  }\n\n  return obj;\n}\n\nexport function remove(obj, path) {\n  const parentAry = splitObjectPath(path);\n\n  // Remove the very last part of the path\n\n  if (parentAry.length === 1) {\n    Vue.set(obj, path, undefined);\n    delete obj[path];\n  } else {\n    const leafKey = parentAry.pop();\n    const parent = get(obj, joinObjectPath(parentAry));\n\n    if ( parent ) {\n      Vue.set(parent, leafKey, undefined);\n      delete parent[leafKey];\n    }\n  }\n\n  return obj;\n}\n\nexport function getter(path) {\n  return function(obj) {\n    return get(obj, path);\n  };\n}\n\nexport function clone(obj) {\n  return cloneDeep(obj);\n}\n\nexport function isEmpty(obj) {\n  if ( !obj ) {\n    return true;\n  }\n\n  return !Object.keys(obj).length;\n}\n\n/**\n * Checks to see if the object is a simple key value pair where all values are\n * just primitives.\n * @param {any} obj\n */\nexport function isSimpleKeyValue(obj) {\n  return obj !== null &&\n    !Array.isArray(obj) &&\n    typeof obj === 'object' &&\n    Object.values(obj || {}).every((v) => typeof v !== 'object');\n}\n\n/*\nreturns an object with no key/value pairs (including nested) where the value is:\n  empty array\n  empty object\n  null\n  undefined\n*/\nexport function cleanUp(obj) {\n  Object.keys(obj).map((key) => {\n    const val = obj[key];\n\n    if ( Array.isArray(val) ) {\n      obj[key] = val.map((each) => {\n        if (each !== null && each !== undefined) {\n          return cleanUp(each);\n        }\n      });\n      if (obj[key].length === 0) {\n        delete obj[key];\n      }\n    } else if (typeof val === 'undefined' || val === null) {\n      delete obj[key];\n    } else if ( isObject(val) ) {\n      if (isEmpty(val)) {\n        delete obj[key];\n      }\n      obj[key] = cleanUp(val);\n    }\n  });\n\n  return obj;\n}\n\nexport function definedKeys(obj) {\n  const keys = Object.keys(obj).map((key) => {\n    const val = obj[key];\n\n    if ( Array.isArray(val) ) {\n      return key;\n    } else if ( isObject(val) ) {\n      return ( definedKeys(val) || [] ).map((subkey) => `${ key }.${ subkey }`);\n    } else {\n      return key;\n    }\n  });\n\n  return compact(flattenDeep(keys));\n}\n\nexport function diff(from, to) {\n  from = from || {};\n  to = to || {};\n\n  // Copy values in 'to' that are different than from\n  const out = transform(to, (res, toVal, k) => {\n    const fromVal = from[k];\n\n    if ( isEqual(toVal, fromVal) ) {\n      return;\n    }\n\n    if ( Array.isArray(toVal) || Array.isArray(fromVal) ) {\n      // Don't diff arrays, just use the whole value\n      res[k] = toVal;\n    } else if ( isObject(toVal) && isObject(from[k]) ) {\n      res[k] = diff(fromVal, toVal);\n    } else {\n      res[k] = toVal;\n    }\n  });\n\n  const fromKeys = definedKeys(from);\n  const toKeys = definedKeys(to);\n\n  // Return keys that are in 'from' but not 'to.'\n  const missing = difference(fromKeys, toKeys);\n\n  for ( const k of missing ) {\n    set(out, k, null);\n  }\n\n  return out;\n}\n\n/**\n * Super simple lodash isEqual equivalent.\n *\n * Only checks root properties for strict equality\n */\nfunction isEqualBasic(from, to) {\n  const fromKeys = Object.keys(from || {});\n  const toKeys = Object.keys(to || {});\n\n  if (fromKeys.length !== toKeys.length) {\n    return false;\n  }\n\n  for (let i = 0; i < fromKeys.length; i++) {\n    const fromValue = from[fromKeys[i]];\n    const toValue = to[fromKeys[i]];\n\n    if (fromValue !== toValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport { isEqualBasic as isEqual };\n\nexport function changeset(from, to, parentPath = []) {\n  let out = {};\n\n  if ( isEqual(from, to) ) {\n    return out;\n  }\n\n  for ( const k in from ) {\n    const path = joinObjectPath([...parentPath, k]);\n\n    if ( !(k in to) ) {\n      out[path] = { op: 'remove', path };\n    } else if ( (isObject(from[k]) && isObject(to[k])) || (isArray(from[k]) && isArray(to[k])) ) {\n      out = { ...out, ...changeset(from[k], to[k], [...parentPath, k]) };\n    } else if ( !isEqual(from[k], to[k]) ) {\n      out[path] = {\n        op: 'change', from: from[k], value: to[k]\n      };\n    }\n  }\n\n  for ( const k in to ) {\n    if ( !(k in from) ) {\n      const path = joinObjectPath([...parentPath, k]);\n\n      out[path] = { op: 'add', value: to[k] };\n    }\n  }\n\n  return out;\n}\n\nexport function changesetConflicts(a, b) {\n  let keys = Object.keys(a).sort();\n  const out = [];\n  const seen = {};\n\n  for ( const k of keys ) {\n    let ok = true;\n    const aa = a[k];\n    const bb = b[k];\n\n    // If we've seen a change for a parent of this key before (e.g. looking at `spec.replicas` and there's already been a change to `spec`), assume they conflict\n    for ( const parentKey of parentKeys(k) ) {\n      if ( seen[parentKey] ) {\n        ok = false;\n        break;\n      }\n    }\n\n    seen[k] = true;\n\n    if ( ok && bb ) {\n      switch ( `${ aa.op }-${ bb.op }` ) {\n      case 'add-add':\n      case 'add-change':\n      case 'change-add':\n      case 'change-change':\n        ok = isEqual(aa.value, bb.value);\n        break;\n\n      case 'add-remove':\n      case 'change-remove':\n      case 'remove-add':\n      case 'remove-change':\n        ok = false;\n        break;\n\n      case 'remove-remove':\n      default:\n        ok = true;\n        break;\n      }\n    }\n\n    if ( !ok ) {\n      addObject(out, k);\n    }\n  }\n\n  // Check parent keys going the other way\n  keys = Object.keys(b).sort();\n  for ( const k of keys ) {\n    let ok = true;\n\n    for ( const parentKey of parentKeys(k) ) {\n      if ( seen[parentKey] ) {\n        ok = false;\n        break;\n      }\n    }\n\n    seen[k] = true;\n\n    if ( !ok ) {\n      addObject(out, k);\n    }\n  }\n\n  return out.sort();\n\n  function parentKeys(k) {\n    const out = [];\n    const parts = splitObjectPath(k);\n\n    parts.pop();\n\n    while ( parts.length ) {\n      const path = joinObjectPath(parts);\n\n      out.push(path);\n      parts.pop();\n    }\n\n    return out;\n  }\n}\n\nexport function applyChangeset(obj, changeset) {\n  let entry;\n\n  for ( const path in changeset ) {\n    entry = changeset[path];\n\n    if ( entry.op === 'add' || entry.op === 'change' ) {\n      set(obj, path, entry.value);\n    } else if ( entry.op === 'remove' ) {\n      remove(obj, path);\n    } else {\n      throw new Error(`Unknown operation:${ entry.op }`);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n */\nexport function pickBy(obj = {}, predicate = (value, key) => false) {\n  return Object.entries(obj)\n    .reduce((res, [key, value]) => {\n      if (predicate(value, key)) {\n        res[key] = value;\n      }\n\n      return res;\n    }, {});\n}\n\n/**\n * Convert list to dictionary from a given function\n * @param {*} array\n * @param {*} callback\n * @returns\n */\nexport const toDictionary = (array, callback) => Object.assign(\n  {}, ...array.map((item) => ({ [item]: callback(item) }))\n);\n"],"mappings":"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"}]}