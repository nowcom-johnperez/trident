{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgTGFiZWxlZFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVsZWRTZWxlY3QnOwppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBQZXJzaXN0ZW50Vm9sdW1lQ2xhaW0gZnJvbSAnQHNoZWxsL2VkaXQvd29ya2xvYWQvc3RvcmFnZS9wZXJzaXN0ZW50Vm9sdW1lQ2xhaW0vcGVyc2lzdGVudHZvbHVtZWNsYWltJzsKaW1wb3J0IHsgUFZDIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dCwKICAgIExhYmVsZWRTZWxlY3Q6IExhYmVsZWRTZWxlY3QsCiAgICBQZXJzaXN0ZW50Vm9sdW1lQ2xhaW06IFBlcnNpc3RlbnRWb2x1bWVDbGFpbSwKICAgIENoZWNrYm94OiBDaGVja2JveAogIH0sCiAgcHJvcHM6IHsKICAgIHBvZFNwZWM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NyZWF0ZScKICAgIH0sCiAgICBuYW1lc3BhY2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICAvLyBhcnJheSBvZiBleGlzdGluZyBwZXJzaXN0ZW50IHZvbHVtZSBjbGFpbXMKICAgIHB2Y3M6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIHJlZ2lzdGVyQmVmb3JlSG9vazogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHNhdmVQdmNIb29rTmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbG9hZGluZzogewogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgdHlwZTogQm9vbGVhbgogICAgfQogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBuYW1lc3BhY2UsIGRhdGEsIHB2YzsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCFfdGhpcy52YWx1ZS5fX25ld1B2YykgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBuYW1lc3BhY2UgPSBfdGhpcy5uYW1lc3BhY2UgfHwgX3RoaXMuJHN0b3JlLmdldHRlcnNbJ2RlZmF1bHROYW1lc3BhY2UnXTsKICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICB0eXBlOiBQVkMKICAgICAgICAgICAgfTsKICAgICAgICAgICAgZGF0YS5tZXRhZGF0YSA9IHsKICAgICAgICAgICAgICBuYW1lc3BhY2U6IG5hbWVzcGFjZQogICAgICAgICAgICB9OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9jcmVhdGUnLCBkYXRhKTsKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgcHZjID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgcHZjLmFwcGx5RGVmYXVsdHMoKTsKICAgICAgICAgICAgX3RoaXMuJHNldChfdGhpcy52YWx1ZSwgJ19fbmV3UHZjJywgcHZjKTsKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIC8vIHdoZXRoZXIgdGhpcyBpcyBjcmVhdGluZyBhIG5ldyBQVkMgb3IgcmVmZXJlbmNpbmcgYW4gZXhpc3Rpbmcgb25lCiAgICBjcmVhdGVOZXc6IGZ1bmN0aW9uIGNyZWF0ZU5ldygpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuX3R5cGUgPT09ICdjcmVhdGVQVkMnOwogICAgfQogIH0sIG1hcEdldHRlcnMoewogICAgdDogJ2kxOG4vdCcKICB9KSksCiAgd2F0Y2g6IHsKICAgIG5hbWVzcGFjZTogZnVuY3Rpb24gbmFtZXNwYWNlKG5ldSkgewogICAgICB0aGlzLnZhbHVlLl9fbmV3UHZjLm1ldGFkYXRhLm5hbWVzcGFjZSA9IG5ldTsKICAgIH0sCiAgICAndmFsdWUuX19uZXdQdmMubWV0YWRhdGEubmFtZSc6IGZ1bmN0aW9uIHZhbHVlX19uZXdQdmNNZXRhZGF0YU5hbWUobmV1KSB7CiAgICAgIHRoaXMudmFsdWUucGVyc2lzdGVudFZvbHVtZUNsYWltLmNsYWltTmFtZSA9IG5ldTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbW92ZVB2Y0Zvcm06IGZ1bmN0aW9uIHJlbW92ZVB2Y0Zvcm0oaG9va05hbWUpIHsKICAgICAgdGhpcy4kZW1pdCgncmVtb3ZlUHZjRm9ybScsIGhvb2tOYW1lKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["LabeledInput","LabeledSelect","Checkbox","mapGetters","PersistentVolumeClaim","PVC","components","props","podSpec","type","Object","default","_default","mode","String","namespace","value","pvcs","Array","registerBeforeHook","Function","savePvcHookName","required","loading","Boolean","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","data","pvc","wrap","_callee$","_context","prev","next","__newPvc","abrupt","$store","getters","metadata","dispatch","sent","applyDefaults","$set","stop","computed","_objectSpread","createNew","_type","t","watch","neu","value__newPvcMetadataName","persistentVolumeClaim","claimName","methods","removePvcForm","hookName","$emit"],"sources":["node_modules/@rancher/shell/edit/workload/storage/persistentVolumeClaim/index.vue"],"sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { mapGetters } from 'vuex';\nimport PersistentVolumeClaim from '@shell/edit/workload/storage/persistentVolumeClaim/persistentvolumeclaim';\nimport { PVC } from '@shell/config/types';\n\nexport default {\n  components: {\n    LabeledInput,\n    LabeledSelect,\n    PersistentVolumeClaim,\n    Checkbox\n  },\n\n  props: {\n    podSpec: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    namespace: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    // array of existing persistent volume claims\n    pvcs: {\n      type:    Array,\n      default: () => []\n    },\n\n    registerBeforeHook: {\n      type:    Function,\n      default: null,\n    },\n\n    savePvcHookName: {\n      type:     String,\n      required: true\n    },\n    loading: {\n      default: false,\n      type:    Boolean\n    },\n  },\n\n  async fetch() {\n    // Create the new PVC form state if it doesn't exist\n    if (this.value.__newPvc) {\n      return;\n    }\n    const namespace = this.namespace || this.$store.getters['defaultNamespace'];\n\n    const data = { type: PVC };\n\n    data.metadata = { namespace };\n\n    const pvc = await this.$store.dispatch('cluster/create', data);\n\n    pvc.applyDefaults();\n    this.$set(this.value, '__newPvc', pvc);\n  },\n\n  computed: {\n    // whether this is creating a new PVC or referencing an existing one\n    createNew() {\n      return this.value._type === 'createPVC';\n    },\n\n    ...mapGetters({ t: 'i18n/t' })\n  },\n\n  watch: {\n    namespace(neu) {\n      this.value.__newPvc.metadata.namespace = neu;\n    },\n\n    'value.__newPvc.metadata.name'(neu) {\n      this.value.persistentVolumeClaim.claimName = neu;\n    }\n  },\n\n  methods: {\n    removePvcForm(hookName) {\n      this.$emit('removePvcForm', hookName);\n    }\n  }\n};\n</script>\n\n<template>\n  <div v-if=\"value.__newPvc\">\n    <div>\n      <div\n        v-if=\"createNew\"\n        class=\"bordered-section\"\n      >\n        <PersistentVolumeClaim\n          v-if=\"value.__newPvc\"\n          v-model=\"value.__newPvc\"\n          :mode=\"mode\"\n          :register-before-hook=\"registerBeforeHook\"\n          :save-pvc-hook-name=\"savePvcHookName\"\n          @removePvcForm=\"removePvcForm\"\n        />\n      </div>\n      <div class=\"row mb-10\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.name\"\n            :required=\"true\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.volumeName')\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-if=\"!createNew\"\n            v-model=\"value.persistentVolumeClaim.claimName\"\n            :required=\"true\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.subtypes.persistentVolumeClaim')\"\n            :options=\"pvcs\"\n            :loading=\"loading\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <Checkbox\n          v-model=\"value.persistentVolumeClaim.readOnly\"\n          :mode=\"mode\"\n          :label=\"t('workload.storage.readOnly')\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n"],"mappings":";;;;;;;;;;;;AACA,SAAAA,YAAA;AACA,OAAAC,aAAA;AACA,SAAAC,QAAA;AACA,SAAAC,UAAA;AACA,OAAAC,qBAAA;AACA,SAAAC,GAAA;AAEA;EACAC,UAAA;IACAN,YAAA,EAAAA,YAAA;IACAC,aAAA,EAAAA,aAAA;IACAG,qBAAA,EAAAA,qBAAA;IACAF,QAAA,EAAAA;EACA;EAEAK,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IACAC,IAAA;MACAJ,IAAA,EAAAK,MAAA;MACAH,OAAA;IACA;IAEAI,SAAA;MACAN,IAAA,EAAAK,MAAA;MACAH,OAAA;IACA;IAEAK,KAAA;MACAP,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IAEA;IACAK,IAAA;MACAR,IAAA,EAAAS,KAAA;MACAP,OAAA,WAAAC,SAAA;QAAA;MAAA;IACA;IAEAO,kBAAA;MACAV,IAAA,EAAAW,QAAA;MACAT,OAAA;IACA;IAEAU,eAAA;MACAZ,IAAA,EAAAK,MAAA;MACAQ,QAAA;IACA;IACAC,OAAA;MACAZ,OAAA;MACAF,IAAA,EAAAe;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAf,SAAA,EAAAgB,IAAA,EAAAC,GAAA;MAAA,OAAAJ,kBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,KAEAX,KAAA,CAAAV,KAAA,CAAAsB,QAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA,OAAAF,QAAA,CAAAI,MAAA;UAAA;YAGAxB,SAAA,GAAAW,KAAA,CAAAX,SAAA,IAAAW,KAAA,CAAAc,MAAA,CAAAC,OAAA;YAEAV,IAAA;cAAAtB,IAAA,EAAAJ;YAAA;YAEA0B,IAAA,CAAAW,QAAA;cAAA3B,SAAA,EAAAA;YAAA;YAAAoB,QAAA,CAAAE,IAAA;YAAA,OAEAX,KAAA,CAAAc,MAAA,CAAAG,QAAA,mBAAAZ,IAAA;UAAA;YAAAC,GAAA,GAAAG,QAAA,CAAAS,IAAA;YAEAZ,GAAA,CAAAa,aAAA;YACAnB,KAAA,CAAAoB,IAAA,CAAApB,KAAA,CAAAV,KAAA,cAAAgB,GAAA;UAAA;UAAA;YAAA,OAAAG,QAAA,CAAAY,IAAA;QAAA;MAAA,GAAAjB,OAAA;IAAA;EACA;EAEAkB,QAAA,EAAAC,aAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACA,YAAAlC,KAAA,CAAAmC,KAAA;IACA;EAAA,GAEAhD,UAAA;IAAAiD,CAAA;EAAA,GACA;EAEAC,KAAA;IACAtC,SAAA,WAAAA,UAAAuC,GAAA;MACA,KAAAtC,KAAA,CAAAsB,QAAA,CAAAI,QAAA,CAAA3B,SAAA,GAAAuC,GAAA;IACA;IAEA,yCAAAC,0BAAAD,GAAA;MACA,KAAAtC,KAAA,CAAAwC,qBAAA,CAAAC,SAAA,GAAAH,GAAA;IACA;EACA;EAEAI,OAAA;IACAC,aAAA,WAAAA,cAAAC,QAAA;MACA,KAAAC,KAAA,kBAAAD,QAAA;IACA;EACA;AACA"}]}