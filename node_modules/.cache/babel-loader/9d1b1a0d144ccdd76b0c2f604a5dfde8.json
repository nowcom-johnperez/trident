{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/ClusterLink.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/ClusterLink.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnN0cmluZy5yZXBsYWNlLWFsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBnZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgaXNDb25kaXRpb25SZWFkeUFuZFdhaXRpbmcgfSBmcm9tICdAc2hlbGwvcGx1Z2lucy9kYXNoYm9hcmQtc3RvcmUvcmVzb3VyY2UtY2xhc3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICByb3c6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHJlZmVyZW5jZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0bzogZnVuY3Rpb24gdG8oKSB7CiAgICAgIHZhciBfdGhpcyRyb3c7CiAgICAgIGlmICh0aGlzLnJvdyAmJiB0aGlzLnJlZmVyZW5jZSkgewogICAgICAgIHJldHVybiBnZXQodGhpcy5yb3csIHRoaXMucmVmZXJlbmNlKTsKICAgICAgfQogICAgICByZXR1cm4gKF90aGlzJHJvdyA9IHRoaXMucm93KSA9PT0gbnVsbCB8fCBfdGhpcyRyb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJvdy5kZXRhaWxMb2NhdGlvbjsKICAgIH0sCiAgICBzdGF0dXNFcnJvckNvbmRpdGlvbnM6IGZ1bmN0aW9uIHN0YXR1c0Vycm9yQ29uZGl0aW9ucygpIHsKICAgICAgaWYgKHRoaXMucm93Lmhhc0Vycm9yKSB7CiAgICAgICAgdmFyIF90aGlzJHJvdzI7CiAgICAgICAgcmV0dXJuIChfdGhpcyRyb3cyID0gdGhpcy5yb3cpID09PSBudWxsIHx8IF90aGlzJHJvdzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJvdzIuc3RhdHVzLmNvbmRpdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChjb25kKSB7CiAgICAgICAgICByZXR1cm4gY29uZC5lcnJvciA9PT0gdHJ1ZSAmJiAhaXNDb25kaXRpb25SZWFkeUFuZFdhaXRpbmcoY29uZCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIFtdOwogICAgfSwKICAgIGZvcm1hdHRlZENvbmRpdGlvbnM6IGZ1bmN0aW9uIGZvcm1hdHRlZENvbmRpdGlvbnMoKSB7CiAgICAgIGlmICh0aGlzLnJvdy5oYXNFcnJvcikgewogICAgICAgIHZhciBmaWx0ZXJlZENvbmRpdGlvbnMgPSB0aGlzLnN0YXR1c0Vycm9yQ29uZGl0aW9uczsKICAgICAgICB2YXIgZm9ybWF0dGVkVG9vbHRpcCA9IFtdOwogICAgICAgIGZpbHRlcmVkQ29uZGl0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICBmb3JtYXR0ZWRUb29sdGlwLnB1c2goIjxwPiIuY29uY2F0KFtjLnR5cGVdLCAiICgiKS5jb25jYXQoYy5zdGF0dXMsICIpPC9wPiIpKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZm9ybWF0dGVkVG9vbHRpcC50b1N0cmluZygpLnJlcGxhY2VBbGwoJywnLCAnJyk7CiAgICAgIH0KICAgICAgcmV0dXJuICcnOwogICAgfQogIH0KfTs="},{"version":3,"names":["get","isConditionReadyAndWaiting","props","value","type","String","default","row","Object","required","reference","computed","to","_this$row","detailLocation","statusErrorConditions","hasError","_this$row2","status","conditions","filter","cond","error","formattedConditions","filteredConditions","formattedTooltip","forEach","c","push","concat","toString","replaceAll"],"sources":["node_modules/@rancher/shell/components/formatter/ClusterLink.vue"],"sourcesContent":["<script>\nimport { get } from '@shell/utils/object';\nimport { isConditionReadyAndWaiting } from '@shell/plugins/dashboard-store/resource-class';\n\nexport default {\n  props: {\n    value: {\n      type:    String,\n      default: ''\n    },\n    row: {\n      type:     Object,\n      required: true\n    },\n    reference: {\n      type:    String,\n      default: null,\n    }\n  },\n  computed: {\n    to() {\n      if ( this.row && this.reference ) {\n        return get(this.row, this.reference);\n      }\n\n      return this.row?.detailLocation;\n    },\n\n    statusErrorConditions() {\n      if (this.row.hasError) {\n        return this.row?.status.conditions.filter((cond) => cond.error === true && !isConditionReadyAndWaiting(cond));\n      }\n\n      return [];\n    },\n\n    formattedConditions() {\n      if (this.row.hasError) {\n        const filteredConditions = this.statusErrorConditions;\n        const formattedTooltip = [];\n\n        filteredConditions\n          .forEach((c) => {\n            formattedTooltip.push(`<p>${ [c.type] } (${ c.status })</p>`);\n          });\n\n        return formattedTooltip.toString().replaceAll(',', '');\n      }\n\n      return '';\n    },\n  },\n\n};\n\n</script>\n<template>\n  <span class=\"cluster-link\">\n    <n-link\n      v-if=\"to\"\n      :to=\"to\"\n    >\n      {{ value }}\n    </n-link>\n    <span v-else>{{ value }}</span>\n    <i\n      v-if=\"row.unavailableMachines\"\n      v-clean-tooltip=\"row.unavailableMachines\"\n      class=\"conditions-alert-icon icon-alert icon\"\n      data-testid=\"unavailable-machines-alert-icon\"\n    />\n    <i\n      v-if=\"row.rkeTemplateUpgrade\"\n      v-clean-tooltip=\"t('cluster.rkeTemplateUpgrade', { name: row.rkeTemplateUpgrade })\"\n      class=\"template-upgrade-icon icon-alert icon\"\n      data-testid=\"rke-template-upgrade-alert-icon\"\n    />\n    <i\n      v-if=\"row.hasError && statusErrorConditions.length > 0\"\n      v-clean-tooltip=\"{ content: `<div>${formattedConditions}</div>`, html: true }\"\n      class=\"conditions-alert-icon icon-error icon-lg\"\n      data-testid=\"conditions-has-error-icon\"\n    />\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n  .cluster-link {\n    display: flex;\n    align-items: center;\n  }\n  .conditions-alert-icon {\n    color: var(--error);\n    margin-left: 4px;\n  }\n  ::v-deep {\n    .labeled-tooltip, .status-icon {\n      position: relative;\n      display: inline;\n      left: auto;\n      right: auto;\n      top: 2px;\n      bottom: auto;\n    }\n  }\n  .mytooltip ul {\n    outline: 1px dashed red;\n  }\n  .template-upgrade-icon {\n    border: 1px solid var(--warning);\n    border-radius: 50%;\n    color: var(--warning);\n    margin-left: 4px;\n    font-size: 14px;\n    padding: 2px;\n  }\n</style>\n"],"mappings":";;;;;;;;AACA,SAAAA,GAAA;AACA,SAAAC,0BAAA;AAEA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,GAAA;MACAH,IAAA,EAAAI,MAAA;MACAC,QAAA;IACA;IACAC,SAAA;MACAN,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAK,QAAA;IACAC,EAAA,WAAAA,GAAA;MAAA,IAAAC,SAAA;MACA,SAAAN,GAAA,SAAAG,SAAA;QACA,OAAAV,GAAA,MAAAO,GAAA,OAAAG,SAAA;MACA;MAEA,QAAAG,SAAA,QAAAN,GAAA,cAAAM,SAAA,uBAAAA,SAAA,CAAAC,cAAA;IACA;IAEAC,qBAAA,WAAAA,sBAAA;MACA,SAAAR,GAAA,CAAAS,QAAA;QAAA,IAAAC,UAAA;QACA,QAAAA,UAAA,QAAAV,GAAA,cAAAU,UAAA,uBAAAA,UAAA,CAAAC,MAAA,CAAAC,UAAA,CAAAC,MAAA,WAAAC,IAAA;UAAA,OAAAA,IAAA,CAAAC,KAAA,cAAArB,0BAAA,CAAAoB,IAAA;QAAA;MACA;MAEA;IACA;IAEAE,mBAAA,WAAAA,oBAAA;MACA,SAAAhB,GAAA,CAAAS,QAAA;QACA,IAAAQ,kBAAA,QAAAT,qBAAA;QACA,IAAAU,gBAAA;QAEAD,kBAAA,CACAE,OAAA,WAAAC,CAAA;UACAF,gBAAA,CAAAG,IAAA,OAAAC,MAAA,EAAAF,CAAA,CAAAvB,IAAA,SAAAyB,MAAA,CAAAF,CAAA,CAAAT,MAAA;QACA;QAEA,OAAAO,gBAAA,CAAAK,QAAA,GAAAC,UAAA;MACA;MAEA;IACA;EACA;AAEA"}]}