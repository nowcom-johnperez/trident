{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--17-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/__tests__/node.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/__tests__/node.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE5vZGUgZnJvbSAnQHNoZWxsL21vZGVscy9tYW5hZ2VtZW50LmNhdHRsZS5pby5ub2RlJzsKZGVzY3JpYmUoJ2NsYXNzIE5vZGUnLCBmdW5jdGlvbiAoKSB7CiAgdmFyIGZvbyA9ICdmb28nOwogIHZhciBiYXIgPSAnYmFyJzsKICB2YXIgdCA9IGplc3QuZm4oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGJhcjsKICB9KTsKICB2YXIgY3R4ID0gewogICAgcm9vdEdldHRlcnM6IHsKICAgICAgJ2kxOG4vdCc6IHQKICAgIH0KICB9OwogIHZhciByZXNldE1vY2tzID0gZnVuY3Rpb24gcmVzZXRNb2NrcygpIHsKICAgIC8vIENsZWFyIGFsbCBtb2NrIGZ1bmN0aW9uIGNhbGxzOgogICAgamVzdC5jbGVhckFsbE1vY2tzKCk7CiAgfTsKICBpdCgnc2hvdWxkIG5vdCByZXR1cm4gYWRkcmVzc2VzIGlmIHRoZXkgYXJlIG5vdCBwcmVzZW50IGluIHRoZSByZXNvdXJjZSBzdGF0dXMnLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbm9kZSA9IG5ldyBOb2RlKHsKICAgICAgc3RhdHVzOiB7fQogICAgfSk7CiAgICBleHBlY3Qobm9kZS5hZGRyZXNzZXMpLnRvU3RyaWN0RXF1YWwoW10pOwogICAgcmVzZXRNb2NrcygpOwogIH0pOwogIGRlc2NyaWJlKCdzaG91bGQgcmV0dXJuIGFkZHJlc3NlcycsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZGRyZXNzZXMgPSBbZm9vXTsKICAgIGl0KCdpZiB0aGV5IGFyZSBwcmVzZW50IGRpcmVjdGx5IG9uIHRoZSByZXNvdXJjZSBzdGF0dXMnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBub2RlID0gbmV3IE5vZGUoewogICAgICAgIHN0YXR1czogewogICAgICAgICAgYWRkcmVzc2VzOiBhZGRyZXNzZXMKICAgICAgICB9CiAgICAgIH0pOwogICAgICBleHBlY3Qobm9kZS5hZGRyZXNzZXMpLnRvU3RyaWN0RXF1YWwoYWRkcmVzc2VzKTsKICAgIH0pOwogIH0pOwogIGRlc2NyaWJlKCdzaG91bGQgcmV0dXJuIGFuIGludGVybmFsSXAnLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYWRkcmVzc2VzID0gW3sKICAgICAgdHlwZTogJ0ludGVybmFsSVAnLAogICAgICBhZGRyZXNzOiBmb28KICAgIH1dOwogICAgaXQoJ2lmIGFkZHJlc3NlcyBpbmNsdWRlcyBhbiBvYmplY3Qgd2l0aCBhbiBhcHByb3ByaWF0ZSB0eXBlIGFuZCBhZGRyZXNzJywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgbm9kZSA9IG5ldyBOb2RlKHsKICAgICAgICBzdGF0dXM6IHsKICAgICAgICAgIGFkZHJlc3NlczogYWRkcmVzc2VzCiAgICAgICAgfQogICAgICB9KTsKICAgICAgZXhwZWN0KG5vZGUuaW50ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChmb28pOwogICAgfSk7CiAgfSk7CiAgZGVzY3JpYmUoJ3Nob3VsZCByZXR1cm4gYW4gZXh0ZXJuYWxJcCcsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZGRyZXNzZXMgPSBbewogICAgICB0eXBlOiAnRXh0ZXJuYWxJUCcsCiAgICAgIGFkZHJlc3M6IGZvbwogICAgfV07CiAgICBpdCgnaWYgYWRkcmVzc2VzIGluY2x1ZGVzIGFuIG9iamVjdCB3aXRoIGFuIGFwcHJvcHJpYXRlIHR5cGUgYW5kIGFkZHJlc3MnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBub2RlID0gbmV3IE5vZGUoewogICAgICAgIHN0YXR1czogewogICAgICAgICAgYWRkcmVzc2VzOiBhZGRyZXNzZXMKICAgICAgICB9CiAgICAgIH0pOwogICAgICBleHBlY3Qobm9kZS5leHRlcm5hbElwKS50b1N0cmljdEVxdWFsKGZvbyk7CiAgICB9KTsKICAgIGl0KCdpZiBpbnRlcm5hbE5vZGVTdGF0dXMuYWRkcmVzc2VzIGluY2x1ZGVzIGFuIG9iamVjdCB3aXRoIGFuIGFwcHJvcHJpYXRlIHR5cGUgYW5kIGFkZHJlc3MnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBub2RlID0gbmV3IE5vZGUoewogICAgICAgIHN0YXR1czogewogICAgICAgICAgaW50ZXJuYWxOb2RlU3RhdHVzOiB7CiAgICAgICAgICAgIGFkZHJlc3NlczogYWRkcmVzc2VzCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZXhwZWN0KG5vZGUuZXh0ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChmb28pOwogICAgfSk7CiAgfSk7CiAgZGVzY3JpYmUoJ3Nob3VsZCByZXR1cm4gYW4gYXBwcm9wcmlhdGUgbWVzc2FnZScsIGZ1bmN0aW9uICgpIHsKICAgIGl0KCdpZiB0aGVyZSBpcyBubyBpbnRlcm5hbElwIHRvIGRpc3BsYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBub2RlID0gbmV3IE5vZGUoewogICAgICAgIHN0YXR1czoge30KICAgICAgfSwgY3R4KTsKICAgICAgZXhwZWN0KG5vZGUuaW50ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChiYXIpOwogICAgICBleHBlY3QodCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpOwogICAgICBleHBlY3QodCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2dlbmVyaWMubm9uZScpOwogICAgICByZXNldE1vY2tzKCk7CiAgICB9KTsKICAgIGl0KCdpZiB0aGVyZSBpcyBubyBleHRlcm5hbElwIHRvIGRpc3BsYXknLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBub2RlID0gbmV3IE5vZGUoewogICAgICAgIHN0YXR1czoge30KICAgICAgfSwgY3R4KTsKICAgICAgZXhwZWN0KG5vZGUuZXh0ZXJuYWxJcCkudG9TdHJpY3RFcXVhbChiYXIpOwogICAgICBleHBlY3QodCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpOwogICAgICBleHBlY3QodCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2dlbmVyaWMubm9uZScpOwogICAgICByZXNldE1vY2tzKCk7CiAgICB9KTsKICB9KTsKfSk7"},{"version":3,"names":["Node","describe","foo","bar","t","jest","fn","ctx","rootGetters","resetMocks","clearAllMocks","it","node","status","expect","addresses","toStrictEqual","type","address","internalIp","externalIp","internalNodeStatus","toHaveBeenCalledTimes","toHaveBeenCalledWith"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/__tests__/node.ts"],"sourcesContent":["import Node from '@shell/models/management.cattle.io.node';\n\ndescribe('class Node', () => {\n  const foo = 'foo';\n  const bar = 'bar';\n  const t = jest.fn(() => bar);\n  const ctx = { rootGetters: { 'i18n/t': t } };\n\n  const resetMocks = () => {\n    // Clear all mock function calls:\n    jest.clearAllMocks();\n  };\n\n  it('should not return addresses if they are not present in the resource status', () => {\n    const node = new Node({ status: {} });\n\n    expect(node.addresses).toStrictEqual([]);\n    resetMocks();\n  });\n\n  describe('should return addresses', () => {\n    const addresses = [foo];\n\n    it('if they are present directly on the resource status', () => {\n      const node = new Node({ status: { addresses } });\n\n      expect(node.addresses).toStrictEqual(addresses);\n    });\n  });\n\n  describe('should return an internalIp', () => {\n    const addresses = [{ type: 'InternalIP', address: foo }];\n\n    it('if addresses includes an object with an appropriate type and address', () => {\n      const node = new Node({ status: { addresses } });\n\n      expect(node.internalIp).toStrictEqual(foo);\n    });\n  });\n\n  describe('should return an externalIp', () => {\n    const addresses = [{ type: 'ExternalIP', address: foo }];\n\n    it('if addresses includes an object with an appropriate type and address', () => {\n      const node = new Node({ status: { addresses } });\n\n      expect(node.externalIp).toStrictEqual(foo);\n    });\n    it('if internalNodeStatus.addresses includes an object with an appropriate type and address', () => {\n      const node = new Node({ status: { internalNodeStatus: { addresses } } });\n\n      expect(node.externalIp).toStrictEqual(foo);\n    });\n  });\n\n  describe('should return an appropriate message', () => {\n    it('if there is no internalIp to display', () => {\n      const node = new Node({ status: {} }, ctx);\n\n      expect(node.internalIp).toStrictEqual(bar);\n      expect(t).toHaveBeenCalledTimes(1);\n      expect(t).toHaveBeenCalledWith('generic.none');\n      resetMocks();\n    });\n    it('if there is no externalIp to display', () => {\n      const node = new Node({ status: {} }, ctx);\n\n      expect(node.externalIp).toStrictEqual(bar);\n      expect(t).toHaveBeenCalledTimes(1);\n      expect(t).toHaveBeenCalledWith('generic.none');\n      resetMocks();\n    });\n  });\n});\n"],"mappings":"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"}]}