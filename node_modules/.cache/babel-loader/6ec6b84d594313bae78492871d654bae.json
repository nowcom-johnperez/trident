{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/cloudcredential.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/cloudcredential.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuZW5kcy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KaW1wb3J0IHsgQ0FQSSB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKaW1wb3J0IHsgZnVsbEZpZWxkcywgcHJlZml4RmllbGRzLCBzaW1wbGlmeSwgc3VmZml4RmllbGRzIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3BsdWdpbnMnOwppbXBvcnQgeyBpc0VtcHR5LCBzZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgU0VDUkVUIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGVzY2FwZUh0bWwgfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKaW1wb3J0IE5vcm1hbk1vZGVsIGZyb20gJ0BzaGVsbC9wbHVnaW5zL3N0ZXZlL25vcm1hbi1jbGFzcyc7CnZhciBDbG91ZENyZWRlbnRpYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Ob3JtYW5Nb2RlbCkgewogIF9pbmhlcml0cyhDbG91ZENyZWRlbnRpYWwsIF9Ob3JtYW5Nb2RlbCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDbG91ZENyZWRlbnRpYWwpOwogIGZ1bmN0aW9uIENsb3VkQ3JlZGVudGlhbCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbG91ZENyZWRlbnRpYWwpOwogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBfY3JlYXRlQ2xhc3MoQ2xvdWRDcmVkZW50aWFsLCBbewogICAga2V5OiAiaGFzU2Vuc2l0aXZlRGF0YSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuQ3VzdG9tRWRpdCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2RldGFpbExvY2F0aW9uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICJjLWNsdXN0ZXItbWFuYWdlci1jbG91ZENyZWRlbnRpYWwtaWQiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgcHJvZHVjdDogdGhpcy4kcm9vdEdldHRlcnNbJ3Byb2R1Y3RJZCddLAogICAgICAgICAgY2x1c3RlcjogdGhpcy4kcm9vdEdldHRlcnNbJ2NsdXN0ZXJJZCddLAogICAgICAgICAgaWQ6IHRoaXMuaWQKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAicGFyZW50TG9jYXRpb25PdmVycmlkZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAiYy1jbHVzdGVyLW1hbmFnZXItY2xvdWRDcmVkZW50aWFsIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuJHJvb3RHZXR0ZXJzWydjbHVzdGVySWQnXQogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZWNyZXQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb290R2V0dGVyc1snbWFuYWdlbWVudC9ieUlkJ10oU0VDUkVULCB0aGlzLmlkLnJlcGxhY2UoJzonLCAnLycpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb25maWdLZXkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzKS5maW5kKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgcmV0dXJuIGsuZW5kc1dpdGgoJ2NyZWRlbnRpYWxDb25maWcnKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXIiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRhbm5vdGF0aW9uczsKICAgICAgdmFyIGFubm90YXRpb24gPSAoX3RoaXMkYW5ub3RhdGlvbnMgPSB0aGlzLmFubm90YXRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyRhbm5vdGF0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYW5ub3RhdGlvbnNbQ0FQSS5DUkVERU5USUFMX0RSSVZFUl07CiAgICAgIGlmIChhbm5vdGF0aW9uKSB7CiAgICAgICAgcmV0dXJuIGFubm90YXRpb247CiAgICAgIH0KICAgICAgdmFyIGNvbmZpZ0tleSA9IHRoaXMuY29uZmlnS2V5OwoKICAgICAgLy8gQ2FsbCBbYW1hem9uZWtzLGFtYXpvbmVjMl0gLT4gYXdzCiAgICAgIGlmIChjb25maWdLZXkpIHsKICAgICAgICB2YXIgb3V0ID0gdGhpcy4kcm9vdEdldHRlcnNbJ3BsdWdpbnMvY3JlZGVudGlhbERyaXZlckZvciddKGNvbmZpZ0tleS5yZXBsYWNlKC9jcmVkZW50aWFsQ29uZmlnJC8sICcnKSk7CiAgICAgICAgcmV0dXJuIG91dDsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRQcm92aWRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UHJvdmlkZXIobmV1KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuc2V0QW5ub3RhdGlvbihDQVBJLkNSRURFTlRJQUxfRFJJVkVSLCBuZXUpOwogICAgICBPYmplY3Qua2V5cyh0aGlzKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgayA9IGsudG9Mb3dlckNhc2UoKTsKICAgICAgICBpZiAoay5lbmRzV2l0aCgnY29uZmlnJykgJiYgayAhPT0gIiIuY29uY2F0KG5ldSwgImNvbmZpZyIpKSB7CiAgICAgICAgICBzZXQoX3RoaXMsIGssIG51bGwpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmICghdGhpc1siIi5jb25jYXQobmV1LCAiY3JlZGVudGlhbENvbmZpZyIpXSkgewogICAgICAgIHNldCh0aGlzLCAiIi5jb25jYXQobmV1LCAiY3JlZGVudGlhbENvbmZpZyIpLCB7fSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWNvZGVkRGF0YSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIGsgPSB0aGlzLmNvbmZpZ0tleTsKICAgICAgaWYgKGspIHsKICAgICAgICByZXR1cm4gdGhpc1trXTsKICAgICAgfQogICAgICByZXR1cm4ge307CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0RGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGF0YShrZXksIHZhbHVlKSB7CiAgICAgIC8vIG9yIChtYXBPZk5ld0RhdGEpCiAgICAgIHZhciBpc01hcCA9IGtleSAmJiBfdHlwZW9mKGtleSkgPT09ICdvYmplY3QnOwogICAgICBpZiAoIXRoaXNbdGhpcy5jb25maWdLZXldIHx8IGlzTWFwKSB7CiAgICAgICAgc2V0KHRoaXMsIHRoaXMuY29uZmlnS2V5LCB7fSk7CiAgICAgIH0KICAgICAgdmFyIG5ldTsKICAgICAgaWYgKGlzTWFwKSB7CiAgICAgICAgbmV1ID0ga2V5OwogICAgICB9IGVsc2UgewogICAgICAgIG5ldSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCB2YWx1ZSk7CiAgICAgIH0KICAgICAgZm9yICh2YXIgayBpbiBuZXUpIHsKICAgICAgICAvLyBUaGUga2V5IGlzIHF1b3RlZCBzbyB0aGF0IGtleXMgbGlrZSAnLmRvY2tlcmNvbmZpZ2pzb24nIHRoYXQgY29udGFpbiBkb3QgZG9uJ3QgZ2V0IHBhcnNlZCBpbnRvIGFuIG9iamVjdCBwYXRoCiAgICAgICAgc2V0KHRoaXMsICJcIiIuY29uY2F0KHRoaXMuY29uZmlnS2V5LCAiXCIuXCIiKS5jb25jYXQoaywgIlwiIiksIG5ldVtrXSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92aWRlckRpc3BsYXkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBwcm92aWRlciA9ICh0aGlzLnByb3ZpZGVyIHx8ICcnKS50b0xvd2VyQ2FzZSgpOwogICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ2kxOG4vd2l0aEZhbGxiYWNrJ10oImNsdXN0ZXIucHJvdmlkZXIuXCIiLmNvbmNhdChwcm92aWRlciwgIlwiIiksIG51bGwsIHByb3ZpZGVyKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwdWJsaWNEYXRhIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkJHJvb3RHZXR0ZXJzJHBsID0gdGhpcy4kcm9vdEdldHRlcnNbJ3BsdWdpbnMvY3JlZGVudGlhbE9wdGlvbnMnXSh0aGlzLnByb3ZpZGVyKSwKICAgICAgICBwdWJsaWNLZXkgPSBfdGhpcyQkcm9vdEdldHRlcnMkcGwucHVibGljS2V5LAogICAgICAgIHB1YmxpY01vZGUgPSBfdGhpcyQkcm9vdEdldHRlcnMkcGwucHVibGljTW9kZTsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgZnVsbDogZnVsbEZpZWxkcywKICAgICAgICBwcmVmaXg6IHByZWZpeEZpZWxkcywKICAgICAgICBzdWZmaXg6IHN1ZmZpeEZpZWxkcwogICAgICB9OwogICAgICBpZiAoIXB1YmxpY0tleSkgewogICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5kZWNvZGVkRGF0YSB8fCB7fSkgewogICAgICAgICAgaWYgKHB1YmxpY0tleSkgewogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpc0VtcHR5KHRoaXMuZGVjb2RlZERhdGFba10pKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgZm9yICh2YXIgbW9kZSBpbiBvcHRpb25zKSB7CiAgICAgICAgICAgIGlmIChvcHRpb25zW21vZGVdLmluY2x1ZGVzKHNpbXBsaWZ5KGspKSkgewogICAgICAgICAgICAgIHB1YmxpY0tleSA9IGs7CiAgICAgICAgICAgICAgcHVibGljTW9kZSA9IG1vZGU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFwdWJsaWNLZXkpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB2YXIgdmFsID0gdGhpcy5kZWNvZGVkRGF0YVtwdWJsaWNLZXldOwogICAgICBpZiAoIXZhbCkgewogICAgICAgIHZhciBfdGhpcyRzZWNyZXQ7CiAgICAgICAgdmFsID0gKF90aGlzJHNlY3JldCA9IHRoaXMuc2VjcmV0KSA9PT0gbnVsbCB8fCBfdGhpcyRzZWNyZXQgPT09IHZvaWQgMCB8fCAoX3RoaXMkc2VjcmV0ID0gX3RoaXMkc2VjcmV0LmRlY29kZWREYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRzZWNyZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNlY3JldFsiIi5jb25jYXQodGhpcy5wcm92aWRlciwgImNyZWRlbnRpYWxDb25maWctIikuY29uY2F0KHB1YmxpY0tleSldOwogICAgICB9CiAgICAgIGlmICghdmFsKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIG1heExlbmd0aCA9IE1hdGgubWluKDgsIE1hdGguZmxvb3IodmFsLmxlbmd0aCAvIDIpKTsKICAgICAgaWYgKHB1YmxpY01vZGUgPT09ICdwcmVmaXgnKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChlc2NhcGVIdG1sKHZhbC5zdWJzdHIoMCwgbWF4TGVuZ3RoKSksICImaGVsbGlwOyIpOwogICAgICB9IGVsc2UgaWYgKHB1YmxpY01vZGUgPT09ICdzdWZmaXgnKSB7CiAgICAgICAgcmV0dXJuICImaGVsbGlwOyIuY29uY2F0KGVzY2FwZUh0bWwodmFsLnN1YnN0cigtMSAqIG1heExlbmd0aCkpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZXNjYXBlSHRtbCh2YWwpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZG9uZVJvdXRlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gJ2MtY2x1c3Rlci1tYW5hZ2VyLXNlY3JldCc7CiAgICB9CiAgfV0pOwogIHJldHVybiBDbG91ZENyZWRlbnRpYWw7Cn0oTm9ybWFuTW9kZWwpOwpleHBvcnQgeyBDbG91ZENyZWRlbnRpYWwgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["CAPI","fullFields","prefixFields","simplify","suffixFields","isEmpty","set","SECRET","escapeHtml","NormanModel","CloudCredential","_NormanModel","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","get","name","params","product","$rootGetters","cluster","id","replace","Object","keys","find","k","endsWith","_this$annotations","annotation","annotations","CREDENTIAL_DRIVER","configKey","out","value","setProvider","neu","_this","setAnnotation","forEach","toLowerCase","concat","setData","isMap","_typeof","_defineProperty","provider","_this$$rootGetters$pl","publicKey","publicMode","options","full","prefix","suffix","decodedData","mode","includes","val","_this$secret","secret","maxLength","Math","min","floor","length","substr","default"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/cloudcredential.js"],"sourcesContent":["import { CAPI } from '@shell/config/labels-annotations';\nimport { fullFields, prefixFields, simplify, suffixFields } from '@shell/store/plugins';\nimport { isEmpty, set } from '@shell/utils/object';\nimport { SECRET } from '@shell/config/types';\nimport { escapeHtml } from '@shell/utils/string';\nimport NormanModel from '@shell/plugins/steve/norman-class';\n\nexport default class CloudCredential extends NormanModel {\n  get hasSensitiveData() {\n    return true;\n  }\n\n  get canCustomEdit() {\n    return true;\n  }\n\n  get _detailLocation() {\n    return {\n      name:   `c-cluster-manager-cloudCredential-id`,\n      params: {\n        product: this.$rootGetters['productId'],\n        cluster: this.$rootGetters['clusterId'],\n        id:      this.id,\n      }\n    };\n  }\n\n  get parentLocationOverride() {\n    return {\n      name:   `c-cluster-manager-cloudCredential`,\n      params: { cluster: this.$rootGetters['clusterId'] }\n    };\n  }\n\n  get secret() {\n    return this.$rootGetters['management/byId'](SECRET, this.id.replace(':', '/'));\n  }\n\n  get configKey() {\n    return Object.keys(this).find( (k) => k.endsWith('credentialConfig'));\n  }\n\n  get provider() {\n    const annotation = this.annotations?.[CAPI.CREDENTIAL_DRIVER];\n\n    if ( annotation ) {\n      return annotation;\n    }\n\n    const configKey = this.configKey;\n\n    // Call [amazoneks,amazonec2] -> aws\n    if ( configKey ) {\n      const out = this.$rootGetters['plugins/credentialDriverFor'](configKey.replace(/credentialConfig$/, ''));\n\n      return out;\n    }\n\n    return null;\n  }\n\n  setProvider(neu) {\n    this.setAnnotation(CAPI.CREDENTIAL_DRIVER, neu);\n\n    Object.keys(this).forEach((k) => {\n      k = k.toLowerCase();\n\n      if ( k.endsWith('config') && k !== `${ neu }config` ) {\n        set(this, k, null);\n      }\n    });\n\n    if ( !this[`${ neu }credentialConfig`] ) {\n      set(this, `${ neu }credentialConfig`, {});\n    }\n  }\n\n  get decodedData() {\n    const k = this.configKey;\n\n    if ( k ) {\n      return this[k];\n    }\n\n    return {};\n  }\n\n  setData(key, value) { // or (mapOfNewData)\n    const isMap = key && typeof key === 'object';\n\n    if ( !this[this.configKey] || isMap ) {\n      set(this, this.configKey, {});\n    }\n\n    let neu;\n\n    if ( isMap ) {\n      neu = key;\n    } else {\n      neu = { [key]: value };\n    }\n\n    for ( const k in neu ) {\n      // The key is quoted so that keys like '.dockerconfigjson' that contain dot don't get parsed into an object path\n      set(this, `\"${ this.configKey }\".\"${ k }\"`, neu[k]);\n    }\n  }\n\n  get providerDisplay() {\n    const provider = (this.provider || '').toLowerCase();\n\n    return this.$rootGetters['i18n/withFallback'](`cluster.provider.\"${ provider }\"`, null, provider);\n  }\n\n  get publicData() {\n    let { publicKey, publicMode } = this.$rootGetters['plugins/credentialOptions'](this.provider);\n\n    const options = {\n      full:   fullFields,\n      prefix: prefixFields,\n      suffix: suffixFields,\n    };\n\n    if ( !publicKey ) {\n      for ( const k in this.decodedData || {} ) {\n        if ( publicKey ) {\n          break;\n        }\n\n        if ( isEmpty(this.decodedData[k]) ) {\n          continue;\n        }\n\n        for ( const mode in options ) {\n          if ( options[mode].includes( simplify(k) ) ) {\n            publicKey = k;\n            publicMode = mode;\n            break;\n          }\n        }\n      }\n    }\n\n    if ( !publicKey ) {\n      return null;\n    }\n\n    let val = this.decodedData[publicKey];\n\n    if ( !val ) {\n      val = this.secret?.decodedData?.[`${ this.provider }credentialConfig-${ publicKey }`];\n    }\n\n    if ( !val ) {\n      return null;\n    }\n\n    const maxLength = Math.min(8, Math.floor(val.length / 2));\n\n    if ( publicMode === 'prefix' ) {\n      return `${ escapeHtml(val.substr(0, maxLength)) }&hellip;`;\n    } else if ( publicMode === 'suffix' ) {\n      return `&hellip;${ escapeHtml(val.substr(-1 * maxLength)) }`;\n    } else {\n      return escapeHtml(val);\n    }\n  }\n\n  get doneRoute() {\n    return 'c-cluster-manager-secret';\n  }\n}\n"],"mappings":"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"}]}