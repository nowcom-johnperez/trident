{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/persistentvolume.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/persistentvolume.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnN0cmluZy5yZXBsYWNlLWFsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CmltcG9ydCB7IFBWQywgTE9OR0hPUk5fRFJJVkVSIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IFZPTFVNRV9QTFVHSU5TIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wZXJzaXN0ZW50Vm9sdW1lJzsKaW1wb3J0IFN0ZXZlTW9kZWwgZnJvbSAnQHNoZWxsL3BsdWdpbnMvc3RldmUvc3RldmUtY2xhc3MnOwp2YXIgUFYgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdGV2ZU1vZGVsKSB7CiAgX2luaGVyaXRzKFBWLCBfU3RldmVNb2RlbCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQVik7CiAgZnVuY3Rpb24gUFYoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUFYpOwogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBfY3JlYXRlQ2xhc3MoUFYsIFt7CiAgICBrZXk6ICJzb3VyY2UiLAogICAgZ2V0OgogICAgLy8gcGx1Z2luIGRpc3BsYXkgdmFsdWUgdGFibGUKICAgIGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHNwZWMsCiAgICAgICAgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgY3NpRHJpdmVyID0gKF90aGlzJHNwZWMgPSB0aGlzLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHNwZWMgPT09IHZvaWQgMCB8fCAoX3RoaXMkc3BlYyA9IF90aGlzJHNwZWMuY3NpKSA9PT0gbnVsbCB8fCBfdGhpcyRzcGVjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzcGVjLmRyaXZlcjsKICAgICAgdmFyIGZhbGxiYWNrID0gIiIuY29uY2F0KGNzaURyaXZlciwgIiAiKS5jb25jYXQodGhpcy50KCdwZXJzaXN0ZW50Vm9sdW1lLmNzaS5zdWZmaXgnKSk7CiAgICAgIGlmIChjc2lEcml2ZXIpIHsKICAgICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ2kxOG4vd2l0aEZhbGxiYWNrJ10oInBlcnNpc3RlbnRWb2x1bWUuY3NpLmRyaXZlcnMuIi5jb25jYXQoY3NpRHJpdmVyLnJlcGxhY2VBbGwoJy4nLCAnLScpKSwgbnVsbCwgZmFsbGJhY2spOwogICAgICB9CiAgICAgIHZhciBwbHVnaW5EZWYgPSBWT0xVTUVfUExVR0lOUy5maW5kKGZ1bmN0aW9uIChwbHVnaW4pIHsKICAgICAgICByZXR1cm4gX3RoaXMuc3BlY1twbHVnaW4udmFsdWVdOwogICAgICB9KTsKICAgICAgaWYgKHBsdWdpbkRlZikgewogICAgICAgIHJldHVybiB0aGlzLnQocGx1Z2luRGVmLmxhYmVsS2V5KTsKICAgICAgfQoKICAgICAgLy8gZXZlcnkgc291cmNlIHNob3VsZCBiZSBhIGNzaSBkcml2ZXIgb3IgbGlzdGVkIGluIFZPTFVNRV9QTFVHSU4gYnV0IGp1c3QgaW4gY2FzZS4uCiAgICAgIHJldHVybiB0aGlzLnQoJ2dlbmVyaWMudW5rbm93bicpOwogICAgfQogIH0sIHsKICAgIGtleTogImlzTG9uZ2hvcm4iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLnNwZWMuY3NpICYmIHRoaXMuc3BlYy5jc2kuZHJpdmVyID09PSBMT05HSE9STl9EUklWRVI7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xhaW0iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAoIXRoaXMubmFtZSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBhbGxDbGFpbXMgPSB0aGlzLiRyb290R2V0dGVyc1snY2x1c3Rlci9hbGwnXShQVkMpOwogICAgICByZXR1cm4gYWxsQ2xhaW1zLmZpbmQoZnVuY3Rpb24gKGNsYWltKSB7CiAgICAgICAgcmV0dXJuIGNsYWltLnNwZWMudm9sdW1lTmFtZSA9PT0gX3RoaXMyLm5hbWU7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNsYWltTmFtZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJGNsYWltOwogICAgICByZXR1cm4gKChfdGhpcyRjbGFpbSA9IHRoaXMuY2xhaW0pID09PSBudWxsIHx8IF90aGlzJGNsYWltID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjbGFpbS5uYW1lRGlzcGxheSkgfHwgdGhpcy50KCdnZW5lcmljLm5hJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuRGVsZXRlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5zdGF0ZSAhPT0gJ2JvdW5kJzsKICAgIH0KICB9XSk7CiAgcmV0dXJuIFBWOwp9KFN0ZXZlTW9kZWwpOwpleHBvcnQgeyBQViBhcyBkZWZhdWx0IH07"},{"version":3,"names":["PVC","LONGHORN_DRIVER","VOLUME_PLUGINS","SteveModel","PV","_SteveModel","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","get","_this$spec","_this","csiDriver","spec","csi","driver","fallback","concat","t","$rootGetters","replaceAll","pluginDef","find","plugin","value","labelKey","_this2","name","allClaims","claim","volumeName","_this$claim","nameDisplay","state","default"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/persistentvolume.js"],"sourcesContent":["import { PVC, LONGHORN_DRIVER } from '@shell/config/types';\r\nimport { VOLUME_PLUGINS } from '@shell/config/persistentVolume';\r\nimport SteveModel from '@shell/plugins/steve/steve-class';\r\n\r\nexport default class PV extends SteveModel {\r\n  // plugin display value table\r\n  get source() {\r\n    const csiDriver = this.spec?.csi?.driver;\r\n    const fallback = `${ csiDriver } ${ this.t('persistentVolume.csi.suffix') }`;\r\n\r\n    if (csiDriver) {\r\n      return this.$rootGetters['i18n/withFallback'](`persistentVolume.csi.drivers.${ csiDriver.replaceAll('.', '-') }`, null, fallback);\r\n    }\r\n    const pluginDef = VOLUME_PLUGINS.find((plugin) => this.spec[plugin.value]);\r\n\r\n    if (pluginDef) {\r\n      return this.t(pluginDef.labelKey);\r\n    }\r\n\r\n    // every source should be a csi driver or listed in VOLUME_PLUGIN but just in case..\r\n    return this.t('generic.unknown');\r\n  }\r\n\r\n  get isLonghorn() {\r\n    return this.spec.csi && this.spec.csi.driver === LONGHORN_DRIVER;\r\n  }\r\n\r\n  get claim() {\r\n    if (!this.name) {\r\n      return null;\r\n    }\r\n\r\n    const allClaims = this.$rootGetters['cluster/all'](PVC);\r\n\r\n    return allClaims.find((claim) => claim.spec.volumeName === this.name);\r\n  }\r\n\r\n  get claimName() {\r\n    return this.claim?.nameDisplay || this.t('generic.na');\r\n  }\r\n\r\n  get canDelete() {\r\n    return this.state !== 'bound';\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;AAAA,SAASA,GAAG,EAAEC,eAAe,QAAQ,qBAAqB;AAC1D,SAASC,cAAc,QAAQ,gCAAgC;AAC/D,OAAOC,UAAU,MAAM,kCAAkC;AAAC,IAErCC,EAAE,0BAAAC,WAAA;EAAAC,SAAA,CAAAF,EAAA,EAAAC,WAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,EAAA;EAAA,SAAAA,GAAA;IAAAK,eAAA,OAAAL,EAAA;IAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;EAAA;EAAAC,YAAA,CAAAR,EAAA;IAAAS,GAAA;IAAAC,GAAA;IACrB;IACA,SAAAA,IAAA,EAAa;MAAA,IAAAC,UAAA;QAAAC,KAAA;MACX,IAAMC,SAAS,IAAAF,UAAA,GAAG,IAAI,CAACG,IAAI,cAAAH,UAAA,gBAAAA,UAAA,GAATA,UAAA,CAAWI,GAAG,cAAAJ,UAAA,uBAAdA,UAAA,CAAgBK,MAAM;MACxC,IAAMC,QAAQ,MAAAC,MAAA,CAAOL,SAAS,OAAAK,MAAA,CAAM,IAAI,CAACC,CAAC,CAAC,6BAA6B,CAAC,CAAG;MAE5E,IAAIN,SAAS,EAAE;QACb,OAAO,IAAI,CAACO,YAAY,CAAC,mBAAmB,CAAC,iCAAAF,MAAA,CAAkCL,SAAS,CAACQ,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,GAAK,IAAI,EAAEJ,QAAQ,CAAC;MACnI;MACA,IAAMK,SAAS,GAAGxB,cAAc,CAACyB,IAAI,CAAC,UAACC,MAAM;QAAA,OAAKZ,KAAI,CAACE,IAAI,CAACU,MAAM,CAACC,KAAK,CAAC;MAAA,EAAC;MAE1E,IAAIH,SAAS,EAAE;QACb,OAAO,IAAI,CAACH,CAAC,CAACG,SAAS,CAACI,QAAQ,CAAC;MACnC;;MAEA;MACA,OAAO,IAAI,CAACP,CAAC,CAAC,iBAAiB,CAAC;IAClC;EAAC;IAAAV,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAiB;MACf,OAAO,IAAI,CAACI,IAAI,CAACC,GAAG,IAAI,IAAI,CAACD,IAAI,CAACC,GAAG,CAACC,MAAM,KAAKnB,eAAe;IAClE;EAAC;IAAAY,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAY;MAAA,IAAAiB,MAAA;MACV,IAAI,CAAC,IAAI,CAACC,IAAI,EAAE;QACd,OAAO,IAAI;MACb;MAEA,IAAMC,SAAS,GAAG,IAAI,CAACT,YAAY,CAAC,aAAa,CAAC,CAACxB,GAAG,CAAC;MAEvD,OAAOiC,SAAS,CAACN,IAAI,CAAC,UAACO,KAAK;QAAA,OAAKA,KAAK,CAAChB,IAAI,CAACiB,UAAU,KAAKJ,MAAI,CAACC,IAAI;MAAA,EAAC;IACvE;EAAC;IAAAnB,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAgB;MAAA,IAAAsB,WAAA;MACd,OAAO,EAAAA,WAAA,OAAI,CAACF,KAAK,cAAAE,WAAA,uBAAVA,WAAA,CAAYC,WAAW,KAAI,IAAI,CAACd,CAAC,CAAC,YAAY,CAAC;IACxD;EAAC;IAAAV,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAgB;MACd,OAAO,IAAI,CAACwB,KAAK,KAAK,OAAO;IAC/B;EAAC;EAAA,OAAAlC,EAAA;AAAA,EAvC6BD,UAAU;AAAA,SAArBC,EAAE,IAAAmC,OAAA"}]}