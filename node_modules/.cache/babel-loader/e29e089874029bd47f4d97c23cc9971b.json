{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--17-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/__tests__/Upgrading.test.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/__tests__/Upgrading.test.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgeyBtb3VudCB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBVcGdyYWRpbmcgZnJvbSAnQHNoZWxsL2VkaXQvd29ya2xvYWQvVXBncmFkaW5nLnZ1ZSc7CmRlc2NyaWJlKCdjb21wb25lbnQ6IFVwZ3JhZGluZycsIGZ1bmN0aW9uICgpIHsKICBpdCgnc2hvdWxkIGRpc3BsYXkgYWxsIHRoZSBpbnB1dHMnLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgd3JhcHBlciA9IG1vdW50KFVwZ3JhZGluZyk7CiAgICB2YXIgaW5wdXRXcmFwcyA9IHdyYXBwZXIuZmluZEFsbCgnW2RhdGEtdGVzdGlkXj1pbnB1dC1wb2xpY3ktXScpOwogICAgZXhwZWN0KGlucHV0V3JhcHMpLnRvSGF2ZUxlbmd0aCg3KTsKICB9KTsKICBpdC5lYWNoKFtbJ21pbicsICdtaW5SZWFkeVNlY29uZHMnXSwgWydsaW1pdCcsICdyZXZpc2lvbkhpc3RvcnlMaW1pdCddLCBbJ2RlYWRsaW5lJywgJ3Byb2dyZXNzRGVhZGxpbmVTZWNvbmRzJ11dKSgnc2hvdWxkIHNldCB0eXBlZCB2YWx1ZSBpbiAlcCBpbnRvICVwJywgZnVuY3Rpb24gKGZpZWxkLCBrZXkpIHsKICAgIHZhciB3cmFwcGVyID0gbW91bnQoVXBncmFkaW5nKTsKICAgIHZhciBpbnB1dCA9IHdyYXBwZXIuZmluZCgiW2RhdGEtdGVzdGlkPVwiaW5wdXQtcG9saWN5LSIuY29uY2F0KGZpZWxkLCAiXCJdIikpLmZpbmQoJ2lucHV0Jyk7CiAgICB2YXIgbmV3VmFsdWUgPSAxMjM7CiAgICBpbnB1dC5zZXRWYWx1ZShuZXdWYWx1ZSk7CiAgICBpbnB1dC50cmlnZ2VyKCdibHVyJyk7CiAgICBleHBlY3Qod3JhcHBlci5wcm9wcygndmFsdWUnKVtrZXldKS50b0JlKG5ld1ZhbHVlKTsKICB9KTsKICAvLyBUT0RPOiAjNjE3OTogSW50ZWdyYXRlIHRlc3Qgd2l0aCBjb21wb25lbnQgZml4LCBhcyB0aGUgc2NvcGUgaXMgbm90IHRvIGNoZWNrIHRoZSB2YWx1ZSBvZiB0aGUgaW5wdXQKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgamVzdC9uby1kaXNhYmxlZC10ZXN0cwogIGl0LnNraXAuZWFjaChbWydzdXJnZScsICdtYXhTdXJnZScsICclJ10sIFsndW5hdmFpbGFibGUnLCAnbWF4VW5hdmFpbGFibGUnLCAnJSddXSkoJ3Nob3VsZCBzZXQgdHlwZWQgdmFsdWUgaW4gJXAgaW50byAlcCBhbmQgdW5pdCcsIGZ1bmN0aW9uIChmaWVsZCwga2V5LCB1bml0KSB7CiAgICB2YXIgd3JhcHBlciA9IG1vdW50KFVwZ3JhZGluZyk7CiAgICB2YXIgaW5wdXQgPSB3cmFwcGVyLmZpbmQoIltkYXRhLXRlc3RpZD1cImlucHV0LXBvbGljeS0iLmNvbmNhdChmaWVsZCwgIlwiXSIpKS5maW5kKCdpbnB1dCcpOwogICAgdmFyIG5ld1ZhbHVlID0gMTIzOwogICAgdmFyIGV4cGVjdGF0aW9uID0gIiIuY29uY2F0KG5ld1ZhbHVlKS5jb25jYXQodW5pdCk7CiAgICBpbnB1dC5zZXRWYWx1ZShuZXdWYWx1ZSk7CiAgICBpbnB1dC50cmlnZ2VyKCdibHVyJyk7CiAgICBleHBlY3Qod3JhcHBlci5wcm9wcygndmFsdWUnKS5zdHJhdGVneS5yb2xsaW5nVXBkYXRlW2tleV0pLnRvQmUoZXhwZWN0YXRpb24pOwogIH0pOwogIGl0LmVhY2goWydzdXJnZScsICd1bmF2YWlsYWJsZScsICdtaW4nLCAnbGltaXQnLCAnZGVhZGxpbmUnXSkoJ3Nob3VsZCBlbWl0IGFuIHVwZGF0ZSBvbiAlcCBpbnB1dCBibHVyJywgZnVuY3Rpb24gKGZpZWxkKSB7CiAgICB2YXIgd3JhcHBlciA9IG1vdW50KFVwZ3JhZGluZyk7CiAgICB2YXIgaW5wdXQgPSB3cmFwcGVyLmZpbmQoIltkYXRhLXRlc3RpZD1cImlucHV0LXBvbGljeS0iLmNvbmNhdChmaWVsZCwgIlwiXSIpKS5maW5kKCdpbnB1dCcpOwogICAgdmFyIG5ld1ZhbHVlID0gMTIzOwogICAgaW5wdXQuc2V0VmFsdWUobmV3VmFsdWUpOwogICAgaW5wdXQudHJpZ2dlcignYmx1cicpOwogICAgZXhwZWN0KHdyYXBwZXIuZW1pdHRlZCgnaW5wdXQnKSkudG9IYXZlTGVuZ3RoKDEpOwogIH0pOwp9KTs="},{"version":3,"names":["mount","Upgrading","describe","it","wrapper","inputWraps","findAll","expect","toHaveLength","each","field","key","input","find","concat","newValue","setValue","trigger","props","toBe","skip","unit","expectation","strategy","rollingUpdate","emitted"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/__tests__/Upgrading.test.ts"],"sourcesContent":["import { mount } from '@vue/test-utils';\nimport Upgrading from '@shell/edit/workload/Upgrading.vue';\n\ndescribe('component: Upgrading', () => {\n  it('should display all the inputs', () => {\n    const wrapper = mount(Upgrading);\n\n    const inputWraps = wrapper.findAll('[data-testid^=input-policy-]');\n\n    expect(inputWraps).toHaveLength(7);\n  });\n\n  it.each([\n    ['min', 'minReadySeconds'],\n    ['limit', 'revisionHistoryLimit'],\n    ['deadline', 'progressDeadlineSeconds'],\n  ])('should set typed value in %p into %p', (field, key) => {\n    const wrapper = mount(Upgrading);\n    const input = wrapper.find(`[data-testid=\"input-policy-${ field }\"]`).find('input');\n    const newValue = 123;\n\n    input.setValue(newValue);\n    input.trigger('blur');\n\n    expect(wrapper.props('value')[key]).toBe(newValue);\n  });\n\n  // TODO: #6179: Integrate test with component fix, as the scope is not to check the value of the input\n  // eslint-disable-next-line jest/no-disabled-tests\n  it.skip.each([\n    ['surge', 'maxSurge', '%'],\n    ['unavailable', 'maxUnavailable', '%'],\n  ])('should set typed value in %p into %p and unit', (field, key, unit) => {\n    const wrapper = mount(Upgrading);\n    const input = wrapper.find(`[data-testid=\"input-policy-${ field }\"]`).find('input');\n    const newValue = 123;\n    const expectation = `${ newValue }${ unit }`;\n\n    input.setValue(newValue);\n    input.trigger('blur');\n\n    expect(wrapper.props('value').strategy.rollingUpdate[key]).toBe(expectation);\n  });\n\n  it.each([\n    'surge',\n    'unavailable',\n    'min',\n    'limit',\n    'deadline',\n  ])('should emit an update on %p input blur', (field) => {\n    const wrapper = mount(Upgrading);\n    const input = wrapper.find(`[data-testid=\"input-policy-${ field }\"]`).find('input');\n    const newValue = 123;\n\n    input.setValue(newValue);\n    input.trigger('blur');\n\n    expect(wrapper.emitted('input')).toHaveLength(1);\n  });\n});\n"],"mappings":";;;AAAA,SAASA,KAAK,QAAQ,iBAAiB;AACvC,OAAOC,SAAS,MAAM,oCAAoC;AAE1DC,QAAQ,CAAC,sBAAsB,EAAE,YAAK;EACpCC,EAAE,CAAC,+BAA+B,EAAE,YAAK;IACvC,IAAMC,OAAO,GAAGJ,KAAK,CAACC,SAAS,CAAC;IAEhC,IAAMI,UAAU,GAAGD,OAAO,CAACE,OAAO,CAAC,8BAA8B,CAAC;IAElEC,MAAM,CAACF,UAAU,CAAC,CAACG,YAAY,CAAC,CAAC,CAAC;EACpC,CAAC,CAAC;EAEFL,EAAE,CAACM,IAAI,CAAC,CACN,CAAC,KAAK,EAAE,iBAAiB,CAAC,EAC1B,CAAC,OAAO,EAAE,sBAAsB,CAAC,EACjC,CAAC,UAAU,EAAE,yBAAyB,CAAC,CACxC,CAAC,CAAC,sCAAsC,EAAE,UAACC,KAAK,EAAEC,GAAG,EAAI;IACxD,IAAMP,OAAO,GAAGJ,KAAK,CAACC,SAAS,CAAC;IAChC,IAAMW,KAAK,GAAGR,OAAO,CAACS,IAAI,gCAAAC,MAAA,CAAgCJ,KAAM,QAAI,CAAC,CAACG,IAAI,CAAC,OAAO,CAAC;IACnF,IAAME,QAAQ,GAAG,GAAG;IAEpBH,KAAK,CAACI,QAAQ,CAACD,QAAQ,CAAC;IACxBH,KAAK,CAACK,OAAO,CAAC,MAAM,CAAC;IAErBV,MAAM,CAACH,OAAO,CAACc,KAAK,CAAC,OAAO,CAAC,CAACP,GAAG,CAAC,CAAC,CAACQ,IAAI,CAACJ,QAAQ,CAAC;EACpD,CAAC,CAAC;EAEF;EACA;EACAZ,EAAE,CAACiB,IAAI,CAACX,IAAI,CAAC,CACX,CAAC,OAAO,EAAE,UAAU,EAAE,GAAG,CAAC,EAC1B,CAAC,aAAa,EAAE,gBAAgB,EAAE,GAAG,CAAC,CACvC,CAAC,CAAC,+CAA+C,EAAE,UAACC,KAAK,EAAEC,GAAG,EAAEU,IAAI,EAAI;IACvE,IAAMjB,OAAO,GAAGJ,KAAK,CAACC,SAAS,CAAC;IAChC,IAAMW,KAAK,GAAGR,OAAO,CAACS,IAAI,gCAAAC,MAAA,CAAgCJ,KAAM,QAAI,CAAC,CAACG,IAAI,CAAC,OAAO,CAAC;IACnF,IAAME,QAAQ,GAAG,GAAG;IACpB,IAAMO,WAAW,MAAAR,MAAA,CAAOC,QAAS,EAAAD,MAAA,CAAIO,IAAK,CAAE;IAE5CT,KAAK,CAACI,QAAQ,CAACD,QAAQ,CAAC;IACxBH,KAAK,CAACK,OAAO,CAAC,MAAM,CAAC;IAErBV,MAAM,CAACH,OAAO,CAACc,KAAK,CAAC,OAAO,CAAC,CAACK,QAAQ,CAACC,aAAa,CAACb,GAAG,CAAC,CAAC,CAACQ,IAAI,CAACG,WAAW,CAAC;EAC9E,CAAC,CAAC;EAEFnB,EAAE,CAACM,IAAI,CAAC,CACN,OAAO,EACP,aAAa,EACb,KAAK,EACL,OAAO,EACP,UAAU,CACX,CAAC,CAAC,wCAAwC,EAAE,UAACC,KAAK,EAAI;IACrD,IAAMN,OAAO,GAAGJ,KAAK,CAACC,SAAS,CAAC;IAChC,IAAMW,KAAK,GAAGR,OAAO,CAACS,IAAI,gCAAAC,MAAA,CAAgCJ,KAAM,QAAI,CAAC,CAACG,IAAI,CAAC,OAAO,CAAC;IACnF,IAAME,QAAQ,GAAG,GAAG;IAEpBH,KAAK,CAACI,QAAQ,CAACD,QAAQ,CAAC;IACxBH,KAAK,CAACK,OAAO,CAAC,MAAM,CAAC;IAErBV,MAAM,CAACH,OAAO,CAACqB,OAAO,CAAC,OAAO,CAAC,CAAC,CAACjB,YAAY,CAAC,CAAC,CAAC;EAClD,CAAC,CAAC;AACJ,CAAC,CAAC"}]}