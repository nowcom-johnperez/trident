{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/cluster/node.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/cluster/node.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9nZXQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0IjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIucGFyc2UtaW50LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnBhcnNlLWZsb2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CmltcG9ydCB7IGZvcm1hdFBlcmNlbnQgfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKaW1wb3J0IHsgQ0FQSSBhcyBDQVBJX0FOTk9UQVRJT05TLCBOT0RFX1JPTEVTLCBSS0UsIFNZU1RFTV9MQUJFTFMgfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucy5qcyc7CmltcG9ydCB7IENBUEksIE1BTkFHRU1FTlQsIE1FVFJJQywgTk9STUFOLCBQT0QgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgcGFyc2VTaSB9IGZyb20gJ0BzaGVsbC91dGlscy91bml0cyc7CmltcG9ydCBmaW5kTGFzdCBmcm9tICdsb2Rhc2gvZmluZExhc3QnOwppbXBvcnQgU3RldmVNb2RlbCBmcm9tICdAc2hlbGwvcGx1Z2lucy9zdGV2ZS9zdGV2ZS1jbGFzcyc7CmltcG9ydCB7IExPQ0FMIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwp2YXIgQ2x1c3Rlck5vZGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9TdGV2ZU1vZGVsKSB7CiAgX2luaGVyaXRzKENsdXN0ZXJOb2RlLCBfU3RldmVNb2RlbCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDbHVzdGVyTm9kZSk7CiAgZnVuY3Rpb24gQ2x1c3Rlck5vZGUoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2x1c3Rlck5vZGUpOwogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBfY3JlYXRlQ2xhc3MoQ2x1c3Rlck5vZGUsIFt7CiAgICBrZXk6ICJfYXZhaWxhYmxlQWN0aW9ucyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJG5vcm1hbiwgX3RoaXMkcHJvdmlzaW9uZWRNYWNoLCBfdGhpcyRwcm92aXNpb25lZE1hY2gyOwogICAgICB2YXIgbm9ybWFuQWN0aW9uID0gKChfdGhpcyRub3JtYW4gPSB0aGlzLm5vcm1hbikgPT09IG51bGwgfHwgX3RoaXMkbm9ybWFuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRub3JtYW4uYWN0aW9ucykgfHwge307CiAgICAgIHZhciBjb3Jkb24gPSB7CiAgICAgICAgYWN0aW9uOiAnY29yZG9uJywKICAgICAgICBlbmFibGVkOiAhIW5vcm1hbkFjdGlvbi5jb3Jkb24sCiAgICAgICAgaWNvbjogJ2ljb24gaWNvbi1mdyBpY29uLXBhdXNlJywKICAgICAgICBsYWJlbDogJ0NvcmRvbicsCiAgICAgICAgdG90YWw6IDEsCiAgICAgICAgYnVsa2FibGU6IHRydWUKICAgICAgfTsKICAgICAgdmFyIHVuY29yZG9uID0gewogICAgICAgIGFjdGlvbjogJ3VuY29yZG9uJywKICAgICAgICBlbmFibGVkOiAhIW5vcm1hbkFjdGlvbi51bmNvcmRvbiwKICAgICAgICBpY29uOiAnaWNvbiBpY29uLWZ3IGljb24tcGxheScsCiAgICAgICAgbGFiZWw6ICdVbmNvcmRvbicsCiAgICAgICAgdG90YWw6IDEsCiAgICAgICAgYnVsa2FibGU6IHRydWUKICAgICAgfTsKICAgICAgdmFyIGRyYWluID0gewogICAgICAgIGFjdGlvbjogJ2RyYWluJywKICAgICAgICBlbmFibGVkOiAhIW5vcm1hbkFjdGlvbi5kcmFpbiwKICAgICAgICBpY29uOiAnaWNvbiBpY29uLWZ3IGljb24tZG90LW9wZW4nLAogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2RyYWluTm9kZS5hY3Rpb24nKSwKICAgICAgICBidWxrYWJsZTogdHJ1ZSwKICAgICAgICBidWxrQWN0aW9uOiAnZHJhaW4nCiAgICAgIH07CiAgICAgIHZhciBzdG9wRHJhaW4gPSB7CiAgICAgICAgYWN0aW9uOiAnc3RvcERyYWluJywKICAgICAgICBlbmFibGVkOiAhIW5vcm1hbkFjdGlvbi5zdG9wRHJhaW4sCiAgICAgICAgaWNvbjogJ2ljb24gaWNvbi1mdyBpY29uLXgnLAogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2RyYWluTm9kZS5hY3Rpb25TdG9wJyksCiAgICAgICAgYnVsa2FibGU6IHRydWUKICAgICAgfTsKICAgICAgdmFyIG9wZW5Tc2ggPSB7CiAgICAgICAgYWN0aW9uOiAnb3BlblNzaCcsCiAgICAgICAgZW5hYmxlZDogISEoKF90aGlzJHByb3Zpc2lvbmVkTWFjaCA9IHRoaXMucHJvdmlzaW9uZWRNYWNoaW5lKSAhPT0gbnVsbCAmJiBfdGhpcyRwcm92aXNpb25lZE1hY2ggIT09IHZvaWQgMCAmJiAoX3RoaXMkcHJvdmlzaW9uZWRNYWNoID0gX3RoaXMkcHJvdmlzaW9uZWRNYWNoLmxpbmtzKSAhPT0gbnVsbCAmJiBfdGhpcyRwcm92aXNpb25lZE1hY2ggIT09IHZvaWQgMCAmJiBfdGhpcyRwcm92aXNpb25lZE1hY2guc2hlbGwpLAogICAgICAgIGljb246ICdpY29uIGljb24tZncgaWNvbi1jaGV2cm9uLXJpZ2h0JywKICAgICAgICBsYWJlbDogJ1NTSCBTaGVsbCcKICAgICAgfTsKICAgICAgdmFyIGRvd25sb2FkS2V5cyA9IHsKICAgICAgICBhY3Rpb246ICdkb3dubG9hZEtleXMnLAogICAgICAgIGVuYWJsZWQ6ICEhKChfdGhpcyRwcm92aXNpb25lZE1hY2gyID0gdGhpcy5wcm92aXNpb25lZE1hY2hpbmUpICE9PSBudWxsICYmIF90aGlzJHByb3Zpc2lvbmVkTWFjaDIgIT09IHZvaWQgMCAmJiAoX3RoaXMkcHJvdmlzaW9uZWRNYWNoMiA9IF90aGlzJHByb3Zpc2lvbmVkTWFjaDIubGlua3MpICE9PSBudWxsICYmIF90aGlzJHByb3Zpc2lvbmVkTWFjaDIgIT09IHZvaWQgMCAmJiBfdGhpcyRwcm92aXNpb25lZE1hY2gyLnNzaGtleXMpLAogICAgICAgIGljb246ICdpY29uIGljb24tZncgaWNvbi1kb3dubG9hZCcsCiAgICAgICAgbGFiZWw6IHRoaXMudCgnbm9kZS5hY3Rpb25zLmRvd25sb2FkU1NIS2V5JykKICAgICAgfTsKICAgICAgcmV0dXJuIFtvcGVuU3NoLCBkb3dubG9hZEtleXMsIHsKICAgICAgICBkaXZpZGVyOiB0cnVlCiAgICAgIH0sIGNvcmRvbiwgdW5jb3Jkb24sIGRyYWluLCBzdG9wRHJhaW4sIHsKICAgICAgICBkaXZpZGVyOiB0cnVlCiAgICAgIH1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX2dldChfZ2V0UHJvdG90eXBlT2YoQ2x1c3Rlck5vZGUucHJvdG90eXBlKSwgIl9hdmFpbGFibGVBY3Rpb25zIiwgdGhpcykpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcGVuU3NoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuU3NoKCkgewogICAgICAvLyBQYXNzIGluIHRoZSBuYW1lIG9mIHRoZSBub2RlLCBzbyB3ZSBkaXNwbGF5IHRoYXQgcmF0aGVyIHRoYW4gdGhlIG5hbWUgb2YgdGhlIHByb3Zpc2lvbmVkIG1hY2hpbmUKICAgICAgdGhpcy5wcm92aXNpb25lZE1hY2hpbmUub3BlblNzaCh0aGlzLm5hbWVEaXNwbGF5KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkb3dubG9hZEtleXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkS2V5cygpIHsKICAgICAgdGhpcy5wcm92aXNpb25lZE1hY2hpbmUuZG93bmxvYWRLZXlzKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvd0RldGFpbFN0YXRlQmFkZ2UiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogIm5hbWUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLm1ldGFkYXRhLm5hbWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkcmVzc2VzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3RhdHVzOwogICAgICByZXR1cm4gKChfdGhpcyRzdGF0dXMgPSB0aGlzLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzdGF0dXMuYWRkcmVzc2VzKSB8fCBbXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbnRlcm5hbElwIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX2ZpbmRMYXN0OwogICAgICByZXR1cm4gKF9maW5kTGFzdCA9IGZpbmRMYXN0KHRoaXMuYWRkcmVzc2VzLCBmdW5jdGlvbiAoYWRkcmVzcykgewogICAgICAgIHJldHVybiBhZGRyZXNzLnR5cGUgPT09ICdJbnRlcm5hbElQJzsKICAgICAgfSkpID09PSBudWxsIHx8IF9maW5kTGFzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ZpbmRMYXN0LmFkZHJlc3M7CiAgICB9CiAgfSwgewogICAga2V5OiAiZXh0ZXJuYWxJcCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF9maW5kTGFzdDI7CiAgICAgIHZhciBhbm5vdGF0aW9uQWRkcmVzcyA9IHRoaXMubWV0YWRhdGEuYW5ub3RhdGlvbnNbUktFLkVYVEVSTkFMX0lQXTsKICAgICAgdmFyIHN0YXR1c0FkZHJlc3MgPSAoX2ZpbmRMYXN0MiA9IGZpbmRMYXN0KHRoaXMuYWRkcmVzc2VzLCBmdW5jdGlvbiAoYWRkcmVzcykgewogICAgICAgIHJldHVybiBhZGRyZXNzLnR5cGUgPT09ICdFeHRlcm5hbElQJzsKICAgICAgfSkpID09PSBudWxsIHx8IF9maW5kTGFzdDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9maW5kTGFzdDIuYWRkcmVzczsKICAgICAgcmV0dXJuIHN0YXR1c0FkZHJlc3MgfHwgYW5ub3RhdGlvbkFkZHJlc3M7CiAgICB9CiAgfSwgewogICAga2V5OiAibGFiZWxzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkbWV0YWRhdGE7CiAgICAgIHJldHVybiAoKF90aGlzJG1ldGFkYXRhID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1ldGFkYXRhLmxhYmVscykgfHwge307CiAgICB9CiAgfSwgewogICAga2V5OiAiY3VzdG9tTGFiZWxDb3VudCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tTGFiZWxzLmxlbmd0aDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjdXN0b21MYWJlbHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBwYXJzZWRMYWJlbHMgPSBbXTsKICAgICAgaWYgKHRoaXMubGFiZWxzKSB7CiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmxhYmVscykgewogICAgICAgICAgdmFyIF9rJHNwbGl0ID0gay5zcGxpdCgnLycpLAogICAgICAgICAgICBfayRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfayRzcGxpdCwgMSksCiAgICAgICAgICAgIHByZWZpeCA9IF9rJHNwbGl0MlswXTsKICAgICAgICAgIGlmICghU1lTVEVNX0xBQkVMUy5pbmNsdWRlcyhwcmVmaXgpKSB7CiAgICAgICAgICAgIHBhcnNlZExhYmVscy5wdXNoKCIiLmNvbmNhdChrLCAiPSIpLmNvbmNhdCh0aGlzLmxhYmVsc1trXSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcGFyc2VkTGFiZWxzOwogICAgfQogIH0sIHsKICAgIGtleTogImlzV29ya2VyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5tYW5hZ2VtZW50Tm9kZSA/IHRoaXMubWFuYWdlbWVudE5vZGUuaXNXb3JrZXIgOiAiIi5jb25jYXQodGhpcy5sYWJlbHNbTk9ERV9ST0xFUy5XT1JLRVJdKSA9PT0gJ3RydWUnOwogICAgfQogIH0sIHsKICAgIGtleTogImlzQ29udHJvbFBsYW5lIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICBpZiAodGhpcy5tYW5hZ2VtZW50Tm9kZSkgewogICAgICAgIHJldHVybiB0aGlzLm1hbmFnZW1lbnROb2RlLmlzQ29udHJvbFBsYW5lOwogICAgICB9IGVsc2UgaWYgKCIiLmNvbmNhdCh0aGlzLmxhYmVsc1tOT0RFX1JPTEVTLkNPTlRST0xfUExBTkVdKSA9PT0gJ3RydWUnIHx8ICIiLmNvbmNhdCh0aGlzLmxhYmVsc1tOT0RFX1JPTEVTLkNPTlRST0xfUExBTkVfT0xEXSkgPT09ICd0cnVlJykgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0V0Y2QiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLm1hbmFnZW1lbnROb2RlID8gdGhpcy5tYW5hZ2VtZW50Tm9kZS5pc0V0Y2QgOiAiIi5jb25jYXQodGhpcy5sYWJlbHNbTk9ERV9ST0xFUy5FVENEXSkgPT09ICd0cnVlJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNBUm9sZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHJvbGVMYWJlbEtleXMgPSBPYmplY3QudmFsdWVzKE5PREVfUk9MRVMpOwogICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5sYWJlbHMpLnNvbWUoZnVuY3Rpb24gKGxhYmVsS2V5KSB7CiAgICAgICAgdmFyIGhhc1JvbGVMYWJlbCA9IHJvbGVMYWJlbEtleXMuaW5jbHVkZXMobGFiZWxLZXkpOwogICAgICAgIHZhciBpc0V4cGVjdGVkVmFsdWUgPSAiIi5jb25jYXQoX3RoaXMubGFiZWxzW2xhYmVsS2V5XSkgPT09ICd0cnVlJzsKICAgICAgICByZXR1cm4gaGFzUm9sZUxhYmVsICYmIGlzRXhwZWN0ZWRWYWx1ZTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicm9sZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBpc0NvbnRyb2xQbGFuZSA9IHRoaXMuaXNDb250cm9sUGxhbmUsCiAgICAgICAgaXNXb3JrZXIgPSB0aGlzLmlzV29ya2VyLAogICAgICAgIGlzRXRjZCA9IHRoaXMuaXNFdGNkOwogICAgICByZXR1cm4gbGlzdE5vZGVSb2xlcyhpc0NvbnRyb2xQbGFuZSwgaXNXb3JrZXIsIGlzRXRjZCwgdGhpcy50KCdnZW5lcmljLmFsbCcpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2ZXJzaW9uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5zdGF0dXMubm9kZUluZm8ua3ViZWxldFZlcnNpb247CiAgICB9CiAgfSwgewogICAga2V5OiAiY3B1VXNhZ2UiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyQkcm9vdEdldHRlcnMkY2w7CiAgICAgIC8qCiAgICAgICAgV2l0aCBFS1Mgbm9kZXMgdGhhdCBoYXZlIGJlZW4gbWlncmF0ZWQgZnJvbSBub3JtYW4sCiAgICAgICAgY3B1L21lbW9yeSB1c2FnZSBpcyBieSB0aGUgYW5ub3RhdGlvbiBgbWFuYWdlbWVudC5jYXR0bGUuaW8vcG9kLXJlcXVlc3RzYAogICAgICAqLwogICAgICBpZiAodGhpcy5pc0Zyb21Ob3JtYW4gJiYgdGhpcy5wcm92aWRlciA9PT0gJ2VrcycpIHsKICAgICAgICByZXR1cm4gcGFyc2VTaSh0aGlzLnBvZFJlcXVlc3RzLmNwdSB8fCAnMCcpOwogICAgICB9CiAgICAgIHJldHVybiBwYXJzZVNpKCgoX3RoaXMkJHJvb3RHZXR0ZXJzJGNsID0gdGhpcy4kcm9vdEdldHRlcnNbJ2NsdXN0ZXIvYnlJZCddKE1FVFJJQy5OT0RFLCB0aGlzLmlkKSkgPT09IG51bGwgfHwgX3RoaXMkJHJvb3RHZXR0ZXJzJGNsID09PSB2b2lkIDAgfHwgKF90aGlzJCRyb290R2V0dGVycyRjbCA9IF90aGlzJCRyb290R2V0dGVycyRjbC51c2FnZSkgPT09IG51bGwgfHwgX3RoaXMkJHJvb3RHZXR0ZXJzJGNsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcm9vdEdldHRlcnMkY2wuY3B1KSB8fCAnMCcpOwogICAgfQogIH0sIHsKICAgIGtleTogImNwdUNhcGFjaXR5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gcGFyc2VTaSh0aGlzLnN0YXR1cy5hbGxvY2F0YWJsZS5jcHUpOwogICAgfQogIH0sIHsKICAgIGtleTogImNwdVVzYWdlUGVyY2VudGFnZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuICh0aGlzLmNwdVVzYWdlICogMTAwIC8gdGhpcy5jcHVDYXBhY2l0eSkudG9TdHJpbmcoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyYW1Vc2FnZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJCRyb290R2V0dGVycyRjbDI7CiAgICAgIGlmICh0aGlzLmlzRnJvbU5vcm1hbiAmJiB0aGlzLnByb3ZpZGVyID09PSAnZWtzJykgewogICAgICAgIHJldHVybiBwYXJzZVNpKHRoaXMucG9kUmVxdWVzdHMubWVtb3J5IHx8ICcwJyk7CiAgICAgIH0KICAgICAgcmV0dXJuIHBhcnNlU2koKChfdGhpcyQkcm9vdEdldHRlcnMkY2wyID0gdGhpcy4kcm9vdEdldHRlcnNbJ2NsdXN0ZXIvYnlJZCddKE1FVFJJQy5OT0RFLCB0aGlzLmlkKSkgPT09IG51bGwgfHwgX3RoaXMkJHJvb3RHZXR0ZXJzJGNsMiA9PT0gdm9pZCAwIHx8IChfdGhpcyQkcm9vdEdldHRlcnMkY2wyID0gX3RoaXMkJHJvb3RHZXR0ZXJzJGNsMi51c2FnZSkgPT09IG51bGwgfHwgX3RoaXMkJHJvb3RHZXR0ZXJzJGNsMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJvb3RHZXR0ZXJzJGNsMi5tZW1vcnkpIHx8ICcwJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmFtQ2FwYWNpdHkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBwYXJzZVNpKHRoaXMuc3RhdHVzLmNhcGFjaXR5Lm1lbW9yeSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmFtVXNhZ2VQZXJjZW50YWdlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gKHRoaXMucmFtVXNhZ2UgKiAxMDAgLyB0aGlzLnJhbUNhcGFjaXR5KS50b1N0cmluZygpOwogICAgfQogIH0sIHsKICAgIGtleTogInJhbVJlc2VydmVkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3RhdHVzMjsKICAgICAgcmV0dXJuIHBhcnNlU2koKF90aGlzJHN0YXR1czIgPSB0aGlzLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzMiA9PT0gdm9pZCAwIHx8IChfdGhpcyRzdGF0dXMyID0gX3RoaXMkc3RhdHVzMi5hbGxvY2F0YWJsZSkgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzMi5tZW1vcnkpOwogICAgfQogIH0sIHsKICAgIGtleTogInJhbVJlc2VydmVkUGVyY2VudGFnZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuICh0aGlzLnJhbVVzYWdlICogMTAwIC8gdGhpcy5yYW1SZXNlcnZlZCkudG9TdHJpbmcoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb2RVc2FnZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIGNhbGN1bGF0ZVBlcmNlbnRhZ2UodGhpcy5zdGF0dXMuYWxsb2NhdGFibGUucG9kcywgdGhpcy5zdGF0dXMuY2FwYWNpdHkucG9kcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicG9kQ29uc3VtZWRVc2FnZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuICh0aGlzLnBvZENvbnN1bWVkIC8gdGhpcy5wb2RDYXBhY2l0eSAqIDEwMCkudG9TdHJpbmcoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb2RDYXBhY2l0eSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIE51bWJlci5wYXJzZUludCh0aGlzLnN0YXR1cy5jYXBhY2l0eS5wb2RzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb2RDb25zdW1lZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIHJ1bm5pbmdQb2RzID0gdGhpcy5wb2RzLmZpbHRlcihmdW5jdGlvbiAocG9kKSB7CiAgICAgICAgcmV0dXJuIHBvZC5zdGF0ZSA9PT0gJ3J1bm5pbmcnOwogICAgICB9KTsKICAgICAgcmV0dXJuIHJ1bm5pbmdQb2RzLmxlbmd0aCB8fCAwOwogICAgfQogIH0sIHsKICAgIGtleTogInBvZFJlcXVlc3RzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLm1ldGFkYXRhLmFubm90YXRpb25zWydtYW5hZ2VtZW50LmNhdHRsZS5pby9wb2QtcmVxdWVzdHMnXSB8fCAne30nKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1BpZFByZXNzdXJlT2siLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzQ29uZGl0aW9uKCdQSURQcmVzc3VyZScsICdGYWxzZScpOwogICAgfQogIH0sIHsKICAgIGtleTogImlzRGlza1ByZXNzdXJlT2siLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzQ29uZGl0aW9uKCdEaXNrUHJlc3N1cmUnLCAnRmFsc2UnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc01lbW9yeVByZXNzdXJlT2siLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzQ29uZGl0aW9uKCdNZW1vcnlQcmVzc3VyZScsICdGYWxzZScpOwogICAgfQogIH0sIHsKICAgIGtleTogImlzS3ViZWxldE9rIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5pc0NvbmRpdGlvbignUmVhZHknKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0NvcmRvbmVkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gISF0aGlzLnNwZWMudW5zY2hlZHVsYWJsZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkcmFpbmVkU3RhdGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRtYW5hZ2VtZW50Tm9kZTsKICAgICAgdmFyIHNOb2RlQ29uZGl0aW9uID0gKF90aGlzJG1hbmFnZW1lbnROb2RlID0gdGhpcy5tYW5hZ2VtZW50Tm9kZSkgPT09IG51bGwgfHwgX3RoaXMkbWFuYWdlbWVudE5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1hbmFnZW1lbnROb2RlLnN0YXR1cy5jb25kaXRpb25zLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy50eXBlID09PSAnRHJhaW5lZCc7CiAgICAgIH0pOwogICAgICBpZiAoc05vZGVDb25kaXRpb24pIHsKICAgICAgICBpZiAoc05vZGVDb25kaXRpb24uc3RhdHVzID09PSAnVHJ1ZScpIHsKICAgICAgICAgIHJldHVybiAnZHJhaW5lZCc7CiAgICAgICAgfQogICAgICAgIGlmIChzTm9kZUNvbmRpdGlvbi50cmFuc2l0aW9uaW5nKSB7CiAgICAgICAgICByZXR1cm4gJ2RyYWluaW5nJzsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29udGFpbmVyUnVudGltZVZlcnNpb24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLnN0YXR1cy5ub2RlSW5mby5jb250YWluZXJSdW50aW1lVmVyc2lvbi5yZXBsYWNlKCdkb2NrZXI6Ly8nLCAnJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29udGFpbmVyUnVudGltZUljb24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIGlmICh0aGlzLnN0YXR1cy5ub2RlSW5mby5jb250YWluZXJSdW50aW1lVmVyc2lvbi5pbmNsdWRlcygnZG9ja2VyJykpIHsKICAgICAgICByZXR1cm4gJ2ljb24tZG9ja2VyJzsKICAgICAgfQogICAgICByZXR1cm4gJyc7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29yZG9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY29yZG9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc291cmNlcykgewogICAgICAgIHZhciBzYWZlUmVzb3VyY2VzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHNhZmVSZXNvdXJjZXMgPSBBcnJheS5pc0FycmF5KHJlc291cmNlcykgPyByZXNvdXJjZXMgOiBbdGhpc107CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHNhZmVSZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICAgICAgICB2YXIgX25vZGUkbm9ybWFuOwogICAgICAgICAgICAgICAgcmV0dXJuIChfbm9kZSRub3JtYW4gPSBub2RlLm5vcm1hbikgPT09IG51bGwgfHwgX25vZGUkbm9ybWFuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRub3JtYW4uZG9BY3Rpb24oJ2NvcmRvbicpOwogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gY29yZG9uKF94KSB7CiAgICAgICAgcmV0dXJuIF9jb3Jkb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICByZXR1cm4gY29yZG9uOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidW5jb3Jkb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91bmNvcmRvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzb3VyY2VzKSB7CiAgICAgICAgdmFyIHNhZmVSZXNvdXJjZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHNhZmVSZXNvdXJjZXMgPSBBcnJheS5pc0FycmF5KHJlc291cmNlcykgPyByZXNvdXJjZXMgOiBbdGhpc107CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChzYWZlUmVzb3VyY2VzLm1hcChmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICAgICAgdmFyIF9ub2RlJG5vcm1hbjI7CiAgICAgICAgICAgICAgICByZXR1cm4gKF9ub2RlJG5vcm1hbjIgPSBub2RlLm5vcm1hbikgPT09IG51bGwgfHwgX25vZGUkbm9ybWFuMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkbm9ybWFuMi5kb0FjdGlvbigndW5jb3Jkb24nKTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gdW5jb3Jkb24oX3gyKSB7CiAgICAgICAgcmV0dXJuIF91bmNvcmRvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CiAgICAgIHJldHVybiB1bmNvcmRvbjsKICAgIH0oKQogICAgLyoqCiAgICAgKkZpbmQgdGhlIG5vZGUncyBjbHVzdGVyIGlkIGZyb20gaXQncyB1cmwKICAgICAqLwogIH0sIHsKICAgIGtleTogImNsdXN0ZXJJZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIHBhcnRzID0gdGhpcy5saW5rcy5zZWxmLnNwbGl0KCcvJyk7CgogICAgICAvLyBMb2NhbCBjbHVzdGVyIHVybCBsaW5rcyBvbWl0IGAvazhzL2NsdXN0ZXJzLzxjbHVzdGVyIGlkPmAKICAgICAgLy8gYC92MS9ub2Rlc2AgdnMgYGs4cy9jbHVzdGVycy9jLW0tMjc0a2NyYzQvdjEvbm9kZXNgCiAgICAgIC8vIEJlIHNhZmUgd2hlbiBkZXRlcm1pbmluZyB0aGlzLCBzbyB3b3JrIGJhY2sgdGhyb3VnaCB0aGUgdXJsIGZyb20gYSBrbm93biBwb2ludAogICAgICBpZiAocGFydHMubGVuZ3RoID4gNiAmJiBwYXJ0c1twYXJ0cy5sZW5ndGggLSA2XSA9PT0gJ2s4cycgJiYgcGFydHNbcGFydHMubGVuZ3RoIC0gNV0gPT09ICdjbHVzdGVycycpIHsKICAgICAgICByZXR1cm4gcGFydHNbcGFydHMubGVuZ3RoIC0gNF07CiAgICAgIH0KICAgICAgcmV0dXJuIExPQ0FMOwogICAgfQogIH0sIHsKICAgIGtleTogIm5vcm1hbk5vZGVJZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBtYW5hZ2VtZW50Tm9kZSA9ICh0aGlzLiRyb290R2V0dGVyc1snbWFuYWdlbWVudC9hbGwnXShNQU5BR0VNRU5ULk5PREUpIHx8IFtdKS5maW5kKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgcmV0dXJuIG4uaWQuc3RhcnRzV2l0aChfdGhpczIuY2x1c3RlcklkKSAmJiBuLnN0YXR1cy5ub2RlTmFtZSA9PT0gX3RoaXMyLm5hbWU7CiAgICAgIH0pOwogICAgICBpZiAobWFuYWdlbWVudE5vZGUpIHsKICAgICAgICByZXR1cm4gbWFuYWdlbWVudE5vZGUuaWQucmVwbGFjZSgnLycsICc6Jyk7CiAgICAgIH0KICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAibm9ybWFuIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ3JhbmNoZXIvYnlJZCddKE5PUk1BTi5OT0RFLCB0aGlzLm5vcm1hbk5vZGVJZCk7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFuYWdlbWVudE5vZGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ21hbmFnZW1lbnQvYWxsJ10oTUFOQUdFTUVOVC5OT0RFKS5maW5kKGZ1bmN0aW9uIChtTm9kZSkgewogICAgICAgIHJldHVybiBtTm9kZS5pZC5zdGFydHNXaXRoKF90aGlzMy5jbHVzdGVySWQpICYmIG1Ob2RlLnN0YXR1cy5ub2RlTmFtZSA9PT0gX3RoaXMzLmlkOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkcmFpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhaW4ocmVzb3VyY2VzKSB7CiAgICAgIHRoaXMuJGRpc3BhdGNoKCdwcm9tcHRNb2RhbCcsIHsKICAgICAgICBjb21wb25lbnQ6ICdEcmFpbk5vZGUnLAogICAgICAgIGNvbXBvbmVudFByb3BzOiB7CiAgICAgICAgICBrdWJlTm9kZXM6IHJlc291cmNlcyB8fCBbdGhpc10sCiAgICAgICAgICBub3JtYW5Ob2RlSWQ6IHRoaXMubm9ybWFuTm9kZUlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdG9wRHJhaW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zdG9wRHJhaW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHJlc291cmNlcykgewogICAgICAgIHZhciBzYWZlUmVzb3VyY2VzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzYWZlUmVzb3VyY2VzID0gQXJyYXkuaXNBcnJheShyZXNvdXJjZXMpID8gcmVzb3VyY2VzIDogW3RoaXNdOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoc2FmZVJlc291cmNlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgICAgIHZhciBfbm9kZSRub3JtYW4zOwogICAgICAgICAgICAgICAgcmV0dXJuIChfbm9kZSRub3JtYW4zID0gbm9kZS5ub3JtYW4pID09PSBudWxsIHx8IF9ub2RlJG5vcm1hbjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlJG5vcm1hbjMuZG9BY3Rpb24oJ3N0b3BEcmFpbicpOwogICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBzdG9wRHJhaW4oX3gzKSB7CiAgICAgICAgcmV0dXJuIF9zdG9wRHJhaW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICByZXR1cm4gc3RvcERyYWluOwogICAgfSgpCiAgfSwgewogICAga2V5OiAic3RhdGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRtZXRhZGF0YTI7CiAgICAgIGlmICh0aGlzLmRyYWluZWRTdGF0ZSkgewogICAgICAgIHJldHVybiB0aGlzLmRyYWluZWRTdGF0ZTsKICAgICAgfQogICAgICBpZiAodGhpcy5pc0NvcmRvbmVkKSB7CiAgICAgICAgcmV0dXJuICdjb3Jkb25lZCc7CiAgICAgIH0KICAgICAgcmV0dXJuICgoX3RoaXMkbWV0YWRhdGEyID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEyID09PSB2b2lkIDAgfHwgKF90aGlzJG1ldGFkYXRhMiA9IF90aGlzJG1ldGFkYXRhMi5zdGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXRhZGF0YTIubmFtZSkgfHwgJ3Vua25vd24nOwogICAgfQogIH0sIHsKICAgIGtleTogImRldGFpbHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBkZXRhaWxzID0gW3sKICAgICAgICBsYWJlbDogdGhpcy50KCdub2RlLmRldGFpbC5kZXRhaWxUb3AudmVyc2lvbicpLAogICAgICAgIGNvbnRlbnQ6IHRoaXMudmVyc2lvbgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6IHRoaXMudCgnbm9kZS5kZXRhaWwuZGV0YWlsVG9wLm9zJyksCiAgICAgICAgY29udGVudDogdGhpcy5zdGF0dXMubm9kZUluZm8ub3NJbWFnZQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6IHRoaXMudCgnbm9kZS5kZXRhaWwuZGV0YWlsVG9wLmNvbnRhaW5lclJ1bnRpbWUnKSwKICAgICAgICBmb3JtYXR0ZXI6ICdJY29uVGV4dCcsCiAgICAgICAgZm9ybWF0dGVyT3B0czogewogICAgICAgICAgaWNvbkNsYXNzOiB0aGlzLmNvbnRhaW5lclJ1bnRpbWVJY29uCiAgICAgICAgfSwKICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRhaW5lclJ1bnRpbWVWZXJzaW9uCiAgICAgIH1dOwogICAgICBpZiAodGhpcy5pbnRlcm5hbElwKSB7CiAgICAgICAgZGV0YWlscy51bnNoaWZ0KHsKICAgICAgICAgIGxhYmVsOiB0aGlzLnQoJ25vZGUuZGV0YWlsLmRldGFpbFRvcC5pbnRlcm5hbElQJyksCiAgICAgICAgICBmb3JtYXR0ZXI6ICdDb3B5VG9DbGlwYm9hcmQnLAogICAgICAgICAgY29udGVudDogdGhpcy5pbnRlcm5hbElwCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZXh0ZXJuYWxJcCkgewogICAgICAgIGRldGFpbHMudW5zaGlmdCh7CiAgICAgICAgICBsYWJlbDogdGhpcy50KCdub2RlLmRldGFpbC5kZXRhaWxUb3AuZXh0ZXJuYWxJUCcpLAogICAgICAgICAgZm9ybWF0dGVyOiAnQ29weVRvQ2xpcGJvYXJkJywKICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuZXh0ZXJuYWxJcAogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBkZXRhaWxzOwogICAgfQogIH0sIHsKICAgIGtleTogInBvZHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgYWxsUG9kcyA9IHRoaXMuJHJvb3RHZXR0ZXJzWydjbHVzdGVyL2FsbCddKFBPRCk7CiAgICAgIHJldHVybiBhbGxQb2RzLmZpbHRlcihmdW5jdGlvbiAocG9kKSB7CiAgICAgICAgcmV0dXJuIHBvZC5zcGVjLm5vZGVOYW1lID09PSBfdGhpczQubmFtZTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29uZmlybVJlbW92ZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuQ2xvbmUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5EZWxldGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBjbG91ZFByb3ZpZGVycyA9IFsnYWtzJywgJ2F6dXJlYWtzJywgJ2F6dXJla3ViZXJuZXRlc3NlcnZpY2UnLCAnZWtzJywgJ2FtYXpvbmVrcycsICdna2UnLCAnZ29vZ2xlZ2tlJ107CiAgICAgIHJldHVybiAhY2xvdWRQcm92aWRlcnMuaW5jbHVkZXModGhpcy5wcm92aWRlcik7CiAgICB9CgogICAgLy8gWW91IG5lZWQgdG8gcHJlbG9hZCBDQVBJLk1BQ0hJTkVzIHRvIHVzZSB0aGlzCiAgfSwgewogICAga2V5OiAicHJvdmlzaW9uZWRNYWNoaW5lIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkbWV0YWRhdGEzLCBfdGhpcyRtZXRhZGF0YTQ7CiAgICAgIHZhciBuYW1lc3BhY2UgPSAoX3RoaXMkbWV0YWRhdGEzID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEzID09PSB2b2lkIDAgfHwgKF90aGlzJG1ldGFkYXRhMyA9IF90aGlzJG1ldGFkYXRhMy5hbm5vdGF0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkbWV0YWRhdGEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXRhZGF0YTNbQ0FQSV9BTk5PVEFUSU9OUy5DTFVTVEVSX05BTUVTUEFDRV07CiAgICAgIHZhciBuYW1lID0gKF90aGlzJG1ldGFkYXRhNCA9IHRoaXMubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJG1ldGFkYXRhNCA9PT0gdm9pZCAwIHx8IChfdGhpcyRtZXRhZGF0YTQgPSBfdGhpcyRtZXRhZGF0YTQuYW5ub3RhdGlvbnMpID09PSBudWxsIHx8IF90aGlzJG1ldGFkYXRhNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGE0W0NBUElfQU5OT1RBVElPTlMuTUFDSElORV9OQU1FXTsKICAgICAgaWYgKG5hbWVzcGFjZSAmJiBuYW1lKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHJvb3RHZXR0ZXJzWydtYW5hZ2VtZW50L2J5SWQnXShDQVBJLk1BQ0hJTkUsICIiLmNvbmNhdChuYW1lc3BhY2UsICIvIikuY29uY2F0KG5hbWUpKTsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0Zyb21Ob3JtYW4iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiAodGhpcy4kcm9vdEdldHRlcnNbJ2N1cnJlbnRDbHVzdGVyJ10ubWV0YWRhdGEubGFiZWxzIHx8IHt9KVsnY2F0dGxlLmlvL2NyZWF0b3InXSA9PT0gJ25vcm1hbic7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXIiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb290R2V0dGVyc1snY3VycmVudENsdXN0ZXInXS5wcm92aXNpb25lci50b0xvd2VyQ2FzZSgpOwogICAgfQogIH1dKTsKICByZXR1cm4gQ2x1c3Rlck5vZGU7Cn0oU3RldmVNb2RlbCk7CmV4cG9ydCB7IENsdXN0ZXJOb2RlIGFzIGRlZmF1bHQgfTsKZnVuY3Rpb24gY2FsY3VsYXRlUGVyY2VudGFnZShhbGxvY2F0YWJsZSwgY2FwYWNpdHkpIHsKICB2YXIgYyA9IE51bWJlci5wYXJzZUZsb2F0KGNhcGFjaXR5KTsKICB2YXIgYSA9IE51bWJlci5wYXJzZUZsb2F0KGFsbG9jYXRhYmxlKTsKICB2YXIgcGVyY2VudCA9IChjIC0gYSkgLyBjICogMTAwOwogIHJldHVybiBmb3JtYXRQZXJjZW50KHBlcmNlbnQpOwp9CmV4cG9ydCBmdW5jdGlvbiBsaXN0Tm9kZVJvbGVzKGlzQ29udHJvbFBsYW5lLCBpc1dvcmtlciwgaXNFdGNkLCBhbGxTdHJpbmcpIHsKICB2YXIgcmVzID0gW107CiAgaWYgKGlzQ29udHJvbFBsYW5lKSB7CiAgICByZXMucHVzaCgnQ29udHJvbCBQbGFuZScpOwogIH0KICBpZiAoaXNXb3JrZXIpIHsKICAgIHJlcy5wdXNoKCdXb3JrZXInKTsKICB9CiAgaWYgKGlzRXRjZCkgewogICAgcmVzLnB1c2goJ0V0Y2QnKTsKICB9CiAgaWYgKHJlcy5sZW5ndGggPT09IDMgfHwgcmVzLmxlbmd0aCA9PT0gMCkgewogICAgcmV0dXJuIGFsbFN0cmluZzsKICB9CiAgcmV0dXJuIHJlcy5qb2luKCcsICcpOwp9"},{"version":3,"names":["formatPercent","CAPI","CAPI_ANNOTATIONS","NODE_ROLES","RKE","SYSTEM_LABELS","MANAGEMENT","METRIC","NORMAN","POD","parseSi","findLast","SteveModel","LOCAL","ClusterNode","_SteveModel","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","get","_this$norman","_this$provisionedMach","_this$provisionedMach2","normanAction","norman","actions","cordon","action","enabled","icon","label","total","bulkable","uncordon","drain","t","bulkAction","stopDrain","openSsh","provisionedMachine","links","shell","downloadKeys","sshkeys","divider","concat","_toConsumableArray","_get","_getPrototypeOf","prototype","value","nameDisplay","metadata","name","_this$status","status","addresses","_findLast","address","type","_findLast2","annotationAddress","annotations","EXTERNAL_IP","statusAddress","_this$metadata","labels","customLabels","length","parsedLabels","k","_k$split","split","_k$split2","_slicedToArray","prefix","includes","push","managementNode","isWorker","WORKER","isControlPlane","CONTROL_PLANE","CONTROL_PLANE_OLD","isEtcd","ETCD","_this","roleLabelKeys","Object","values","keys","some","labelKey","hasRoleLabel","isExpectedValue","listNodeRoles","nodeInfo","kubeletVersion","_this$$rootGetters$cl","isFromNorman","provider","podRequests","cpu","$rootGetters","NODE","id","usage","allocatable","cpuUsage","cpuCapacity","toString","_this$$rootGetters$cl2","memory","capacity","ramUsage","ramCapacity","_this$status2","ramReserved","calculatePercentage","pods","podConsumed","podCapacity","Number","parseInt","runningPods","filter","pod","state","JSON","parse","isCondition","spec","unschedulable","_this$managementNode","sNodeCondition","conditions","find","c","transitioning","containerRuntimeVersion","replace","_cordon","_asyncToGenerator","regeneratorRuntime","mark","_callee","resources","safeResources","wrap","_callee$","_context","prev","next","Array","isArray","Promise","all","map","node","_node$norman","doAction","stop","_x","_uncordon","_callee2","_callee2$","_context2","_node$norman2","_x2","parts","self","_this2","n","startsWith","clusterId","nodeName","normanNodeId","_this3","mNode","$dispatch","component","componentProps","kubeNodes","_stopDrain","_callee3","_callee3$","_context3","_node$norman3","_x3","_this$metadata2","drainedState","isCordoned","details","content","version","osImage","formatter","formatterOpts","iconClass","containerRuntimeIcon","internalIp","unshift","externalIp","_this4","allPods","cloudProviders","_this$metadata3","_this$metadata4","namespace","CLUSTER_NAMESPACE","MACHINE_NAME","MACHINE","provisioner","toLowerCase","default","parseFloat","a","percent","allString","res","join"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/cluster/node.js"],"sourcesContent":["import { formatPercent } from '@shell/utils/string';\nimport { CAPI as CAPI_ANNOTATIONS, NODE_ROLES, RKE, SYSTEM_LABELS } from '@shell/config/labels-annotations.js';\nimport {\n  CAPI, MANAGEMENT, METRIC, NORMAN, POD\n} from '@shell/config/types';\nimport { parseSi } from '@shell/utils/units';\nimport findLast from 'lodash/findLast';\n\nimport SteveModel from '@shell/plugins/steve/steve-class';\nimport { LOCAL } from '@shell/config/query-params';\n\nexport default class ClusterNode extends SteveModel {\n  get _availableActions() {\n    const normanAction = this.norman?.actions || {};\n\n    const cordon = {\n      action:   'cordon',\n      enabled:  !!normanAction.cordon,\n      icon:     'icon icon-fw icon-pause',\n      label:    'Cordon',\n      total:    1,\n      bulkable: true\n    };\n\n    const uncordon = {\n      action:   'uncordon',\n      enabled:  !!normanAction.uncordon,\n      icon:     'icon icon-fw icon-play',\n      label:    'Uncordon',\n      total:    1,\n      bulkable: true\n    };\n\n    const drain = {\n      action:     'drain',\n      enabled:    !!normanAction.drain,\n      icon:       'icon icon-fw icon-dot-open',\n      label:      this.t('drainNode.action'),\n      bulkable:   true,\n      bulkAction: 'drain'\n    };\n\n    const stopDrain = {\n      action:   'stopDrain',\n      enabled:  !!normanAction.stopDrain,\n      icon:     'icon icon-fw icon-x',\n      label:    this.t('drainNode.actionStop'),\n      bulkable: true,\n    };\n\n    const openSsh = {\n      action:  'openSsh',\n      enabled: !!this.provisionedMachine?.links?.shell,\n      icon:    'icon icon-fw icon-chevron-right',\n      label:   'SSH Shell',\n    };\n\n    const downloadKeys = {\n      action:  'downloadKeys',\n      enabled: !!this.provisionedMachine?.links?.sshkeys,\n      icon:    'icon icon-fw icon-download',\n      label:   this.t('node.actions.downloadSSHKey'),\n    };\n\n    return [\n      openSsh,\n      downloadKeys,\n      { divider: true },\n      cordon,\n      uncordon,\n      drain,\n      stopDrain,\n      { divider: true },\n      ...super._availableActions\n    ];\n  }\n\n  openSsh() {\n    // Pass in the name of the node, so we display that rather than the name of the provisioned machine\n    this.provisionedMachine.openSsh(this.nameDisplay);\n  }\n\n  downloadKeys() {\n    this.provisionedMachine.downloadKeys();\n  }\n\n  get showDetailStateBadge() {\n    return true;\n  }\n\n  get name() {\n    return this.metadata.name;\n  }\n\n  get addresses() {\n    return this.status?.addresses || [];\n  }\n\n  get internalIp() {\n    return findLast(this.addresses, (address) => address.type === 'InternalIP')?.address;\n  }\n\n  get externalIp() {\n    const annotationAddress = this.metadata.annotations[RKE.EXTERNAL_IP];\n    const statusAddress = findLast(this.addresses, (address) => address.type === 'ExternalIP')?.address;\n\n    return statusAddress || annotationAddress;\n  }\n\n  get labels() {\n    return this.metadata?.labels || {};\n  }\n\n  get customLabelCount() {\n    return this.customLabels.length;\n  }\n\n  get customLabels() {\n    const parsedLabels = [];\n\n    if (this.labels) {\n      for (const k in this.labels) {\n        const [prefix] = k.split('/');\n\n        if (!SYSTEM_LABELS.includes(prefix)) {\n          parsedLabels.push(`${ k }=${ this.labels[k] }`);\n        }\n      }\n    }\n\n    return parsedLabels;\n  }\n\n  get isWorker() {\n    return this.managementNode ? this.managementNode.isWorker : `${ this.labels[NODE_ROLES.WORKER] }` === 'true';\n  }\n\n  get isControlPlane() {\n    if (this.managementNode) {\n      return this.managementNode.isControlPlane;\n    } else if (\n      `${ this.labels[NODE_ROLES.CONTROL_PLANE] }` === 'true' ||\n      `${ this.labels[NODE_ROLES.CONTROL_PLANE_OLD] }` === 'true'\n    ) {\n      return true;\n    }\n\n    return false;\n  }\n\n  get isEtcd() {\n    return this.managementNode ? this.managementNode.isEtcd : `${ this.labels[NODE_ROLES.ETCD] }` === 'true';\n  }\n\n  get hasARole() {\n    const roleLabelKeys = Object.values(NODE_ROLES);\n\n    return Object.keys(this.labels)\n      .some((labelKey) => {\n        const hasRoleLabel = roleLabelKeys.includes(labelKey);\n        const isExpectedValue = `${ this.labels[labelKey] }` === 'true';\n\n        return hasRoleLabel && isExpectedValue;\n      });\n  }\n\n  get roles() {\n    const { isControlPlane, isWorker, isEtcd } = this;\n\n    return listNodeRoles(isControlPlane, isWorker, isEtcd, this.t('generic.all'));\n  }\n\n  get version() {\n    return this.status.nodeInfo.kubeletVersion;\n  }\n\n  get cpuUsage() {\n    /*\n      With EKS nodes that have been migrated from norman,\n      cpu/memory usage is by the annotation `management.cattle.io/pod-requests`\n    */\n    if ( this.isFromNorman && this.provider === 'eks' ) {\n      return parseSi(this.podRequests.cpu || '0');\n    }\n\n    return parseSi(this.$rootGetters['cluster/byId'](METRIC.NODE, this.id)?.usage?.cpu || '0');\n  }\n\n  get cpuCapacity() {\n    return parseSi(this.status.allocatable.cpu);\n  }\n\n  get cpuUsagePercentage() {\n    return ((this.cpuUsage * 100) / this.cpuCapacity).toString();\n  }\n\n  get ramUsage() {\n    if ( this.isFromNorman && this.provider === 'eks' ) {\n      return parseSi(this.podRequests.memory || '0');\n    }\n\n    return parseSi(this.$rootGetters['cluster/byId'](METRIC.NODE, this.id)?.usage?.memory || '0');\n  }\n\n  get ramCapacity() {\n    return parseSi(this.status.capacity.memory);\n  }\n\n  get ramUsagePercentage() {\n    return ((this.ramUsage * 100) / this.ramCapacity).toString();\n  }\n\n  get ramReserved() {\n    return parseSi(this.status?.allocatable?.memory);\n  }\n\n  get ramReservedPercentage() {\n    return ((this.ramUsage * 100) / this.ramReserved).toString();\n  }\n\n  get podUsage() {\n    return calculatePercentage(this.status.allocatable.pods, this.status.capacity.pods);\n  }\n\n  get podConsumedUsage() {\n    return ((this.podConsumed / this.podCapacity) * 100).toString();\n  }\n\n  get podCapacity() {\n    return Number.parseInt(this.status.capacity.pods);\n  }\n\n  get podConsumed() {\n    const runningPods = this.pods.filter((pod) => pod.state === 'running');\n\n    return runningPods.length || 0;\n  }\n\n  get podRequests() {\n    return JSON.parse(this.metadata.annotations['management.cattle.io/pod-requests'] || '{}');\n  }\n\n  get isPidPressureOk() {\n    return this.isCondition('PIDPressure', 'False');\n  }\n\n  get isDiskPressureOk() {\n    return this.isCondition('DiskPressure', 'False');\n  }\n\n  get isMemoryPressureOk() {\n    return this.isCondition('MemoryPressure', 'False');\n  }\n\n  get isKubeletOk() {\n    return this.isCondition('Ready');\n  }\n\n  get isCordoned() {\n    return !!this.spec.unschedulable;\n  }\n\n  get drainedState() {\n    const sNodeCondition = this.managementNode?.status.conditions.find((c) => c.type === 'Drained');\n\n    if (sNodeCondition) {\n      if (sNodeCondition.status === 'True') {\n        return 'drained';\n      }\n      if (sNodeCondition.transitioning) {\n        return 'draining';\n      }\n    }\n\n    return null;\n  }\n\n  get containerRuntimeVersion() {\n    return this.status.nodeInfo.containerRuntimeVersion.replace('docker://', '');\n  }\n\n  get containerRuntimeIcon() {\n    if ( this.status.nodeInfo.containerRuntimeVersion.includes('docker') ) {\n      return 'icon-docker';\n    }\n\n    return '';\n  }\n\n  async cordon(resources) {\n    const safeResources = Array.isArray(resources) ? resources : [this];\n\n    await Promise.all(safeResources.map((node) => {\n      return node.norman?.doAction('cordon');\n    }));\n  }\n\n  async uncordon(resources) {\n    const safeResources = Array.isArray(resources) ? resources : [this];\n\n    await Promise.all(safeResources.map((node) => {\n      return node.norman?.doAction('uncordon');\n    }));\n  }\n\n  /**\n   *Find the node's cluster id from it's url\n   */\n  get clusterId() {\n    const parts = this.links.self.split('/');\n\n    // Local cluster url links omit `/k8s/clusters/<cluster id>`\n    // `/v1/nodes` vs `k8s/clusters/c-m-274kcrc4/v1/nodes`\n    // Be safe when determining this, so work back through the url from a known point\n    if (parts.length > 6 && parts[parts.length - 6] === 'k8s' && parts[parts.length - 5] === 'clusters') {\n      return parts[parts.length - 4];\n    }\n\n    return LOCAL;\n  }\n\n  get normanNodeId() {\n    const managementNode = (this.$rootGetters['management/all'](MANAGEMENT.NODE) || []).find((n) => {\n      return n.id.startsWith(this.clusterId) && n.status.nodeName === this.name;\n    });\n\n    if (managementNode) {\n      return managementNode.id.replace('/', ':');\n    }\n\n    return null;\n  }\n\n  get norman() {\n    return this.$rootGetters['rancher/byId'](NORMAN.NODE, this.normanNodeId);\n  }\n\n  get managementNode() {\n    return this.$rootGetters['management/all'](MANAGEMENT.NODE).find((mNode) => {\n      return mNode.id.startsWith(this.clusterId) && mNode.status.nodeName === this.id;\n    });\n  }\n\n  drain(resources) {\n    this.$dispatch('promptModal', {\n      component:      'DrainNode',\n      componentProps: {\n        kubeNodes:    resources || [this],\n        normanNodeId: this.normanNodeId\n      }\n    });\n  }\n\n  async stopDrain(resources) {\n    const safeResources = Array.isArray(resources) ? resources : [this];\n\n    await Promise.all(safeResources.map((node) => {\n      return node.norman?.doAction('stopDrain');\n    }));\n  }\n\n  get state() {\n    if (this.drainedState) {\n      return this.drainedState;\n    }\n\n    if ( this.isCordoned ) {\n      return 'cordoned';\n    }\n\n    return this.metadata?.state?.name || 'unknown';\n  }\n\n  get details() {\n    const details = [\n      {\n        label:   this.t('node.detail.detailTop.version'),\n        content: this.version\n      },\n      {\n        label:   this.t('node.detail.detailTop.os'),\n        content: this.status.nodeInfo.osImage\n      },\n      {\n        label:         this.t('node.detail.detailTop.containerRuntime'),\n        formatter:     'IconText',\n        formatterOpts: { iconClass: this.containerRuntimeIcon },\n        content:       this.containerRuntimeVersion\n      }];\n\n    if (this.internalIp) {\n      details.unshift({\n        label:     this.t('node.detail.detailTop.internalIP'),\n        formatter: 'CopyToClipboard',\n        content:   this.internalIp\n      });\n    }\n\n    if (this.externalIp) {\n      details.unshift({\n        label:     this.t('node.detail.detailTop.externalIP'),\n        formatter: 'CopyToClipboard',\n        content:   this.externalIp\n      });\n    }\n\n    return details;\n  }\n\n  get pods() {\n    const allPods = this.$rootGetters['cluster/all'](POD);\n\n    return allPods.filter((pod) => pod.spec.nodeName === this.name);\n  }\n\n  get confirmRemove() {\n    return true;\n  }\n\n  get canClone() {\n    return false;\n  }\n\n  get canDelete() {\n    const cloudProviders = [\n      'aks', 'azureaks', 'azurekubernetesservice',\n      'eks', 'amazoneks',\n      'gke', 'googlegke'\n    ];\n\n    return !cloudProviders.includes(this.provider);\n  }\n\n  // You need to preload CAPI.MACHINEs to use this\n  get provisionedMachine() {\n    const namespace = this.metadata?.annotations?.[CAPI_ANNOTATIONS.CLUSTER_NAMESPACE];\n    const name = this.metadata?.annotations?.[CAPI_ANNOTATIONS.MACHINE_NAME];\n\n    if ( namespace && name ) {\n      return this.$rootGetters['management/byId'](CAPI.MACHINE, `${ namespace }/${ name }`);\n    }\n\n    return null;\n  }\n\n  get isFromNorman() {\n    return (this.$rootGetters['currentCluster'].metadata.labels || {})['cattle.io/creator'] === 'norman';\n  }\n\n  get provider() {\n    return this.$rootGetters['currentCluster'].provisioner.toLowerCase();\n  }\n}\n\nfunction calculatePercentage(allocatable, capacity) {\n  const c = Number.parseFloat(capacity);\n  const a = Number.parseFloat(allocatable);\n  const percent = (((c - a) / c) * 100);\n\n  return formatPercent(percent);\n}\n\nexport function listNodeRoles(isControlPlane, isWorker, isEtcd, allString) {\n  const res = [];\n\n  if (isControlPlane) {\n    res.push('Control Plane');\n  }\n\n  if (isWorker) {\n    res.push('Worker');\n  }\n\n  if (isEtcd) {\n    res.push('Etcd');\n  }\n\n  if (res.length === 3 || res.length === 0) {\n    return allString;\n  }\n\n  return res.join(', ');\n}\n"],"mappings":"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"}]}