{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/ResourceQuota/Namespace.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/ResourceQuota/Namespace.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCBSb3cgZnJvbSAnLi9OYW1lc3BhY2VSb3cnOwppbXBvcnQgeyBRVU9UQV9DT01QVVRFRCB9IGZyb20gJy4vc2hhcmVkJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFJvdzogUm93CiAgfSwKICBwcm9wczogewogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBwcm9qZWN0OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICB0eXBlczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm93czoge30KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBRVU9UQV9DT01QVVRFRCksIHt9LCB7CiAgICBwcm9qZWN0UmVzb3VyY2VRdW90YUxpbWl0czogZnVuY3Rpb24gcHJvamVjdFJlc291cmNlUXVvdGFMaW1pdHMoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9qZWN0OwogICAgICByZXR1cm4gKChfdGhpcyRwcm9qZWN0ID0gdGhpcy5wcm9qZWN0KSA9PT0gbnVsbCB8fCBfdGhpcyRwcm9qZWN0ID09PSB2b2lkIDAgfHwgKF90aGlzJHByb2plY3QgPSBfdGhpcyRwcm9qZWN0LnNwZWMpID09PSBudWxsIHx8IF90aGlzJHByb2plY3QgPT09IHZvaWQgMCB8fCAoX3RoaXMkcHJvamVjdCA9IF90aGlzJHByb2plY3QucmVzb3VyY2VRdW90YSkgPT09IG51bGwgfHwgX3RoaXMkcHJvamVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcHJvamVjdC5saW1pdCkgfHwge307CiAgICB9LAogICAgbmFtZXNwYWNlUmVzb3VyY2VRdW90YUxpbWl0czogZnVuY3Rpb24gbmFtZXNwYWNlUmVzb3VyY2VRdW90YUxpbWl0cygpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvamVjdC5uYW1lc3BhY2VzLm1hcChmdW5jdGlvbiAobmFtZXNwYWNlKSB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbmFtZXNwYWNlLnJlc291cmNlUXVvdGEubGltaXQpLCB7fSwgewogICAgICAgICAgaWQ6IG5hbWVzcGFjZS5pZAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBlZGl0YWJsZUxpbWl0czogZnVuY3Rpb24gZWRpdGFibGVMaW1pdHMoKSB7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnByb2plY3RSZXNvdXJjZVF1b3RhTGltaXRzKTsKICAgIH0sCiAgICBkZWZhdWx0UmVzb3VyY2VRdW90YUxpbWl0czogZnVuY3Rpb24gZGVmYXVsdFJlc291cmNlUXVvdGFMaW1pdHMoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2plY3Quc3BlYy5uYW1lc3BhY2VEZWZhdWx0UmVzb3VyY2VRdW90YS5saW1pdDsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICByZW1haW5pbmdUeXBlczogZnVuY3Rpb24gcmVtYWluaW5nVHlwZXMoY3VycmVudFR5cGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIHRoaXMubWFwcGVkVHlwZXMuZmlsdGVyKGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgICAgcmV0dXJuICFfdGhpcy50eXBlcy5pbmNsdWRlcyh0eXBlLnZhbHVlKSB8fCB0eXBlLnZhbHVlID09PSBjdXJyZW50VHlwZTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoa2V5LCB2YWx1ZSkgewogICAgICB2YXIgcmVzb3VyY2VRdW90YSA9IHsKICAgICAgICBsaW1pdDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnZhbHVlLnJlc291cmNlUXVvdGEubGltaXQpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHZhbHVlKSkKICAgICAgfTsKICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdyZXNvdXJjZVF1b3RhJywgcmVzb3VyY2VRdW90YSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Row","QUOTA_COMPUTED","components","props","mode","type","String","required","value","Object","default","_default","project","types","Array","data","rows","computed","_objectSpread","projectResourceQuotaLimits","_this$project","spec","resourceQuota","limit","namespaceResourceQuotaLimits","namespaces","map","namespace","id","editableLimits","keys","defaultResourceQuotaLimits","namespaceDefaultResourceQuota","methods","remainingTypes","currentType","_this","mappedTypes","filter","includes","update","key","_defineProperty","$set"],"sources":["node_modules/@rancher/shell/components/form/ResourceQuota/Namespace.vue"],"sourcesContent":["<script>\nimport Row from './NamespaceRow';\nimport { QUOTA_COMPUTED } from './shared';\n\nexport default {\n  components: { Row },\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    project: {\n      type:     Object,\n      required: true\n    },\n    types: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n\n  data() {\n    return { rows: {} };\n  },\n\n  computed: {\n    ...QUOTA_COMPUTED,\n    projectResourceQuotaLimits() {\n      return this.project?.spec?.resourceQuota?.limit || {};\n    },\n    namespaceResourceQuotaLimits() {\n      return this.project.namespaces.map((namespace) => ({\n        ...namespace.resourceQuota.limit,\n        id: namespace.id\n      }));\n    },\n    editableLimits() {\n      return Object.keys(this.projectResourceQuotaLimits);\n    },\n    defaultResourceQuotaLimits() {\n      return this.project.spec.namespaceDefaultResourceQuota.limit;\n    }\n  },\n\n  methods: {\n    remainingTypes(currentType) {\n      return this.mappedTypes\n        .filter((type) => !this.types.includes(type.value) || type.value === currentType);\n    },\n    update(key, value) {\n      const resourceQuota = {\n        limit: {\n          ...this.value.resourceQuota.limit,\n          [key]: value\n        }\n      };\n\n      this.$set(this.value, 'resourceQuota', resourceQuota);\n    }\n  },\n};\n</script>\n<template>\n  <div>\n    <div class=\"headers mb-10\">\n      <div class=\"mr-10\">\n        <label>{{ t('resourceQuota.headers.resourceType') }}</label>\n      </div>\n      <div class=\"mr-10\">\n        <label>{{ t('resourceQuota.headers.projectResourceAvailability') }}</label>\n      </div>\n      <div class=\"mr-20\">\n        <label>{{ t('resourceQuota.headers.limit') }}</label>\n      </div>\n    </div>\n    <Row\n      v-for=\"(limit, i) in editableLimits\"\n      :key=\"project.id + i\"\n      :value=\"value.resourceQuota\"\n      :namespace=\"value\"\n      :mode=\"mode\"\n      :types=\"mappedTypes\"\n      :type=\"limit\"\n      :project-resource-quota-limits=\"projectResourceQuotaLimits\"\n      :default-resource-quota-limits=\"defaultResourceQuotaLimits\"\n      :namespace-resource-quota-limits=\"namespaceResourceQuotaLimits\"\n      @input=\"update\"\n    />\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.headers {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n    border-bottom: 1px solid var(--border);\n    height: 30px;\n\n    div {\n        width: 100%;\n    }\n}\n\n.row:not(:last-of-type) {\n  margin-bottom: 10px;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;AACA,OAAAA,GAAA;AACA,SAAAC,cAAA;AAEA;EACAC,UAAA;IAAAF,GAAA,EAAAA;EAAA;EAEAG,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IACAC,KAAA;MACAH,IAAA,EAAAI,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IACAC,OAAA;MACAP,IAAA,EAAAI,MAAA;MACAF,QAAA;IACA;IACAM,KAAA;MACAR,IAAA,EAAAS,KAAA;MACAJ,OAAA,WAAAC,SAAA;QACA;MACA;IACA;EACA;EAEAI,IAAA,WAAAA,KAAA;IACA;MAAAC,IAAA;IAAA;EACA;EAEAC,QAAA,EAAAC,aAAA,CAAAA,aAAA,KACAjB,cAAA;IACAkB,0BAAA,WAAAA,2BAAA;MAAA,IAAAC,aAAA;MACA,SAAAA,aAAA,QAAAR,OAAA,cAAAQ,aAAA,gBAAAA,aAAA,GAAAA,aAAA,CAAAC,IAAA,cAAAD,aAAA,gBAAAA,aAAA,GAAAA,aAAA,CAAAE,aAAA,cAAAF,aAAA,uBAAAA,aAAA,CAAAG,KAAA;IACA;IACAC,4BAAA,WAAAA,6BAAA;MACA,YAAAZ,OAAA,CAAAa,UAAA,CAAAC,GAAA,WAAAC,SAAA;QAAA,OAAAT,aAAA,CAAAA,aAAA,KACAS,SAAA,CAAAL,aAAA,CAAAC,KAAA;UACAK,EAAA,EAAAD,SAAA,CAAAC;QAAA;MAAA,CACA;IACA;IACAC,cAAA,WAAAA,eAAA;MACA,OAAApB,MAAA,CAAAqB,IAAA,MAAAX,0BAAA;IACA;IACAY,0BAAA,WAAAA,2BAAA;MACA,YAAAnB,OAAA,CAAAS,IAAA,CAAAW,6BAAA,CAAAT,KAAA;IACA;EAAA,EACA;EAEAU,OAAA;IACAC,cAAA,WAAAA,eAAAC,WAAA;MAAA,IAAAC,KAAA;MACA,YAAAC,WAAA,CACAC,MAAA,WAAAjC,IAAA;QAAA,QAAA+B,KAAA,CAAAvB,KAAA,CAAA0B,QAAA,CAAAlC,IAAA,CAAAG,KAAA,KAAAH,IAAA,CAAAG,KAAA,KAAA2B,WAAA;MAAA;IACA;IACAK,MAAA,WAAAA,OAAAC,GAAA,EAAAjC,KAAA;MACA,IAAAc,aAAA;QACAC,KAAA,EAAAL,aAAA,CAAAA,aAAA,KACA,KAAAV,KAAA,CAAAc,aAAA,CAAAC,KAAA,OAAAmB,eAAA,KACAD,GAAA,EAAAjC,KAAA;MAEA;MAEA,KAAAmC,IAAA,MAAAnC,KAAA,mBAAAc,aAAA;IACA;EACA;AACA"}]}