{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/apps/charts/install.helpers.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/apps/charts/install.helpers.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKLyoqCiAqIFJldHVybiBsaXN0IG9mIHZhcmlhYmxlcyB0byBmaWx0ZXIgY2hhcnQgcXVlc3Rpb25zCiAqLwpleHBvcnQgdmFyIGlnbm9yZVZhcmlhYmxlcyA9IGZ1bmN0aW9uIGlnbm9yZVZhcmlhYmxlcyhjbHVzdGVyLCBkYXRhKSB7CiAgdmFyIHBzcENoYXJ0TWFwID0gewogICAgZXBpbmlvOiAnZ2xvYmFsLnJiYWMucHNwRW5hYmxlZCcsCiAgICBsb25naG9ybjogJ2VuYWJsZVBTUCcsCiAgICAncmFuY2hlci1hbGVydGluZy1kcml2ZXJzJzogJ2dsb2JhbC5jYXR0bGUucHNwLmVuYWJsZWQnLAogICAgbmV1dmVjdG9yOiAnZ2xvYmFsLmNhdHRsZS5wc3AuZW5hYmxlZCcsCiAgICAncHJvbWV0aGV1cy1mZWRlcmF0b3InOiAnZ2xvYmFsLnJiYWMucHNwRW5hYmxlZCcKICB9OwogIHZhciBwYXRoID0gcHNwQ2hhcnRNYXBbZGF0YS5jaGFydC5uYW1lXTsKICBpZiAocGF0aCkgewogICAgdmFyIGNsdXN0ZXJWZXJzaW9uID0gKGNsdXN0ZXIgPT09IG51bGwgfHwgY2x1c3RlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2x1c3Rlci5rdWJlcm5ldGVzVmVyc2lvbikgfHwgJyc7CiAgICB2YXIgdmVyc2lvbiA9IGNsdXN0ZXJWZXJzaW9uLm1hdGNoKC9cZCsvZyk7CiAgICB2YXIgaXNSZXF1aXJlZFZlcnNpb24gPSB2ZXJzaW9uICE9PSBudWxsICYmIHZlcnNpb24gIT09IHZvaWQgMCAmJiB2ZXJzaW9uLmxlbmd0aCA/ICt2ZXJzaW9uWzBdID09PSAxICYmICt2ZXJzaW9uWzFdIDwgMjUgOiBmYWxzZTsKCiAgICAvLyBQcm92aWRlIHBhdGggYXMgcXVlc3Rpb24gdmFyaWFibGUgdG8gYmUgaWdub3JlZAogICAgaWYgKCFpc1JlcXVpcmVkVmVyc2lvbikgewogICAgICByZXR1cm4gW3BhdGhdOwogICAgfQogIH0KICByZXR1cm4gW107Cn07"},{"version":3,"names":["ignoreVariables","cluster","data","pspChartMap","epinio","longhorn","neuvector","path","chart","name","clusterVersion","kubernetesVersion","version","match","isRequiredVersion","length"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/apps/charts/install.helpers.js"],"sourcesContent":["/**\n * Return list of variables to filter chart questions\n */\nexport const ignoreVariables = (cluster, data) => {\n  const pspChartMap = {\n    epinio:                     'global.rbac.pspEnabled',\n    longhorn:                   'enablePSP',\n    'rancher-alerting-drivers': 'global.cattle.psp.enabled',\n    neuvector:                  'global.cattle.psp.enabled',\n    'prometheus-federator':     'global.rbac.pspEnabled',\n  };\n  const path = pspChartMap[data.chart.name];\n\n  if (path) {\n    const clusterVersion = cluster?.kubernetesVersion || '';\n    const version = clusterVersion.match(/\\d+/g);\n    const isRequiredVersion = version?.length ? +version[0] === 1 && +version[1] < 25 : false;\n\n    // Provide path as question variable to be ignored\n    if (!isRequiredVersion) {\n      return [path];\n    }\n  }\n\n  return [];\n};\n"],"mappings":";;;AAAA;AACA;AACA;AACA,OAAO,IAAMA,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,OAAO,EAAEC,IAAI,EAAK;EAChD,IAAMC,WAAW,GAAG;IAClBC,MAAM,EAAsB,wBAAwB;IACpDC,QAAQ,EAAoB,WAAW;IACvC,0BAA0B,EAAE,2BAA2B;IACvDC,SAAS,EAAmB,2BAA2B;IACvD,sBAAsB,EAAM;EAC9B,CAAC;EACD,IAAMC,IAAI,GAAGJ,WAAW,CAACD,IAAI,CAACM,KAAK,CAACC,IAAI,CAAC;EAEzC,IAAIF,IAAI,EAAE;IACR,IAAMG,cAAc,GAAG,CAAAT,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEU,iBAAiB,KAAI,EAAE;IACvD,IAAMC,OAAO,GAAGF,cAAc,CAACG,KAAK,CAAC,MAAM,CAAC;IAC5C,IAAMC,iBAAiB,GAAGF,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEG,MAAM,GAAG,CAACH,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAACA,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,KAAK;;IAEzF;IACA,IAAI,CAACE,iBAAiB,EAAE;MACtB,OAAO,CAACP,IAAI,CAAC;IACf;EACF;EAEA,OAAO,EAAE;AACX,CAAC"}]}