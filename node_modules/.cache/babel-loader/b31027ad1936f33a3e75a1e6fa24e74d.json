{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/fleet.cattle.io.cluster.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/fleet.cattle.io.cluster.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgQ3J1UmVzb3VyY2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ3J1UmVzb3VyY2UnOwppbXBvcnQgTGFiZWxzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxzJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCBOYW1lTnNEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL05hbWVOc0Rlc2NyaXB0aW9uJzsKaW1wb3J0IHsgX1ZJRVcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IE5PUk1BTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBGTEVFVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDcnVGbGVldENsdXN0ZXInLAogIGNvbXBvbmVudHM6IHsKICAgIENydVJlc291cmNlOiBDcnVSZXNvdXJjZSwKICAgIExhYmVsczogTGFiZWxzLAogICAgTG9hZGluZzogTG9hZGluZywKICAgIE5hbWVOc0Rlc2NyaXB0aW9uOiBOYW1lTnNEZXNjcmlwdGlvbgogIH0sCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgbm9ybWFuLCBuYzsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JhbmNoZXIvZmluZCcsIHsKICAgICAgICAgICAgICB0eXBlOiBOT1JNQU4uQ0xVU1RFUiwKICAgICAgICAgICAgICBpZDogX3RoaXMudmFsdWUubWV0YWRhdGEubGFiZWxzW0ZMRUVULkNMVVNURVJfTkFNRV0KICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIG5vcm1hbiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJyYW5jaGVyL2Nsb25lIiwgewogICAgICAgICAgICAgIHJlc291cmNlOiBub3JtYW4KICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIG5jID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgaWYgKCFuYy5tZXRhZGF0YSkgewogICAgICAgICAgICAgIG5jLm1ldGFkYXRhID0ge307CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXMubm9ybWFuQ2x1c3RlciA9IG5jOwogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbm9ybWFuQ2x1c3RlcjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1ZpZXc6IGZ1bmN0aW9uIGlzVmlldygpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gX1ZJRVc7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKGJ1dHRvbkRvbmUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIudmFsdWUuc2F2ZSgpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczIubm9ybWFuQ2x1c3Rlci5zYXZlKCk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfdGhpczIuZG9uZSgpOwogICAgICAgICAgICAgIGJ1dHRvbkRvbmUodHJ1ZSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgYnV0dG9uRG9uZShmYWxzZSk7CiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["CreateEditView","CruResource","Labels","Loading","NameNsDescription","_VIEW","NORMAN","FLEET","name","components","mixins","props","mode","type","String","required","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","norman","nc","wrap","_callee$","_context","prev","next","$store","dispatch","CLUSTER","id","value","metadata","labels","CLUSTER_NAME","sent","resource","normanCluster","stop","data","computed","isView","methods","save","buttonDone","_this2","_callee2","_callee2$","_context2","done","t0"],"sources":["node_modules/@rancher/shell/edit/fleet.cattle.io.cluster.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource';\nimport Labels from '@shell/components/form/Labels';\nimport Loading from '@shell/components/Loading';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { _VIEW } from '@shell/config/query-params';\nimport { NORMAN } from '@shell/config/types';\nimport { FLEET } from '@shell/config/labels-annotations';\n\nexport default {\n  name: 'CruFleetCluster',\n\n  components: {\n    CruResource,\n    Labels,\n    Loading,\n    NameNsDescription,\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n  },\n\n  async fetch() {\n    const norman = await this.$store.dispatch('rancher/find', { type: NORMAN.CLUSTER, id: this.value.metadata.labels[FLEET.CLUSTER_NAME] });\n    const nc = await this.$store.dispatch(`rancher/clone`, { resource: norman });\n\n    if ( !nc.metadata ) {\n      nc.metadata = {};\n    }\n\n    this.normanCluster = nc;\n  },\n\n  data() {\n    return { normanCluster: null };\n  },\n\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    }\n  },\n\n  methods: {\n    async save(buttonDone) {\n      try {\n        await this.value.save();\n\n        await this.normanCluster.save();\n\n        this.done();\n        buttonDone(true);\n      } catch (e) {\n        buttonDone(false);\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <CruResource\n    v-else\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :validation-passed=\"true\"\n    :errors=\"errors\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      v-model=\"value\"\n      :mode=\"mode\"\n      :namespaced=\"isNamespaced\"\n    />\n\n    <hr class=\"mt-20 mb-20\">\n\n    <Labels\n      default-section-class=\"mt-20\"\n      :value=\"normanCluster\"\n      :mode=\"mode\"\n      :display-side-by-side=\"false\"\n      :label-title-tooltip=\"t('labels.labels.fleetClusterTooltip')\"\n    />\n  </CruResource>\n</template>\n"],"mappings":";;AACA,OAAAA,cAAA;AACA,OAAAC,WAAA;AACA,OAAAC,MAAA;AACA,OAAAC,OAAA;AACA,OAAAC,iBAAA;AACA,SAAAC,KAAA;AACA,SAAAC,MAAA;AACA,SAAAC,KAAA;AAEA;EACAC,IAAA;EAEAC,UAAA;IACAR,WAAA,EAAAA,WAAA;IACAC,MAAA,EAAAA,MAAA;IACAC,OAAA,EAAAA,OAAA;IACAC,iBAAA,EAAAA;EACA;EAEAM,MAAA,GAAAV,cAAA;EAEAW,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,MAAA,EAAAC,EAAA;MAAA,OAAAJ,kBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAX,KAAA,CAAAY,MAAA,CAAAC,QAAA;cAAAjB,IAAA,EAAAP,MAAA,CAAAyB,OAAA;cAAAC,EAAA,EAAAf,KAAA,CAAAgB,KAAA,CAAAC,QAAA,CAAAC,MAAA,CAAA5B,KAAA,CAAA6B,YAAA;YAAA;UAAA;YAAAd,MAAA,GAAAI,QAAA,CAAAW,IAAA;YAAAX,QAAA,CAAAE,IAAA;YAAA,OACAX,KAAA,CAAAY,MAAA,CAAAC,QAAA;cAAAQ,QAAA,EAAAhB;YAAA;UAAA;YAAAC,EAAA,GAAAG,QAAA,CAAAW,IAAA;YAEA,KAAAd,EAAA,CAAAW,QAAA;cACAX,EAAA,CAAAW,QAAA;YACA;YAEAjB,KAAA,CAAAsB,aAAA,GAAAhB,EAAA;UAAA;UAAA;YAAA,OAAAG,QAAA,CAAAc,IAAA;QAAA;MAAA,GAAAnB,OAAA;IAAA;EACA;EAEAoB,IAAA,WAAAA,KAAA;IACA;MAAAF,aAAA;IAAA;EACA;EAEAG,QAAA;IACAC,MAAA,WAAAA,OAAA;MACA,YAAA/B,IAAA,KAAAP,KAAA;IACA;EACA;EAEAuC,OAAA;IACAC,IAAA,WAAAA,KAAAC,UAAA;MAAA,IAAAC,MAAA;MAAA,OAAA7B,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAA4B,SAAA;QAAA,OAAA7B,kBAAA,CAAAK,IAAA,UAAAyB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAvB,IAAA,GAAAuB,SAAA,CAAAtB,IAAA;YAAA;cAAAsB,SAAA,CAAAvB,IAAA;cAAAuB,SAAA,CAAAtB,IAAA;cAAA,OAEAmB,MAAA,CAAAd,KAAA,CAAAY,IAAA;YAAA;cAAAK,SAAA,CAAAtB,IAAA;cAAA,OAEAmB,MAAA,CAAAR,aAAA,CAAAM,IAAA;YAAA;cAEAE,MAAA,CAAAI,IAAA;cACAL,UAAA;cAAAI,SAAA,CAAAtB,IAAA;cAAA;YAAA;cAAAsB,SAAA,CAAAvB,IAAA;cAAAuB,SAAA,CAAAE,EAAA,GAAAF,SAAA;cAEAJ,UAAA;YAAA;YAAA;cAAA,OAAAI,SAAA,CAAAV,IAAA;UAAA;QAAA,GAAAQ,QAAA;MAAA;IAEA;EACA;AACA"}]}