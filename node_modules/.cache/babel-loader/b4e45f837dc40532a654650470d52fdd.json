{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/auth/roles/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/auth/roles/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuZW5kcy13aXRoLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgVGFiIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9UYWInOwppbXBvcnQgVGFiYmVkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZCc7CmltcG9ydCB7IE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IFJlc291cmNlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VUYWJsZSc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgeyBTVUJUWVBFX01BUFBJTkcsIENSRUFURV9WRVJCUyB9IGZyb20gJ0BzaGVsbC9tb2RlbHMvbWFuYWdlbWVudC5jYXR0bGUuaW8ucm9sZXRlbXBsYXRlJzsKaW1wb3J0IHsgTkFNRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJvZHVjdC9hdXRoJzsKaW1wb3J0IHsgQkxBTktfQ0xVU1RFUiB9IGZyb20gJ0BzaGVsbC9zdG9yZS9zdG9yZS10eXBlcy5qcyc7CnZhciBHTE9CQUwgPSBTVUJUWVBFX01BUFBJTkcuR0xPQkFMLmtleTsKdmFyIENMVVNURVIgPSBTVUJUWVBFX01BUFBJTkcuQ0xVU1RFUi5rZXk7CnZhciBQUk9KRUNUID0gU1VCVFlQRV9NQVBQSU5HLk5BTUVTUEFDRS5rZXk7CnZhciBjcmVhdGVHbG9iYWxSb2xlID0gewogIG5hbWU6ICJjLWNsdXN0ZXItIi5jb25jYXQoTkFNRSwgIi1yb2xlcy1yZXNvdXJjZS1jcmVhdGUiKSwKICBwYXJhbXM6IHsKICAgIGNsdXN0ZXI6IEJMQU5LX0NMVVNURVIsCiAgICByZXNvdXJjZTogTUFOQUdFTUVOVC5HTE9CQUxfUk9MRQogIH0KfTsKdmFyIGNyZWF0ZVJvbGVUZW1wbGF0ZSA9IHsKICBuYW1lOiAiYy1jbHVzdGVyLSIuY29uY2F0KE5BTUUsICItcm9sZXMtcmVzb3VyY2UtY3JlYXRlIiksCiAgcGFyYW1zOiB7CiAgICBjbHVzdGVyOiBCTEFOS19DTFVTVEVSLAogICAgcmVzb3VyY2U6IE1BTkFHRU1FTlQuUk9MRV9URU1QTEFURQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSb2xlcycsCiAgY29tcG9uZW50czogewogICAgVGFiOiBUYWIsCiAgICBUYWJiZWQ6IFRhYmJlZCwKICAgIFJlc291cmNlVGFibGU6IFJlc291cmNlVGFibGUsCiAgICBMb2FkaW5nOiBMb2FkaW5nCiAgfSwKICBhc3luY0RhdGE6IGZ1bmN0aW9uIGFzeW5jRGF0YShfcmVmKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgc3RvcmUsIGdsb2JhbFJvbGVTY2hlbWEsIHJvbGVUZW1wbGF0ZXNTY2hlbWE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHN0b3JlID0gX3JlZi5zdG9yZTsKICAgICAgICAgICAgZ2xvYmFsUm9sZVNjaGVtYSA9IHN0b3JlLmdldHRlcnNbIm1hbmFnZW1lbnQvc2NoZW1hRm9yIl0oTUFOQUdFTUVOVC5HTE9CQUxfUk9MRSk7CiAgICAgICAgICAgIHJvbGVUZW1wbGF0ZXNTY2hlbWEgPSBzdG9yZS5nZXR0ZXJzWyJtYW5hZ2VtZW50L3NjaGVtYUZvciJdKE1BTkFHRU1FTlQuUk9MRV9URU1QTEFURSk7CiAgICAgICAgICAgIGlmICghZ2xvYmFsUm9sZVNjaGVtYSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goIm1hbmFnZW1lbnQvZmluZEFsbCIsIHsKICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULkdMT0JBTF9ST0xFCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gW107CiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0LnQwOwogICAgICAgICAgICBpZiAoIXJvbGVUZW1wbGF0ZXNTY2hlbWEpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goIm1hbmFnZW1lbnQvZmluZEFsbCIsIHsKICAgICAgICAgICAgICB0eXBlOiBNQU5BR0VNRU5ULlJPTEVfVEVNUExBVEUKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBfY29udGV4dC50MiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICBfY29udGV4dC50MiA9IFtdOwogICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgX2NvbnRleHQudDMgPSBfY29udGV4dC50MjsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIGdsb2JhbFJvbGVzOiBfY29udGV4dC50MSwKICAgICAgICAgICAgICByb2xlVGVtcGxhdGVzOiBfY29udGV4dC50MwogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgZ2xvYmFsUm9sZVNjaGVtYSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbIm1hbmFnZW1lbnQvc2NoZW1hRm9yIl0oTUFOQUdFTUVOVC5HTE9CQUxfUk9MRSk7CiAgICB2YXIgcm9sZVRlbXBsYXRlc1NjaGVtYSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbIm1hbmFnZW1lbnQvc2NoZW1hRm9yIl0oTUFOQUdFTUVOVC5ST0xFX1RFTVBMQVRFKTsKICAgIHZhciByb2xlVGVtcGxhdGVIZWFkZXJzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaGVhZGVyc0ZvciddKHJvbGVUZW1wbGF0ZXNTY2hlbWEpOwogICAgdmFyIGRlZmF1bHRIZWFkZXJJbmRleCA9IHJvbGVUZW1wbGF0ZUhlYWRlcnMuZmluZEluZGV4KGZ1bmN0aW9uIChoZWFkZXIpIHsKICAgICAgcmV0dXJuIGhlYWRlci5uYW1lID09PSAnZGVmYXVsdCc7CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHRhYnM6IF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KHt9LCBHTE9CQUwsIHsKICAgICAgICBjYW5GZXRjaDogZ2xvYmFsUm9sZVNjaGVtYSA9PT0gbnVsbCB8fCBnbG9iYWxSb2xlU2NoZW1hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBnbG9iYWxSb2xlU2NoZW1hLmNvbGxlY3Rpb25NZXRob2RzLmZpbmQoZnVuY3Rpb24gKHZlcmIpIHsKICAgICAgICAgIHJldHVybiB2ZXJiID09PSAnR0VUJzsKICAgICAgICB9KSwKICAgICAgICBjYW5DcmVhdGU6IGdsb2JhbFJvbGVTY2hlbWEgPT09IG51bGwgfHwgZ2xvYmFsUm9sZVNjaGVtYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ2xvYmFsUm9sZVNjaGVtYS5yZXNvdXJjZU1ldGhvZHMuZmluZChmdW5jdGlvbiAodmVyYikgewogICAgICAgICAgcmV0dXJuIENSRUFURV9WRVJCUy5oYXModmVyYik7CiAgICAgICAgfSksCiAgICAgICAgd2VpZ2h0OiAzLAogICAgICAgIGxhYmVsS2V5OiBTVUJUWVBFX01BUFBJTkcuR0xPQkFMLmxhYmVsS2V5LAogICAgICAgIHNjaGVtYTogZ2xvYmFsUm9sZVNjaGVtYSwKICAgICAgICBjcmVhdGVMb2NhdGlvbjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjcmVhdGVHbG9iYWxSb2xlKSwge30sIHsKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIHJvbGVDb250ZXh0OiBHTE9CQUwKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KSwgQ0xVU1RFUiwgewogICAgICAgIGNhbkZldGNoOiByb2xlVGVtcGxhdGVzU2NoZW1hID09PSBudWxsIHx8IHJvbGVUZW1wbGF0ZXNTY2hlbWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvbGVUZW1wbGF0ZXNTY2hlbWEuY29sbGVjdGlvbk1ldGhvZHMuZmluZChmdW5jdGlvbiAodmVyYikgewogICAgICAgICAgcmV0dXJuIHZlcmIgPT09ICdHRVQnOwogICAgICAgIH0pLAogICAgICAgIGNhbkNyZWF0ZTogcm9sZVRlbXBsYXRlc1NjaGVtYSA9PT0gbnVsbCB8fCByb2xlVGVtcGxhdGVzU2NoZW1hID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb2xlVGVtcGxhdGVzU2NoZW1hLnJlc291cmNlTWV0aG9kcy5maW5kKGZ1bmN0aW9uICh2ZXJiKSB7CiAgICAgICAgICByZXR1cm4gQ1JFQVRFX1ZFUkJTLmhhcyh2ZXJiKTsKICAgICAgICB9KSwKICAgICAgICBsYWJlbEtleTogU1VCVFlQRV9NQVBQSU5HLkNMVVNURVIubGFiZWxLZXksCiAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgIHNjaGVtYTogcm9sZVRlbXBsYXRlc1NjaGVtYSwKICAgICAgICBoZWFkZXJzOiB0aGlzLmFwcGx5RGVmYXVsdEhlYWRlckxhYmVsKHJvbGVUZW1wbGF0ZUhlYWRlcnMsIGRlZmF1bHRIZWFkZXJJbmRleCwgJ3RhYmxlSGVhZGVycy5hdXRoUm9sZXMuY2x1c3RlckRlZmF1bHQnKSwKICAgICAgICBjcmVhdGVMb2NhdGlvbjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjcmVhdGVSb2xlVGVtcGxhdGUpLCB7fSwgewogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgcm9sZUNvbnRleHQ6IENMVVNURVIKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KSwgUFJPSkVDVCwgewogICAgICAgIGNhbkZldGNoOiByb2xlVGVtcGxhdGVzU2NoZW1hID09PSBudWxsIHx8IHJvbGVUZW1wbGF0ZXNTY2hlbWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvbGVUZW1wbGF0ZXNTY2hlbWEuY29sbGVjdGlvbk1ldGhvZHMuZmluZChmdW5jdGlvbiAodmVyYikgewogICAgICAgICAgcmV0dXJuIHZlcmIgPT09ICdHRVQnOwogICAgICAgIH0pLAogICAgICAgIGNhbkNyZWF0ZTogcm9sZVRlbXBsYXRlc1NjaGVtYSA9PT0gbnVsbCB8fCByb2xlVGVtcGxhdGVzU2NoZW1hID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb2xlVGVtcGxhdGVzU2NoZW1hLnJlc291cmNlTWV0aG9kcy5maW5kKGZ1bmN0aW9uICh2ZXJiKSB7CiAgICAgICAgICByZXR1cm4gQ1JFQVRFX1ZFUkJTLmhhcyh2ZXJiKTsKICAgICAgICB9KSwKICAgICAgICBsYWJlbEtleTogU1VCVFlQRV9NQVBQSU5HLk5BTUVTUEFDRS5sYWJlbEtleSwKICAgICAgICB3ZWlnaHQ6IDEsCiAgICAgICAgc2NoZW1hOiByb2xlVGVtcGxhdGVzU2NoZW1hLAogICAgICAgIGhlYWRlcnM6IHRoaXMuYXBwbHlEZWZhdWx0SGVhZGVyTGFiZWwocm9sZVRlbXBsYXRlSGVhZGVycywgZGVmYXVsdEhlYWRlckluZGV4LCAndGFibGVIZWFkZXJzLmF1dGhSb2xlcy5wcm9qZWN0RGVmYXVsdCcpLAogICAgICAgIGNyZWF0ZUxvY2F0aW9uOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNyZWF0ZVJvbGVUZW1wbGF0ZSksIHt9LCB7CiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICByb2xlQ29udGV4dDogUFJPSkVDVAogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pLAogICAgICBHTE9CQUw6IEdMT0JBTCwKICAgICAgQ0xVU1RFUjogQ0xVU1RFUiwKICAgICAgUFJPSkVDVDogUFJPSkVDVCwKICAgICAgZ2xvYmFsUm9sZXM6IG51bGwsCiAgICAgIHJvbGVUZW1wbGF0ZXM6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZ2xvYmFsUmVzb3VyY2VzOiBmdW5jdGlvbiBnbG9iYWxSZXNvdXJjZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmdsb2JhbFJvbGVzOwogICAgfSwKICAgIGNsdXN0ZXJSZXNvdXJjZXM6IGZ1bmN0aW9uIGNsdXN0ZXJSZXNvdXJjZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLnJvbGVUZW1wbGF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIHIuY29udGV4dCA9PT0gU1VCVFlQRV9NQVBQSU5HLkNMVVNURVIuY29udGV4dDsKICAgICAgfSk7CiAgICB9LAogICAgbmFtZXNwYWNlUmVzb3VyY2VzOiBmdW5jdGlvbiBuYW1lc3BhY2VSZXNvdXJjZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLnJvbGVUZW1wbGF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIHIuY29udGV4dCA9PT0gU1VCVFlQRV9NQVBQSU5HLk5BTUVTUEFDRS5jb250ZXh0OwogICAgICB9KTsKICAgIH0sCiAgICB0eXBlOiBmdW5jdGlvbiB0eXBlKCkgewogICAgICBpZiAodGhpcy4kcm91dGUuaGFzaC5lbmRzV2l0aChQUk9KRUNUKSkgewogICAgICAgIHJldHVybiBQUk9KRUNUOwogICAgICB9CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5oYXNoLmVuZHNXaXRoKENMVVNURVIpKSB7CiAgICAgICAgcmV0dXJuIENMVVNURVI7CiAgICAgIH0KICAgICAgcmV0dXJuIEdMT0JBTDsKICAgIH0sCiAgICBjYW5DcmVhdGU6IGZ1bmN0aW9uIGNhbkNyZWF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudGFic1t0aGlzLnR5cGVdLmNhbkNyZWF0ZTsKICAgIH0sCiAgICBjcmVhdGVMYWJlbDogZnVuY3Rpb24gY3JlYXRlTGFiZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLnQoInJiYWMucm9sZXRlbXBsYXRlLnN1YnR5cGVzLiIuY29uY2F0KHRoaXMudHlwZSwgIi5jcmVhdGVCdXR0b24iKSk7CiAgICB9LAogICAgY3JlYXRlTG9jYXRpb246IGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy50YWJzW3RoaXMudHlwZV0uY3JlYXRlTG9jYXRpb247CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhcHBseURlZmF1bHRIZWFkZXJMYWJlbDogZnVuY3Rpb24gYXBwbHlEZWZhdWx0SGVhZGVyTGFiZWwocm9sZVRlbXBsYXRlSGVhZGVycywgZGVmYXVsdEhlYWRlckluZGV4LCBsYWJlbEtleSkgewogICAgICB2YXIgaGVhZGVycyA9IF90b0NvbnN1bWFibGVBcnJheShyb2xlVGVtcGxhdGVIZWFkZXJzKTsKICAgICAgaGVhZGVyc1tkZWZhdWx0SGVhZGVySW5kZXhdID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByb2xlVGVtcGxhdGVIZWFkZXJzW2RlZmF1bHRIZWFkZXJJbmRleF0pLCB7fSwgewogICAgICAgIGxhYmVsS2V5OiBsYWJlbEtleQogICAgICB9KTsKICAgICAgcmV0dXJuIGhlYWRlcnM7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Tab","Tabbed","MANAGEMENT","ResourceTable","Loading","SUBTYPE_MAPPING","CREATE_VERBS","NAME","BLANK_CLUSTER","GLOBAL","key","CLUSTER","PROJECT","NAMESPACE","createGlobalRole","name","concat","params","cluster","resource","GLOBAL_ROLE","createRoleTemplate","ROLE_TEMPLATE","components","asyncData","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","store","globalRoleSchema","roleTemplatesSchema","wrap","_callee$","_context","prev","next","getters","dispatch","type","t0","sent","t1","t2","t3","abrupt","globalRoles","roleTemplates","stop","data","$store","roleTemplateHeaders","defaultHeaderIndex","findIndex","header","tabs","_defineProperty","canFetch","collectionMethods","find","verb","canCreate","resourceMethods","has","weight","labelKey","schema","createLocation","_objectSpread","query","roleContext","headers","applyDefaultHeaderLabel","computed","globalResources","clusterResources","filter","r","context","namespaceResources","$route","hash","endsWith","createLabel","t","methods","_toConsumableArray"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/auth/roles/index.vue"],"sourcesContent":["<script>\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Tabbed from '@shell/components/Tabbed';\nimport { MANAGEMENT } from '@shell/config/types';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Loading from '@shell/components/Loading';\nimport { SUBTYPE_MAPPING, CREATE_VERBS } from '@shell/models/management.cattle.io.roletemplate';\nimport { NAME } from '@shell/config/product/auth';\nimport { BLANK_CLUSTER } from '@shell/store/store-types.js';\n\nconst GLOBAL = SUBTYPE_MAPPING.GLOBAL.key;\nconst CLUSTER = SUBTYPE_MAPPING.CLUSTER.key;\nconst PROJECT = SUBTYPE_MAPPING.NAMESPACE.key;\n\nconst createGlobalRole = {\n  name:   `c-cluster-${ NAME }-roles-resource-create`,\n  params: {\n    cluster:  BLANK_CLUSTER,\n    resource: MANAGEMENT.GLOBAL_ROLE,\n  }\n};\nconst createRoleTemplate = {\n  name:   `c-cluster-${ NAME }-roles-resource-create`,\n  params: {\n    cluster:  BLANK_CLUSTER,\n    resource: MANAGEMENT.ROLE_TEMPLATE,\n  }\n};\n\nexport default {\n  name: 'Roles',\n\n  components: {\n    Tab, Tabbed, ResourceTable, Loading\n  },\n\n  async asyncData({ store }) {\n    const globalRoleSchema = store.getters[`management/schemaFor`](MANAGEMENT.GLOBAL_ROLE);\n    const roleTemplatesSchema = store.getters[`management/schemaFor`](MANAGEMENT.ROLE_TEMPLATE);\n\n    return {\n      globalRoles:   globalRoleSchema ? await store.dispatch(`management/findAll`, { type: MANAGEMENT.GLOBAL_ROLE }) : [],\n      roleTemplates: roleTemplatesSchema ? await store.dispatch(`management/findAll`, { type: MANAGEMENT.ROLE_TEMPLATE }) : [],\n    };\n  },\n\n  data() {\n    const globalRoleSchema = this.$store.getters[`management/schemaFor`](MANAGEMENT.GLOBAL_ROLE);\n    const roleTemplatesSchema = this.$store.getters[`management/schemaFor`](MANAGEMENT.ROLE_TEMPLATE);\n\n    const roleTemplateHeaders = this.$store.getters['type-map/headersFor'](roleTemplatesSchema);\n    const defaultHeaderIndex = roleTemplateHeaders.findIndex((header) => header.name === 'default');\n\n    return {\n      tabs: {\n        [GLOBAL]: {\n          canFetch:       globalRoleSchema?.collectionMethods.find((verb) => verb === 'GET'),\n          canCreate:      globalRoleSchema?.resourceMethods.find((verb) => CREATE_VERBS.has(verb)),\n          weight:         3,\n          labelKey:       SUBTYPE_MAPPING.GLOBAL.labelKey,\n          schema:         globalRoleSchema,\n          createLocation: {\n            ...createGlobalRole,\n            query: { roleContext: GLOBAL }\n          },\n        },\n        [CLUSTER]: {\n          canFetch:       roleTemplatesSchema?.collectionMethods.find((verb) => verb === 'GET'),\n          canCreate:      roleTemplatesSchema?.resourceMethods.find((verb) => CREATE_VERBS.has(verb)),\n          labelKey:       SUBTYPE_MAPPING.CLUSTER.labelKey,\n          weight:         2,\n          schema:         roleTemplatesSchema,\n          headers:        this.applyDefaultHeaderLabel(roleTemplateHeaders, defaultHeaderIndex, 'tableHeaders.authRoles.clusterDefault'),\n          createLocation: {\n            ...createRoleTemplate,\n            query: { roleContext: CLUSTER }\n          },\n        },\n        [PROJECT]: {\n          canFetch:       roleTemplatesSchema?.collectionMethods.find((verb) => verb === 'GET'),\n          canCreate:      roleTemplatesSchema?.resourceMethods.find((verb) => CREATE_VERBS.has(verb)),\n          labelKey:       SUBTYPE_MAPPING.NAMESPACE.labelKey,\n          weight:         1,\n          schema:         roleTemplatesSchema,\n          headers:        this.applyDefaultHeaderLabel(roleTemplateHeaders, defaultHeaderIndex, 'tableHeaders.authRoles.projectDefault'),\n          createLocation: {\n            ...createRoleTemplate,\n            query: { roleContext: PROJECT }\n          },\n        },\n      },\n\n      GLOBAL,\n      CLUSTER,\n      PROJECT,\n\n      globalRoles:   null,\n      roleTemplates: null,\n    };\n  },\n\n  computed: {\n    globalResources() {\n      return this.globalRoles;\n    },\n\n    clusterResources() {\n      return this.roleTemplates.filter((r) => r.context === SUBTYPE_MAPPING.CLUSTER.context);\n    },\n\n    namespaceResources() {\n      return this.roleTemplates.filter((r) => r.context === SUBTYPE_MAPPING.NAMESPACE.context);\n    },\n\n    type() {\n      if (this.$route.hash.endsWith(PROJECT)) {\n        return PROJECT;\n      }\n      if (this.$route.hash.endsWith(CLUSTER)) {\n        return CLUSTER;\n      }\n\n      return GLOBAL;\n    },\n\n    canCreate() {\n      return this.tabs[this.type].canCreate;\n    },\n\n    createLabel() {\n      return this.t(`rbac.roletemplate.subtypes.${ this.type }.createButton`);\n    },\n\n    createLocation() {\n      return this.tabs[this.type].createLocation;\n    }\n\n  },\n\n  methods: {\n    applyDefaultHeaderLabel(roleTemplateHeaders, defaultHeaderIndex, labelKey) {\n      const headers = [...roleTemplateHeaders];\n\n      headers[defaultHeaderIndex] = {\n        ...roleTemplateHeaders[defaultHeaderIndex],\n        labelKey,\n      };\n\n      return headers;\n    }\n  }\n\n};\n</script>\n\n<template>\n  <Loading v-if=\"!globalRoles || !roleTemplates\" />\n  <div v-else>\n    <header>\n      <div class=\"title\">\n        <h1 class=\"m-0\">\n          {{ t('auth.roleTemplate') }}\n        </h1>\n      </div>\n      <div class=\"actions-container\">\n        <div class=\"actions\">\n          <n-link\n            v-if=\"canCreate\"\n            :to=\"createLocation\"\n            class=\"btn role-primary\"\n          >\n            {{ createLabel }}\n          </n-link>\n        </div>\n      </div>\n    </header>\n    <Tabbed>\n      <Tab\n        v-if=\"tabs[GLOBAL].canFetch\"\n        :name=\"GLOBAL\"\n        :weight=\"tabs[GLOBAL].weight\"\n        :label-key=\"tabs[GLOBAL].labelKey\"\n      >\n        <ResourceTable\n          :schema=\"tabs[GLOBAL].schema\"\n          :rows=\"globalResources\"\n        />\n      </Tab>\n\n      <Tab\n        v-if=\"tabs[CLUSTER].canFetch\"\n        :name=\"CLUSTER\"\n        :weight=\"tabs[CLUSTER].weight\"\n        :label-key=\"tabs[CLUSTER].labelKey\"\n      >\n        <ResourceTable\n          :schema=\"tabs[CLUSTER].schema\"\n          :headers=\"tabs[CLUSTER].headers\"\n          :rows=\"clusterResources\"\n        />\n      </Tab>\n\n      <Tab\n        v-if=\"tabs[PROJECT].canFetch\"\n        :name=\"PROJECT\"\n        :weight=\"tabs[PROJECT].weight\"\n        :label-key=\"tabs[PROJECT].labelKey\"\n      >\n        <ResourceTable\n          :schema=\"tabs[PROJECT].schema\"\n          :headers=\"tabs[PROJECT].headers\"\n          :rows=\"namespaceResources\"\n        />\n      </Tab>\n    </Tabbed>\n  </div>\n</template>\n"],"mappings":";;;;;;;;;;;;;;;;;AACA,OAAAA,GAAA;AACA,OAAAC,MAAA;AACA,SAAAC,UAAA;AACA,OAAAC,aAAA;AACA,OAAAC,OAAA;AACA,SAAAC,eAAA,EAAAC,YAAA;AACA,SAAAC,IAAA;AACA,SAAAC,aAAA;AAEA,IAAAC,MAAA,GAAAJ,eAAA,CAAAI,MAAA,CAAAC,GAAA;AACA,IAAAC,OAAA,GAAAN,eAAA,CAAAM,OAAA,CAAAD,GAAA;AACA,IAAAE,OAAA,GAAAP,eAAA,CAAAQ,SAAA,CAAAH,GAAA;AAEA,IAAAI,gBAAA;EACAC,IAAA,eAAAC,MAAA,CAAAT,IAAA;EACAU,MAAA;IACAC,OAAA,EAAAV,aAAA;IACAW,QAAA,EAAAjB,UAAA,CAAAkB;EACA;AACA;AACA,IAAAC,kBAAA;EACAN,IAAA,eAAAC,MAAA,CAAAT,IAAA;EACAU,MAAA;IACAC,OAAA,EAAAV,aAAA;IACAW,QAAA,EAAAjB,UAAA,CAAAoB;EACA;AACA;AAEA;EACAP,IAAA;EAEAQ,UAAA;IACAvB,GAAA,EAAAA,GAAA;IAAAC,MAAA,EAAAA,MAAA;IAAAE,aAAA,EAAAA,aAAA;IAAAC,OAAA,EAAAA;EACA;EAEAoB,SAAA,WAAAA,UAAAC,IAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,KAAA,EAAAC,gBAAA,EAAAC,mBAAA;MAAA,OAAAL,kBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAP,KAAA,GAAAL,IAAA,CAAAK,KAAA;YACAC,gBAAA,GAAAD,KAAA,CAAAQ,OAAA,yBAAApC,UAAA,CAAAkB,WAAA;YACAY,mBAAA,GAAAF,KAAA,CAAAQ,OAAA,yBAAApC,UAAA,CAAAoB,aAAA;YAAA,KAGAS,gBAAA;cAAAI,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAAAP,KAAA,CAAAS,QAAA;cAAAC,IAAA,EAAAtC,UAAA,CAAAkB;YAAA;UAAA;YAAAe,QAAA,CAAAM,EAAA,GAAAN,QAAA,CAAAO,IAAA;YAAAP,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAM,EAAA;UAAA;YAAAN,QAAA,CAAAQ,EAAA,GAAAR,QAAA,CAAAM,EAAA;YAAA,KACAT,mBAAA;cAAAG,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAAAP,KAAA,CAAAS,QAAA;cAAAC,IAAA,EAAAtC,UAAA,CAAAoB;YAAA;UAAA;YAAAa,QAAA,CAAAS,EAAA,GAAAT,QAAA,CAAAO,IAAA;YAAAP,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAS,EAAA;UAAA;YAAAT,QAAA,CAAAU,EAAA,GAAAV,QAAA,CAAAS,EAAA;YAAA,OAAAT,QAAA,CAAAW,MAAA;cADAC,WAAA,EAAAZ,QAAA,CAAAQ,EAAA;cACAK,aAAA,EAAAb,QAAA,CAAAU;YAAA;UAAA;UAAA;YAAA,OAAAV,QAAA,CAAAc,IAAA;QAAA;MAAA,GAAApB,OAAA;IAAA;EAEA;EAEAqB,IAAA,WAAAA,KAAA;IACA,IAAAnB,gBAAA,QAAAoB,MAAA,CAAAb,OAAA,yBAAApC,UAAA,CAAAkB,WAAA;IACA,IAAAY,mBAAA,QAAAmB,MAAA,CAAAb,OAAA,yBAAApC,UAAA,CAAAoB,aAAA;IAEA,IAAA8B,mBAAA,QAAAD,MAAA,CAAAb,OAAA,wBAAAN,mBAAA;IACA,IAAAqB,kBAAA,GAAAD,mBAAA,CAAAE,SAAA,WAAAC,MAAA;MAAA,OAAAA,MAAA,CAAAxC,IAAA;IAAA;IAEA;MACAyC,IAAA,EAAAC,eAAA,CAAAA,eAAA,CAAAA,eAAA,KACAhD,MAAA;QACAiD,QAAA,EAAA3B,gBAAA,aAAAA,gBAAA,uBAAAA,gBAAA,CAAA4B,iBAAA,CAAAC,IAAA,WAAAC,IAAA;UAAA,OAAAA,IAAA;QAAA;QACAC,SAAA,EAAA/B,gBAAA,aAAAA,gBAAA,uBAAAA,gBAAA,CAAAgC,eAAA,CAAAH,IAAA,WAAAC,IAAA;UAAA,OAAAvD,YAAA,CAAA0D,GAAA,CAAAH,IAAA;QAAA;QACAI,MAAA;QACAC,QAAA,EAAA7D,eAAA,CAAAI,MAAA,CAAAyD,QAAA;QACAC,MAAA,EAAApC,gBAAA;QACAqC,cAAA,EAAAC,aAAA,CAAAA,aAAA,KACAvD,gBAAA;UACAwD,KAAA;YAAAC,WAAA,EAAA9D;UAAA;QAAA;MAEA,IACAE,OAAA;QACA+C,QAAA,EAAA1B,mBAAA,aAAAA,mBAAA,uBAAAA,mBAAA,CAAA2B,iBAAA,CAAAC,IAAA,WAAAC,IAAA;UAAA,OAAAA,IAAA;QAAA;QACAC,SAAA,EAAA9B,mBAAA,aAAAA,mBAAA,uBAAAA,mBAAA,CAAA+B,eAAA,CAAAH,IAAA,WAAAC,IAAA;UAAA,OAAAvD,YAAA,CAAA0D,GAAA,CAAAH,IAAA;QAAA;QACAK,QAAA,EAAA7D,eAAA,CAAAM,OAAA,CAAAuD,QAAA;QACAD,MAAA;QACAE,MAAA,EAAAnC,mBAAA;QACAwC,OAAA,OAAAC,uBAAA,CAAArB,mBAAA,EAAAC,kBAAA;QACAe,cAAA,EAAAC,aAAA,CAAAA,aAAA,KACAhD,kBAAA;UACAiD,KAAA;YAAAC,WAAA,EAAA5D;UAAA;QAAA;MAEA,IACAC,OAAA;QACA8C,QAAA,EAAA1B,mBAAA,aAAAA,mBAAA,uBAAAA,mBAAA,CAAA2B,iBAAA,CAAAC,IAAA,WAAAC,IAAA;UAAA,OAAAA,IAAA;QAAA;QACAC,SAAA,EAAA9B,mBAAA,aAAAA,mBAAA,uBAAAA,mBAAA,CAAA+B,eAAA,CAAAH,IAAA,WAAAC,IAAA;UAAA,OAAAvD,YAAA,CAAA0D,GAAA,CAAAH,IAAA;QAAA;QACAK,QAAA,EAAA7D,eAAA,CAAAQ,SAAA,CAAAqD,QAAA;QACAD,MAAA;QACAE,MAAA,EAAAnC,mBAAA;QACAwC,OAAA,OAAAC,uBAAA,CAAArB,mBAAA,EAAAC,kBAAA;QACAe,cAAA,EAAAC,aAAA,CAAAA,aAAA,KACAhD,kBAAA;UACAiD,KAAA;YAAAC,WAAA,EAAA3D;UAAA;QAAA;MAEA,EACA;MAEAH,MAAA,EAAAA,MAAA;MACAE,OAAA,EAAAA,OAAA;MACAC,OAAA,EAAAA,OAAA;MAEAmC,WAAA;MACAC,aAAA;IACA;EACA;EAEA0B,QAAA;IACAC,eAAA,WAAAA,gBAAA;MACA,YAAA5B,WAAA;IACA;IAEA6B,gBAAA,WAAAA,iBAAA;MACA,YAAA5B,aAAA,CAAA6B,MAAA,WAAAC,CAAA;QAAA,OAAAA,CAAA,CAAAC,OAAA,KAAA1E,eAAA,CAAAM,OAAA,CAAAoE,OAAA;MAAA;IACA;IAEAC,kBAAA,WAAAA,mBAAA;MACA,YAAAhC,aAAA,CAAA6B,MAAA,WAAAC,CAAA;QAAA,OAAAA,CAAA,CAAAC,OAAA,KAAA1E,eAAA,CAAAQ,SAAA,CAAAkE,OAAA;MAAA;IACA;IAEAvC,IAAA,WAAAA,KAAA;MACA,SAAAyC,MAAA,CAAAC,IAAA,CAAAC,QAAA,CAAAvE,OAAA;QACA,OAAAA,OAAA;MACA;MACA,SAAAqE,MAAA,CAAAC,IAAA,CAAAC,QAAA,CAAAxE,OAAA;QACA,OAAAA,OAAA;MACA;MAEA,OAAAF,MAAA;IACA;IAEAqD,SAAA,WAAAA,UAAA;MACA,YAAAN,IAAA,MAAAhB,IAAA,EAAAsB,SAAA;IACA;IAEAsB,WAAA,WAAAA,YAAA;MACA,YAAAC,CAAA,+BAAArE,MAAA,MAAAwB,IAAA;IACA;IAEA4B,cAAA,WAAAA,eAAA;MACA,YAAAZ,IAAA,MAAAhB,IAAA,EAAA4B,cAAA;IACA;EAEA;EAEAkB,OAAA;IACAb,uBAAA,WAAAA,wBAAArB,mBAAA,EAAAC,kBAAA,EAAAa,QAAA;MACA,IAAAM,OAAA,GAAAe,kBAAA,CAAAnC,mBAAA;MAEAoB,OAAA,CAAAnB,kBAAA,IAAAgB,aAAA,CAAAA,aAAA,KACAjB,mBAAA,CAAAC,kBAAA;QACAa,QAAA,EAAAA;MAAA,EACA;MAEA,OAAAM,OAAA;IACA;EACA;AAEA"}]}