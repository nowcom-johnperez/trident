{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/Inactivity.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/Inactivity.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IE1vZGFsV2l0aENhcmQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTW9kYWxXaXRoQ2FyZCc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBQZXJjZW50YWdlQmFyIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1BlcmNlbnRhZ2VCYXIudnVlJzsKaW1wb3J0IHRocm90dGxlIGZyb20gJ2xvZGFzaC90aHJvdHRsZSc7CmltcG9ydCB7IE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgREVGQVVMVF9QRVJGX1NFVFRJTkcsIFNFVFRJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NldHRpbmdzJzsKdmFyIGdsb2JhbElkOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0luYWN0aXZpdHknLAogIGNvbXBvbmVudHM6IHsKICAgIE1vZGFsV2l0aENhcmQ6IE1vZGFsV2l0aENhcmQsCiAgICBCYW5uZXI6IEJhbm5lciwKICAgIFBlcmNlbnRhZ2VCYXI6IFBlcmNlbnRhZ2VCYXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbmFibGVkOiBudWxsLAogICAgICBpc09wZW46IGZhbHNlLAogICAgICBpc0luYWN0aXZlOiBmYWxzZSwKICAgICAgc2hvd01vZGFsQWZ0ZXI6IG51bGwsCiAgICAgIGluYWN0aXZpdHlUaW1lb3V0SWQ6IG51bGwsCiAgICAgIGNvdXJ0ZXN5VGltZXI6IG51bGwsCiAgICAgIGNvdXJ0ZXN5VGltZXJJZDogbnVsbCwKICAgICAgY291cnRlc3lDb3VudGRvd246IG51bGwsCiAgICAgIHRyYWNrSW5hY3Rpdml0eTogdGhyb3R0bGUodGhpcy5fdHJhY2tJbmFjdGl2aXR5LCAxMDAwKSwKICAgICAgaWQ6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfc2V0dGluZ3MsIF9zZXR0aW5nczIsIF9zZXR0aW5nczMsIF9zZXR0aW5nczQsIF9zZXR0aW5nczU7CiAgICAgIHZhciBzZXR0aW5ncywgc2V0dGluZ3NTdHJpbmcsIHRocmVzaG9sZFRvU2Vjb25kczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmQnLCB7CiAgICAgICAgICAgICAgdHlwZTogTUFOQUdFTUVOVC5TRVRUSU5HLAogICAgICAgICAgICAgIGlkOiBTRVRUSU5HLlVJX1BFUkZPUk1BTkNFCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBzZXR0aW5nc1N0cmluZyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHNldHRpbmdzID0gc2V0dGluZ3NTdHJpbmcgIT09IG51bGwgJiYgc2V0dGluZ3NTdHJpbmcgIT09IHZvaWQgMCAmJiBzZXR0aW5nc1N0cmluZy52YWx1ZSA/IEpTT04ucGFyc2Uoc2V0dGluZ3NTdHJpbmcudmFsdWUpIDogREVGQVVMVF9QRVJGX1NFVFRJTkc7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDc7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGlmICghKCFzZXR0aW5ncyB8fCAhKChfc2V0dGluZ3MgPSBzZXR0aW5ncykgIT09IG51bGwgJiYgX3NldHRpbmdzICE9PSB2b2lkIDAgJiYgX3NldHRpbmdzLmluYWN0aXZpdHkpIHx8ICEoKF9zZXR0aW5nczIgPSBzZXR0aW5ncykgIT09IG51bGwgJiYgX3NldHRpbmdzMiAhPT0gdm9pZCAwICYmIF9zZXR0aW5nczIuaW5hY3Rpdml0eS5lbmFibGVkKSkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBfdGhpcy5lbmFibGVkID0gKChfc2V0dGluZ3MzID0gc2V0dGluZ3MpID09PSBudWxsIHx8IF9zZXR0aW5nczMgPT09IHZvaWQgMCB8fCAoX3NldHRpbmdzMyA9IF9zZXR0aW5nczMuaW5hY3Rpdml0eSkgPT09IG51bGwgfHwgX3NldHRpbmdzMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NldHRpbmdzMy5lbmFibGVkKSB8fCBmYWxzZTsKCiAgICAgICAgICAgIC8vIFRvdGFsIGFtb3VudCBvZiB0aW1lIGJlZm9yZSB0aGUgdXNlcidzIHNlc3Npb24gaXMgbG9zdAogICAgICAgICAgICB0aHJlc2hvbGRUb1NlY29uZHMgPSAoKF9zZXR0aW5nczQgPSBzZXR0aW5ncykgPT09IG51bGwgfHwgX3NldHRpbmdzNCA9PT0gdm9pZCAwIHx8IChfc2V0dGluZ3M0ID0gX3NldHRpbmdzNC5pbmFjdGl2aXR5KSA9PT0gbnVsbCB8fCBfc2V0dGluZ3M0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2V0dGluZ3M0LnRocmVzaG9sZCkgKiA2MDsgLy8gQW1vdW50IG9mIHRpbWUgdGhlIHVzZXIgc2VlcyB0aGUgaW5hY3Rpdml0eSB3YXJuaW5nCiAgICAgICAgICAgIF90aGlzLmNvdXJ0ZXN5VGltZXIgPSBNYXRoLmZsb29yKHRocmVzaG9sZFRvU2Vjb25kcyAqIDAuMSk7CiAgICAgICAgICAgIF90aGlzLmNvdXJ0ZXN5VGltZXIgPSBNYXRoLm1pbihfdGhpcy5jb3VydGVzeVRpbWVyLCA2MCAqIDUpOyAvLyBOZXZlciBzaG93IHRoZSBtb2RhbCBtb3JlIHRoYW4gNSBtaW51dGVzCiAgICAgICAgICAgIC8vIEFtb3VudCBvZiB0aW1lIGJlZm9yZSB0aGUgdXNlciBzZWVzIHRoZSBpbmFjdGl2aXR5IHdhcm5pbmcKICAgICAgICAgICAgLy8gTm90ZSAtIHRpbWUgYmVmb3JlIHdhcm5pbmcgaXMgc2hvd24gKyB0aW1lIHdhcm5pbmcgaXMgc2hvd24gPSBzZXR0aW5ncyB0aHJlc2hvbGQgKHRvdGFsIGFtb3VudCBvZiB0aW1lKQogICAgICAgICAgICBfdGhpcy5zaG93TW9kYWxBZnRlciA9IHRocmVzaG9sZFRvU2Vjb25kcyAtIF90aGlzLmNvdXJ0ZXN5VGltZXI7CiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoIkluYWN0aXZpdHkgbW9kYWwgd2lsbCBzaG93IGFmdGVyICIuY29uY2F0KF90aGlzLnNob3dNb2RhbEFmdGVyIC8gNjAsICIobSkgYW5kIGJlIHNob3duIGZvciAiKS5jb25jYXQoX3RoaXMuY291cnRlc3lUaW1lciAvIDYwLCAiKG0pIikpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKCiAgICAgICAgICAgIF90aGlzLmNvdXJ0ZXN5Q291bnRkb3duID0gX3RoaXMuY291cnRlc3lUaW1lcjsKICAgICAgICAgICAgaWYgKChfc2V0dGluZ3M1ID0gc2V0dGluZ3MpICE9PSBudWxsICYmIF9zZXR0aW5nczUgIT09IHZvaWQgMCAmJiBfc2V0dGluZ3M1LmluYWN0aXZpdHkuZW5hYmxlZCkgewogICAgICAgICAgICAgIF90aGlzLnRyYWNrSW5hY3Rpdml0eSgpOwogICAgICAgICAgICAgIF90aGlzLmFkZElkbGVMaXN0ZW5lcnMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgY2FzZSAxOToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICB9KSkoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoKTsKICAgIHRoaXMuY2xlYXJBbGxUaW1lb3V0cygpOwogIH0sCiAgbWV0aG9kczogewogICAgX3RyYWNrSW5hY3Rpdml0eTogZnVuY3Rpb24gX3RyYWNrSW5hY3Rpdml0eSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmlzSW5hY3RpdmUgfHwgdGhpcy5pc09wZW4gfHwgIXRoaXMuc2hvd01vZGFsQWZ0ZXIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5jbGVhckFsbFRpbWVvdXRzKCk7CiAgICAgIHZhciBlbmRUaW1lID0gRGF0ZS5ub3coKSArIHRoaXMuc2hvd01vZGFsQWZ0ZXIgKiAxMDAwOwogICAgICB0aGlzLmlkID0gZW5kVGltZTsKICAgICAgZ2xvYmFsSWQgPSBlbmRUaW1lOwogICAgICB2YXIgY2hlY2tJbmFjdGl2aXR5VGltZXIgPSBmdW5jdGlvbiBjaGVja0luYWN0aXZpdHlUaW1lcigpIHsKICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICAgICAgICBpZiAoX3RoaXMyLmlkICE9PSBnbG9iYWxJZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAobm93ID49IGVuZFRpbWUpIHsKICAgICAgICAgIF90aGlzMi5pc09wZW4gPSB0cnVlOwogICAgICAgICAgX3RoaXMyLnN0YXJ0Q291bnRkb3duKCk7CiAgICAgICAgICBfdGhpczIuJG1vZGFsLnNob3coJ2luYWN0aXZpdHlNb2RhbCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuaW5hY3Rpdml0eVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoY2hlY2tJbmFjdGl2aXR5VGltZXIsIDEwMDApOwogICAgICAgIH0KICAgICAgfTsKICAgICAgY2hlY2tJbmFjdGl2aXR5VGltZXIoKTsKICAgIH0sCiAgICBzdGFydENvdW50ZG93bjogZnVuY3Rpb24gc3RhcnRDb3VudGRvd24oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgZW5kVGltZSA9IERhdGUubm93KCkgKyB0aGlzLmNvdXJ0ZXN5Q291bnRkb3duICogMTAwMDsKICAgICAgdmFyIGNoZWNrQ291bnRkb3duID0gZnVuY3Rpb24gY2hlY2tDb3VudGRvd24oKSB7CiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7CiAgICAgICAgaWYgKG5vdyA+PSBlbmRUaW1lKSB7CiAgICAgICAgICBfdGhpczMuaXNJbmFjdGl2ZSA9IHRydWU7CiAgICAgICAgICBfdGhpczMudW5zdWJzY3JpYmUoKTsKICAgICAgICAgIF90aGlzMy5jbGVhckFsbFRpbWVvdXRzKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy5jb3VydGVzeUNvdW50ZG93biA9IE1hdGguZmxvb3IoKGVuZFRpbWUgLSBub3cpIC8gMTAwMCk7CiAgICAgICAgICBfdGhpczMuY291cnRlc3lUaW1lcklkID0gc2V0VGltZW91dChjaGVja0NvdW50ZG93biwgMTAwMCk7CiAgICAgICAgfQogICAgICB9OwogICAgICBjaGVja0NvdW50ZG93bigpOwogICAgfSwKICAgIGFkZElkbGVMaXN0ZW5lcnM6IGZ1bmN0aW9uIGFkZElkbGVMaXN0ZW5lcnMoKSB7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy50cmFja0luYWN0aXZpdHkpOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy50cmFja0luYWN0aXZpdHkpOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy50cmFja0luYWN0aXZpdHkpOwogICAgfSwKICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy50cmFja0luYWN0aXZpdHkpOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMudHJhY2tJbmFjdGl2aXR5KTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy50cmFja0luYWN0aXZpdHkpOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdGhpcy50cmFja0luYWN0aXZpdHkpOwogICAgfSwKICAgIHJlc3VtZTogZnVuY3Rpb24gcmVzdW1lKCkgewogICAgICB0aGlzLmlzSW5hY3RpdmUgPSBmYWxzZTsKICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5jb3VydGVzeUNvdW50ZG93biA9IHRoaXMuY291cnRlc3lUaW1lcjsKICAgICAgdGhpcy5jbGVhckFsbFRpbWVvdXRzKCk7CiAgICAgIHRoaXMuJG1vZGFsLmhpZGUoJ2luYWN0aXZpdHlNb2RhbCcpOwogICAgfSwKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCiAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7CiAgICAgIGNvbnNvbGUuZGVidWcoJ1Vuc3Vic2NyaWJpbmcgZnJvbSBhbGwgd2Vic29ja2V0IGV2ZW50cycpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3Vuc3Vic2NyaWJlJyk7CiAgICB9LAogICAgY2xlYXJBbGxUaW1lb3V0czogZnVuY3Rpb24gY2xlYXJBbGxUaW1lb3V0cygpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW5hY3Rpdml0eVRpbWVvdXRJZCk7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvdXJ0ZXN5VGltZXJJZCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaXNJbmFjdGl2ZVRleHRzOiBmdW5jdGlvbiBpc0luYWN0aXZlVGV4dHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzSW5hY3RpdmUgPyB7CiAgICAgICAgdGl0bGU6IHRoaXMudCgnaW5hY3Rpdml0eS50aXRsZUV4cGlyZWQnKSwKICAgICAgICBiYW5uZXI6IHRoaXMudCgnaW5hY3Rpdml0eS5iYW5uZXJFeHBpcmVkJyksCiAgICAgICAgY29udGVudDogdGhpcy50KCdpbmFjdGl2aXR5LmNvbnRlbnRFeHBpcmVkJykKICAgICAgfSA6IHsKICAgICAgICB0aXRsZTogdGhpcy50KCdpbmFjdGl2aXR5LnRpdGxlJyksCiAgICAgICAgYmFubmVyOiB0aGlzLnQoJ2luYWN0aXZpdHkuYmFubmVyJyksCiAgICAgICAgY29udGVudDogdGhpcy50KCdpbmFjdGl2aXR5LmNvbnRlbnQnKQogICAgICB9OwogICAgfSwKICAgIHRpbWVyUGVyY2VudGFnZUxlZnQ6IGZ1bmN0aW9uIHRpbWVyUGVyY2VudGFnZUxlZnQoKSB7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMuY291cnRlc3lDb3VudGRvd24gLyB0aGlzLmNvdXJ0ZXN5VGltZXIgKiAxMDApOwogICAgfSwKICAgIGNvbG9yU3RvcHM6IGZ1bmN0aW9uIGNvbG9yU3RvcHMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgMDogJy0taW5mbycsCiAgICAgICAgMzA6ICctLWluZm8nLAogICAgICAgIDcwOiAnLS1pbmZvJwogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"names":["ModalWithCard","Banner","PercentageBar","throttle","MANAGEMENT","DEFAULT_PERF_SETTING","SETTING","globalId","name","components","data","enabled","isOpen","isInactive","showModalAfter","inactivityTimeoutId","courtesyTimer","courtesyTimerId","courtesyCountdown","trackInactivity","_trackInactivity","id","mounted","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","_settings","_settings2","_settings3","_settings4","_settings5","settings","settingsString","thresholdToSeconds","wrap","_callee$","_context","prev","next","$store","dispatch","type","UI_PERFORMANCE","sent","value","JSON","parse","t0","inactivity","abrupt","threshold","Math","floor","min","console","debug","concat","addIdleListeners","stop","beforeDestroy","removeEventListener","clearAllTimeouts","methods","_this2","endTime","Date","now","checkInactivityTimer","startCountdown","$modal","show","setTimeout","_this3","checkCountdown","unsubscribe","document","addEventListener","resume","hide","refresh","window","location","reload","clearTimeout","computed","isInactiveTexts","title","t","banner","content","timerPercentageLeft","colorStops"],"sources":["node_modules/@rancher/shell/components/Inactivity.vue"],"sourcesContent":["<script>\nimport ModalWithCard from '@shell/components/ModalWithCard';\nimport { Banner } from '@components/Banner';\nimport PercentageBar from '@shell/components/PercentageBar.vue';\nimport throttle from 'lodash/throttle';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { DEFAULT_PERF_SETTING, SETTING } from '@shell/config/settings';\n\nlet globalId;\n\nexport default {\n  name:       'Inactivity',\n  components: {\n    ModalWithCard, Banner, PercentageBar\n  },\n  data() {\n    return {\n      enabled:             null,\n      isOpen:              false,\n      isInactive:          false,\n      showModalAfter:      null,\n      inactivityTimeoutId: null,\n      courtesyTimer:       null,\n      courtesyTimerId:     null,\n      courtesyCountdown:   null,\n      trackInactivity:     throttle(this._trackInactivity, 1000),\n      id:                  null,\n    };\n  },\n  async mounted() {\n    // Info: normally, this is done in the fetch hook but for some reasons while awaiting for things that will take a while, it won't be ready by the time mounted() is called, pending for investigation.\n    let settings;\n\n    try {\n      const settingsString = await this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.UI_PERFORMANCE });\n\n      settings = settingsString?.value ? JSON.parse(settingsString.value) : DEFAULT_PERF_SETTING;\n    } catch { }\n\n    if (!settings || !settings?.inactivity || !settings?.inactivity.enabled) {\n      return;\n    }\n\n    this.enabled = settings?.inactivity?.enabled || false;\n\n    // Total amount of time before the user's session is lost\n    const thresholdToSeconds = settings?.inactivity?.threshold * 60;\n\n    // Amount of time the user sees the inactivity warning\n    this.courtesyTimer = Math.floor(thresholdToSeconds * 0.1);\n    this.courtesyTimer = Math.min(this.courtesyTimer, 60 * 5); // Never show the modal more than 5 minutes\n    // Amount of time before the user sees the inactivity warning\n    // Note - time before warning is shown + time warning is shown = settings threshold (total amount of time)\n    this.showModalAfter = thresholdToSeconds - this.courtesyTimer;\n\n    console.debug(`Inactivity modal will show after ${ this.showModalAfter / 60 }(m) and be shown for ${ this.courtesyTimer / 60 }(m)`); // eslint-disable-line no-console\n\n    this.courtesyCountdown = this.courtesyTimer;\n\n    if (settings?.inactivity.enabled) {\n      this.trackInactivity();\n      this.addIdleListeners();\n    }\n  },\n  beforeDestroy() {\n    this.removeEventListener();\n    this.clearAllTimeouts();\n  },\n  methods: {\n    _trackInactivity() {\n      if (this.isInactive || this.isOpen || !this.showModalAfter) {\n        return;\n      }\n\n      this.clearAllTimeouts();\n      const endTime = Date.now() + this.showModalAfter * 1000;\n\n      this.id = endTime;\n      globalId = endTime;\n\n      const checkInactivityTimer = () => {\n        const now = Date.now();\n\n        if (this.id !== globalId) {\n          return;\n        }\n\n        if (now >= endTime) {\n          this.isOpen = true;\n          this.startCountdown();\n\n          this.$modal.show('inactivityModal');\n        } else {\n          this.inactivityTimeoutId = setTimeout(checkInactivityTimer, 1000);\n        }\n      };\n\n      checkInactivityTimer();\n    },\n    startCountdown() {\n      const endTime = Date.now() + (this.courtesyCountdown * 1000);\n\n      const checkCountdown = () => {\n        const now = Date.now();\n\n        if (now >= endTime) {\n          this.isInactive = true;\n          this.unsubscribe();\n          this.clearAllTimeouts();\n        } else {\n          this.courtesyCountdown = Math.floor((endTime - now) / 1000);\n          this.courtesyTimerId = setTimeout(checkCountdown, 1000);\n        }\n      };\n\n      checkCountdown();\n    },\n    addIdleListeners() {\n      document.addEventListener('mousemove', this.trackInactivity);\n      document.addEventListener('mousedown', this.trackInactivity);\n      document.addEventListener('keypress', this.trackInactivity);\n      document.addEventListener('touchmove', this.trackInactivity);\n      document.addEventListener('visibilitychange', this.trackInactivity);\n    },\n    removeEventListener() {\n      document.removeEventListener('mousemove', this.trackInactivity);\n      document.removeEventListener('mousedown', this.trackInactivity);\n      document.removeEventListener('keypress', this.trackInactivity);\n      document.removeEventListener('touchmove', this.trackInactivity);\n      document.removeEventListener('visibilitychange', this.trackInactivity);\n    },\n\n    resume() {\n      this.isInactive = false;\n      this.isOpen = false;\n      this.courtesyCountdown = this.courtesyTimer;\n      this.clearAllTimeouts();\n\n      this.$modal.hide('inactivityModal');\n    },\n\n    refresh() {\n      window.location.reload();\n    },\n\n    unsubscribe() {\n      console.debug('Unsubscribing from all websocket events'); // eslint-disable-line no-console\n      this.$store.dispatch('unsubscribe');\n    },\n    clearAllTimeouts() {\n      clearTimeout(this.inactivityTimeoutId);\n      clearTimeout(this.courtesyTimerId);\n    }\n\n  },\n  computed: {\n    isInactiveTexts() {\n      return this.isInactive ? {\n        title:   this.t('inactivity.titleExpired'),\n        banner:  this.t('inactivity.bannerExpired'),\n        content: this.t('inactivity.contentExpired'),\n      } : {\n        title:   this.t('inactivity.title'),\n        banner:  this.t('inactivity.banner'),\n        content: this.t('inactivity.content'),\n      };\n    },\n    timerPercentageLeft() {\n      return Math.floor((this.courtesyCountdown / this.courtesyTimer ) * 100);\n    },\n    colorStops() {\n      return {\n        0: '--info', 30: '--info', 70: '--info'\n      };\n    },\n  }\n};\n</script>\n\n<template>\n  <ModalWithCard\n    ref=\"inactivityModal\"\n    name=\"inactivityModal\"\n    save-text=\"Continue\"\n    :v-if=\"isOpen\"\n    @finish=\"resume\"\n  >\n    <template #title>\n      {{ isInactiveTexts.title }}\n    </template>\n    <span>{{ courtesyCountdown }}</span>\n\n    <template #content>\n      <Banner color=\"info\">\n        {{ isInactiveTexts.banner }}\n      </Banner>\n\n      <p>\n        {{ isInactiveTexts.content }}\n      </p>\n\n      <PercentageBar\n        v-if=\"!isInactive\"\n        class=\"mt-20\"\n        :value=\"timerPercentageLeft\"\n        :color-stops=\"colorStops\"\n      />\n    </template>\n\n    <template\n      #footer\n    >\n      <div class=\"card-actions\">\n        <button\n          v-if=\"!isInactive\"\n          class=\"btn role-tertiary bg-primary\"\n          @click.prevent=\"resume\"\n        >\n          <t k=\"inactivity.cta\" />\n        </button>\n\n        <button\n          v-if=\"isInactive\"\n          class=\"btn role-tertiary bg-primary\"\n          @click.prevent=\"refresh\"\n        >\n          <t k=\"inactivity.ctaExpired\" />\n        </button>\n      </div>\n    </template>\n  </ModalWithCard>\n</template>\n\n<style lang=\"scss\" scoped>\n.card-actions {\n    display: flex;\n    width: 100%;\n    justify-content: flex-end;\n}\n</style>\n"],"mappings":"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"}]}