{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/mixins/browser-tab-visibility.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/mixins/browser-tab-visibility.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IHsgTk9STUFOIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnaXNTaW5nbGVQcm9kdWN0J10pKSwKICBtZXRob2RzOiB7CiAgICBzZXRUYWJWaXNpYmlsaXR5TGlzdGVuZXI6IGZ1bmN0aW9uIHNldFRhYlZpc2liaWxpdHlMaXN0ZW5lcihpc0FkZCkgewogICAgICB2YXIgX3RoaXMkaXNTaW5nbGVQcm9kdWN0OwogICAgICBpZiAoKCF0aGlzLmlzU2luZ2xlUHJvZHVjdCB8fCAoX3RoaXMkaXNTaW5nbGVQcm9kdWN0ID0gdGhpcy5pc1NpbmdsZVByb2R1Y3QpICE9PSBudWxsICYmIF90aGlzJGlzU2luZ2xlUHJvZHVjdCAhPT0gdm9pZCAwICYmIF90aGlzJGlzU2luZ2xlUHJvZHVjdC5lbmFibGVTZXNzaW9uQ2hlY2spICYmIHRoaXMuJGNvbmZpZy5yYW5jaGVyRW52ICE9PSAnZGVza3RvcCcpIHsKICAgICAgICB2YXIgbWV0aG9kID0gaXNBZGQgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7CiAgICAgICAgZG9jdW1lbnRbbWV0aG9kXSgndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMudmlzaWJpbGl0eUNoYW5nZSwgdHJ1ZSk7CiAgICAgIH0KICAgIH0sCiAgICB2aXNpYmlsaXR5Q2hhbmdlOiBmdW5jdGlvbiB2aXNpYmlsaXR5Q2hhbmdlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JhbmNoZXIvcmVxdWVzdCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IE5PUk1BTi5VU0VSLAogICAgICAgICAgICAgICAgb3B0OiB7CiAgICAgICAgICAgICAgICAgIHVybDogJy92My91c2Vycz9tZT10cnVlJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zZXRUYWJWaXNpYmlsaXR5TGlzdGVuZXIodHJ1ZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5zZXRUYWJWaXNpYmlsaXR5TGlzdGVuZXIoZmFsc2UpOwogIH0KfTs="},{"version":3,"names":["NORMAN","mapGetters","computed","_objectSpread","methods","setTabVisibilityListener","isAdd","_this$isSingleProduct","isSingleProduct","enableSessionCheck","$config","rancherEnv","method","document","visibilityChange","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","hidden","$store","dispatch","type","USER","opt","url","stop","mounted","beforeDestroy"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/mixins/browser-tab-visibility.js"],"sourcesContent":["import { NORMAN } from '@shell/config/types';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  computed: { ...mapGetters(['isSingleProduct']) },\n  methods:  {\n    setTabVisibilityListener(isAdd) {\n      if ((!this.isSingleProduct || this.isSingleProduct?.enableSessionCheck) && this.$config.rancherEnv !== 'desktop') {\n        const method = isAdd ? 'addEventListener' : 'removeEventListener';\n\n        document[method]('visibilitychange', this.visibilityChange, true);\n      }\n    },\n\n    async visibilityChange() {\n      if (!document.hidden) {\n        await this.$store.dispatch('rancher/request', {\n          type: NORMAN.USER,\n          opt:  { url: '/v3/users?me=true' }\n        });\n      }\n    },\n  },\n\n  mounted() {\n    this.setTabVisibilityListener(true);\n  },\n  beforeDestroy() {\n    this.setTabVisibilityListener(false);\n  },\n};\n"],"mappings":";;;;;;;;;;;;AAAA,SAASA,MAAM,QAAQ,qBAAqB;AAC5C,SAASC,UAAU,QAAQ,MAAM;AAEjC,eAAe;EACbC,QAAQ,EAAAC,aAAA,KAAOF,UAAU,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAE;EAChDG,OAAO,EAAG;IACRC,wBAAwB,WAAAA,yBAACC,KAAK,EAAE;MAAA,IAAAC,qBAAA;MAC9B,IAAI,CAAC,CAAC,IAAI,CAACC,eAAe,KAAAD,qBAAA,GAAI,IAAI,CAACC,eAAe,cAAAD,qBAAA,eAApBA,qBAAA,CAAsBE,kBAAkB,KAAK,IAAI,CAACC,OAAO,CAACC,UAAU,KAAK,SAAS,EAAE;QAChH,IAAMC,MAAM,GAAGN,KAAK,GAAG,kBAAkB,GAAG,qBAAqB;QAEjEO,QAAQ,CAACD,MAAM,CAAC,CAAC,kBAAkB,EAAE,IAAI,CAACE,gBAAgB,EAAE,IAAI,CAAC;MACnE;IACF,CAAC;IAEKA,gBAAgB,WAAAA,iBAAA,EAAG;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,kBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAA,IAClBX,QAAQ,CAACY,MAAM;gBAAAH,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACZT,KAAI,CAACW,MAAM,CAACC,QAAQ,CAAC,iBAAiB,EAAE;gBAC5CC,IAAI,EAAE5B,MAAM,CAAC6B,IAAI;gBACjBC,GAAG,EAAG;kBAAEC,GAAG,EAAE;gBAAoB;cACnC,CAAC,CAAC;YAAA;YAAA;cAAA,OAAAT,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAb,OAAA;MAAA;IAEN;EACF,CAAC;EAEDc,OAAO,WAAAA,QAAA,EAAG;IACR,IAAI,CAAC5B,wBAAwB,CAAC,IAAI,CAAC;EACrC,CAAC;EACD6B,aAAa,WAAAA,cAAA,EAAG;IACd,IAAI,CAAC7B,wBAAwB,CAAC,KAAK,CAAC;EACtC;AACF,CAAC"}]}