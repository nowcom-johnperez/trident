{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/filtering.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/filtering.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IGFkZE9iamVjdCwgYWRkT2JqZWN0cywgaXNBcnJheSwgcmVtb3ZlQXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvYXJyYXknOwpleHBvcnQgdmFyIEFEVl9GSUxURVJfQUxMX0NPTFNfVkFMVUUgPSAnYWxsY29scyc7CmV4cG9ydCB2YXIgQURWX0ZJTFRFUl9BTExfQ09MU19MQUJFTCA9ICdBbGwgQ29sdW1ucyc7CnZhciBMQUJFTF9JREVOVElGSUVSID0gJzo6OmlzbGFiZWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFF1ZXJ5OiBudWxsLAogICAgICBwcmV2aW91c0ZpbHRlcjogbnVsbCwKICAgICAgcHJldmlvdXNSZXN1bHQ6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2VhcmNoRmllbGRzOiBmdW5jdGlvbiBzZWFyY2hGaWVsZHMoKSB7CiAgICAgIHZhciBvdXQgPSBjb2x1bW5zVG9TZWFyY2hGaWVsZCh0aGlzLmNvbHVtbnMpOwogICAgICBpZiAodGhpcy5leHRyYVNlYXJjaEZpZWxkcykgewogICAgICAgIGFkZE9iamVjdHMob3V0LCB0aGlzLmV4dHJhU2VhcmNoRmllbGRzKTsKICAgICAgfQogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIC8qCiAgICBzdWJGaWVsZHM6IGNvbXB1dGVkKCdzdWJIZWFkZXJzLkBlYWNoLntzZWFyY2hGaWVsZCxuYW1lfScsICdleHRyYVNlYXJjaFN1YkZpZWxkcy5bXScsIGZ1bmN0aW9uKCkgewogICAgICBsZXQgb3V0ID0gaGVhZGVyc1RvU2VhcmNoRmllbGQoZ2V0KHRoaXMsICdzdWJIZWFkZXJzJykpOwogICAgICAgcmV0dXJuIG91dC5hZGRPYmplY3RzKGdldCh0aGlzLCAnZXh0cmFTZWFyY2hTdWJGaWVsZHMnKSB8fCBbXSk7CiAgICB9KSwKICAgICovCiAgICBmaWx0ZXJlZFJvd3M6IGZ1bmN0aW9uIGZpbHRlcmVkUm93cygpIHsKICAgICAgLy8gUFJPUCBoYXNBZHZhbmNlZEZpbHRlcmluZyBjb21lcyBmcm9tIEFkdmFuY2VkIEZpbHRlcmluZyBtaXhpbiAoY2FyZWZ1bCBjaGFuZ2luZyBkYXRhIHZhciB0aGVyZS4uLikKICAgICAgaWYgKCF0aGlzLmhhc0FkdmFuY2VkRmlsdGVyaW5nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRmlsdGVyaW5nKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQWR2YW5jZWRGaWx0ZXJpbmcoKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQWR2YW5jZWRGaWx0ZXJpbmc6IGZ1bmN0aW9uIGhhbmRsZUFkdmFuY2VkRmlsdGVyaW5nKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLnN1Yk1hdGNoZXMgPSBudWxsOwogICAgICBpZiAodGhpcy5zZWFyY2hRdWVyeS5sZW5ndGgpIHsKICAgICAgICB2YXIgb3V0ID0gKHRoaXMuYXJyYW5nZWRSb3dzIHx8IFtdKS5zbGljZSgpOwogICAgICAgIHZhciByZXMgPSBvdXQuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5zZWFyY2hRdWVyeS5ldmVyeShmdW5jdGlvbiAoZikgewogICAgICAgICAgICBpZiAoZi5wcm9wID09PSBBRFZfRklMVEVSX0FMTF9DT0xTX1ZBTFVFKSB7CiAgICAgICAgICAgICAgLy8gYWR2RmlsdGVyU2VsZWN0T3B0aW9ucyBjb21lcyBmcm9tIEFkdmFuY2VkIEZpbHRlcmluZyBtaXhpbgogICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgQWxsIENvbHVtbnMgb3B0aW9uIGZyb20gdGhlIGxpc3Qgc28gdGhhdCB3ZSBkb24ndCBpdGVyYXRlIG92ZXIgaXQKICAgICAgICAgICAgICB2YXIgYWxsQ29scyA9IF90aGlzLmFkdkZpbHRlclNlbGVjdE9wdGlvbnMuc2xpY2UoMSk7CiAgICAgICAgICAgICAgdmFyIHNlYXJjaEZpZWxkcyA9IFtdOwogICAgICAgICAgICAgIGFsbENvbHMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7CiAgICAgICAgICAgICAgICBpZiAoY29sLnZhbHVlLmluY2x1ZGVzKCdbJykgJiYgY29sLnZhbHVlLmluY2x1ZGVzKCddJykpIHsKICAgICAgICAgICAgICAgICAgc2VhcmNoRmllbGRzID0gc2VhcmNoRmllbGRzLmNvbmNhdChKU09OLnBhcnNlKGNvbC52YWx1ZSkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyB3ZSBhcmUgb24gdGhlIHByZXNlbmNlIG9mIGEgbGFiZWwsIHdoaWNoIHNob3VsZCBiZSBkZWFsdAogICAgICAgICAgICAgICAgICAvLyBjYXJlZnVsbHkgYmVjYXVzZSBvZiBvYmplY3QgcGF0aCBzdWNoIHJvdy5tZXRhZGF0YS5sYWJlbHMuImFwcC5rdWJlcm5ldGVzLmlvL21hbmFnZWQtYnkKICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY29sLmlzTGFiZWwgPyAiIi5jb25jYXQoY29sLmxhYmVsKS5jb25jYXQoTEFCRUxfSURFTlRJRklFUikgOiBjb2wudmFsdWU7CiAgICAgICAgICAgICAgICAgIHNlYXJjaEZpZWxkcy5wdXNoKHZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaW5nU2VhcmNoKHNlYXJjaEZpZWxkcywgW2YudmFsdWVdLCByb3cpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlmIChmLnByb3AuaW5jbHVkZXMoJ1snKSAmJiBmLnByb3AuaW5jbHVkZXMoJ10nKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmluZ1NlYXJjaChKU09OLnBhcnNlKGYucHJvcCksIFtmLnZhbHVlXSwgcm93KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdmFyIHByb3AgPSBmLnByb3A7CgogICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgd2UgYXJlIG9uIHRoZSBwcmVzZW5jZSBvZiBhIGxhYmVsLCB3aGljaCBzaG91bGQgYmUgZGVhbHQKICAgICAgICAgICAgICAvLyBjYXJlZnVsbHkgYmVjYXVzZSBvZiBvYmplY3QgcGF0aCBzdWNoIHJvdy5tZXRhZGF0YS5sYWJlbHMuImFwcC5rdWJlcm5ldGVzLmlvL21hbmFnZWQtYnkiCiAgICAgICAgICAgICAgaWYgKGYucHJvcC5pbmNsdWRlcygnbWV0YWRhdGEubGFiZWxzJykpIHsKICAgICAgICAgICAgICAgIHByb3AgPSAiIi5jb25jYXQoZi5sYWJlbCkuY29uY2F0KExBQkVMX0lERU5USUZJRVIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlU3RyaW5nU2VhcmNoKFtwcm9wXSwgW2YudmFsdWVdLCByb3cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcmVzOwogICAgICB9CgogICAgICAvLyByZXR1cm4gYXJyYW5nZWRSb3dzIGFycmF5IGlmIHdlIGRvbid0IGhhdmUgYW55dGhpbmcgdG8gc2VhcmNoIGZvci4uLgogICAgICByZXR1cm4gdGhpcy5hcnJhbmdlZFJvd3M7CiAgICB9LAogICAgaGFuZGxlRmlsdGVyaW5nOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXJpbmcoKSB7CiAgICAgIHZhciBzZWFyY2hUZXh0ID0gKHRoaXMuc2VhcmNoUXVlcnkgfHwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICB2YXIgb3V0OwogICAgICBpZiAoc2VhcmNoVGV4dCAmJiB0aGlzLnByZXZpb3VzUmVzdWx0ICYmIHNlYXJjaFRleHQuc3RhcnRzV2l0aCh0aGlzLnByZXZpb3VzRmlsdGVyKSkgewogICAgICAgIC8vIElmIHRoZSBuZXcgc2VhcmNoIGlzIGFuIGFkZGl0aW9uIHRvIHRoZSBsYXN0IG9uZSwgd2UgY2FuIHN0YXJ0IHdpdGggdGhlIHNhbWUgc2V0IG9mIHJlc3VsdHMgYXMgbGFzdCB0aW1lCiAgICAgICAgLy8gYW5kIGZpbHRlciB0aG9zZSBkb3duLCBzaW5jZSBhZGRpbmcgbW9yZSBzZWFyY2hUZXh0IGNhbiBvbmx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mIHJlc3VsdHMuCiAgICAgICAgb3V0ID0gdGhpcy5wcmV2aW91c1Jlc3VsdC5zbGljZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucHJldmlvdXNSZXN1bHQgPSBudWxsOwogICAgICAgIG91dCA9ICh0aGlzLmFycmFuZ2VkUm93cyB8fCBbXSkuc2xpY2UoKTsKICAgICAgfQogICAgICB0aGlzLnByZXZpb3VzRmlsdGVyID0gc2VhcmNoVGV4dDsKICAgICAgaWYgKCFzZWFyY2hUZXh0Lmxlbmd0aCkgewogICAgICAgIHRoaXMuc3ViTWF0Y2hlcyA9IG51bGw7CiAgICAgICAgdGhpcy5wcmV2aW91c1Jlc3VsdCA9IG51bGw7CiAgICAgICAgcmV0dXJuIG91dDsKICAgICAgfQogICAgICB2YXIgc2VhcmNoRmllbGRzID0gdGhpcy5zZWFyY2hGaWVsZHM7CiAgICAgIHZhciBzZWFyY2hUb2tlbnMgPSBzZWFyY2hUZXh0LnNwbGl0KC9ccypbLCBdXHMqLyk7CiAgICAgIHZhciBzdWJTZWFyY2ggPSB0aGlzLnN1YlNlYXJjaDsKICAgICAgdmFyIHN1YkZpZWxkcyA9IHRoaXMuc3ViRmllbGRzOwogICAgICB2YXIgc3ViTWF0Y2hlcyA9IHt9OwogICAgICBmb3IgKHZhciBpID0gb3V0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgdmFyIHJvdyA9IG91dFtpXTsKICAgICAgICB2YXIgaGl0cyA9IDA7CiAgICAgICAgdmFyIG1haW5Gb3VuZCA9IHRydWU7CiAgICAgICAgbWFpbkZvdW5kID0gaGFuZGxlU3RyaW5nU2VhcmNoKHNlYXJjaEZpZWxkcywgc2VhcmNoVG9rZW5zLCByb3cpOwogICAgICAgIGlmIChzdWJGaWVsZHMgJiYgc3ViU2VhcmNoKSB7CiAgICAgICAgICB2YXIgc3ViUm93cyA9IHJvd1tzdWJTZWFyY2hdIHx8IFtdOwogICAgICAgICAgZm9yICh2YXIgayA9IHN1YlJvd3MubGVuZ3RoIC0gMTsgayA+PSAwOyBrLS0pIHsKICAgICAgICAgICAgdmFyIHN1YkZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgc3ViRm91bmQgPSBoYW5kbGVTdHJpbmdTZWFyY2goc3ViRmllbGRzLCBzZWFyY2hUb2tlbnMsIHJvdyk7CiAgICAgICAgICAgIGlmIChzdWJGb3VuZCkgewogICAgICAgICAgICAgIGhpdHMrKzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc3ViTWF0Y2hlc1tnZXQocm93LCB0aGlzLmtleUZpZWxkKV0gPSBoaXRzOwogICAgICAgIH0KICAgICAgICBpZiAoIW1haW5Gb3VuZCAmJiBoaXRzID09PSAwKSB7CiAgICAgICAgICByZW1vdmVBdChvdXQsIGkpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnN1Yk1hdGNoZXMgPSBzdWJNYXRjaGVzOwogICAgICB0aGlzLnByZXZpb3VzUmVzdWx0ID0gb3V0OwogICAgICByZXR1cm4gb3V0OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGFycmFuZ2VkUm93czogZnVuY3Rpb24gYXJyYW5nZWRSb3dzKHEpIHsKICAgICAgLy8gVGhlIHJvd3MgY2hhbmdlZCBzbyB0aGUgb2xkIGZpbHRlciByZXN1bHQgaXMgbm8gbG9uZ2VyIHVzZWZ1bAogICAgICB0aGlzLnByZXZpb3VzUmVzdWx0ID0gbnVsbDsKICAgIH0KICB9Cn07CmZ1bmN0aW9uIGNvbHVtbnNUb1NlYXJjaEZpZWxkKGNvbHVtbnMpIHsKICB2YXIgb3V0ID0gW107CiAgKGNvbHVtbnMgfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikgewogICAgdmFyIGZpZWxkID0gY29sdW1uLnNlYXJjaDsKICAgIGlmIChmaWVsZCkgewogICAgICBpZiAodHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJykgewogICAgICAgIGFkZE9iamVjdChvdXQsIGZpZWxkKTsKICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGZpZWxkKSkgewogICAgICAgIGFkZE9iamVjdHMob3V0LCBmaWVsZCk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoZmllbGQgPT09IGZhbHNlKSB7CiAgICAgIC8vIERvbid0IGFkZCB0aGUgbmFtZQogICAgfSBlbHNlIHsKICAgICAgLy8gVXNlIHZhbHVlL25hbWUgYXMgdGhlIGRlZmF1bHQKICAgICAgYWRkT2JqZWN0KG91dCwgY29sdW1uLnZhbHVlIHx8IGNvbHVtbi5uYW1lKTsKICAgIH0KICB9KTsKICByZXR1cm4gb3V0LmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgcmV0dXJuICEheDsKICB9KTsKfQp2YXIgaXBMaWtlID0gL15bMC05YS1mXC46XSskL2k7CmZ1bmN0aW9uIGhhbmRsZVN0cmluZ1NlYXJjaChzZWFyY2hGaWVsZHMsIHNlYXJjaFRva2Vucywgcm93KSB7CiAgZm9yICh2YXIgaiA9IDA7IGogPCBzZWFyY2hUb2tlbnMubGVuZ3RoOyBqKyspIHsKICAgIHZhciBleHBlY3QgPSB0cnVlOwogICAgdmFyIHRva2VuID0gc2VhcmNoVG9rZW5zW2pdOwogICAgaWYgKHRva2VuLnN1YnN0cigwLCAxKSA9PT0gJyEnKSB7CiAgICAgIGV4cGVjdCA9IGZhbHNlOwogICAgICB0b2tlbiA9IHRva2VuLnN1YnN0cigxKTsKICAgIH0KICAgIGlmICh0b2tlbiAmJiBtYXRjaGVzKHNlYXJjaEZpZWxkcywgdG9rZW4sIHJvdykgIT09IGV4cGVjdCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KZnVuY3Rpb24gbWF0Y2hlcyhmaWVsZHMsIHRva2VuLCBpdGVtKSB7CiAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGZpZWxkcyksCiAgICBfc3RlcDsKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgdmFyIGZpZWxkID0gX3N0ZXAudmFsdWU7CiAgICAgIGlmICghZmllbGQpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgLy8gc29tZSBpdGVtcyBtaWdodCBub3QgZXZlbiBoYXZlIG1ldGFkYXRhLmxhYmVscyBvciBtZXRhZGF0YS5sYWJlbHMuc29tZXRoaW5nLi4uIGlnbm9yZSB0aG9zZSBpdGVtcy4gTm90aGluZyB0byBmaWx0ZXIgYnkKICAgICAgaWYgKHR5cGVvZiBmaWVsZCAhPT0gJ2Z1bmN0aW9uJyAmJiBmaWVsZC5pbmNsdWRlcyhMQUJFTF9JREVOVElGSUVSKSAmJiAoIWl0ZW0ubWV0YWRhdGEubGFiZWxzIHx8ICFpdGVtLm1ldGFkYXRhLmxhYmVsc1tmaWVsZC5yZXBsYWNlKExBQkVMX0lERU5USUZJRVIsICcnKV0pKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgdmFyIG1vZGlmaWVyID0gdm9pZCAwOwogICAgICB2YXIgdmFsID0gdm9pZCAwOwogICAgICBpZiAodHlwZW9mIGZpZWxkID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdmFsID0gZmllbGQoaXRlbSk7CiAgICAgIH0gZWxzZSBpZiAoZmllbGQuaW5jbHVkZXMoTEFCRUxfSURFTlRJRklFUikpIHsKICAgICAgICB2YWwgPSBpdGVtLm1ldGFkYXRhLmxhYmVsc1tmaWVsZC5yZXBsYWNlKExBQkVMX0lERU5USUZJRVIsICcnKV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGlkeCA9IGZpZWxkLmluZGV4T2YoJzonKTsKICAgICAgICBpZiAoaWR4ID4gMCkgewogICAgICAgICAgbW9kaWZpZXIgPSBmaWVsZC5zdWJzdHIoaWR4ICsgMSk7CiAgICAgICAgICBmaWVsZCA9IGZpZWxkLnN1YnN0cigwLCBpZHgpOwogICAgICAgIH0KICAgICAgICBpZiAoZmllbGQuaW5jbHVkZXMoJy4nKSkgewogICAgICAgICAgdmFsID0gZ2V0KGl0ZW0sIGZpZWxkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFsID0gaXRlbVtmaWVsZF07CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICAgIHZhbCA9ICIiLmNvbmNhdCh2YWwpLnRvTG93ZXJDYXNlKCk7CiAgICAgIGlmICghdmFsKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgaWYgKCFtb2RpZmllcikgewogICAgICAgIGlmICh2YWwuaW5jbHVkZXMoIiIuY29uY2F0KHRva2VuKS50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKG1vZGlmaWVyID09PSAnZXhhY3QnKSB7CiAgICAgICAgaWYgKHZhbCA9PT0gdG9rZW4pIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChtb2RpZmllciA9PT0gJ2lwJykgewogICAgICAgIHZhciB0b2tlbk1heUJlSXAgPSBpcExpa2UudGVzdCh0b2tlbik7CiAgICAgICAgaWYgKHRva2VuTWF5QmVJcCkgewogICAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiKD86XnxcXC4pIi5jb25jYXQodG9rZW4sICIoPzpcXC58JCkiKSk7CiAgICAgICAgICBpZiAocmUudGVzdCh2YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChtb2RpZmllciA9PT0gJ3ByZWZpeCcpIHsKICAgICAgICBpZiAodmFsLmluZGV4T2YodG9rZW4pID09PSAwKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvci5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvci5mKCk7CiAgfQogIHJldHVybiBmYWxzZTsKfQ=="},{"version":3,"names":["get","addObject","addObjects","isArray","removeAt","ADV_FILTER_ALL_COLS_VALUE","ADV_FILTER_ALL_COLS_LABEL","LABEL_IDENTIFIER","data","searchQuery","previousFilter","previousResult","computed","searchFields","out","columnsToSearchField","columns","extraSearchFields","filteredRows","hasAdvancedFiltering","handleFiltering","handleAdvancedFiltering","methods","_this","subMatches","length","arrangedRows","slice","res","filter","row","every","f","prop","allCols","advFilterSelectOptions","forEach","col","value","includes","concat","JSON","parse","isLabel","label","push","handleStringSearch","searchText","trim","toLowerCase","startsWith","searchTokens","split","subSearch","subFields","i","hits","mainFound","subRows","k","subFound","keyField","watch","q","column","field","search","name","x","ipLike","j","expect","token","substr","matches","fields","item","_iterator","_createForOfIteratorHelper","_step","s","n","done","metadata","labels","replace","modifier","val","idx","indexOf","undefined","tokenMayBeIp","test","re","RegExp","err","e"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/filtering.js"],"sourcesContent":["import { get } from '@shell/utils/object';\nimport { addObject, addObjects, isArray, removeAt } from '@shell/utils/array';\n\nexport const ADV_FILTER_ALL_COLS_VALUE = 'allcols';\nexport const ADV_FILTER_ALL_COLS_LABEL = 'All Columns';\nconst LABEL_IDENTIFIER = ':::islabel';\n\nexport default {\n  data() {\n    return {\n      searchQuery:    null,\n      previousFilter: null,\n      previousResult: null,\n    };\n  },\n\n  computed: {\n    searchFields() {\n      const out = columnsToSearchField(this.columns);\n\n      if ( this.extraSearchFields ) {\n        addObjects(out, this.extraSearchFields);\n      }\n\n      return out;\n    },\n\n    /*\n    subFields: computed('subHeaders.@each.{searchField,name}', 'extraSearchSubFields.[]', function() {\n      let out = headersToSearchField(get(this, 'subHeaders'));\n\n      return out.addObjects(get(this, 'extraSearchSubFields') || []);\n    }),\n    */\n    filteredRows() {\n      // PROP hasAdvancedFiltering comes from Advanced Filtering mixin (careful changing data var there...)\n      if (!this.hasAdvancedFiltering) {\n        return this.handleFiltering();\n      } else {\n        return this.handleAdvancedFiltering();\n      }\n    },\n  },\n\n  methods: {\n    handleAdvancedFiltering() {\n      this.subMatches = null;\n\n      if (this.searchQuery.length) {\n        const out = (this.arrangedRows || []).slice();\n\n        const res = out.filter((row) => {\n          return this.searchQuery.every((f) => {\n            if (f.prop === ADV_FILTER_ALL_COLS_VALUE) {\n              // advFilterSelectOptions comes from Advanced Filtering mixin\n              // remove the All Columns option from the list so that we don't iterate over it\n              const allCols = this.advFilterSelectOptions.slice(1);\n              let searchFields = [];\n\n              allCols.forEach((col) => {\n                if (col.value.includes('[') && col.value.includes(']')) {\n                  searchFields = searchFields.concat(JSON.parse(col.value));\n                } else {\n                  // this means we are on the presence of a label, which should be dealt\n                // carefully because of object path such row.metadata.labels.\"app.kubernetes.io/managed-by\n                  const value = col.isLabel ? `${ col.label }${ LABEL_IDENTIFIER }` : col.value;\n\n                  searchFields.push(value);\n                }\n              });\n\n              return handleStringSearch(searchFields, [f.value], row);\n            } else {\n              if (f.prop.includes('[') && f.prop.includes(']')) {\n                return handleStringSearch(JSON.parse(f.prop), [f.value], row);\n              }\n\n              let prop = f.prop;\n\n              // this means we are on the presence of a label, which should be dealt\n              // carefully because of object path such row.metadata.labels.\"app.kubernetes.io/managed-by\"\n              if (f.prop.includes('metadata.labels')) {\n                prop = `${ f.label }${ LABEL_IDENTIFIER }`;\n              }\n\n              return handleStringSearch([prop], [f.value], row);\n            }\n          });\n        });\n\n        return res;\n      }\n\n      // return arrangedRows array if we don't have anything to search for...\n      return this.arrangedRows;\n    },\n\n    handleFiltering() {\n      const searchText = (this.searchQuery || '').trim().toLowerCase();\n      let out;\n\n      if ( searchText && this.previousResult && searchText.startsWith(this.previousFilter) ) {\n        // If the new search is an addition to the last one, we can start with the same set of results as last time\n        // and filter those down, since adding more searchText can only reduce the number of results.\n        out = this.previousResult.slice();\n      } else {\n        this.previousResult = null;\n        out = (this.arrangedRows || []).slice();\n      }\n\n      this.previousFilter = searchText;\n\n      if ( !searchText.length ) {\n        this.subMatches = null;\n        this.previousResult = null;\n\n        return out;\n      }\n\n      const searchFields = this.searchFields;\n      const searchTokens = searchText.split(/\\s*[, ]\\s*/);\n      const subSearch = this.subSearch;\n      const subFields = this.subFields;\n      const subMatches = {};\n\n      for ( let i = out.length - 1 ; i >= 0 ; i-- ) {\n        const row = out[i];\n        let hits = 0;\n        let mainFound = true;\n\n        mainFound = handleStringSearch(searchFields, searchTokens, row);\n\n        if ( subFields && subSearch) {\n          const subRows = row[subSearch] || [];\n\n          for ( let k = subRows.length - 1 ; k >= 0 ; k-- ) {\n            let subFound = true;\n\n            subFound = handleStringSearch(subFields, searchTokens, row);\n\n            if ( subFound ) {\n              hits++;\n            }\n          }\n\n          subMatches[get(row, this.keyField)] = hits;\n        }\n\n        if ( !mainFound && hits === 0 ) {\n          removeAt(out, i);\n        }\n      }\n\n      this.subMatches = subMatches;\n      this.previousResult = out;\n\n      return out;\n    }\n  },\n\n  watch: {\n    arrangedRows(q) {\n      // The rows changed so the old filter result is no longer useful\n      this.previousResult = null;\n    }\n  },\n};\n\nfunction columnsToSearchField(columns) {\n  const out = [];\n\n  (columns || []).forEach((column) => {\n    const field = column.search;\n\n    if ( field ) {\n      if ( typeof field === 'string' ) {\n        addObject(out, field);\n      } else if ( isArray(field) ) {\n        addObjects(out, field);\n      }\n    } else if ( field === false ) {\n      // Don't add the name\n    } else {\n      // Use value/name as the default\n      addObject(out, column.value || column.name);\n    }\n  });\n\n  return out.filter((x) => !!x);\n}\n\nconst ipLike = /^[0-9a-f\\.:]+$/i;\n\nfunction handleStringSearch(searchFields, searchTokens, row) {\n  for ( let j = 0 ; j < searchTokens.length ; j++ ) {\n    let expect = true;\n    let token = searchTokens[j];\n\n    if ( token.substr(0, 1) === '!' ) {\n      expect = false;\n      token = token.substr(1);\n    }\n\n    if ( token && matches(searchFields, token, row) !== expect ) {\n      return false;\n    }\n\n    return true;\n  }\n}\n\nfunction matches(fields, token, item) {\n  for ( let field of fields ) {\n    if ( !field ) {\n      continue;\n    }\n\n    // some items might not even have metadata.labels or metadata.labels.something... ignore those items. Nothing to filter by\n    if (typeof field !== 'function' &&\n    field.includes(LABEL_IDENTIFIER) &&\n    (!item.metadata.labels || !item.metadata.labels[field.replace(LABEL_IDENTIFIER, '')])) {\n      continue;\n    }\n\n    let modifier;\n    let val;\n\n    if (typeof field === 'function') {\n      val = field(item);\n    } else if (field.includes(LABEL_IDENTIFIER)) {\n      val = item.metadata.labels[field.replace(LABEL_IDENTIFIER, '')];\n    } else {\n      const idx = field.indexOf(':');\n\n      if ( idx > 0 ) {\n        modifier = field.substr(idx + 1);\n        field = field.substr(0, idx);\n      }\n\n      if ( field.includes('.') ) {\n        val = get(item, field);\n      } else {\n        val = item[field];\n      }\n    }\n\n    if ( val === undefined ) {\n      continue;\n    }\n\n    val = (`${ val }`).toLowerCase();\n    if ( !val ) {\n      continue;\n    }\n\n    if ( !modifier ) {\n      if ( val.includes((`${ token }`).toLowerCase()) ) {\n        return true;\n      }\n    } else if ( modifier === 'exact' ) {\n      if ( val === token ) {\n        return true;\n      }\n    } else if ( modifier === 'ip' ) {\n      const tokenMayBeIp = ipLike.test(token);\n\n      if ( tokenMayBeIp ) {\n        const re = new RegExp(`(?:^|\\\\.)${ token }(?:\\\\.|$)`);\n\n        if ( re.test(val) ) {\n          return true;\n        }\n      }\n    } else if ( modifier === 'prefix' ) {\n      if ( val.indexOf(token) === 0) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n"],"mappings":"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"}]}