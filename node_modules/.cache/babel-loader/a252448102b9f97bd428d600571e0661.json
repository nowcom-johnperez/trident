{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/detail/namespace.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/detail/namespace.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCBSZXNvdXJjZXNTdW1tYXJ5IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2ZsZWV0L1Jlc291cmNlc1N1bW1hcnknOwppbXBvcnQgUmVzb3VyY2VUYWJzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vUmVzb3VyY2VUYWJzJzsKaW1wb3J0IHsgQ09VTlQsIFdPUktMT0FEX1RZUEVTIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IFdPUktMT0FEX1NDSEVNQSB9IGZyb20gJ0BzaGVsbC9jb25maWcvc2NoZW1hJzsKaW1wb3J0IHsgZ2V0U3RhdGVzQnlUeXBlIH0gZnJvbSAnQHNoZWxsL3BsdWdpbnMvZGFzaGJvYXJkLXN0b3JlL3Jlc291cmNlLWNsYXNzJzsKaW1wb3J0IE1vdmVNb2RhbCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Nb3ZlTW9kYWwnOwppbXBvcnQgVGFiIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9UYWInOwppbXBvcnQgUmVzb3VyY2VUYWJsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9SZXNvdXJjZVRhYmxlJzsKaW1wb3J0IFNvcnRhYmxlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZSc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgeyBmbGF0dGVuLCBjb21wYWN0LCBmaWx0ZXIsIGZpbmRLZXksIHZhbHVlcyB9IGZyb20gJ2xvZGFzaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBSZXNvdXJjZXNTdW1tYXJ5OiBSZXNvdXJjZXNTdW1tYXJ5LAogICAgUmVzb3VyY2VUYWJsZTogUmVzb3VyY2VUYWJsZSwKICAgIFJlc291cmNlVGFiczogUmVzb3VyY2VUYWJzLAogICAgTG9hZGluZzogTG9hZGluZywKICAgIE1vdmVNb2RhbDogTW92ZU1vZGFsLAogICAgVGFiOiBUYWIsCiAgICBTb3J0YWJsZVRhYmxlOiBTb3J0YWJsZVRhYmxlCiAgfSwKICBtaXhpbnM6IFtDcmVhdGVFZGl0Vmlld10sCiAgcHJvcHM6IHsKICAgIG1vZGU6IHsKICAgICAgZGVmYXVsdDogJ2NyZWF0ZScsCiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgaGVhZGVycyA9IFt7CiAgICAgIG5hbWU6ICd0eXBlJywKICAgICAgbGFiZWw6IHRoaXMudCgndGFibGVIZWFkZXJzLnNpbXBsZVR5cGUnKSwKICAgICAgdmFsdWU6ICd0eXBlJwogICAgfSwgewogICAgICBuYW1lOiAnZXJyb3InLAogICAgICBsYWJlbDogdGhpcy50KCduYW1lc3BhY2UucmVzb3VyY2VTdGF0ZXMuZXJyb3InKSwKICAgICAgdmFsdWU6ICdieVN0YXRlLmVycm9yJywKICAgICAgc29ydDogJ2J5U3RhdGUuZXJyb3I6ZGVzYycsCiAgICAgIGZvcm1hdHRlcjogJ051bWJlcicKICAgIH0sIHsKICAgICAgbmFtZTogJ3dhcm5pbmcnLAogICAgICBsYWJlbDogdGhpcy50KCduYW1lc3BhY2UucmVzb3VyY2VTdGF0ZXMud2FybmluZycpLAogICAgICB2YWx1ZTogJ2J5U3RhdGUud2FybmluZycsCiAgICAgIHNvcnQ6ICdieVN0YXRlLndhcm5pbmc6ZGVzYycsCiAgICAgIGZvcm1hdHRlcjogJ051bWJlcicKICAgIH0sIHsKICAgICAgbmFtZTogJ3RyYW5zaXRpb25pbmcnLAogICAgICBsYWJlbDogdGhpcy50KCduYW1lc3BhY2UucmVzb3VyY2VTdGF0ZXMuaW5mbycpLAogICAgICB2YWx1ZTogJ2J5U3RhdGUuaW5mbycsCiAgICAgIHNvcnQ6ICdieVN0YXRlLmluZm86ZGVzYycsCiAgICAgIGZvcm1hdHRlcjogJ051bWJlcicKICAgIH0sIHsKICAgICAgbmFtZTogJ2FjdGl2ZScsCiAgICAgIGxhYmVsOiB0aGlzLnQoJ25hbWVzcGFjZS5yZXNvdXJjZVN0YXRlcy5zdWNjZXNzJyksCiAgICAgIHNvcnQ6ICdieVN0YXRlLnN1Y2Nlc3M6ZGVzYycsCiAgICAgIHZhbHVlOiAnYnlTdGF0ZS5zdWNjZXNzJwogICAgfSwgewogICAgICBuYW1lOiAndW5rbm93bicsCiAgICAgIGxhYmVsOiB0aGlzLnQoJ25hbWVzcGFjZS5yZXNvdXJjZVN0YXRlcy51bmtub3duJyksCiAgICAgIHNvcnQ6ICdieVN0YXRlLnVua25vd246ZGVzYycsCiAgICAgIHZhbHVlOiAnYnlTdGF0ZS51bmtub3duJywKICAgICAgZm9ybWF0dGVyOiAnTnVtYmVyJwogICAgfSwgewogICAgICBuYW1lOiAndG90YWwnLAogICAgICBsYWJlbDogdGhpcy50KCduYW1lc3BhY2UudG90YWwnKSwKICAgICAgc29ydDogJ3RvdGFsQ291bnQ6ZGVzYycsCiAgICAgIHZhbHVlOiAndG90YWxDb3VudCcKICAgIH1dOwogICAgcmV0dXJuIHsKICAgICAgYWxsV29ya2xvYWRzOiB7CiAgICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfSwKICAgICAgICB0eXBlOiBBcnJheQogICAgICB9LAogICAgICByZXNvdXJjZVR5cGVzOiBbXSwKICAgICAgc3VtbWFyeVN0YXRlczogWydzdWNjZXNzJywgJ2luZm8nLCAnd2FybmluZycsICdlcnJvcicsICd1bmtub3duJ10sCiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsCiAgICAgIHdvcmtsb2FkU2NoZW1hOiBXT1JLTE9BRF9TQ0hFTUEKICAgIH07CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRBbGxXb3JrbG9hZHMoKTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgX3RoaXMuYWxsV29ya2xvYWRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGluU3RvcmU6IGZ1bmN0aW9uIGluU3RvcmUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50UHJvZHVjdCddLmluU3RvcmU7CiAgICB9LAogICAgbmFtZXNwYWNlZFJlc291cmNlQ291bnRzOiBmdW5jdGlvbiBuYW1lc3BhY2VkUmVzb3VyY2VDb3VudHMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgYWxsQ2x1c3RlclJlc291cmNlQ291bnRzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1siIi5jb25jYXQodGhpcy5pblN0b3JlLCAiL2FsbCIpXShDT1VOVClbMF0uY291bnRzOwogICAgICByZXR1cm4gT2JqZWN0LmtleXMoYWxsQ2x1c3RlclJlc291cmNlQ291bnRzKS5yZWR1Y2UoZnVuY3Rpb24gKG5hbWVzcGFjZWQsIHR5cGUpIHsKICAgICAgICB2YXIgdHlwZUNvdW50cyA9IGFsbENsdXN0ZXJSZXNvdXJjZUNvdW50c1t0eXBlXTsKICAgICAgICBpZiAoIXR5cGVDb3VudHMubmFtZXNwYWNlcyB8fCAhdHlwZUNvdW50cy5uYW1lc3BhY2VzW190aGlzMi52YWx1ZS5pZF0pIHsKICAgICAgICAgIHJldHVybiBuYW1lc3BhY2VkOwogICAgICAgIH0KICAgICAgICB2YXIgaW5OYW1lc3BhY2UgPSB0eXBlQ291bnRzLm5hbWVzcGFjZXNbX3RoaXMyLnZhbHVlLmlkXTsKICAgICAgICBuYW1lc3BhY2VkLnB1c2goewogICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgIGJ5U3RhdGU6IF90aGlzMi5yZWR1Y2VTdGF0ZXMoaW5OYW1lc3BhY2Uuc3RhdGVzIHx8IHt9LCBpbk5hbWVzcGFjZS5jb3VudCksCiAgICAgICAgICB0b3RhbENvdW50OiBpbk5hbWVzcGFjZS5jb3VudCwKICAgICAgICAgIHNjaGVtYTogX3RoaXMyLnNjaGVtYUZvcih0eXBlKQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBuYW1lc3BhY2VkOwogICAgICB9LCBbXSk7CiAgICB9LAogICAgYWNjdW11bGF0ZWRTdGF0ZUNvdW50czogZnVuY3Rpb24gYWNjdW11bGF0ZWRTdGF0ZUNvdW50cygpIHsKICAgICAgdmFyIHRvdGFscyA9IHt9OwogICAgICBmb3IgKHZhciBzdGF0ZSBpbiB0aGlzLnN0YXRlc0J5VHlwZSkgewogICAgICAgIHRvdGFsc1tzdGF0ZV0gPSAwOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLm5hbWVzcGFjZWRSZXNvdXJjZUNvdW50cy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgdHlwZSkgewogICAgICAgIGZvciAodmFyIF9zdGF0ZSBpbiB0eXBlLmJ5U3RhdGUpIHsKICAgICAgICAgIHN1bVtfc3RhdGVdICs9IHR5cGUuYnlTdGF0ZVtfc3RhdGVdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3VtOwogICAgICB9LCB0b3RhbHMpOwogICAgfSwKICAgIHN0YXRlc0J5VHlwZTogZnVuY3Rpb24gc3RhdGVzQnlUeXBlKCkgewogICAgICByZXR1cm4gZ2V0U3RhdGVzQnlUeXBlKCk7CiAgICB9LAogICAgLyoqCiAgICAgKiBXb3JrbG9hZCB0YWJsZSBkYXRhIGZvciBjdXJyZW50IG5hbWVzcGFjZQogICAgICovCiAgICB3b3JrbG9hZFJvd3M6IGZ1bmN0aW9uIHdvcmtsb2FkUm93cygpIHsKICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuJHJvdXRlLnBhcmFtczsKICAgICAgdmFyIGlkID0gcGFyYW1zLmlkOwogICAgICB2YXIgcm93cyA9IGZsYXR0ZW4oY29tcGFjdCh0aGlzLmFsbFdvcmtsb2FkcykpLmZpbHRlcihmdW5jdGlvbiAocm93KSB7CiAgICAgICAgcmV0dXJuICFyb3cub3duZWRCeVdvcmtsb2FkOwogICAgICB9KTsKICAgICAgdmFyIG5hbWVzcGFjZWRSb3dzID0gZmlsdGVyKHJvd3MsIGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIG5hbWVzcGFjZSA9IF9yZWYubWV0YWRhdGEubmFtZXNwYWNlOwogICAgICAgIHJldHVybiBuYW1lc3BhY2UgPT09IGlkOwogICAgICB9KTsKICAgICAgcmV0dXJuIG5hbWVzcGFjZWRSb3dzOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8gc29ydCBzdGF0ZXMgaW50byA1IGNvbG9yLWRlbGluZWF0ZWQgY2F0ZWdvcmllczogaW5mbywgZXJyb3IsIHN1Y2Nlc3MsIHdhcm5pbmcsIHVua25vd24KICAgIHJlZHVjZVN0YXRlczogZnVuY3Rpb24gcmVkdWNlU3RhdGVzKHN0YXRlcywgdG90YWwpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBvdXQgPSB7CiAgICAgICAgc3VjY2VzczogdG90YWwKICAgICAgfTsKICAgICAgT2JqZWN0LmtleXMoc3RhdGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgICAgIG91dC5zdWNjZXNzIC09IHN0YXRlc1tzdGF0ZV07CiAgICAgICAgaWYgKCEhb3V0W3N0YXRlXSkgewogICAgICAgICAgb3V0W3N0YXRlXSArPSBzdGF0ZXNbc3RhdGVdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZ2VuZXJpY1N0YXRlS2V5ID0gZmluZEtleShfdGhpczMuc3RhdGVzQnlUeXBlLCBmdW5jdGlvbiAoc3RhdGVOYW1lcykgewogICAgICAgICAgICByZXR1cm4gc3RhdGVOYW1lcy5pbmNsdWRlcyhzdGF0ZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChnZW5lcmljU3RhdGVLZXkpIHsKICAgICAgICAgICAgb3V0W2dlbmVyaWNTdGF0ZUtleV0gPyBvdXRbZ2VuZXJpY1N0YXRlS2V5XSArPSBzdGF0ZXNbc3RhdGVdIDogb3V0W2dlbmVyaWNTdGF0ZUtleV0gPSBzdGF0ZXNbc3RhdGVdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb3V0LnVua25vd24gPyBvdXQudW5rbm93biArPSBzdGF0ZXNbc3RhdGVdIDogb3V0LnVua25vd24gPSBzdGF0ZXNbc3RhdGVdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAogICAgLyoqCiAgICAgKiBSZXRyaWV2ZSB3b3JrbG9hZHMgZm9yIHRoaXMgbmFtZXNwYWNlIGFuZCBlYWNoIHR5cGUKICAgICAqLwogICAgZ2V0QWxsV29ya2xvYWRzOiBmdW5jdGlvbiBnZXRBbGxXb3JrbG9hZHMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICByZXR1cm4gUHJvbWlzZS5hbGwodmFsdWVzKFdPUktMT0FEX1RZUEVTKQogICAgICAvLyBZb3UgbWF5IG5vdCBoYXZlIFJCQUMgdG8gc2VlIHNvbWUgb2YgdGhlIHR5cGVzCiAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICByZXR1cm4gQm9vbGVhbihfdGhpczQuc2NoZW1hRm9yKHR5cGUpKTsKICAgICAgfSkubWFwKGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZEFsbCcsIHsKICAgICAgICAgIHR5cGU6IHR5cGUKICAgICAgICB9KTsKICAgICAgfSkpOwogICAgfSwKICAgIHNjaGVtYUZvcjogZnVuY3Rpb24gc2NoZW1hRm9yKHR5cGUpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbIiIuY29uY2F0KHRoaXMuaW5TdG9yZSwgIi9zY2hlbWFGb3IiKV0odHlwZSk7CiAgICB9LAogICAgdHlwZUxpc3RMb2NhdGlvbjogZnVuY3Rpb24gdHlwZUxpc3RMb2NhdGlvbihzY2hlbWEpIHsKICAgICAgdmFyIF9zY2hlbWEkbGlua3M7CiAgICAgIGlmIChzY2hlbWEgIT09IG51bGwgJiYgc2NoZW1hICE9PSB2b2lkIDAgJiYgKF9zY2hlbWEkbGlua3MgPSBzY2hlbWEubGlua3MpICE9PSBudWxsICYmIF9zY2hlbWEkbGlua3MgIT09IHZvaWQgMCAmJiBfc2NoZW1hJGxpbmtzLmNvbGxlY3Rpb24pIHsKICAgICAgICB2YXIgbG9jYXRpb24gPSB7CiAgICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UnLAogICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuJHJvdXRlLnBhcmFtcyksIHt9LCB7CiAgICAgICAgICAgIHJlc291cmNlOiBzY2hlbWEuc2hvcnRJZAogICAgICAgICAgfSkKICAgICAgICB9OwogICAgICAgIHJldHVybiBsb2NhdGlvbjsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9Cn07"},{"version":3,"names":["CreateEditView","ResourcesSummary","ResourceTabs","COUNT","WORKLOAD_TYPES","WORKLOAD_SCHEMA","getStatesByType","MoveModal","Tab","ResourceTable","SortableTable","Loading","flatten","compact","filter","findKey","values","components","mixins","props","mode","default","type","String","value","required","Object","data","headers","name","label","t","sort","formatter","allWorkloads","_default","Array","resourceTypes","summaryStates","workloadSchema","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","getAllWorkloads","sent","stop","computed","inStore","$store","getters","namespacedResourceCounts","_this2","allClusterResourceCounts","concat","counts","keys","reduce","namespaced","typeCounts","namespaces","id","inNamespace","push","byState","reduceStates","states","count","totalCount","schema","schemaFor","accumulatedStateCounts","totals","state","statesByType","sum","workloadRows","params","$route","rows","row","ownedByWorkload","namespacedRows","_ref","namespace","metadata","methods","total","_this3","out","success","forEach","genericStateKey","stateNames","includes","unknown","_this4","Promise","all","Boolean","map","dispatch","typeListLocation","_schema$links","links","collection","location","_objectSpread","resource","shortId"],"sources":["node_modules/@rancher/shell/detail/namespace.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport ResourcesSummary from '@shell/components/fleet/ResourcesSummary';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport { COUNT, WORKLOAD_TYPES } from '@shell/config/types';\nimport { WORKLOAD_SCHEMA } from '@shell/config/schema';\nimport { getStatesByType } from '@shell/plugins/dashboard-store/resource-class';\nimport MoveModal from '@shell/components/MoveModal';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport SortableTable from '@shell/components/SortableTable';\nimport Loading from '@shell/components/Loading';\nimport {\n  flatten, compact, filter, findKey, values\n} from 'lodash';\n\nexport default {\n  components: {\n    ResourcesSummary,\n    ResourceTable,\n    ResourceTabs,\n    Loading,\n    MoveModal,\n    Tab,\n    SortableTable\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      default: 'create',\n      type:    String,\n    },\n    value: {\n      required: true,\n      type:     Object,\n    },\n  },\n\n  data() {\n    const headers = [\n      {\n        name:  'type',\n        label: this.t('tableHeaders.simpleType'),\n        value: 'type'\n      },\n      {\n        name:      'error',\n        label:     this.t('namespace.resourceStates.error'),\n        value:     'byState.error',\n        sort:      'byState.error:desc',\n        formatter: 'Number'\n      },\n      {\n        name:      'warning',\n        label:     this.t('namespace.resourceStates.warning'),\n        value:     'byState.warning',\n        sort:      'byState.warning:desc',\n        formatter: 'Number'\n      },\n      {\n        name:      'transitioning',\n        label:     this.t('namespace.resourceStates.info'),\n        value:     'byState.info',\n        sort:      'byState.info:desc',\n        formatter: 'Number'\n      },\n      {\n        name:  'active',\n        label: this.t('namespace.resourceStates.success'),\n        sort:  'byState.success:desc',\n        value: 'byState.success',\n      },\n      {\n        name:      'unknown',\n        label:     this.t('namespace.resourceStates.unknown'),\n        sort:      'byState.unknown:desc',\n        value:     'byState.unknown',\n        formatter: 'Number'\n      },\n      {\n        name:  'total',\n        label: this.t('namespace.total'),\n        sort:  'totalCount:desc',\n        value: 'totalCount',\n      },\n    ];\n\n    return {\n      allWorkloads: {\n        default: () => ([]),\n        type:    Array,\n      },\n      resourceTypes:  [],\n      summaryStates:  ['success', 'info', 'warning', 'error', 'unknown'],\n      headers,\n      workloadSchema: WORKLOAD_SCHEMA\n    };\n  },\n\n  async fetch() {\n    this.allWorkloads = await this.getAllWorkloads();\n  },\n\n  computed: {\n    inStore() {\n      return this.$store.getters['currentProduct'].inStore;\n    },\n\n    namespacedResourceCounts() {\n      const allClusterResourceCounts = this.$store.getters[`${ this.inStore }/all`](COUNT)[0].counts;\n\n      return Object.keys(allClusterResourceCounts).reduce((namespaced, type) => {\n        const typeCounts = allClusterResourceCounts[type];\n\n        if (!typeCounts.namespaces || !typeCounts.namespaces[this.value.id]) {\n          return namespaced;\n        }\n        const inNamespace = typeCounts.namespaces[this.value.id];\n\n        namespaced.push({\n          type,\n          byState:    this.reduceStates(inNamespace.states || {}, inNamespace.count),\n          totalCount: inNamespace.count,\n          schema:     this.schemaFor(type)\n        });\n\n        return namespaced;\n      }, []);\n    },\n\n    accumulatedStateCounts() {\n      const totals = {};\n\n      for (const state in this.statesByType) {\n        totals[state] = 0;\n      }\n\n      return this.namespacedResourceCounts.reduce((sum, type) => {\n        for (const state in type.byState) {\n          sum[state] += type.byState[state];\n        }\n\n        return sum;\n      }, totals);\n    },\n\n    statesByType() {\n      return getStatesByType();\n    },\n\n    /**\n     * Workload table data for current namespace\n     */\n    workloadRows() {\n      const params = this.$route.params;\n      const { id } = params;\n      const rows = flatten(compact(this.allWorkloads)).filter((row) => !row.ownedByWorkload);\n      const namespacedRows = filter(rows, ({ metadata: { namespace } }) => namespace === id);\n\n      return namespacedRows;\n    }\n  },\n\n  methods: {\n    // sort states into 5 color-delineated categories: info, error, success, warning, unknown\n    reduceStates(states, total) {\n      const out = { success: total };\n\n      Object.keys(states).forEach((state) => {\n        out.success -= states[state];\n        if (!!out[state]) {\n          out[state] += states[state];\n        } else {\n          const genericStateKey = findKey(\n            this.statesByType,\n            (stateNames) => stateNames.includes(state)\n          );\n\n          if (genericStateKey) {\n            out[genericStateKey] ? out[genericStateKey] += states[state] : out[genericStateKey] = states[state];\n          } else {\n            out.unknown ? out.unknown += states[state] : out.unknown = states[state];\n          }\n        }\n      });\n\n      return out;\n    },\n\n    /**\n     * Retrieve workloads for this namespace and each type\n     */\n    getAllWorkloads() {\n      return Promise.all(values(WORKLOAD_TYPES)\n        // You may not have RBAC to see some of the types\n        .filter((type) => Boolean(this.schemaFor(type)))\n        .map((type) => this.$store.dispatch('cluster/findAll', { type }))\n      );\n    },\n\n    schemaFor(type) {\n      return this.$store.getters[`${ this.inStore }/schemaFor`](type);\n    },\n\n    typeListLocation(schema) {\n      if (schema?.links?.collection) {\n        const location = {\n          name:   'c-cluster-product-resource',\n          params: { ...this.$route.params, resource: schema.shortId }\n        };\n\n        return location;\n      }\n\n      return null;\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"mb-20\">\n      <h3>{{ t('namespace.resources') }}</h3>\n      <ResourcesSummary\n        state-key=\"namespace.resourceStates\"\n        :value=\"accumulatedStateCounts\"\n        :required-states=\"summaryStates\"\n      />\n    </div>\n    <ResourceTabs\n      v-model=\"value\"\n      :mode=\"mode\"\n    >\n      <Tab :name=\"t('namespace.resources')\">\n        <SortableTable\n          default-sort-by=\"error\"\n          :table-actions=\"false\"\n          :row-actions=\"false\"\n          :rows=\"namespacedResourceCounts\"\n          :headers=\"headers\"\n        >\n          <template #col:type=\"{row}\">\n            <td>\n              <n-link\n                v-if=\"typeListLocation(row.schema)\"\n                :to=\"typeListLocation(row.schema)\"\n              >\n                {{ row.schema.pluralName }}\n              </n-link>\n              <span v-else>{{ row.schema.pluralName }}</span>\n            </td>\n          </template>\n        </SortableTable>\n      </Tab>\n\n      <Tab :name=\"t('namespace.workloads')\">\n        <ResourceTable\n          name=\"workloads\"\n          :groupable=\"false\"\n          v-bind=\"$attrs\"\n          :schema=\"workloadSchema\"\n          :rows=\"workloadRows\"\n        />\n      </Tab>\n    </ResourceTabs>\n    <MoveModal />\n  </div>\n</template>\n"],"mappings":"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"}]}