{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/version.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/version.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmVuZHMtd2l0aC5qcyI7CmltcG9ydCB7IHNvcnRhYmxlTnVtZXJpY1N1ZmZpeCB9IGZyb20gJ0BzaGVsbC91dGlscy9zb3J0JzsKaW1wb3J0IHNlbXZlciBmcm9tICdzZW12ZXInOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IFJFQURfV0hBVFNfTkVXLCBTRUVOX1dIQVRTX05FVyB9IGZyb20gJ0BzaGVsbC9zdG9yZS9wcmVmcyc7CmV4cG9ydCBmdW5jdGlvbiBwYXJzZShzdHIpIHsKICBzdHIgPSAiIi5jb25jYXQoc3RyKTsKCiAgLy8gVHJpbSBvZmYgbGVhZGluZyAndicKICBpZiAoc3RyLnN1YnN0cigwLCAxKS50b0xvd2VyQ2FzZSgpID09PSAndicpIHsKICAgIHN0ciA9IHN0ci5zdWJzdHIoMSk7CiAgfQogIHZhciBwYXJ0cyA9IHN0ci5zcGxpdCgvWy4rLV0vKTsKICByZXR1cm4gcGFydHM7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNvcnRhYmxlKHN0cikgewogIHJldHVybiBwYXJzZShzdHIpLm1hcChmdW5jdGlvbiAoeCkgewogICAgcmV0dXJuIHNvcnRhYmxlTnVtZXJpY1N1ZmZpeCh4KTsKICB9KS5qb2luKCcuJyk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmUoaW4xLCBpbjIpIHsKICBpZiAoIWluMSkgewogICAgcmV0dXJuIDE7CiAgfQogIGlmICghaW4yKSB7CiAgICByZXR1cm4gLTE7CiAgfQogIHZhciBwMSA9IHBhcnNlKGluMSk7CiAgdmFyIHAyID0gcGFyc2UoaW4yKTsKICB2YXIgbWluTGVuID0gTWF0aC5taW4ocDEubGVuZ3RoLCBwMi5sZW5ndGgpOwogIGZvciAodmFyIGkgPSAwOyBpIDwgbWluTGVuOyBpKyspIHsKICAgIHZhciByZXMgPSBjb21wYXJlUGFydChwMVtpXSwgcDJbaV0pOwogICAgaWYgKHJlcyAhPT0gMCkgewogICAgICByZXR1cm4gcmVzOwogICAgfQogIH0KICByZXR1cm4gcDEubGVuZ3RoIC0gcDIubGVuZ3RoOwp9CmZ1bmN0aW9uIGlzTnVtZXJpYyhzdHIpIHsKICByZXR1cm4gIiIuY29uY2F0KHN0cikubWF0Y2goL14oWzAtOV0rXC4pP1swLTldKiQvKTsKfQpmdW5jdGlvbiBjb21wYXJlUGFydChpbjEsIGluMikgewogIGluMSA9ICIiLmNvbmNhdChpbjEpLnRvTG93ZXJDYXNlKCk7CiAgaW4yID0gIiIuY29uY2F0KGluMikudG9Mb3dlckNhc2UoKTsKICBpZiAoaXNOdW1lcmljKGluMSkgJiYgaXNOdW1lcmljKGluMikpIHsKICAgIHZhciBudW0xID0gcGFyc2VJbnQoaW4xLCAxMCk7CiAgICB2YXIgbnVtMiA9IHBhcnNlSW50KGluMiwgMTApOwogICAgaWYgKCFpc05hTihudW0xKSAmJiAhaXNOYU4obnVtMikpIHsKICAgICAgcmV0dXJuIG51bTEgLSBudW0yOwogICAgfQogIH0KICByZXR1cm4gaW4xLmxvY2FsZUNvbXBhcmUoaW4yKTsKfQpleHBvcnQgZnVuY3Rpb24gaXNQcmVyZWxlYXNlKHZlcnNpb24pIHsKICBpZiAoIXNlbXZlci52YWxpZCh2ZXJzaW9uKSkgewogICAgdmVyc2lvbiA9IHNlbXZlci5jbGVhbih2ZXJzaW9uLCB7CiAgICAgIGxvb3NlOiB0cnVlCiAgICB9KTsKICB9CiAgcmV0dXJuICEhc2VtdmVyLnByZXJlbGVhc2UodmVyc2lvbik7Cn0KZXhwb3J0IGZ1bmN0aW9uIGlzRGV2QnVpbGQodmVyc2lvbikgewogIGlmIChbJ2RldicsICdtYXN0ZXInLCAnaGVhZCddLmluY2x1ZGVzKHZlcnNpb24pIHx8IHZlcnNpb24uZW5kc1dpdGgoJy1oZWFkJykgfHwgdmVyc2lvbi5tYXRjaCgvLXJjXGQrJC8pIHx8IHZlcnNpb24ubWF0Y2goLy1hbHBoYVxkKyQvKSkgewogICAgcmV0dXJuIHRydWU7CiAgfQogIHJldHVybiBmYWxzZTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0VmVyc2lvbkluZm8oc3RvcmUpIHsKICB2YXIgc2V0dGluZyA9IHN0b3JlLmdldHRlcnNbJ21hbmFnZW1lbnQvYnlJZCddKE1BTkFHRU1FTlQuU0VUVElORywgJ3NlcnZlci12ZXJzaW9uJyk7CiAgdmFyIGZ1bGxWZXJzaW9uID0gKHNldHRpbmcgPT09IG51bGwgfHwgc2V0dGluZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2V0dGluZy52YWx1ZSkgfHwgJ3Vua25vd24nOwogIHZhciBkaXNwbGF5VmVyc2lvbiA9IGZ1bGxWZXJzaW9uOwogIHZhciBtYXRjaCA9IGZ1bGxWZXJzaW9uLm1hdGNoKC9eKC4qKS0oWzAtOWEtZl17NDB9KS0oLiopJC8pOwogIGlmIChtYXRjaCkgewogICAgZGlzcGxheVZlcnNpb24gPSBtYXRjaFsyXS5zdWJzdHIoMCwgNyk7CiAgfQogIHJldHVybiB7CiAgICBkaXNwbGF5VmVyc2lvbjogZGlzcGxheVZlcnNpb24sCiAgICBmdWxsVmVyc2lvbjogZnVsbFZlcnNpb24KICB9Owp9CmV4cG9ydCBmdW5jdGlvbiBzZWVuUmVsZWFzZU5vdGVzKHN0b3JlKSB7CiAgdmFyIGxhc3RTZWVuTmV3ID0gc3RvcmUuZ2V0dGVyc1sncHJlZnMvZ2V0J10oU0VFTl9XSEFUU19ORVcpOwogIHZhciBmdWxsVmVyc2lvbiA9IGdldFZlcnNpb25JbmZvKHN0b3JlKS5mdWxsVmVyc2lvbjsKICByZXR1cm4gY29tcGFyZShsYXN0U2Vlbk5ldywgZnVsbFZlcnNpb24pID49IDAgJiYgISFsYXN0U2Vlbk5ldzsKfQoKLy8gTWFyayB0aGF0IHRoZSB1c2VyIGhhcyBzZWVuIHRoZSByZWxlYXNlIG5vdGVzIGZvciB0aGlzIHZlcnNpb24gaWYgbm90IGFscmVhZHkgZG9uZQpleHBvcnQgZnVuY3Rpb24gbWFya1NlZW5SZWxlYXNlTm90ZXMoX3gpIHsKICByZXR1cm4gX21hcmtTZWVuUmVsZWFzZU5vdGVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KZnVuY3Rpb24gX21hcmtTZWVuUmVsZWFzZU5vdGVzKCkgewogIF9tYXJrU2VlblJlbGVhc2VOb3RlcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShzdG9yZSkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgaWYgKHNlZW5SZWxlYXNlTm90ZXMoc3RvcmUpKSB7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdwcmVmcy9zZXQnLCB7CiAgICAgICAgICAgIGtleTogU0VFTl9XSEFUU19ORVcsCiAgICAgICAgICAgIHZhbHVlOiBnZXRWZXJzaW9uSW5mbyhzdG9yZSkuZnVsbFZlcnNpb24KICAgICAgICAgIH0pOwogICAgICAgIGNhc2UgMzoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfbWFya1NlZW5SZWxlYXNlTm90ZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQpleHBvcnQgZnVuY3Rpb24gcmVhZFJlbGVhc2VOb3RlcyhzdG9yZSkgewogIHZhciBsYXN0U2Vlbk5ldyA9IHN0b3JlLmdldHRlcnNbJ3ByZWZzL2dldCddKFJFQURfV0hBVFNfTkVXKTsKICB2YXIgZnVsbFZlcnNpb24gPSBnZXRWZXJzaW9uSW5mbyhzdG9yZSkuZnVsbFZlcnNpb247CiAgcmV0dXJuIGNvbXBhcmUobGFzdFNlZW5OZXcsIGZ1bGxWZXJzaW9uKSA+PSAwICYmICEhbGFzdFNlZW5OZXc7Cn0KCi8vIE1hcmsgdGhhdCB0aGUgdXNlciBoYXMgcmVhZCB0aGUgcmVsZWFzZSBub3RlcyBmb3IgdGhpcyB2ZXJzaW9uIGlmIG5vdCBhbHJlYWR5IGRvbmUKZXhwb3J0IGZ1bmN0aW9uIG1hcmtSZWFkUmVsZWFzZU5vdGVzKF94MikgewogIHJldHVybiBfbWFya1JlYWRSZWxlYXNlTm90ZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQpmdW5jdGlvbiBfbWFya1JlYWRSZWxlYXNlTm90ZXMoKSB7CiAgX21hcmtSZWFkUmVsZWFzZU5vdGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihzdG9yZSkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGlmIChyZWFkUmVsZWFzZU5vdGVzKHN0b3JlKSkgewogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdwcmVmcy9zZXQnLCB7CiAgICAgICAgICAgIGtleTogUkVBRF9XSEFUU19ORVcsCiAgICAgICAgICAgIHZhbHVlOiBnZXRWZXJzaW9uSW5mbyhzdG9yZSkuZnVsbFZlcnNpb24KICAgICAgICAgIH0pOwogICAgICAgIGNhc2UgMzoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CiAgcmV0dXJuIF9tYXJrUmVhZFJlbGVhc2VOb3Rlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVN1cHBvcnRMaW5rKHZlcnNpb24pIHsKICB2YXIgZGVmYXVsdFN1cHBvcnRVUkwgPSAnaHR0cHM6Ly9yYW5jaGVyLmNvbS9zdXBwb3J0LW1haW50ZW5hbmNlLXRlcm1zJzsKICBpZiAoIXZlcnNpb24gfHwgaXNEZXZCdWlsZCh2ZXJzaW9uKSkgewogICAgcmV0dXJuIGRlZmF1bHRTdXBwb3J0VVJMOwogIH0KICB2YXIgYmFzZVVybCA9ICdodHRwczovL3d3dy5zdXNlLmNvbS9zdXNlLXJhbmNoZXIvc3VwcG9ydC1tYXRyaXgvYWxsLXN1cHBvcnRlZC12ZXJzaW9ucy9yYW5jaGVyLSc7CiAgdmFyIGZvcm1hdHRlZFZlcnNpb24gPSB2ZXJzaW9uLnNwbGl0KCcuJykuam9pbignLScpOwogIHJldHVybiBiYXNlVXJsICsgZm9ybWF0dGVkVmVyc2lvbjsKfQ=="},{"version":3,"names":["sortableNumericSuffix","semver","MANAGEMENT","READ_WHATS_NEW","SEEN_WHATS_NEW","parse","str","concat","substr","toLowerCase","parts","split","sortable","map","x","join","compare","in1","in2","p1","p2","minLen","Math","min","length","i","res","comparePart","isNumeric","match","num1","parseInt","num2","isNaN","localeCompare","isPrerelease","version","valid","clean","loose","prerelease","isDevBuild","includes","endsWith","getVersionInfo","store","setting","getters","SETTING","fullVersion","value","displayVersion","seenReleaseNotes","lastSeenNew","markSeenReleaseNotes","_x","_markSeenReleaseNotes","apply","arguments","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","dispatch","key","stop","readReleaseNotes","markReadReleaseNotes","_x2","_markReadReleaseNotes","_callee2","_callee2$","_context2","generateSupportLink","defaultSupportURL","baseUrl","formattedVersion"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/version.js"],"sourcesContent":["import { sortableNumericSuffix } from '@shell/utils/sort';\nimport semver from 'semver';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { READ_WHATS_NEW, SEEN_WHATS_NEW } from '@shell/store/prefs';\n\nexport function parse(str) {\n  str = `${ str }`;\n\n  // Trim off leading 'v'\n  if ( str.substr(0, 1).toLowerCase() === 'v' ) {\n    str = str.substr(1);\n  }\n\n  const parts = str.split(/[.+-]/);\n\n  return parts;\n}\n\nexport function sortable(str) {\n  return parse(str).map((x) => sortableNumericSuffix(x)).join('.');\n}\n\nexport function compare(in1, in2) {\n  if ( !in1 ) {\n    return 1;\n  }\n\n  if ( !in2 ) {\n    return -1;\n  }\n\n  const p1 = parse(in1);\n  const p2 = parse(in2);\n\n  const minLen = Math.min(p1.length, p2.length);\n\n  for ( let i = 0 ; i < minLen ; i++ ) {\n    const res = comparePart(p1[i], p2[i]);\n\n    if ( res !== 0 ) {\n      return res;\n    }\n  }\n\n  return p1.length - p2.length;\n}\n\nfunction isNumeric(str) {\n  return (`${ str }`).match(/^([0-9]+\\.)?[0-9]*$/);\n}\n\nfunction comparePart(in1, in2) {\n  in1 = (`${ in1 }`).toLowerCase();\n  in2 = (`${ in2 }`).toLowerCase();\n\n  if ( isNumeric(in1) && isNumeric(in2) ) {\n    const num1 = parseInt(in1, 10);\n    const num2 = parseInt(in2, 10);\n\n    if ( !isNaN(num1) && !isNaN(num2) ) {\n      return num1 - num2;\n    }\n  }\n\n  return in1.localeCompare(in2);\n}\n\nexport function isPrerelease(version) {\n  if (!semver.valid(version)) {\n    version = semver.clean(version, { loose: true });\n  }\n\n  return !!semver.prerelease(version);\n}\n\nexport function isDevBuild(version) {\n  if ( ['dev', 'master', 'head'].includes(version) || version.endsWith('-head') || version.match(/-rc\\d+$/) || version.match(/-alpha\\d+$/) ) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function getVersionInfo(store) {\n  const setting = store.getters['management/byId'](MANAGEMENT.SETTING, 'server-version');\n  const fullVersion = setting?.value || 'unknown';\n  let displayVersion = fullVersion;\n\n  const match = fullVersion.match(/^(.*)-([0-9a-f]{40})-(.*)$/);\n\n  if ( match ) {\n    displayVersion = match[2].substr(0, 7);\n  }\n\n  return {\n    displayVersion,\n    fullVersion\n  };\n}\n\nexport function seenReleaseNotes(store) {\n  const lastSeenNew = store.getters['prefs/get'](SEEN_WHATS_NEW) ;\n  const fullVersion = getVersionInfo(store).fullVersion;\n\n  return compare(lastSeenNew, fullVersion) >= 0 && !!lastSeenNew;\n}\n\n// Mark that the user has seen the release notes for this version if not already done\nexport async function markSeenReleaseNotes(store) {\n  if (!seenReleaseNotes(store)) {\n    await store.dispatch('prefs/set', { key: SEEN_WHATS_NEW, value: getVersionInfo(store).fullVersion });\n  }\n}\n\nexport function readReleaseNotes(store) {\n  const lastSeenNew = store.getters['prefs/get'](READ_WHATS_NEW) ;\n  const fullVersion = getVersionInfo(store).fullVersion;\n\n  return compare(lastSeenNew, fullVersion) >= 0 && !!lastSeenNew;\n}\n\n// Mark that the user has read the release notes for this version if not already done\nexport async function markReadReleaseNotes(store) {\n  if (!readReleaseNotes(store)) {\n    await store.dispatch('prefs/set', { key: READ_WHATS_NEW, value: getVersionInfo(store).fullVersion });\n  }\n}\n\nexport function generateSupportLink(version) {\n  const defaultSupportURL = 'https://rancher.com/support-maintenance-terms';\n\n  if (!version || isDevBuild(version)) {\n    return defaultSupportURL;\n  }\n\n  const baseUrl = 'https://www.suse.com/suse-rancher/support-matrix/all-supported-versions/rancher-';\n  const formattedVersion = version.split('.').join('-');\n\n  return baseUrl + formattedVersion;\n}\n"],"mappings":"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"}]}