{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/RelatedResources.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/RelatedResources.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5wcm9taXNlLmFsbC1zZXR0bGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCBSZXNvdXJjZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlVGFibGUnOwppbXBvcnQgeyBjb2xvckZvclN0YXRlLCBzdGF0ZURpc3BsYXkgfSBmcm9tICdAc2hlbGwvcGx1Z2lucy9kYXNoYm9hcmQtc3RvcmUvcmVzb3VyY2UtY2xhc3MnOwppbXBvcnQgeyBOQU1FLCBOQU1FU1BBQ0UsIFNUQVRFLCBUWVBFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90YWJsZS1oZWFkZXJzJzsKaW1wb3J0IHsgc29ydGFibGVOdW1lcmljU3VmZml4IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvcnQnOwppbXBvcnQgeyBOQU1FIGFzIEVYUExPUkVSIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wcm9kdWN0L2V4cGxvcmVyJzsKaW1wb3J0IHsgQmFkZ2VTdGF0ZSB9IGZyb20gJ0Bjb21wb25lbnRzL0JhZGdlU3RhdGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUmVzb3VyY2VUYWJsZTogUmVzb3VyY2VUYWJsZSwKICAgIEJhZGdlU3RhdGU6IEJhZGdlU3RhdGUKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgcmVsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGRpcmVjdGlvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICd0bycKICAgIH0sCiAgICBpZ25vcmVUeXBlczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGVkUmVzb3VyY2VzOiAxCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbHRlcmVkUmVsYXRpb25zaGlwczogZnVuY3Rpb24gZmlsdGVyZWRSZWxhdGlvbnNoaXBzKCkgewogICAgICB2YXIgX3RoaXMkdmFsdWUsCiAgICAgICAgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgYWxsID0gKChfdGhpcyR2YWx1ZSA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgfHwgKF90aGlzJHZhbHVlID0gX3RoaXMkdmFsdWUubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZS5yZWxhdGlvbnNoaXBzKSB8fCBbXTsKCiAgICAgIC8vIEBUT0RPIHByb2JhYmx5IHdpbGwgbmVlZCBtb3JlIGZsZXhpYmxlIGZpbHRlcmluZyBoZXJlIGZvcgogICAgICAvLyByZWxhdGVkIHJlc291cmNlcyBvdGhlciB0aGFuIGhlbG0gYXBwIHJlc291cmNlcy4uLgoKICAgICAgYWxsID0gYWxsLmZpbHRlcihmdW5jdGlvbiAocmVsYXRpb25zaGlwKSB7CiAgICAgICAgdmFyIHR5cGUgPSByZWxhdGlvbnNoaXBbIiIuY29uY2F0KF90aGlzLmRpcmVjdGlvbiwgIlR5cGUiKV07CiAgICAgICAgaWYgKCF0eXBlIHx8IF90aGlzLmlnbm9yZVR5cGVzLmluY2x1ZGVzKHR5cGUpKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmIChfdGhpcy5yZWwgJiYgcmVsYXRpb25zaGlwLnJlbCAhPT0gX3RoaXMucmVsKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9KTsKICAgICAgcmV0dXJuIGFsbDsKICAgIH0sCiAgICByb3dzOiBmdW5jdGlvbiByb3dzKCkgewogICAgICBpZiAodGhpcy5sb2FkZWRSZXNvdXJjZXMgPCAxKSB7CiAgICAgICAgLy8gVGhpcyBkb2VzIG5vdGhpbmcgZXhjZXB0IGZvcmNlIHJlY29tcHV0ZSB3aGVuIGxvYWRlZCByZXNvdXJjZXMgY2hhbmdlIGJlbG93CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBjbHVzdGVyID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3RlcklkJ107CiAgICAgIHZhciBpblN0b3JlID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY3VycmVudFN0b3JlJ10oKTsKICAgICAgdmFyIG91dCA9IFtdOwogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5maWx0ZXJlZFJlbGF0aW9uc2hpcHMpLAogICAgICAgIF9zdGVwOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgciA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgdmFyIHN0YXRlID0gci5zdGF0ZSB8fCAnYWN0aXZlJzsKICAgICAgICAgIHZhciBzdGF0ZUNvbG9yID0gY29sb3JGb3JTdGF0ZShzdGF0ZSwgci5lcnJvciwgci50cmFuc2l0aW9uaW5nKTsKICAgICAgICAgIHZhciB0eXBlID0gclsiIi5jb25jYXQodGhpcy5kaXJlY3Rpb24sICJUeXBlIildOwogICAgICAgICAgdmFyIHNjaGVtYSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbIiIuY29uY2F0KGluU3RvcmUsICIvc2NoZW1hRm9yIildKHR5cGUpOwogICAgICAgICAgdmFyIG5hbWUgPSByWyIiLmNvbmNhdCh0aGlzLmRpcmVjdGlvbiwgIklkIildOwoKICAgICAgICAgIC8vIFNraXAgdGhpbmdzIGxpa2UgdG9UeXBlL3RvTmFtZXNwYWNlK3NlbGVjdG9yIGZvciBub3cKICAgICAgICAgIGlmICghbmFtZSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSBudWxsOwogICAgICAgICAgdmFyIGlkeCA9IG5hbWUuaW5kZXhPZignLycpOwogICAgICAgICAgdmFyIGtleSA9ICIiLmNvbmNhdCh0eXBlLCAiLyIpLmNvbmNhdChuYW1lc3BhY2UsICIvIikuY29uY2F0KG5hbWUpOwogICAgICAgICAgaWYgKGlkeCA+IDApIHsKICAgICAgICAgICAgbmFtZXNwYWNlID0gbmFtZS5zdWJzdHIoMCwgaWR4KTsKICAgICAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKGlkeCArIDEpOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGRldGFpbExvY2F0aW9uID0gewogICAgICAgICAgICBuYW1lOiAiYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UiLmNvbmNhdChuYW1lc3BhY2UgPyAnLW5hbWVzcGFjZScgOiAnJywgIi1pZCIpLAogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICBwcm9kdWN0OiBFWFBMT1JFUiwKICAgICAgICAgICAgICBjbHVzdGVyOiBpblN0b3JlID09PSAnbWFuYWdlbWVudCcgPyAnbG9jYWwnIDogY2x1c3RlciwKICAgICAgICAgICAgICByZXNvdXJjZTogdHlwZSwKICAgICAgICAgICAgICBuYW1lc3BhY2U6IG5hbWVzcGFjZSwKICAgICAgICAgICAgICBpZDogbmFtZQogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgb3V0LnB1c2goewogICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICByZWFsOiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyIiLmNvbmNhdChpblN0b3JlLCAiL2J5SWQiKV0odHlwZSwgclsiIi5jb25jYXQodGhpcy5kaXJlY3Rpb24sICJJZCIpXSksCiAgICAgICAgICAgIGlkOiByWyIiLmNvbmNhdCh0aGlzLmRpcmVjdGlvbiwgIklkIildLAogICAgICAgICAgICBzdGF0ZTogc3RhdGUsCiAgICAgICAgICAgIG1ldGFkYXRhOiB7CiAgICAgICAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsCiAgICAgICAgICAgICAgbmFtZTogbmFtZQogICAgICAgICAgICB9LAogICAgICAgICAgICBfa2V5OiBrZXksCiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlLAogICAgICAgICAgICBuYW1lRGlzcGxheTogbmFtZSwKICAgICAgICAgICAgbmFtZVNvcnQ6IHNvcnRhYmxlTnVtZXJpY1N1ZmZpeChuYW1lKS50b0xvd2VyQ2FzZSgpLAogICAgICAgICAgICBzdGF0ZUNvbG9yOiBzdGF0ZUNvbG9yLAogICAgICAgICAgICBkZXRhaWxMb2NhdGlvbjogZGV0YWlsTG9jYXRpb24sCiAgICAgICAgICAgIHR5cGVEaXNwbGF5OiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9sYWJlbEZvciddKHNjaGVtYSksCiAgICAgICAgICAgIHN0YXRlRGlzcGxheTogc3RhdGVEaXNwbGF5KHN0YXRlKSwKICAgICAgICAgICAgc3RhdGVCYWNrZ3JvdW5kOiBzdGF0ZUNvbG9yLnJlcGxhY2UoJ3RleHQtJywgJ2JnLScpLAogICAgICAgICAgICBncm91cEJ5TGFiZWw6IG5hbWVzcGFjZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIG91dDsKICAgIH0sCiAgICBoZWFkZXJzOiBmdW5jdGlvbiBoZWFkZXJzKCkgewogICAgICByZXR1cm4gW1NUQVRFLCBUWVBFLCBOQU1FLCBOQU1FU1BBQ0VdOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UmVhbFJlc291cmNlczogZnVuY3Rpb24gZ2V0UmVhbFJlc291cmNlcyhyb3dzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBpblN0b3JlLCByZXMsIG91dCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpblN0b3JlID0gX3RoaXMyLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50U3RvcmUnXSgpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbFNldHRsZWQocm93cy5tYXAoZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goIiIuY29uY2F0KGluU3RvcmUsICIvZmluZCIpLCB7CiAgICAgICAgICAgICAgICAgIHR5cGU6IHJvdy50eXBlLAogICAgICAgICAgICAgICAgICBpZDogcm93LmlkCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIG91dCA9IFtdOwogICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmIChyZXNbaV0uc3RhdHVzID09PSAnZnVsZmlsbGVkJykgewogICAgICAgICAgICAgICAgICBvdXQucHVzaChyZXNbaV0udmFsdWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpczIubG9hZGVkUmVzb3VyY2VzKys7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgb3V0KTsKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["ResourceTable","colorForState","stateDisplay","NAME","NAMESPACE","STATE","TYPE","sortableNumericSuffix","EXPLORER","BadgeState","components","props","value","type","Object","required","rel","String","default","direction","ignoreTypes","Array","_default","data","loadedResources","computed","filteredRelationships","_this$value","_this","all","metadata","relationships","filter","relationship","concat","includes","rows","cluster","$store","getters","inStore","out","_iterator","_createForOfIteratorHelper","_step","s","n","done","r","state","stateColor","error","transitioning","schema","name","namespace","idx","indexOf","key","substr","detailLocation","params","product","resource","id","push","real","_key","nameDisplay","nameSort","toLowerCase","typeDisplay","stateBackground","replace","groupByLabel","err","e","f","headers","methods","getRealResources","_this2","_asyncToGenerator","regeneratorRuntime","mark","_callee","res","i","wrap","_callee$","_context","prev","next","Promise","allSettled","map","row","dispatch","sent","length","status","abrupt","stop"],"sources":["node_modules/@rancher/shell/components/RelatedResources.vue"],"sourcesContent":["<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport { colorForState, stateDisplay } from '@shell/plugins/dashboard-store/resource-class';\nimport { NAME, NAMESPACE, STATE, TYPE } from '@shell/config/table-headers';\nimport { sortableNumericSuffix } from '@shell/utils/sort';\nimport { NAME as EXPLORER } from '@shell/config/product/explorer';\nimport { BadgeState } from '@components/BadgeState';\n\nexport default {\n  components: { ResourceTable, BadgeState },\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    rel: {\n      type:    String,\n      default: null,\n    },\n\n    direction: {\n      type:    String,\n      default: 'to'\n    },\n\n    ignoreTypes: {\n      type:    Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    return { loadedResources: 1 };\n  },\n\n  computed: {\n    filteredRelationships() {\n      let all = this.value?.metadata?.relationships || [];\n\n      // @TODO probably will need more flexible filtering here for\n      // related resources other than helm app resources...\n\n      all = all.filter((relationship) => {\n        const type = relationship[`${ this.direction }Type`];\n\n        if (!type || this.ignoreTypes.includes(type)) {\n          return false;\n        }\n\n        if (this.rel && relationship.rel !== this.rel) {\n          return false;\n        }\n\n        return true;\n      });\n\n      return all;\n    },\n\n    rows() {\n      if ( this.loadedResources < 1 ) {\n        // This does nothing except force recompute when loaded resources change below\n        return;\n      }\n\n      const cluster = this.$store.getters['clusterId'];\n      const inStore = this.$store.getters['currentStore']();\n      const out = [];\n\n      for ( const r of this.filteredRelationships) {\n        const state = r.state || 'active';\n        const stateColor = colorForState(state, r.error, r.transitioning);\n        const type = r[`${ this.direction }Type`];\n        const schema = this.$store.getters[`${ inStore }/schemaFor`](type);\n\n        let name = r[`${ this.direction }Id`];\n\n        // Skip things like toType/toNamespace+selector for now\n        if ( !name ) {\n          continue;\n        }\n\n        let namespace = null;\n        const idx = name.indexOf('/');\n        const key = `${ type }/${ namespace }/${ name }`;\n\n        if ( idx > 0 ) {\n          namespace = name.substr(0, idx);\n          name = name.substr(idx + 1);\n        }\n\n        const detailLocation = {\n          name:   `c-cluster-product-resource${ namespace ? '-namespace' : '' }-id`,\n          params: {\n            product:  EXPLORER,\n            cluster:  inStore === 'management' ? 'local' : cluster,\n            resource: type,\n            namespace,\n            id:       name,\n          }\n        };\n\n        out.push({\n          type,\n          real:     this.$store.getters[`${ inStore }/byId`](type, r[`${ this.direction }Id`]),\n          id:       r[`${ this.direction }Id`],\n          state,\n          metadata: { namespace, name },\n          _key:     key,\n\n          name,\n          namespace,\n          nameDisplay: name,\n          nameSort:    sortableNumericSuffix(name).toLowerCase(),\n\n          stateColor,\n          detailLocation,\n          typeDisplay:     this.$store.getters['type-map/labelFor'](schema),\n          stateDisplay:    stateDisplay(state),\n          stateBackground: stateColor.replace('text-', 'bg-'),\n          groupByLabel:    namespace,\n        });\n      }\n\n      return out;\n    },\n\n    headers() {\n      return [\n        STATE,\n        TYPE,\n        NAME,\n        NAMESPACE,\n      ];\n    },\n  },\n\n  methods: {\n    async getRealResources(rows) {\n      const inStore = this.$store.getters['currentStore']();\n\n      const res = await Promise.allSettled(rows.map((row) => {\n        return this.$store.dispatch(`${ inStore }/find`, { type: row.type, id: row.id });\n      }));\n\n      const out = [];\n\n      for ( let i = 0 ; i < res.length ; i++ ) {\n        if ( res[i].status === 'fulfilled' ) {\n          out.push(res[i].value);\n        }\n      }\n\n      this.loadedResources++;\n\n      return out;\n    }\n  },\n};\n</script>\n\n<template>\n  <ResourceTable\n    :schema=\"null\"\n    :rows=\"rows\"\n    :headers=\"headers\"\n    :search=\"false\"\n    :table-actions=\"false\"\n    :namespaced=\"true\"\n    :mangle-action-resources=\"getRealResources\"\n    paging-label=\"sortableTable.paging.generic\"\n    :groupable=\"false\"\n  >\n    <template #cell:state=\"{row}\">\n      <BadgeState\n        v-if=\"row.real\"\n        :value=\"row.real\"\n      />\n      <BadgeState\n        v-else\n        :value=\"row\"\n      />\n    </template>\n  </ResourceTable>\n</template>\n"],"mappings":"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"}]}