{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--17-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/nav/WindowManager/__tests__/ContainerShell.test.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/nav/WindowManager/__tests__/ContainerShell.test.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgeyBtb3VudCB9IGZyb20gJ0B2dWUvdGVzdC11dGlscyc7CmltcG9ydCBDb250YWluZXJTaGVsbCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9uYXYvV2luZG93TWFuYWdlci9Db250YWluZXJTaGVsbC52dWUnOwppbXBvcnQgU29ja2V0LCB7IGFkZEV2ZW50TGlzdGVuZXIsIEVWRU5UX0NPTk5FQ1RFRCwgRVZFTlRfQ09OTkVDVElORywgRVZFTlRfRElTQ09OTkVDVEVELCBFVkVOVF9NRVNTQUdFLCBFVkVOVF9DT05ORUNUX0VSUk9SIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvY2tldCc7Cmplc3QubW9jaygnQHNoZWxsL3V0aWxzL3NvY2tldCcpOwpqZXN0Lm1vY2soJ0BzaGVsbC91dGlscy9jcnlwdG8nLCBmdW5jdGlvbiAoKSB7CiAgdmFyIG9yaWdpbmFsTW9kdWxlID0gamVzdC5yZXF1aXJlQWN0dWFsKCdAc2hlbGwvdXRpbHMvY3J5cHRvJyk7CiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICBfX2VzTW9kdWxlOiB0cnVlCiAgfSwgb3JpZ2luYWxNb2R1bGUpLCB7fSwgewogICAgYmFzZTY0RGVjb2RlOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKGZ1bmN0aW9uIChzdHIpIHsKICAgICAgcmV0dXJuIHN0cjsKICAgIH0pCiAgfSk7Cn0pOwpkZXNjcmliZSgnY29tcG9uZW50OiBDb250YWluZXJTaGVsbCcsIGZ1bmN0aW9uICgpIHsKICB2YXIgYWN0aW9uID0gamVzdC5mbigpOwogIHZhciB0cmFuc2xhdGUgPSBqZXN0LmZuKCk7CiAgdmFyIHNjaGVtYUZvciA9IGplc3QuZm4oKTsKICB2YXIgb25EYXRhID0gamVzdC5mbigpOwogIHZhciBsb2FkQWRkb24gPSBqZXN0LmZuKCk7CiAgdmFyIG9wZW4gPSBqZXN0LmZuKCk7CiAgdmFyIGZvY3VzID0gamVzdC5mbigpOwogIHZhciBmaXQgPSBqZXN0LmZuKCk7CiAgdmFyIHByb3Bvc2VEaW1lbnNpb25zID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbihmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICByb3dzOiAxCiAgICB9OwogIH0pOwogIHZhciB3cml0ZSA9IGplc3QuZm4oKTsKICB2YXIgcmVzZXQgPSBqZXN0LmZuKCk7CiAgamVzdC5tb2NrKCAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAieHRlcm0iICovJ3h0ZXJtJywgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgVGVybWluYWw6IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gVGVybWluYWwoKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRlcm1pbmFsKTsKICAgICAgICB0aGlzLm9uRGF0YSA9IG9uRGF0YTsKICAgICAgICB0aGlzLmxvYWRBZGRvbiA9IGxvYWRBZGRvbjsKICAgICAgICB0aGlzLm9wZW4gPSBvcGVuOwogICAgICAgIHRoaXMuZm9jdXMgPSBmb2N1czsKICAgICAgICB0aGlzLndyaXRlID0gd3JpdGU7CiAgICAgICAgdGhpcy5yZXNldCA9IHJlc2V0OwogICAgICB9KQogICAgfTsKICB9KTsKICBqZXN0Lm1vY2soIC8qIHdlYnBhY2tDaHVua05hbWU6ICJ4dGVybSIgKi8neHRlcm0tYWRkb24tZml0JywgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgRml0QWRkb246IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gRml0QWRkb24oKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpdEFkZG9uKTsKICAgICAgICB0aGlzLmZpdCA9IGZpdDsKICAgICAgICB0aGlzLnByb3Bvc2VEaW1lbnNpb25zID0gcHJvcG9zZURpbWVuc2lvbnM7CiAgICAgIH0pCiAgICB9OwogIH0pOwogIHZhciBkZWZhdWx0Q29udGFpbmVyU2hlbGxQYXJhbXMgPSB7CiAgICBwcm9wc0RhdGE6IHsKICAgICAgdGFiOiB7fSwKICAgICAgYWN0aXZlOiB0cnVlLAogICAgICBoZWlnaHQ6IDEwMDAsCiAgICAgIHBvZDogewogICAgICAgIHNwZWM6IHsKICAgICAgICAgIG5vZGVOYW1lOiAnbm9kZUlkJwogICAgICAgIH0sCiAgICAgICAgbGlua3M6IHsKICAgICAgICAgIHZpZXc6ICd1cmwnCiAgICAgICAgfSwKICAgICAgICBvczogJ2xpbnV4JwogICAgICB9LAogICAgICBpbml0aWFsQ29udGFpbmVyOiAnY29udGFpbmVySWQnCiAgICB9LAogICAgc3R1YnM6IFsncmVzaXplLW9ic2VydmVyJ10sCiAgICBtb2NrczogewogICAgICAkc3RvcmU6IHsKICAgICAgICBkaXNwYXRjaDogYWN0aW9uLAogICAgICAgIGdldHRlcnM6IHsKICAgICAgICAgICdpMThuL3QnOiB0cmFuc2xhdGUsCiAgICAgICAgICAnY2x1c3Rlci9zY2hlbWFGb3InOiBzY2hlbWFGb3IKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwogIHZhciByZXNldE1vY2tzID0gZnVuY3Rpb24gcmVzZXRNb2NrcygpIHsKICAgIC8vIENsZWFyIGFsbCBpbnN0YW5jZXMgYW5kIGNhbGxzIHRvIGNvbnN0cnVjdG9yIGFuZCBhbGwgbWV0aG9kczoKICAgIGplc3QuY2xlYXJBbGxNb2NrcygpOwogICAgZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zLnByb3BzRGF0YS5wb2Qub3MgPSAnbGludXgnOwogIH07CiAgdmFyIHdyYXBwZXJQb3N0TW91bnRlZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbXMpIHsKICAgICAgdmFyIHdyYXBwZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gbW91bnQoQ29udGFpbmVyU2hlbGwsIHBhcmFtcyk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHdyYXBwZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIudm0uJG5leHRUaWNrKCk7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICByZXR1cm4gd3JhcHBlci52bS4kbmV4dFRpY2soKTsKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnZtLiRuZXh0VGljaygpOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnZtLiRuZXh0VGljaygpOwogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgd3JhcHBlcik7CiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwogICAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBwZXJQb3N0TW91bnRlZChfeCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CiAgaXQudG9kbygndGVzdCB0aGF0IHdlIGFyZSBjYWxsaW5nIHRoZSB4dGVybSB0ZXJtaW5hbCBhbmQgZml0QWRkb24gY2xhc3MgbWV0aG9kIG1vY2tzIGNvcnJlY3RseScpOwogIGl0KCdjcmVhdGVzIGEgd2luZG93IG9uIHRoZSBwYWdlJywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICB2YXIgd3JhcHBlciwgd2luZG93RWxlbWVudDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICByZXNldE1vY2tzKCk7CiAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICByZXR1cm4gd3JhcHBlclBvc3RNb3VudGVkKGRlZmF1bHRDb250YWluZXJTaGVsbFBhcmFtcyk7CiAgICAgICAgY2FzZSAzOgogICAgICAgICAgd3JhcHBlciA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgd2luZG93RWxlbWVudCA9IHdyYXBwZXIuZmluZCgnZGl2LndpbmRvdycpOwogICAgICAgICAgZXhwZWN0KHdpbmRvd0VsZW1lbnQuZXhpc3RzKCkpLnRvQmUodHJ1ZSk7CiAgICAgICAgY2FzZSA2OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKSk7CiAgaXQoJ3RoZSBmaW5kIGFjdGlvbiBmb3IgdGhlIG5vZGUgaXMgY2FsbGVkIGlmIHNjaGVtYUZvciBmaW5kcyBhIHNjaGVtYSBmb3IgTk9ERScsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgdmFyIHRlc3RTY2hlbWFGaW5kc1NjaGVtYVBhcmFtcywgYWN0aW9uUGFyYW1zOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHJlc2V0TW9ja3MoKTsKICAgICAgICAgIHRlc3RTY2hlbWFGaW5kc1NjaGVtYVBhcmFtcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zKSwge30sIHsKICAgICAgICAgICAgbW9ja3M6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zLm1vY2tzKSwge30sIHsKICAgICAgICAgICAgICAkc3RvcmU6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zLm1vY2tzLiRzdG9yZSksIHt9LCB7CiAgICAgICAgICAgICAgICBnZXR0ZXJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRDb250YWluZXJTaGVsbFBhcmFtcy5tb2Nrcy4kc3RvcmUuZ2V0dGVycyksIHt9LCB7CiAgICAgICAgICAgICAgICAgICdjbHVzdGVyL3NjaGVtYUZvcic6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgICAgfSk7CiAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICByZXR1cm4gd3JhcHBlclBvc3RNb3VudGVkKHRlc3RTY2hlbWFGaW5kc1NjaGVtYVBhcmFtcyk7CiAgICAgICAgY2FzZSA0OgogICAgICAgICAgYWN0aW9uUGFyYW1zID0gYWN0aW9uLm1vY2suY2FsbHNbMF07CiAgICAgICAgICBleHBlY3QoYWN0aW9uLm1vY2suY2FsbHMpLnRvSGF2ZUxlbmd0aCgxKTsKICAgICAgICAgIGV4cGVjdChhY3Rpb25QYXJhbXNbMF0pLnRvQmUoJ2NsdXN0ZXIvZmluZCcpOwogICAgICAgICAgZXhwZWN0KGFjdGlvblBhcmFtc1sxXSkudG9TdHJpY3RFcXVhbCh7CiAgICAgICAgICAgIGlkOiAnbm9kZUlkJywKICAgICAgICAgICAgdHlwZTogJ25vZGUnCiAgICAgICAgICB9KTsKICAgICAgICBjYXNlIDg6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlMyk7CiAgfSkpKTsKICBpdCgndGhlIHRyYW5zbGF0ZSBnZXR0ZXIgZm9yIHRoZSAuLi4nLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgIHZhciBmaXJzdFRyYW5zbGF0ZSwgc2Vjb25kVHJhbnNsYXRlOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHJlc2V0TW9ja3MoKTsKICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgIHJldHVybiB3cmFwcGVyUG9zdE1vdW50ZWQoZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zKTsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBmaXJzdFRyYW5zbGF0ZSA9IHRyYW5zbGF0ZS5tb2NrLmNhbGxzWzBdOwogICAgICAgICAgc2Vjb25kVHJhbnNsYXRlID0gdHJhbnNsYXRlLm1vY2suY2FsbHNbMV07CiAgICAgICAgICBleHBlY3QodHJhbnNsYXRlLm1vY2suY2FsbHMpLnRvSGF2ZUxlbmd0aCgyKTsKICAgICAgICAgIGV4cGVjdChmaXJzdFRyYW5zbGF0ZVswXSkudG9CZSgnd20uY29udGFpbmVyU2hlbGwuY2xlYXInKTsKICAgICAgICAgIGV4cGVjdChmaXJzdFRyYW5zbGF0ZVsxXSkudG9TdHJpY3RFcXVhbCh7fSk7CiAgICAgICAgICBleHBlY3Qoc2Vjb25kVHJhbnNsYXRlWzBdKS50b0JlKCd3bS5jb25uZWN0aW9uLmRpc2Nvbm5lY3RlZCcpOwogICAgICAgICAgZXhwZWN0KHNlY29uZFRyYW5zbGF0ZVsxXSkudG9TdHJpY3RFcXVhbCh7fSk7CiAgICAgICAgY2FzZSAxMDoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0KTsKICB9KSkpOwogIGl0KCd0aGUgc29ja2V0IGlzIGluc3RhbnRpYXRlZCcsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgdmFyIHdyYXBwZXIsIHNvY2tldFBhcmFtczsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICByZXNldE1vY2tzKCk7CiAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICByZXR1cm4gd3JhcHBlclBvc3RNb3VudGVkKGRlZmF1bHRDb250YWluZXJTaGVsbFBhcmFtcyk7CiAgICAgICAgY2FzZSAzOgogICAgICAgICAgd3JhcHBlciA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgc29ja2V0UGFyYW1zID0gU29ja2V0Lm1vY2suY2FsbHNbMF1bMF0uc3BsaXQoJz8nKVsxXS5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbiAocGFyYW1NYXAsIHBhcmFtKSB7CiAgICAgICAgICAgIHZhciBfcGFyYW0kc3BsaXQgPSBwYXJhbS5zcGxpdCgnPScpLAogICAgICAgICAgICAgIF9wYXJhbSRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfcGFyYW0kc3BsaXQsIDIpLAogICAgICAgICAgICAgIGtleSA9IF9wYXJhbSRzcGxpdDJbMF0sCiAgICAgICAgICAgICAgdmFsdWUgPSBfcGFyYW0kc3BsaXQyWzFdOwogICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbU1hcCksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSkpOwogICAgICAgICAgfSwge30pOwogICAgICAgICAgZXhwZWN0KFNvY2tldC5tb2NrLmNhbGxzKS50b0hhdmVMZW5ndGgoMSk7CiAgICAgICAgICBleHBlY3Qoc29ja2V0UGFyYW1zLmNvbW1hbmQpLnRvQmUoJ1RFUk09eHRlcm0tMjU2Y29sb3I7IGV4cG9ydCBURVJNOyBbIC14IC9iaW4vYmFzaCBdICYmIChbIC14IC91c3IvYmluL3NjcmlwdCBdICYmIC91c3IvYmluL3NjcmlwdCAtcSAtYyAiL2Jpbi9iYXNoIiAvZGV2L251bGwgfHwgZXhlYyAvYmluL2Jhc2gpIHx8IGV4ZWMgL2Jpbi9zaCcpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0ub3MpLnRvQmUoJ2xpbnV4Jyk7CiAgICAgICAgY2FzZSA4OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTUpOwogIH0pKSk7CiAgaXQoJ3RoZSBzb2NrZXRzIGV2ZW50cyBhcmUgYm91bmQnLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgIHZhciBhZGRFdmVudExpc3RlbmVyQ2FsbHM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzOwogICAgICAgICAgcmV0dXJuIHdyYXBwZXJQb3N0TW91bnRlZChkZWZhdWx0Q29udGFpbmVyU2hlbGxQYXJhbXMpOwogICAgICAgIGNhc2UgMzoKICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJDYWxscyA9IGFkZEV2ZW50TGlzdGVuZXIubW9jay5jYWxsczsKICAgICAgICAgIGV4cGVjdChhZGRFdmVudExpc3RlbmVyQ2FsbHMpLnRvSGF2ZUxlbmd0aCg1KTsKICAgICAgICAgIGV4cGVjdChhZGRFdmVudExpc3RlbmVyQ2FsbHNbMF1bMF0pLnRvQmUoRVZFTlRfQ09OTkVDVElORyk7CiAgICAgICAgICBleHBlY3QoYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzFdWzBdKS50b0JlKEVWRU5UX0NPTk5FQ1RfRVJST1IpOwogICAgICAgICAgZXhwZWN0KGFkZEV2ZW50TGlzdGVuZXJDYWxsc1syXVswXSkudG9CZShFVkVOVF9DT05ORUNURUQpOwogICAgICAgICAgZXhwZWN0KGFkZEV2ZW50TGlzdGVuZXJDYWxsc1szXVswXSkudG9CZShFVkVOVF9ESVNDT05ORUNURUQpOwogICAgICAgICAgZXhwZWN0KGFkZEV2ZW50TGlzdGVuZXJDYWxsc1s0XVswXSkudG9CZShFVkVOVF9NRVNTQUdFKTsKICAgICAgICBjYXNlIDEwOgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTYpOwogIH0pKSk7CiAgaXQoJ3RoZSBzb2NrZXQgY29ubmVjdGluZyBldmVudCBzZXRzIGRhdGEgcHJvcHMgY29ycmVjdGx5JywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICB2YXIgd3JhcHBlciwgYWRkRXZlbnRMaXN0ZW5lckNhbGxzLCBldmVudENvbm5lY3Rpbmc7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgcmV0dXJuIHdyYXBwZXJQb3N0TW91bnRlZChkZWZhdWx0Q29udGFpbmVyU2hlbGxQYXJhbXMpOwogICAgICAgIGNhc2UgMzoKICAgICAgICAgIHdyYXBwZXIgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJDYWxscyA9IGFkZEV2ZW50TGlzdGVuZXIubW9jay5jYWxsczsKICAgICAgICAgIGV2ZW50Q29ubmVjdGluZyA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1swXVsxXTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGluZygpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uaXNPcGVuKS50b0JlKGZhbHNlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmlzT3BlbmluZykudG9CZSh0cnVlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmVycm9yTXNnKS50b0JlKCcnKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLm9zKS50b0JlKCdsaW51eCcpOwogICAgICAgIGNhc2UgMTE6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlNyk7CiAgfSkpKTsKICBpdCgndGhlIHNvY2tldCBjb25uZWN0IGVycm9yIGV2ZW50IHNldHMgZGF0YSBwcm9wcyBjb3JyZWN0bHkgYW5kIGNhbGxzIHRoZSBjb25zb2xlJywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICB2YXIgY29uc29sZUVycm9yLCB3cmFwcGVyLCBlcnJvck1lc3NhZ2UsIGFkZEV2ZW50TGlzdGVuZXJDYWxscywgZXZlbnRDb25uZWN0aW5nLCBldmVudENvbm5lY3RFcnJvcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICByZXNldE1vY2tzKCk7CiAgICAgICAgICBjb25zb2xlRXJyb3IgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbihmdW5jdGlvbiAoKSB7fSk7CiAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDQ7CiAgICAgICAgICByZXR1cm4gd3JhcHBlclBvc3RNb3VudGVkKGRlZmF1bHRDb250YWluZXJTaGVsbFBhcmFtcyk7CiAgICAgICAgY2FzZSA0OgogICAgICAgICAgd3JhcHBlciA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ2V2ZW50Q29ubmVjdEVycm9yJzsKICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJDYWxscyA9IGFkZEV2ZW50TGlzdGVuZXIubW9jay5jYWxsczsKICAgICAgICAgIGV2ZW50Q29ubmVjdGluZyA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1swXVsxXTsKICAgICAgICAgIGV2ZW50Q29ubmVjdEVycm9yID0gYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzFdWzFdOwogICAgICAgICAgZXZlbnRDb25uZWN0aW5nKCk7CiAgICAgICAgICBldmVudENvbm5lY3RFcnJvcihlcnJvck1lc3NhZ2UpOwogICAgICAgICAgZXhwZWN0KGNvbnNvbGVFcnJvci5tb2NrLmNhbGxzWzBdWzBdKS50b0JlKCdDb25uZWN0IEVycm9yJyk7CiAgICAgICAgICBleHBlY3QoY29uc29sZUVycm9yLm1vY2suY2FsbHNbMF1bMV0pLnRvQmUoZXJyb3JNZXNzYWdlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmlzT3BlbikudG9CZShmYWxzZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5pc09wZW5pbmcpLnRvQmUoZmFsc2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uZXJyb3JNc2cpLnRvQmUoJycpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0ub3MpLnRvQmUoJ2xpbnV4Jyk7CiAgICAgICAgY2FzZSAxNzoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWU4KTsKICB9KSkpOwogIGl0KCd0aGUgc29ja2V0IGNvbm5lY3RlZCBldmVudCBzZXRzIGRhdGEgcHJvcHMgY29ycmVjdGx5JywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICB2YXIgd3JhcHBlciwgYWRkRXZlbnRMaXN0ZW5lckNhbGxzLCBldmVudENvbm5lY3RpbmcsIGV2ZW50Q29ubmVjdGVkOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHJlc2V0TW9ja3MoKTsKICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMzsKICAgICAgICAgIHJldHVybiB3cmFwcGVyUG9zdE1vdW50ZWQoZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zKTsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICB3cmFwcGVyID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICBhZGRFdmVudExpc3RlbmVyQ2FsbHMgPSBhZGRFdmVudExpc3RlbmVyLm1vY2suY2FsbHM7CiAgICAgICAgICBldmVudENvbm5lY3RpbmcgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbMF1bMV07CiAgICAgICAgICBldmVudENvbm5lY3RlZCA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1syXVsxXTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGluZygpOwogICAgICAgICAgZXZlbnRDb25uZWN0ZWQoKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmlzT3BlbikudG9CZSh0cnVlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmlzT3BlbmluZykudG9CZShmYWxzZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5lcnJvck1zZykudG9CZSgnJyk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5vcykudG9CZSgnbGludXgnKTsKICAgICAgICBjYXNlIDEzOgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTkpOwogIH0pKSk7CiAgaXQudG9kbygndGVzdCB0aGF0IGZpdCBhbmQgZmx1c2ggYXJlIG9wZXJhdGluZyBwcm9wZXJseScpOwogIGl0LnRvZG8oJ3Rlc3QgdGhhdCB3ZSBhcmUgcHJvcGVybHkgZmVlZGluZyB0aGUgdGVybWluYWwgdGhlIGNvbW1hbmRPbkZpcnN0Q29ubmVjdCBwcm9wIGNvcnJlY3RseSBvbiBjb25uZWN0ZWQnKTsKICBpdCgndGhlIHNvY2tldCBtZXNzYWdlIGV2ZW50IHNldHMgZGF0YSBwcm9wcyBjb3JyZWN0bHknLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICB2YXIgd3JhcHBlciwgYWRkRXZlbnRMaXN0ZW5lckNhbGxzLCBldmVudENvbm5lY3RpbmcsIGV2ZW50Q29ubmVjdGVkLCBldmVudE1lc3NhZ2U7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHJlc2V0TW9ja3MoKTsKICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDM7CiAgICAgICAgICByZXR1cm4gd3JhcHBlclBvc3RNb3VudGVkKGRlZmF1bHRDb250YWluZXJTaGVsbFBhcmFtcyk7CiAgICAgICAgY2FzZSAzOgogICAgICAgICAgd3JhcHBlciA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJDYWxscyA9IGFkZEV2ZW50TGlzdGVuZXIubW9jay5jYWxsczsKICAgICAgICAgIGV2ZW50Q29ubmVjdGluZyA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1swXVsxXTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGVkID0gYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzJdWzFdOwogICAgICAgICAgZXZlbnRNZXNzYWdlID0gYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzRdWzFdOwogICAgICAgICAgZXZlbnRDb25uZWN0aW5nKCk7CiAgICAgICAgICBldmVudENvbm5lY3RlZCgpOwogICAgICAgICAgZXZlbnRNZXNzYWdlKHsKICAgICAgICAgICAgZGV0YWlsOiB7CiAgICAgICAgICAgICAgZGF0YTogJzFub0Vycm9yJwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmlzT3BlbikudG9CZSh0cnVlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmlzT3BlbmluZykudG9CZShmYWxzZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5lcnJvck1zZykudG9CZSgnJyk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5vcykudG9CZSgnbGludXgnKTsKICAgICAgICBjYXNlIDE1OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIF9jYWxsZWUxMCk7CiAgfSkpKTsKICBpdCgndGhlIHNvY2tldCBtZXNzYWdlIGV2ZW50IHNldHMgZGF0YSBwcm9wcyBjb3JyZWN0bHkgYW5kIGNhbGwgdGhlIGNvbnNvbGUgb24gZXJyb3InLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICB2YXIgY29uc29sZUVycm9yLCB3cmFwcGVyLCBlcnJvck1lc3NhZ2UsIGFkZEV2ZW50TGlzdGVuZXJDYWxscywgZXZlbnRDb25uZWN0aW5nLCBldmVudENvbm5lY3RlZCwgZXZlbnRNZXNzYWdlOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICByZXNldE1vY2tzKCk7CiAgICAgICAgICBjb25zb2xlRXJyb3IgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbihmdW5jdGlvbiAoKSB7fSk7CiAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA0OwogICAgICAgICAgcmV0dXJuIHdyYXBwZXJQb3N0TW91bnRlZChkZWZhdWx0Q29udGFpbmVyU2hlbGxQYXJhbXMpOwogICAgICAgIGNhc2UgNDoKICAgICAgICAgIHdyYXBwZXIgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnZXZlbnRNZXNzYWdlRXJyb3InOwogICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckNhbGxzID0gYWRkRXZlbnRMaXN0ZW5lci5tb2NrLmNhbGxzOwogICAgICAgICAgZXZlbnRDb25uZWN0aW5nID0gYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzBdWzFdOwogICAgICAgICAgZXZlbnRDb25uZWN0ZWQgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbMl1bMV07CiAgICAgICAgICBldmVudE1lc3NhZ2UgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbNF1bMV07CiAgICAgICAgICBldmVudENvbm5lY3RpbmcoKTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGVkKCk7CiAgICAgICAgICBldmVudE1lc3NhZ2UoewogICAgICAgICAgICBkZXRhaWw6IHsKICAgICAgICAgICAgICBkYXRhOiAiMyIuY29uY2F0KGVycm9yTWVzc2FnZSkKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBleHBlY3QoY29uc29sZUVycm9yLm1vY2suY2FsbHNbMF1bMF0pLnRvQmUoZXJyb3JNZXNzYWdlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmlzT3BlbikudG9CZSh0cnVlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmlzT3BlbmluZykudG9CZShmYWxzZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5lcnJvck1zZykudG9CZShlcnJvck1lc3NhZ2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0ub3MpLnRvQmUoJ2xpbnV4Jyk7CiAgICAgICAgY2FzZSAxODoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlMTEpOwogIH0pKSk7CiAgaXQoJ3RoZSBzb2NrZXQgZGlzY29ubmVjdCBldmVudCB3aXRob3V0IGFuIGVycm9yIHNldHMgZGF0YSBwcm9wcyBjb3JyZWN0bHknLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICB2YXIgd3JhcHBlciwgYWRkRXZlbnRMaXN0ZW5lckNhbGxzLCBldmVudENvbm5lY3RpbmcsIGV2ZW50Q29ubmVjdGVkLCBldmVudERpc2Nvbm5lY3RlZDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMzsKICAgICAgICAgIHJldHVybiB3cmFwcGVyUG9zdE1vdW50ZWQoZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zKTsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICB3cmFwcGVyID0gX2NvbnRleHQxMi5zZW50OwogICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckNhbGxzID0gYWRkRXZlbnRMaXN0ZW5lci5tb2NrLmNhbGxzOwogICAgICAgICAgZXZlbnRDb25uZWN0aW5nID0gYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzBdWzFdOwogICAgICAgICAgZXZlbnRDb25uZWN0ZWQgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbMl1bMV07CiAgICAgICAgICBldmVudERpc2Nvbm5lY3RlZCA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1szXVsxXTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGluZygpOwogICAgICAgICAgZXZlbnRDb25uZWN0ZWQoKTsKICAgICAgICAgIGV2ZW50RGlzY29ubmVjdGVkKCk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5pc09wZW4pLnRvQmUoZmFsc2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uaXNPcGVuaW5nKS50b0JlKGZhbHNlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmVycm9yTXNnKS50b0JlKCcnKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLm9zKS50b0JlKCdsaW51eCcpOwogICAgICAgIGNhc2UgMTU6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTEyKTsKICB9KSkpOwogIGl0KCd0aGUgc29ja2V0IGRpc2Nvbm5lY3QgZXZlbnQgd2l0aCBhbiBlcnJvciBzZXRzIGRhdGEgcHJvcHMgY29ycmVjdGx5IGFuZCBhdHRlbXB0cyBhIHNlY29uZCBjb25uZWN0JywgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgdmFyIGNvbnNvbGVFcnJvciwgY29ubmVjdCwgd3JhcHBlciwgZXJyb3JNZXNzYWdlLCBhZGRFdmVudExpc3RlbmVyQ2FsbHMsIGV2ZW50Q29ubmVjdGluZywgZXZlbnRDb25uZWN0ZWQsIGV2ZW50TWVzc2FnZSwgZXZlbnREaXNjb25uZWN0ZWQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHJlc2V0TW9ja3MoKTsKICAgICAgICAgIGNvbnNvbGVFcnJvciA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICAgIGNvbm5lY3QgPSBqZXN0LnNweU9uKENvbnRhaW5lclNoZWxsLm1ldGhvZHMsICdjb25uZWN0Jyk7CiAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA1OwogICAgICAgICAgcmV0dXJuIHdyYXBwZXJQb3N0TW91bnRlZChkZWZhdWx0Q29udGFpbmVyU2hlbGxQYXJhbXMpOwogICAgICAgIGNhc2UgNToKICAgICAgICAgIHdyYXBwZXIgPSBfY29udGV4dDEzLnNlbnQ7CiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnZXZlbnRNZXNzYWdlRXJyb3InOwogICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckNhbGxzID0gYWRkRXZlbnRMaXN0ZW5lci5tb2NrLmNhbGxzOwogICAgICAgICAgZXZlbnRDb25uZWN0aW5nID0gYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzBdWzFdOwogICAgICAgICAgZXZlbnRDb25uZWN0ZWQgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbMl1bMV07CiAgICAgICAgICBldmVudE1lc3NhZ2UgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbNF1bMV07CiAgICAgICAgICBldmVudERpc2Nvbm5lY3RlZCA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1szXVsxXTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGluZygpOwogICAgICAgICAgZXZlbnRDb25uZWN0ZWQoKTsgLy8gZm9yIHdoYXRldmVyIHJlYXNvbiwgd2hlbiB0aGlzIGlzIGNhbGxlZCB0aGUgbW9jayBvbiBhZGRFdmVudExpc3RlbmVyIGRvZXNuJ3QgY2xlYXIgaXQncyBjYWxscy4uLgogICAgICAgICAgZXZlbnRNZXNzYWdlKHsKICAgICAgICAgICAgZGV0YWlsOiB7CiAgICAgICAgICAgICAgZGF0YTogIjMiLmNvbmNhdChlcnJvck1lc3NhZ2UpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgLy8gd2Ugc3RhcnQgd2l0aCAyIGJhY2t1cCBzaGVsbHMgYnV0IHJlbW92ZSB3aGljaGV2ZXIgb25lIHdlIGFscmVhZHkgdXNlZAogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uYmFja3VwU2hlbGxzKS50b0hhdmVMZW5ndGgoMSk7CiAgICAgICAgICBldmVudERpc2Nvbm5lY3RlZCgpOwogICAgICAgICAgZXhwZWN0KGNvbnNvbGVFcnJvci5tb2NrLmNhbGxzWzBdWzBdKS50b0JlKGVycm9yTWVzc2FnZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5pc09wZW4pLnRvQmUoZmFsc2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uaXNPcGVuaW5nKS50b0JlKGZhbHNlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmVycm9yTXNnKS50b0JlKCdldmVudE1lc3NhZ2VFcnJvcicpOwogICAgICAgICAgLy8gdGhlIGJhY2t1cCBzaGVsbCB0aGF0IHdhcyBsZWZ0b3ZlciB3YXMgd2luZG93cyBzbyBpdCBiZWNhbWUgdGhlIG5ldyBvcyBpbiBkYXRhcHJvcHMKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLm9zKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAvLyBidXQgd2Ugc3RpbGwgZGlkbid0IHdyaXRlIGl0IHRvIHRoZSBwb2QgaXRzZWxmIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgaXQgd29ya2VkCiAgICAgICAgICBleHBlY3QoZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zLnByb3BzRGF0YS5wb2Qub3MpLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgIC8vIHdlIGNhbiBzZWUgaGVyZSB0aGF0IHdlIHJlbW92ZWQgdGhhdCBsYXN0IGJhY2t1cCBzaGVsbCBiZWNhdXNlIHdlJ3JlIGF0dGVtcHRpbmcgdG8gdXNlIGl0IG5vdwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uYmFja3VwU2hlbGxzKS50b0hhdmVMZW5ndGgoMSk7CiAgICAgICAgICBleHBlY3QoY29ubmVjdC5tb2NrLmNhbGxzKS50b0hhdmVMZW5ndGgoMik7CiAgICAgICAgY2FzZSAyNToKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlMTMpOwogIH0pKSk7CiAgaXQoJ3RoZSBzb2NrZXQgZGlzY29ubmVjdCBldmVudCBmaXJlcyB0d2ljZSwgc2V0cyBkYXRhIHByb3BzIGNvcnJlY3RseSwgYW5kIG9ubHkgYXR0ZW1wdHMgdHdvIGNvbm5lY3RzIGlmIHRoZSBwb2Qgb3MgaXMgbGludXgnLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICB2YXIgY29uc29sZUVycm9yLCBjb25uZWN0LCB3cmFwcGVyLCBsaW51eEVycm9yTWVzc2FnZSwgd2luZG93c0Vycm9yTWVzc2FnZSwgYWRkRXZlbnRMaXN0ZW5lckNhbGxzLCBldmVudENvbm5lY3RpbmcsIGV2ZW50Q29ubmVjdGVkLCBldmVudE1lc3NhZ2UsIGV2ZW50RGlzY29ubmVjdGVkOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICByZXNldE1vY2tzKCk7CiAgICAgICAgICBjb25zb2xlRXJyb3IgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbihmdW5jdGlvbiAoKSB7fSk7CiAgICAgICAgICBjb25uZWN0ID0gamVzdC5zcHlPbihDb250YWluZXJTaGVsbC5tZXRob2RzLCAnY29ubmVjdCcpOwogICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNTsKICAgICAgICAgIHJldHVybiB3cmFwcGVyUG9zdE1vdW50ZWQoZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zKTsKICAgICAgICBjYXNlIDU6CiAgICAgICAgICB3cmFwcGVyID0gX2NvbnRleHQxNC5zZW50OwogICAgICAgICAgbGludXhFcnJvck1lc3NhZ2UgPSAnZXZlbnRMaW51eE1lc3NhZ2VFcnJvcic7CiAgICAgICAgICB3aW5kb3dzRXJyb3JNZXNzYWdlID0gJ2V2ZW50V2luZG93c01lc3NhZ2VFcnJvcic7CiAgICAgICAgICBhZGRFdmVudExpc3RlbmVyQ2FsbHMgPSBhZGRFdmVudExpc3RlbmVyLm1vY2suY2FsbHM7CiAgICAgICAgICBldmVudENvbm5lY3RpbmcgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbMF1bMV07CiAgICAgICAgICBldmVudENvbm5lY3RlZCA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1syXVsxXTsKICAgICAgICAgIGV2ZW50TWVzc2FnZSA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1s0XVsxXTsKICAgICAgICAgIGV2ZW50RGlzY29ubmVjdGVkID0gYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzNdWzFdOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uYmFja3VwU2hlbGxzKS50b0hhdmVMZW5ndGgoMSk7CiAgICAgICAgICBldmVudENvbm5lY3RpbmcoKTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGVkKCk7CiAgICAgICAgICBldmVudE1lc3NhZ2UoewogICAgICAgICAgICBkZXRhaWw6IHsKICAgICAgICAgICAgICBkYXRhOiAiMyIuY29uY2F0KGxpbnV4RXJyb3JNZXNzYWdlKQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGV2ZW50RGlzY29ubmVjdGVkKCk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5iYWNrdXBTaGVsbHMpLnRvSGF2ZUxlbmd0aCgxKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLm9zKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAvLyB0aGUgcG9kIG9zIHdhcyAnbGludXgnIGJ1dCB3ZSBjbGVhcmVkIGl0IG91dCBzaW5jZSB0aGF0IGRpZG4ndCB3b3JrCiAgICAgICAgICBleHBlY3QoZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zLnByb3BzRGF0YS5wb2Qub3MpLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgIGV4cGVjdChjb25uZWN0Lm1vY2suY2FsbHMpLnRvSGF2ZUxlbmd0aCgyKTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGluZygpOwogICAgICAgICAgZXZlbnRDb25uZWN0ZWQoKTsKICAgICAgICAgIGV2ZW50TWVzc2FnZSh7CiAgICAgICAgICAgIGRldGFpbDogewogICAgICAgICAgICAgIGRhdGE6ICIzIi5jb25jYXQod2luZG93c0Vycm9yTWVzc2FnZSkKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBldmVudERpc2Nvbm5lY3RlZCgpOwogICAgICAgICAgZXhwZWN0KGNvbnNvbGVFcnJvci5tb2NrLmNhbGxzWzBdWzBdKS50b0JlKGxpbnV4RXJyb3JNZXNzYWdlKTsKICAgICAgICAgIGV4cGVjdChjb25zb2xlRXJyb3IubW9jay5jYWxsc1sxXVswXSkudG9CZSh3aW5kb3dzRXJyb3JNZXNzYWdlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmlzT3BlbikudG9CZShmYWxzZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5pc09wZW5pbmcpLnRvQmUoZmFsc2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uZXJyb3JNc2cpLnRvQmUod2luZG93c0Vycm9yTWVzc2FnZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5vcykudG9CZVVuZGVmaW5lZCgpOwogICAgICAgICAgLy8gd2UgbmV2ZXIgZm91bmQgYSBzaGVsbCB0aGF0IHdvcmtlZCBzbyB3ZSdyZSBnb2luZyB0byBsZWF2ZSB0aGUgcG9kIG9zIGFzIHVuZGVmaW5lZAogICAgICAgICAgZXhwZWN0KGRlZmF1bHRDb250YWluZXJTaGVsbFBhcmFtcy5wcm9wc0RhdGEucG9kLm9zKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICAvLyB3ZSdyZSBvdXQgb2YgYmFja3VwU2hlbGxzIG5vdyBzbyB3ZSdyZSBub3QgZ29pbmcgdG8gcmV0cnkgYWZ0ZXIgdGhhdCBzZWNvbmQgZGlzY29ubmVjdAogICAgICAgICAgZXhwZWN0KGNvbm5lY3QubW9jay5jYWxscykudG9IYXZlTGVuZ3RoKDMpOwogICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgIGNhc2UgMzU6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTE0KTsKICB9KSkpOwogIGl0KCd0aGUgc29ja2V0IGRpc2Nvbm5lY3QgZXZlbnQgZmlyZXMgdHdpY2UsIHNldHMgZGF0YSBwcm9wcyBjb3JyZWN0bHksIGFuZCBvbmx5IGF0dGVtcHRzIHR3byBjb25uZWN0cyBpZiB0aGUgcG9kIG9zIGlzIHVuZGVmaW5lZCcsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgIHZhciBjb25zb2xlRXJyb3IsIGNvbm5lY3QsIHRlc3RVbmRlZmluZWRPc1BhcmFtcywgd3JhcHBlciwgbGludXhFcnJvck1lc3NhZ2UsIHdpbmRvd3NFcnJvck1lc3NhZ2UsIGFkZEV2ZW50TGlzdGVuZXJDYWxscywgZXZlbnRDb25uZWN0aW5nLCBldmVudENvbm5lY3RlZCwgZXZlbnRNZXNzYWdlLCBldmVudERpc2Nvbm5lY3RlZDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgICAgY29uc29sZUVycm9yID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oZnVuY3Rpb24gKCkge30pOwogICAgICAgICAgY29ubmVjdCA9IGplc3Quc3B5T24oQ29udGFpbmVyU2hlbGwubWV0aG9kcywgJ2Nvbm5lY3QnKTsKICAgICAgICAgIHRlc3RVbmRlZmluZWRPc1BhcmFtcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zKSwge30sIHsKICAgICAgICAgICAgcHJvcHNEYXRhOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRDb250YWluZXJTaGVsbFBhcmFtcy5wcm9wc0RhdGEpLCB7fSwgewogICAgICAgICAgICAgIHBvZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0Q29udGFpbmVyU2hlbGxQYXJhbXMucHJvcHNEYXRhLnBvZCksIHt9LCB7CiAgICAgICAgICAgICAgICBvczogdW5kZWZpbmVkCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pOwogICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNjsKICAgICAgICAgIHJldHVybiB3cmFwcGVyUG9zdE1vdW50ZWQodGVzdFVuZGVmaW5lZE9zUGFyYW1zKTsKICAgICAgICBjYXNlIDY6CiAgICAgICAgICB3cmFwcGVyID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgbGludXhFcnJvck1lc3NhZ2UgPSAnZXZlbnRMaW51eE1lc3NhZ2VFcnJvcic7CiAgICAgICAgICB3aW5kb3dzRXJyb3JNZXNzYWdlID0gJ2V2ZW50V2luZG93c01lc3NhZ2VFcnJvcic7CiAgICAgICAgICBhZGRFdmVudExpc3RlbmVyQ2FsbHMgPSBhZGRFdmVudExpc3RlbmVyLm1vY2suY2FsbHM7CiAgICAgICAgICBldmVudENvbm5lY3RpbmcgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbMF1bMV07CiAgICAgICAgICBldmVudENvbm5lY3RlZCA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1syXVsxXTsKICAgICAgICAgIGV2ZW50TWVzc2FnZSA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1s0XVsxXTsKICAgICAgICAgIGV2ZW50RGlzY29ubmVjdGVkID0gYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzNdWzFdOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uYmFja3VwU2hlbGxzKS50b0hhdmVMZW5ndGgoMSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5vcykudG9CZSgnbGludXgnKTsKICAgICAgICAgIGV4cGVjdCh0ZXN0VW5kZWZpbmVkT3NQYXJhbXMucHJvcHNEYXRhLnBvZC5vcykudG9CZVVuZGVmaW5lZCgpOwogICAgICAgICAgZXZlbnRDb25uZWN0aW5nKCk7CiAgICAgICAgICBldmVudENvbm5lY3RlZCgpOwogICAgICAgICAgZXZlbnRNZXNzYWdlKHsKICAgICAgICAgICAgZGV0YWlsOiB7CiAgICAgICAgICAgICAgZGF0YTogIjMiLmNvbmNhdChsaW51eEVycm9yTWVzc2FnZSkKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBldmVudERpc2Nvbm5lY3RlZCgpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uYmFja3VwU2hlbGxzKS50b0hhdmVMZW5ndGgoMSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5vcykudG9CZVVuZGVmaW5lZCgpOwogICAgICAgICAgZXhwZWN0KHRlc3RVbmRlZmluZWRPc1BhcmFtcy5wcm9wc0RhdGEucG9kLm9zKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICBldmVudENvbm5lY3RpbmcoKTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGVkKCk7CiAgICAgICAgICBldmVudE1lc3NhZ2UoewogICAgICAgICAgICBkZXRhaWw6IHsKICAgICAgICAgICAgICBkYXRhOiAiMyIuY29uY2F0KHdpbmRvd3NFcnJvck1lc3NhZ2UpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgZXZlbnREaXNjb25uZWN0ZWQoKTsKICAgICAgICAgIGV4cGVjdChjb25zb2xlRXJyb3IubW9jay5jYWxsc1swXVswXSkudG9CZShsaW51eEVycm9yTWVzc2FnZSk7CiAgICAgICAgICBleHBlY3QoY29uc29sZUVycm9yLm1vY2suY2FsbHNbMV1bMF0pLnRvQmUod2luZG93c0Vycm9yTWVzc2FnZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5pc09wZW4pLnRvQmUoZmFsc2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uaXNPcGVuaW5nKS50b0JlKGZhbHNlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmVycm9yTXNnKS50b0JlKHdpbmRvd3NFcnJvck1lc3NhZ2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0ub3MpLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgIGV4cGVjdCh0ZXN0VW5kZWZpbmVkT3NQYXJhbXMucHJvcHNEYXRhLnBvZC5vcykudG9CZVVuZGVmaW5lZCgpOwogICAgICAgICAgZXhwZWN0KGNvbm5lY3QubW9jay5jYWxscykudG9IYXZlTGVuZ3RoKDMpOwogICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgIGNhc2UgMzc6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTE1KTsKICB9KSkpOwogIGl0KCd0aGUgc29ja2V0IGRpc2Nvbm5lY3QgZXZlbnQgZmlyZXMgdHdpY2UsIHNldHMgZGF0YSBwcm9wcyBjb3JyZWN0bHksIGFuZCBvbmx5IGF0dGVtcHRzIHR3byBjb25uZWN0cywgYW5kIHNldHMgdGhlIHBvZCBvcyBpZiB0aGUgcG9kIG9zIGlzIGluaXRpYWxseSB1bmRlZmluZWQgYW5kIGNvbm5lY3RzIG9uIHRoZSBzZWNvbmQgYXR0ZW1wdCcsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNigpIHsKICAgIHZhciBjb25zb2xlRXJyb3IsIGNvbm5lY3QsIHRlc3RVbmRlZmluZWRPc1BhcmFtcywgd3JhcHBlciwgbGludXhFcnJvck1lc3NhZ2UsIHdpbmRvd3NTaGVsbE1lc3NhZ2UsIGFkZEV2ZW50TGlzdGVuZXJDYWxscywgZXZlbnRDb25uZWN0aW5nLCBldmVudENvbm5lY3RlZCwgZXZlbnRNZXNzYWdlLCBldmVudERpc2Nvbm5lY3RlZDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgICAgY29uc29sZUVycm9yID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oZnVuY3Rpb24gKCkge30pOwogICAgICAgICAgY29ubmVjdCA9IGplc3Quc3B5T24oQ29udGFpbmVyU2hlbGwubWV0aG9kcywgJ2Nvbm5lY3QnKTsKICAgICAgICAgIHRlc3RVbmRlZmluZWRPc1BhcmFtcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdENvbnRhaW5lclNoZWxsUGFyYW1zKSwge30sIHsKICAgICAgICAgICAgcHJvcHNEYXRhOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRDb250YWluZXJTaGVsbFBhcmFtcy5wcm9wc0RhdGEpLCB7fSwgewogICAgICAgICAgICAgIHBvZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0Q29udGFpbmVyU2hlbGxQYXJhbXMucHJvcHNEYXRhLnBvZCksIHt9LCB7CiAgICAgICAgICAgICAgICBvczogdW5kZWZpbmVkCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pOwogICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNjsKICAgICAgICAgIHJldHVybiB3cmFwcGVyUG9zdE1vdW50ZWQodGVzdFVuZGVmaW5lZE9zUGFyYW1zKTsKICAgICAgICBjYXNlIDY6CiAgICAgICAgICB3cmFwcGVyID0gX2NvbnRleHQxNi5zZW50OwogICAgICAgICAgbGludXhFcnJvck1lc3NhZ2UgPSAnZXZlbnRMaW51eE1lc3NhZ2VFcnJvcic7CiAgICAgICAgICB3aW5kb3dzU2hlbGxNZXNzYWdlID0gJ2V2ZW50V2luZG93c01lc3NhZ2VTaGVsbCc7CiAgICAgICAgICBhZGRFdmVudExpc3RlbmVyQ2FsbHMgPSBhZGRFdmVudExpc3RlbmVyLm1vY2suY2FsbHM7CiAgICAgICAgICBldmVudENvbm5lY3RpbmcgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbMF1bMV07CiAgICAgICAgICBldmVudENvbm5lY3RlZCA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1syXVsxXTsKICAgICAgICAgIGV2ZW50TWVzc2FnZSA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1s0XVsxXTsKICAgICAgICAgIGV2ZW50RGlzY29ubmVjdGVkID0gYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzNdWzFdOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uYmFja3VwU2hlbGxzKS50b0hhdmVMZW5ndGgoMSk7CiAgICAgICAgICBldmVudENvbm5lY3RpbmcoKTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGVkKCk7CiAgICAgICAgICBldmVudE1lc3NhZ2UoewogICAgICAgICAgICBkZXRhaWw6IHsKICAgICAgICAgICAgICBkYXRhOiAiMyIuY29uY2F0KGxpbnV4RXJyb3JNZXNzYWdlKQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGV2ZW50RGlzY29ubmVjdGVkKCk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5iYWNrdXBTaGVsbHMpLnRvSGF2ZUxlbmd0aCgxKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLm9zKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICBleHBlY3QodGVzdFVuZGVmaW5lZE9zUGFyYW1zLnByb3BzRGF0YS5wb2Qub3MpLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmVycm9yTXNnKS50b0JlKGxpbnV4RXJyb3JNZXNzYWdlKTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGluZygpOwogICAgICAgICAgZXZlbnRDb25uZWN0ZWQoKTsKICAgICAgICAgIGV2ZW50TWVzc2FnZSh7CiAgICAgICAgICAgIGRldGFpbDogewogICAgICAgICAgICAgIGRhdGE6ICIxIi5jb25jYXQod2luZG93c1NoZWxsTWVzc2FnZSkKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBleHBlY3QoY29uc29sZUVycm9yLm1vY2suY2FsbHNbMF1bMF0pLnRvQmUobGludXhFcnJvck1lc3NhZ2UpOwogICAgICAgICAgZXhwZWN0KGNvbnNvbGVFcnJvci5tb2NrLmNhbGxzWzFdKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5pc09wZW4pLnRvQmUodHJ1ZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5pc09wZW5pbmcpLnRvQmUoZmFsc2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uZXJyb3JNc2cpLnRvQmUoJycpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0ub3MpLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICAgIC8vIHRoZSBzZWNvbmQgc2hlbGwgd29ya2VkIHNvIHdlJ3JlIGdvaW5nIHRvIHNldCBpdCBvbiB0aGUgcG9kIGl0c2VsZiBzbyBpZiB3ZSBuZWVkIHRvIGNvbm5lY3QgYWdhaW4gd2UnbGwganVzdCB1c2UgdGhlIGNvcnJlY3Qgc2hlbGwgb24gdGhlIGZpcnN0IGF0dGVtcHQKICAgICAgICAgIGV4cGVjdCh0ZXN0VW5kZWZpbmVkT3NQYXJhbXMucHJvcHNEYXRhLnBvZC5vcykudG9CZVVuZGVmaW5lZCgpOwogICAgICAgICAgZXhwZWN0KGNvbm5lY3QubW9jay5jYWxscykudG9IYXZlTGVuZ3RoKDIpOwogICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgIGNhc2UgMzU6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTE2KTsKICB9KSkpOwogIGl0KCd0aGUgc29ja2V0IGRpc2Nvbm5lY3QgZXZlbnQgZmlyZXMgMyB0aW1lcywgc2V0cyBkYXRhIHByb3BzIGNvcnJlY3RseSwgYW5kIG9ubHkgYXR0ZW1wdHMgMyBjb25uZWN0cyBpZiB0aGUgcG9kIG9zIGlzIGRlZmluZWQgYXQgdGhlIHBvZHMgcGFyZW50IG5vZGUnLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoKSB7CiAgICB2YXIgY29uc29sZUVycm9yLCBjb25uZWN0LCB0ZXN0Tm9kZURlZmluZWRPc1BhcmFtcywgd3JhcHBlciwgbGludXhFcnJvck1lc3NhZ2UsIGFkZEV2ZW50TGlzdGVuZXJDYWxscywgZXZlbnRDb25uZWN0aW5nLCBldmVudENvbm5lY3RlZCwgZXZlbnRNZXNzYWdlLCBldmVudERpc2Nvbm5lY3RlZDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgICAgY29uc29sZUVycm9yID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oZnVuY3Rpb24gKCkge30pOwogICAgICAgICAgY29ubmVjdCA9IGplc3Quc3B5T24oQ29udGFpbmVyU2hlbGwubWV0aG9kcywgJ2Nvbm5lY3QnKTsKICAgICAgICAgIF9jb250ZXh0MTcudDAgPSBfb2JqZWN0U3ByZWFkOwogICAgICAgICAgX2NvbnRleHQxNy50MSA9IF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRDb250YWluZXJTaGVsbFBhcmFtcyk7CiAgICAgICAgICBfY29udGV4dDE3LnQyID0ge307CiAgICAgICAgICBfY29udGV4dDE3LnQzID0gX29iamVjdFNwcmVhZDsKICAgICAgICAgIF9jb250ZXh0MTcudDQgPSBfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0Q29udGFpbmVyU2hlbGxQYXJhbXMucHJvcHNEYXRhKTsKICAgICAgICAgIF9jb250ZXh0MTcudDUgPSB7fTsKICAgICAgICAgIF9jb250ZXh0MTcudDYgPSBfb2JqZWN0U3ByZWFkOwogICAgICAgICAgX2NvbnRleHQxNy50NyA9IF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRDb250YWluZXJTaGVsbFBhcmFtcy5wcm9wc0RhdGEucG9kKTsKICAgICAgICAgIF9jb250ZXh0MTcudDggPSB7fTsKICAgICAgICAgIF9jb250ZXh0MTcudDkgPSB7CiAgICAgICAgICAgIF9vczogJ2xpbnV4JywKICAgICAgICAgICAgZ2V0IG9zKCkgewogICAgICAgICAgICAgIHJldHVybiAnbGludXgnOwogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXQgb3Mob3MpIHsKICAgICAgICAgICAgICB0aGlzLl9vcyA9IG9zOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgX2NvbnRleHQxNy50MTAgPSAoMCwgX2NvbnRleHQxNy50NikoX2NvbnRleHQxNy50NywgX2NvbnRleHQxNy50OCwgX2NvbnRleHQxNy50OSk7CiAgICAgICAgICBfY29udGV4dDE3LnQxMSA9IHsKICAgICAgICAgICAgcG9kOiBfY29udGV4dDE3LnQxMAogICAgICAgICAgfTsKICAgICAgICAgIF9jb250ZXh0MTcudDEyID0gKDAsIF9jb250ZXh0MTcudDMpKF9jb250ZXh0MTcudDQsIF9jb250ZXh0MTcudDUsIF9jb250ZXh0MTcudDExKTsKICAgICAgICAgIF9jb250ZXh0MTcudDEzID0gewogICAgICAgICAgICBwcm9wc0RhdGE6IF9jb250ZXh0MTcudDEyCiAgICAgICAgICB9OwogICAgICAgICAgdGVzdE5vZGVEZWZpbmVkT3NQYXJhbXMgPSAoMCwgX2NvbnRleHQxNy50MCkoX2NvbnRleHQxNy50MSwgX2NvbnRleHQxNy50MiwgX2NvbnRleHQxNy50MTMpOwogICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMjA7CiAgICAgICAgICByZXR1cm4gd3JhcHBlclBvc3RNb3VudGVkKHRlc3ROb2RlRGVmaW5lZE9zUGFyYW1zKTsKICAgICAgICBjYXNlIDIwOgogICAgICAgICAgd3JhcHBlciA9IF9jb250ZXh0MTcuc2VudDsKICAgICAgICAgIGxpbnV4RXJyb3JNZXNzYWdlID0gJ2V2ZW50TGludXhNZXNzYWdlRXJyb3InOwogICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckNhbGxzID0gYWRkRXZlbnRMaXN0ZW5lci5tb2NrLmNhbGxzOwogICAgICAgICAgZXZlbnRDb25uZWN0aW5nID0gYWRkRXZlbnRMaXN0ZW5lckNhbGxzWzBdWzFdOwogICAgICAgICAgZXZlbnRDb25uZWN0ZWQgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbMl1bMV07CiAgICAgICAgICBldmVudE1lc3NhZ2UgPSBhZGRFdmVudExpc3RlbmVyQ2FsbHNbNF1bMV07CiAgICAgICAgICBldmVudERpc2Nvbm5lY3RlZCA9IGFkZEV2ZW50TGlzdGVuZXJDYWxsc1szXVsxXTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmJhY2t1cFNoZWxscykudG9IYXZlTGVuZ3RoKDEpOwogICAgICAgICAgZXZlbnRDb25uZWN0aW5nKCk7CiAgICAgICAgICBldmVudENvbm5lY3RlZCgpOwogICAgICAgICAgZXZlbnRNZXNzYWdlKHsKICAgICAgICAgICAgZGV0YWlsOiB7CiAgICAgICAgICAgICAgZGF0YTogIjMiLmNvbmNhdChsaW51eEVycm9yTWVzc2FnZSkKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBldmVudERpc2Nvbm5lY3RlZCgpOwogICAgICAgICAgLy8gdGhlIHBhcmVudCBub2RlJ3Mgb3Mgb3ZlcnJpZGVzIHRoZSBfb3MgZmllbGQgaW4gdGhlIHBvZCBzbyBpdCBkaWRuJ3QgY2hhbmdlIG9uIHRoZSBwcmV2aW91cyBmYWlsdXJlIGFuZCB3ZSBrbm93IGl0IGlzIGNvcnJlY3QsIHRodXMgd2UncmUgbm90IGJ1cm5pbmcgZG93biBvdXIgYmFja3VwIHNoZWxscyBhbmQganVzdCByZXRyeWluZyB0aGUgc2FtZSBzaGVsbAogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uYmFja3VwU2hlbGxzKS50b0hhdmVMZW5ndGgoMSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5vcykudG9CZSgnbGludXgnKTsKICAgICAgICAgIGV4cGVjdCh0ZXN0Tm9kZURlZmluZWRPc1BhcmFtcy5wcm9wc0RhdGEucG9kLm9zKS50b0JlKCdsaW51eCcpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uZXJyb3JNc2cpLnRvQmUobGludXhFcnJvck1lc3NhZ2UpOwogICAgICAgICAgZXZlbnRDb25uZWN0aW5nKCk7CiAgICAgICAgICBldmVudENvbm5lY3RlZCgpOwogICAgICAgICAgZXZlbnRNZXNzYWdlKHsKICAgICAgICAgICAgZGV0YWlsOiB7CiAgICAgICAgICAgICAgZGF0YTogIjMiLmNvbmNhdChsaW51eEVycm9yTWVzc2FnZSkKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBldmVudERpc2Nvbm5lY3RlZCgpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uYmFja3VwU2hlbGxzKS50b0hhdmVMZW5ndGgoMSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5pc09wZW4pLnRvQmUoZmFsc2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uaXNPcGVuaW5nKS50b0JlKGZhbHNlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmVycm9yTXNnKS50b0JlKGxpbnV4RXJyb3JNZXNzYWdlKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLm9zKS50b0JlKCdsaW51eCcpOwogICAgICAgICAgZXhwZWN0KHRlc3ROb2RlRGVmaW5lZE9zUGFyYW1zLnByb3BzRGF0YS5wb2Qub3MpLnRvQmUoJ2xpbnV4Jyk7CiAgICAgICAgICBleHBlY3QoY29ubmVjdC5tb2NrLmNhbGxzKS50b0hhdmVMZW5ndGgoMyk7CiAgICAgICAgICBldmVudENvbm5lY3RpbmcoKTsKICAgICAgICAgIGV2ZW50Q29ubmVjdGVkKCk7CiAgICAgICAgICBldmVudE1lc3NhZ2UoewogICAgICAgICAgICBkZXRhaWw6IHsKICAgICAgICAgICAgICBkYXRhOiAiMyIuY29uY2F0KGxpbnV4RXJyb3JNZXNzYWdlKQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGV2ZW50RGlzY29ubmVjdGVkKCk7CiAgICAgICAgICBleHBlY3QoY29uc29sZUVycm9yLm1vY2suY2FsbHNbMF1bMF0pLnRvQmUobGludXhFcnJvck1lc3NhZ2UpOwogICAgICAgICAgZXhwZWN0KGNvbnNvbGVFcnJvci5tb2NrLmNhbGxzWzFdWzBdKS50b0JlKGxpbnV4RXJyb3JNZXNzYWdlKTsKICAgICAgICAgIGV4cGVjdChjb25zb2xlRXJyb3IubW9jay5jYWxsc1syXVswXSkudG9CZShsaW51eEVycm9yTWVzc2FnZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5iYWNrdXBTaGVsbHMpLnRvSGF2ZUxlbmd0aCgxKTsKICAgICAgICAgIGV4cGVjdCh3cmFwcGVyLnZtLmlzT3BlbikudG9CZShmYWxzZSk7CiAgICAgICAgICBleHBlY3Qod3JhcHBlci52bS5pc09wZW5pbmcpLnRvQmUoZmFsc2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0uZXJyb3JNc2cpLnRvQmUobGludXhFcnJvck1lc3NhZ2UpOwogICAgICAgICAgZXhwZWN0KHdyYXBwZXIudm0ub3MpLnRvQmUoJ2xpbnV4Jyk7CiAgICAgICAgICBleHBlY3QodGVzdE5vZGVEZWZpbmVkT3NQYXJhbXMucHJvcHNEYXRhLnBvZC5vcykudG9CZSgnbGludXgnKTsKICAgICAgICAgIC8vIGF0IHNvbWUgcG9pbnQgd2UgaGF2ZSB0byBzdG9wIHJldHlpbmcgYW5kIGlmIHdlJ3JlIG5vdCBidXJuaW5nIHRocm91Z2ggYmFja3VwIHNoZWxscywgdGhlcmUncyBhIHJldHJ5IGxpbWl0IG9mIDIgZm9yIGEgdG90YWwgb2YgMyBhdHRlbXB0cwogICAgICAgICAgZXhwZWN0KGNvbm5lY3QubW9jay5jYWxscykudG9IYXZlTGVuZ3RoKDMpOwogICAgICAgICAgcmVzZXRNb2NrcygpOwogICAgICAgIGNhc2UgNjI6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTE3KTsKICB9KSkpOwp9KTs="},{"version":3,"names":["mount","ContainerShell","Socket","addEventListener","EVENT_CONNECTED","EVENT_CONNECTING","EVENT_DISCONNECTED","EVENT_MESSAGE","EVENT_CONNECT_ERROR","jest","mock","originalModule","requireActual","_objectSpread","__esModule","base64Decode","fn","mockImplementation","str","describe","action","translate","schemaFor","onData","loadAddon","open","focus","fit","proposeDimensions","rows","write","reset","Terminal","_createClass","_classCallCheck","FitAddon","defaultContainerShellParams","propsData","tab","active","height","pod","spec","nodeName","links","view","os","initialContainer","stubs","mocks","$store","dispatch","getters","resetMocks","clearAllMocks","wrapperPostMounted","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","params","wrapper","wrap","_callee$","_context","prev","next","sent","vm","$nextTick","abrupt","stop","_x","apply","arguments","it","todo","_callee2","windowElement","_callee2$","_context2","find","expect","exists","toBe","_callee3","testSchemaFindsSchemaParams","actionParams","_callee3$","_context3","calls","toHaveLength","toStrictEqual","id","type","_callee4","firstTranslate","secondTranslate","_callee4$","_context4","_callee5","socketParams","_callee5$","_context5","split","reduce","paramMap","param","_param$split","_param$split2","_slicedToArray","key","value","_defineProperty","decodeURIComponent","command","_callee6","addEventListenerCalls","_callee6$","_context6","_callee7","eventConnecting","_callee7$","_context7","isOpen","isOpening","errorMsg","_callee8","consoleError","errorMessage","eventConnectError","_callee8$","_context8","spyOn","console","_callee9","eventConnected","_callee9$","_context9","_callee10","eventMessage","_callee10$","_context10","detail","data","_callee11","_callee11$","_context11","concat","_callee12","eventDisconnected","_callee12$","_context12","_callee13","connect","_callee13$","_context13","methods","backupShells","toBeUndefined","_callee14","linuxErrorMessage","windowsErrorMessage","_callee14$","_context14","_callee15","testUndefinedOsParams","_callee15$","_context15","undefined","_callee16","windowsShellMessage","_callee16$","_context16","_callee17","testNodeDefinedOsParams","_callee17$","_context17","t0","t1","t2","t3","t4","t5","t6","t7","t8","t9","_os","t10","t11","t12","t13"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/nav/WindowManager/__tests__/ContainerShell.test.ts"],"sourcesContent":["import { mount, Wrapper } from '@vue/test-utils';\nimport ContainerShell from '@shell/components/nav/WindowManager/ContainerShell.vue';\nimport Socket, {\n  addEventListener, EVENT_CONNECTED, EVENT_CONNECTING, EVENT_DISCONNECTED, EVENT_MESSAGE, EVENT_CONNECT_ERROR\n} from '@shell/utils/socket';\n\njest.mock('@shell/utils/socket');\njest.mock('@shell/utils/crypto', () => {\n  const originalModule = jest.requireActual('@shell/utils/crypto');\n\n  return {\n    __esModule:   true,\n    ...originalModule,\n    base64Decode: jest.fn().mockImplementation((str:String) => str)\n  };\n});\n\ndescribe('component: ContainerShell', () => {\n  const action = jest.fn();\n  const translate = jest.fn();\n  const schemaFor = jest.fn();\n  const onData = jest.fn();\n  const loadAddon = jest.fn();\n  const open = jest.fn();\n  const focus = jest.fn();\n  const fit = jest.fn();\n  const proposeDimensions = jest.fn().mockImplementation(() => {\n    return { rows: 1 };\n  });\n  const write = jest.fn();\n  const reset = jest.fn();\n\n  jest.mock(/* webpackChunkName: \"xterm\" */ 'xterm', () => {\n    return {\n      Terminal: class {\n        onData = onData;\n        loadAddon = loadAddon;\n        open = open;\n        focus = focus;\n        write = write;\n        reset = reset\n      }\n    };\n  });\n  jest.mock(/* webpackChunkName: \"xterm\" */ 'xterm-addon-fit', () => {\n    return {\n      FitAddon: class {\n        fit = fit\n        proposeDimensions = proposeDimensions\n      }\n    };\n  });\n\n  const defaultContainerShellParams = {\n    propsData: {\n      tab:    {},\n      active: true,\n      height: 1000,\n      pod:    {\n        spec:  { nodeName: 'nodeId' },\n        links: { view: 'url' },\n        os:    'linux'\n      },\n      initialContainer: 'containerId'\n    },\n    stubs: ['resize-observer'],\n    mocks: {\n      $store: {\n        dispatch: action,\n        getters:  {\n          'i18n/t':            translate,\n          'cluster/schemaFor': schemaFor\n        }\n      }\n    }\n  };\n\n  const resetMocks = () => {\n    // Clear all instances and calls to constructor and all methods:\n    jest.clearAllMocks();\n    defaultContainerShellParams.propsData.pod.os = 'linux';\n  };\n\n  const wrapperPostMounted = async(params: Object) => {\n    const wrapper = await mount(ContainerShell, params);\n\n    // these awaits are all associated with the various async dyamic imports on xterm\n    await wrapper.vm.$nextTick();\n    await wrapper.vm.$nextTick();\n    await wrapper.vm.$nextTick();\n    await wrapper.vm.$nextTick();\n\n    return wrapper;\n  };\n\n  it.todo('test that we are calling the xterm terminal and fitAddon class method mocks correctly');\n\n  it('creates a window on the page', async() => {\n    resetMocks();\n    const wrapper: Wrapper<InstanceType<typeof ContainerShell> & { [key: string]: any }> = await wrapperPostMounted(defaultContainerShellParams);\n    const windowElement = wrapper.find('div.window');\n\n    expect(windowElement.exists()).toBe(true);\n  });\n\n  it('the find action for the node is called if schemaFor finds a schema for NODE', async() => {\n    resetMocks();\n    const testSchemaFindsSchemaParams = {\n      ...defaultContainerShellParams,\n      mocks: {\n        ...defaultContainerShellParams.mocks,\n        $store: {\n          ...defaultContainerShellParams.mocks.$store,\n          getters: {\n            ...defaultContainerShellParams.mocks.$store.getters,\n            'cluster/schemaFor': jest.fn().mockImplementation(() => true)\n          }\n        }\n      }\n    };\n\n    await wrapperPostMounted(testSchemaFindsSchemaParams);\n\n    const actionParams = action.mock.calls[0];\n\n    expect(action.mock.calls).toHaveLength(1);\n    expect(actionParams[0]).toBe('cluster/find');\n    expect(actionParams[1]).toStrictEqual({\n      id:   'nodeId',\n      type: 'node'\n    });\n  });\n\n  it('the translate getter for the ...', async() => {\n    resetMocks();\n    await wrapperPostMounted(defaultContainerShellParams);\n    const firstTranslate = translate.mock.calls[0];\n    const secondTranslate = translate.mock.calls[1];\n\n    expect(translate.mock.calls).toHaveLength(2);\n    expect(firstTranslate[0]).toBe('wm.containerShell.clear');\n    expect(firstTranslate[1]).toStrictEqual({});\n    expect(secondTranslate[0]).toBe('wm.connection.disconnected');\n    expect(secondTranslate[1]).toStrictEqual({});\n  });\n\n  it('the socket is instantiated', async() => {\n    resetMocks();\n    const wrapper = await wrapperPostMounted(defaultContainerShellParams);\n\n    const socketParams = Socket.mock.calls[0][0]\n      .split('?')[1]\n      .split('&')\n      .reduce((paramMap: Object, param: [String, String]) => {\n        const [key, value] = param.split('=');\n\n        return {\n          ...paramMap,\n          [key]: decodeURIComponent(value)\n        };\n      }, {});\n\n    expect(Socket.mock.calls).toHaveLength(1);\n    expect(socketParams.command).toBe('TERM=xterm-256color; export TERM; [ -x /bin/bash ] && ([ -x /usr/bin/script ] && /usr/bin/script -q -c \"/bin/bash\" /dev/null || exec /bin/bash) || exec /bin/sh');\n    expect(wrapper.vm.os).toBe('linux');\n  });\n\n  it('the sockets events are bound', async() => {\n    resetMocks();\n    await wrapperPostMounted(defaultContainerShellParams);\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n\n    expect(addEventListenerCalls).toHaveLength(5);\n    expect(addEventListenerCalls[0][0]).toBe(EVENT_CONNECTING);\n    expect(addEventListenerCalls[1][0]).toBe(EVENT_CONNECT_ERROR);\n    expect(addEventListenerCalls[2][0]).toBe(EVENT_CONNECTED);\n    expect(addEventListenerCalls[3][0]).toBe(EVENT_DISCONNECTED);\n    expect(addEventListenerCalls[4][0]).toBe(EVENT_MESSAGE);\n  });\n\n  it('the socket connecting event sets data props correctly', async() => {\n    resetMocks();\n    const wrapper = await wrapperPostMounted(defaultContainerShellParams);\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n\n    eventConnecting();\n\n    expect(wrapper.vm.isOpen).toBe(false);\n    expect(wrapper.vm.isOpening).toBe(true);\n    expect(wrapper.vm.errorMsg).toBe('');\n    expect(wrapper.vm.os).toBe('linux');\n  });\n\n  it('the socket connect error event sets data props correctly and calls the console', async() => {\n    resetMocks();\n    const consoleError = jest.spyOn(console, 'error').mockImplementation(() => {});\n    const wrapper = await wrapperPostMounted(defaultContainerShellParams);\n    const errorMessage = 'eventConnectError';\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n    const eventConnectError = addEventListenerCalls[1][1];\n\n    eventConnecting();\n    eventConnectError(errorMessage);\n\n    expect(consoleError.mock.calls[0][0]).toBe('Connect Error');\n    expect(consoleError.mock.calls[0][1]).toBe(errorMessage);\n    expect(wrapper.vm.isOpen).toBe(false);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe('');\n    expect(wrapper.vm.os).toBe('linux');\n  });\n\n  it('the socket connected event sets data props correctly', async() => {\n    resetMocks();\n    const wrapper = await wrapperPostMounted(defaultContainerShellParams);\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n    const eventConnected = addEventListenerCalls[2][1];\n\n    eventConnecting();\n    eventConnected();\n\n    expect(wrapper.vm.isOpen).toBe(true);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe('');\n    expect(wrapper.vm.os).toBe('linux');\n  });\n\n  it.todo('test that fit and flush are operating properly');\n  it.todo('test that we are properly feeding the terminal the commandOnFirstConnect prop correctly on connected');\n\n  it('the socket message event sets data props correctly', async() => {\n    resetMocks();\n    const wrapper = await wrapperPostMounted(defaultContainerShellParams);\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n    const eventConnected = addEventListenerCalls[2][1];\n    const eventMessage = addEventListenerCalls[4][1];\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: '1noError' } });\n\n    expect(wrapper.vm.isOpen).toBe(true);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe('');\n    expect(wrapper.vm.os).toBe('linux');\n  });\n\n  it('the socket message event sets data props correctly and call the console on error', async() => {\n    resetMocks();\n    const consoleError = jest.spyOn(console, 'error').mockImplementation(() => {});\n    const wrapper = await wrapperPostMounted(defaultContainerShellParams);\n    const errorMessage = 'eventMessageError';\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n    const eventConnected = addEventListenerCalls[2][1];\n    const eventMessage = addEventListenerCalls[4][1];\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: `3${ errorMessage }` } });\n\n    expect(consoleError.mock.calls[0][0]).toBe(errorMessage);\n    expect(wrapper.vm.isOpen).toBe(true);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe(errorMessage);\n    expect(wrapper.vm.os).toBe('linux');\n  });\n\n  it('the socket disconnect event without an error sets data props correctly', async() => {\n    resetMocks();\n    const wrapper = await wrapperPostMounted(defaultContainerShellParams);\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n    const eventConnected = addEventListenerCalls[2][1];\n    const eventDisconnected = addEventListenerCalls[3][1];\n\n    eventConnecting();\n    eventConnected();\n    eventDisconnected();\n\n    expect(wrapper.vm.isOpen).toBe(false);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe('');\n    expect(wrapper.vm.os).toBe('linux');\n  });\n\n  it('the socket disconnect event with an error sets data props correctly and attempts a second connect', async() => {\n    resetMocks();\n    const consoleError = jest.spyOn(console, 'error').mockImplementation(() => {});\n    const connect = jest.spyOn(ContainerShell.methods, 'connect');\n    const wrapper = await wrapperPostMounted(defaultContainerShellParams);\n    const errorMessage = 'eventMessageError';\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n    const eventConnected = addEventListenerCalls[2][1];\n    const eventMessage = addEventListenerCalls[4][1];\n    const eventDisconnected = addEventListenerCalls[3][1];\n\n    eventConnecting();\n    eventConnected(); // for whatever reason, when this is called the mock on addEventListener doesn't clear it's calls...\n    eventMessage({ detail: { data: `3${ errorMessage }` } });\n\n    // we start with 2 backup shells but remove whichever one we already used\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n\n    eventDisconnected();\n\n    expect(consoleError.mock.calls[0][0]).toBe(errorMessage);\n    expect(wrapper.vm.isOpen).toBe(false);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe('eventMessageError');\n    // the backup shell that was leftover was windows so it became the new os in dataprops\n    expect(wrapper.vm.os).toBeUndefined();\n    // but we still didn't write it to the pod itself since we don't know if it worked\n    expect(defaultContainerShellParams.propsData.pod.os).toBeUndefined();\n    // we can see here that we removed that last backup shell because we're attempting to use it now\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n    expect(connect.mock.calls).toHaveLength(2);\n  });\n\n  it('the socket disconnect event fires twice, sets data props correctly, and only attempts two connects if the pod os is linux', async() => {\n    resetMocks();\n    const consoleError = jest.spyOn(console, 'error').mockImplementation(() => {});\n    const connect = jest.spyOn(ContainerShell.methods, 'connect');\n    const wrapper = await wrapperPostMounted(defaultContainerShellParams);\n    const linuxErrorMessage = 'eventLinuxMessageError';\n    const windowsErrorMessage = 'eventWindowsMessageError';\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n    const eventConnected = addEventListenerCalls[2][1];\n    const eventMessage = addEventListenerCalls[4][1];\n    const eventDisconnected = addEventListenerCalls[3][1];\n\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: `3${ linuxErrorMessage }` } });\n    eventDisconnected();\n\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n    expect(wrapper.vm.os).toBeUndefined();\n    // the pod os was 'linux' but we cleared it out since that didn't work\n    expect(defaultContainerShellParams.propsData.pod.os).toBeUndefined();\n    expect(connect.mock.calls).toHaveLength(2);\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: `3${ windowsErrorMessage }` } });\n    eventDisconnected();\n\n    expect(consoleError.mock.calls[0][0]).toBe(linuxErrorMessage);\n    expect(consoleError.mock.calls[1][0]).toBe(windowsErrorMessage);\n    expect(wrapper.vm.isOpen).toBe(false);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe(windowsErrorMessage);\n    expect(wrapper.vm.os).toBeUndefined();\n    // we never found a shell that worked so we're going to leave the pod os as undefined\n    expect(defaultContainerShellParams.propsData.pod.os).toBeUndefined();\n    // we're out of backupShells now so we're not going to retry after that second disconnect\n    expect(connect.mock.calls).toHaveLength(3);\n\n    resetMocks();\n  });\n\n  it('the socket disconnect event fires twice, sets data props correctly, and only attempts two connects if the pod os is undefined', async() => {\n    resetMocks();\n    const consoleError = jest.spyOn(console, 'error').mockImplementation(() => {});\n    const connect = jest.spyOn(ContainerShell.methods, 'connect');\n    const testUndefinedOsParams = {\n      ...defaultContainerShellParams,\n      propsData: {\n        ...defaultContainerShellParams.propsData,\n        pod: {\n          ...defaultContainerShellParams.propsData.pod,\n          os: undefined\n        }\n      }\n    };\n    const wrapper = await wrapperPostMounted(testUndefinedOsParams);\n    const linuxErrorMessage = 'eventLinuxMessageError';\n    const windowsErrorMessage = 'eventWindowsMessageError';\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n    const eventConnected = addEventListenerCalls[2][1];\n    const eventMessage = addEventListenerCalls[4][1];\n    const eventDisconnected = addEventListenerCalls[3][1];\n\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n    expect(wrapper.vm.os).toBe('linux');\n    expect(testUndefinedOsParams.propsData.pod.os).toBeUndefined();\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: `3${ linuxErrorMessage }` } });\n    eventDisconnected();\n\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n    expect(wrapper.vm.os).toBeUndefined();\n    expect(testUndefinedOsParams.propsData.pod.os).toBeUndefined();\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: `3${ windowsErrorMessage }` } });\n    eventDisconnected();\n\n    expect(consoleError.mock.calls[0][0]).toBe(linuxErrorMessage);\n    expect(consoleError.mock.calls[1][0]).toBe(windowsErrorMessage);\n    expect(wrapper.vm.isOpen).toBe(false);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe(windowsErrorMessage);\n    expect(wrapper.vm.os).toBeUndefined();\n    expect(testUndefinedOsParams.propsData.pod.os).toBeUndefined();\n    expect(connect.mock.calls).toHaveLength(3);\n\n    resetMocks();\n  });\n\n  it('the socket disconnect event fires twice, sets data props correctly, and only attempts two connects, and sets the pod os if the pod os is initially undefined and connects on the second attempt', async() => {\n    resetMocks();\n    const consoleError = jest.spyOn(console, 'error').mockImplementation(() => {});\n    const connect = jest.spyOn(ContainerShell.methods, 'connect');\n    const testUndefinedOsParams = {\n      ...defaultContainerShellParams,\n      propsData: {\n        ...defaultContainerShellParams.propsData,\n        pod: {\n          ...defaultContainerShellParams.propsData.pod,\n          os: undefined\n        }\n      }\n    };\n    const wrapper = await wrapperPostMounted(testUndefinedOsParams);\n    const linuxErrorMessage = 'eventLinuxMessageError';\n    const windowsShellMessage = 'eventWindowsMessageShell';\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n    const eventConnected = addEventListenerCalls[2][1];\n    const eventMessage = addEventListenerCalls[4][1];\n    const eventDisconnected = addEventListenerCalls[3][1];\n\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: `3${ linuxErrorMessage }` } });\n    eventDisconnected();\n\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n    expect(wrapper.vm.os).toBeUndefined();\n    expect(testUndefinedOsParams.propsData.pod.os).toBeUndefined();\n    expect(wrapper.vm.errorMsg).toBe(linuxErrorMessage);\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: `1${ windowsShellMessage }` } });\n\n    expect(consoleError.mock.calls[0][0]).toBe(linuxErrorMessage);\n    expect(consoleError.mock.calls[1]).toBeUndefined();\n    expect(wrapper.vm.isOpen).toBe(true);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe('');\n    expect(wrapper.vm.os).toBeUndefined();\n    // the second shell worked so we're going to set it on the pod itself so if we need to connect again we'll just use the correct shell on the first attempt\n    expect(testUndefinedOsParams.propsData.pod.os).toBeUndefined();\n    expect(connect.mock.calls).toHaveLength(2);\n\n    resetMocks();\n  });\n\n  it('the socket disconnect event fires 3 times, sets data props correctly, and only attempts 3 connects if the pod os is defined at the pods parent node', async() => {\n    resetMocks();\n    const consoleError = jest.spyOn(console, 'error').mockImplementation(() => {});\n    const connect = jest.spyOn(ContainerShell.methods, 'connect');\n    const testNodeDefinedOsParams = {\n      ...defaultContainerShellParams,\n      propsData: {\n        ...defaultContainerShellParams.propsData,\n        pod: {\n          ...defaultContainerShellParams.propsData.pod,\n          _os: 'linux',\n          get os(): string {\n            return 'linux';\n          },\n          set os(os: string) {\n            this._os = os;\n          }\n        }\n      }\n    };\n\n    const wrapper = await wrapperPostMounted(testNodeDefinedOsParams);\n    const linuxErrorMessage = 'eventLinuxMessageError';\n\n    const addEventListenerCalls = addEventListener.mock.calls;\n    const eventConnecting = addEventListenerCalls[0][1];\n    const eventConnected = addEventListenerCalls[2][1];\n    const eventMessage = addEventListenerCalls[4][1];\n    const eventDisconnected = addEventListenerCalls[3][1];\n\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: `3${ linuxErrorMessage }` } });\n    eventDisconnected();\n\n    // the parent node's os overrides the _os field in the pod so it didn't change on the previous failure and we know it is correct, thus we're not burning down our backup shells and just retrying the same shell\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n    expect(wrapper.vm.os).toBe('linux');\n    expect(testNodeDefinedOsParams.propsData.pod.os).toBe('linux');\n    expect(wrapper.vm.errorMsg).toBe(linuxErrorMessage);\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: `3${ linuxErrorMessage }` } });\n    eventDisconnected();\n\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n    expect(wrapper.vm.isOpen).toBe(false);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe(linuxErrorMessage);\n    expect(wrapper.vm.os).toBe('linux');\n    expect(testNodeDefinedOsParams.propsData.pod.os).toBe('linux');\n    expect(connect.mock.calls).toHaveLength(3);\n\n    eventConnecting();\n    eventConnected();\n    eventMessage({ detail: { data: `3${ linuxErrorMessage }` } });\n    eventDisconnected();\n\n    expect(consoleError.mock.calls[0][0]).toBe(linuxErrorMessage);\n    expect(consoleError.mock.calls[1][0]).toBe(linuxErrorMessage);\n    expect(consoleError.mock.calls[2][0]).toBe(linuxErrorMessage);\n    expect(wrapper.vm.backupShells).toHaveLength(1);\n    expect(wrapper.vm.isOpen).toBe(false);\n    expect(wrapper.vm.isOpening).toBe(false);\n    expect(wrapper.vm.errorMsg).toBe(linuxErrorMessage);\n    expect(wrapper.vm.os).toBe('linux');\n    expect(testNodeDefinedOsParams.propsData.pod.os).toBe('linux');\n    // at some point we have to stop retying and if we're not burning through backup shells, there's a retry limit of 2 for a total of 3 attempts\n    expect(connect.mock.calls).toHaveLength(3);\n\n    resetMocks();\n  });\n});\n"],"mappings":"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"}]}