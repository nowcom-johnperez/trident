{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/list/workload.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/list/workload.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1siQEBpdGVyYXRvciJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfQppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0IFJlc291cmNlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VUYWJsZSc7CmltcG9ydCB7IFdPUktMT0FEX1RZUEVTLCBTQ0hFTUEsIE5PREUsIFBPRCwgTElTVF9XT1JLTE9BRF9UWVBFUyB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgUmVzb3VyY2VGZXRjaCBmcm9tICdAc2hlbGwvbWl4aW5zL3Jlc291cmNlLWZldGNoJzsKdmFyIF9zY2hlbWEyID0gewogIGlkOiAnd29ya2xvYWQnLAogIHR5cGU6IFNDSEVNQSwKICBhdHRyaWJ1dGVzOiB7CiAgICBraW5kOiAnV29ya2xvYWQnLAogICAgbmFtZXNwYWNlZDogdHJ1ZQogIH0sCiAgbWV0YWRhdGE6IHsKICAgIG5hbWU6ICd3b3JrbG9hZCcKICB9Cn07CnZhciBfJGxvYWRpbmdSZXNvdXJjZXMyID0gZnVuY3Rpb24gJGxvYWRpbmdSZXNvdXJjZXMoJHJvdXRlLCAkc3RvcmUpIHsKICB2YXIgYWxsb3dlZFJlc291cmNlcyA9IFtdOwogIE9iamVjdC52YWx1ZXMoTElTVF9XT1JLTE9BRF9UWVBFUykuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewogICAgLy8gWW91IG1heSBub3QgaGF2ZSBSQkFDIHRvIHNlZSBzb21lIG9mIHRoZSB0eXBlcwogICAgaWYgKCRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL3NjaGVtYUZvciddKHR5cGUpKSB7CiAgICAgIGFsbG93ZWRSZXNvdXJjZXMucHVzaCh0eXBlKTsKICAgIH0KICB9KTsKICB2YXIgYWxsVHlwZXMgPSAkcm91dGUucGFyYW1zLnJlc291cmNlID09PSBfc2NoZW1hMi5pZDsKICByZXR1cm4gewogICAgbG9hZFJlc291cmNlczogYWxsVHlwZXMgPyBhbGxvd2VkUmVzb3VyY2VzIDogWyRyb3V0ZS5wYXJhbXMucmVzb3VyY2VdLAogICAgbG9hZEluZGV0ZXJtaW5hdGU6IGFsbFR5cGVzCiAgfTsKfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMaXN0V29ya2xvYWQnLAogIGNvbXBvbmVudHM6IHsKICAgIFJlc291cmNlVGFibGU6IFJlc291cmNlVGFibGUKICB9LAogIG1peGluczogW1Jlc291cmNlRmV0Y2hdLAogIHByb3BzOiB7CiAgICB1c2VRdWVyeVBhcmFtc0ZvclNpbXBsZUZpbHRlcmluZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfc2NoZW1hLCB0eXBlLCByZXNvdXJjZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKF90aGlzLmFsbFR5cGVzICYmIF90aGlzLmxvYWRSZXNvdXJjZXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgX3RoaXMuJGluaXRpYWxpemVGZXRjaERhdGEoX3RoaXMubG9hZFJlc291cmNlc1swXSwgX3RoaXMubG9hZFJlc291cmNlcyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMuJGluaXRpYWxpemVGZXRjaERhdGEoX3RoaXMuJHJvdXRlLnBhcmFtcy5yZXNvdXJjZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBfc2NoZW1hID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbImNsdXN0ZXIvc2NoZW1hRm9yIl0oTk9ERSk7CiAgICAgICAgICAgICAgaWYgKF9zY2hlbWEpIHsKICAgICAgICAgICAgICAgIF90aGlzLiRmZXRjaFR5cGUoTk9ERSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChfdW51c2VkKSB7fQogICAgICAgICAgICBfdGhpcy5sb2FkSGVhdGhSZXNvdXJjZXMoKTsKICAgICAgICAgICAgaWYgKCFfdGhpcy5hbGxUeXBlcykgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoX3RoaXMubG9hZFJlc291cmNlcy5tYXAoZnVuY3Rpb24gKGFsbG93ZWQpIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGZldGNoVHlwZShhbGxvd2VkLCBfdGhpcy5sb2FkUmVzb3VyY2VzKTsKICAgICAgICAgICAgfSkpOwogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBfdGhpcy5yZXNvdXJjZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICB0eXBlID0gX3RoaXMuJHJvdXRlLnBhcmFtcy5yZXNvdXJjZTsKICAgICAgICAgICAgaWYgKCFfdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXSh0eXBlKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kZmV0Y2hUeXBlKHR5cGUpOwogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgcmVzb3VyY2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfdGhpcy5yZXNvdXJjZXMgPSBbcmVzb3VyY2VdOwogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIC8vIEVuc3VyZSB0aGVzZSBhcmUgc2V0IG9uIGxvYWQgKHRvIGRldGVybWluZSBpZiB0aGUgTlMgZmlsdGVyIGlzIHJlcXVpcmVkKSByYXRoZXIgdGhhbiB0b28gbGF0ZSBvbiBgZmV0Y2hgCiAgICB2YXIgXyRsb2FkaW5nUmVzb3VyY2VzID0gXyRsb2FkaW5nUmVzb3VyY2VzMih0aGlzLiRyb3V0ZSwgdGhpcy4kc3RvcmUpLAogICAgICBsb2FkUmVzb3VyY2VzID0gXyRsb2FkaW5nUmVzb3VyY2VzLmxvYWRSZXNvdXJjZXMsCiAgICAgIGxvYWRJbmRldGVybWluYXRlID0gXyRsb2FkaW5nUmVzb3VyY2VzLmxvYWRJbmRldGVybWluYXRlOwogICAgcmV0dXJuIHsKICAgICAgcmVzb3VyY2VzOiBbXSwKICAgICAgbG9hZFJlc291cmNlczogbG9hZFJlc291cmNlcywKICAgICAgbG9hZEluZGV0ZXJtaW5hdGU6IGxvYWRJbmRldGVybWluYXRlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGFsbFR5cGVzOiBmdW5jdGlvbiBhbGxUeXBlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhcmFtcy5yZXNvdXJjZSA9PT0gX3NjaGVtYTIuaWQ7CiAgICB9LAogICAgc2NoZW1hOiBmdW5jdGlvbiBzY2hlbWEoKSB7CiAgICAgIHZhciB0eXBlID0gdGhpcy4kcm91dGUucGFyYW1zLnJlc291cmNlOwogICAgICBpZiAodHlwZSAhPT0gX3NjaGVtYTIuaWQpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXSh0eXBlKTsKICAgICAgfQogICAgICByZXR1cm4gX3NjaGVtYTI7CiAgICB9LAogICAgZmlsdGVyZWRSb3dzOiBmdW5jdGlvbiBmaWx0ZXJlZFJvd3MoKSB7CiAgICAgIHZhciBvdXQgPSBbXTsKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMucmVzb3VyY2VzKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHR5cGVSb3dzID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICBpZiAoIXR5cGVSb3dzKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0eXBlUm93cyksCiAgICAgICAgICAgIF9zdGVwMjsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxsVHlwZXMgfHwgIXJvdy5vd25lZEJ5V29ya2xvYWQpIHsKICAgICAgICAgICAgICAgIG91dC5wdXNoKHJvdyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgICByZXR1cm4gb3V0OwogICAgfQogIH0sCiAgLy8gQWxsIG9mIHRoZSByZXNvdXJjZXMgdGhhdCB3ZSB3aWxsIGxvYWQgdGhhdCB3ZSBuZWVkIGZvciB0aGUgbG9hZGluZyBpbmRpY2F0b3IKICAkbG9hZGluZ1Jlc291cmNlczogZnVuY3Rpb24gJGxvYWRpbmdSZXNvdXJjZXMoJHJvdXRlLCAkc3RvcmUpIHsKICAgIHJldHVybiBfJGxvYWRpbmdSZXNvdXJjZXMyKCRyb3V0ZSwgJHN0b3JlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRIZWF0aFJlc291cmNlczogZnVuY3Rpb24gbG9hZEhlYXRoUmVzb3VyY2VzKCkgewogICAgICAvLyBGZXRjaCB0aGVzZSBpbiB0aGUgYmFja2dyb3VuZCB0byBwb3B1bGF0ZSB3b3JrbG9hZCBoZWFsdGgKICAgICAgaWYgKHRoaXMuYWxsVHlwZXMpIHsKICAgICAgICB0aGlzLiRmZXRjaFR5cGUoUE9EKTsKICAgICAgICB0aGlzLiRmZXRjaFR5cGUoV09SS0xPQURfVFlQRVMuSk9CKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdHlwZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5yZXNvdXJjZTsKICAgICAgICBpZiAodHlwZSA9PT0gV09SS0xPQURfVFlQRVMuSk9CIHx8IHR5cGUgPT09IFBPRCkgewogICAgICAgICAgLy8gSWdub3JlIGpvYiBhbmQgcG9kcyAod2UncmUgZmV0Y2hpbmcgdGhpcyBhbnl3YXksIHBsdXMgdGhleSBjb250YWluIHRoZWlyIG93biBzdGF0ZSkKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09IFdPUktMT0FEX1RZUEVTLkNST05fSk9CKSB7CiAgICAgICAgICB0aGlzLiRmZXRjaFR5cGUoV09SS0xPQURfVFlQRVMuSk9CKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kZmV0Y2hUeXBlKFBPRCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICB0eXBlRGlzcGxheTogZnVuY3Rpb24gdHlwZURpc3BsYXkoKSB7CiAgICB2YXIgdHlwZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5yZXNvdXJjZTsKICAgIHZhciBwYXJhbVNjaGVtYSA9IF9zY2hlbWEyOwogICAgaWYgKHR5cGUgIT09IF9zY2hlbWEyLmlkKSB7CiAgICAgIHBhcmFtU2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXSh0eXBlKTsKICAgIH0KICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9sYWJlbEZvciddKHBhcmFtU2NoZW1hLCA5OSk7CiAgfQp9Ow=="},{"version":3,"names":["ResourceTable","WORKLOAD_TYPES","SCHEMA","NODE","POD","LIST_WORKLOAD_TYPES","ResourceFetch","schema","id","type","attributes","kind","namespaced","metadata","name","$loadingResources","$route","$store","allowedResources","Object","values","forEach","getters","push","allTypes","params","resource","loadResources","loadIndeterminate","components","mixins","props","useQueryParamsForSimpleFiltering","Boolean","default","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","_schema","wrap","_callee$","_context","prev","next","length","$initializeFetchData","$fetchType","_unused","loadHeathResources","Promise","all","map","allowed","resources","sent","stop","data","_$loadingResources","computed","filteredRows","out","_iterator","_createForOfIteratorHelper","_step","s","n","done","typeRows","value","_iterator2","_step2","row","ownedByWorkload","err","e","f","methods","JOB","CRON_JOB","typeDisplay","paramSchema"],"sources":["node_modules/@rancher/shell/list/workload.vue"],"sourcesContent":["<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport {\n  WORKLOAD_TYPES, SCHEMA, NODE, POD, LIST_WORKLOAD_TYPES\n} from '@shell/config/types';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\n\nconst schema = {\n  id:         'workload',\n  type:       SCHEMA,\n  attributes: {\n    kind:       'Workload',\n    namespaced: true\n  },\n  metadata: { name: 'workload' },\n};\n\nconst $loadingResources = ($route, $store) => {\n  const allowedResources = [];\n\n  Object.values(LIST_WORKLOAD_TYPES).forEach((type) => {\n    // You may not have RBAC to see some of the types\n    if ($store.getters['cluster/schemaFor'](type) ) {\n      allowedResources.push(type);\n    }\n  });\n\n  const allTypes = $route.params.resource === schema.id;\n\n  return {\n    loadResources:     allTypes ? allowedResources : [$route.params.resource],\n    loadIndeterminate: allTypes,\n  };\n};\n\nexport default {\n  name:       'ListWorkload',\n  components: { ResourceTable },\n  mixins:     [ResourceFetch],\n\n  props: {\n    useQueryParamsForSimpleFiltering: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  async fetch() {\n    if (this.allTypes && this.loadResources.length) {\n      this.$initializeFetchData(this.loadResources[0], this.loadResources);\n    } else {\n      this.$initializeFetchData(this.$route.params.resource);\n    }\n\n    try {\n      const schema = this.$store.getters[`cluster/schemaFor`](NODE);\n\n      if (schema) {\n        this.$fetchType(NODE);\n      }\n    } catch {}\n\n    this.loadHeathResources();\n\n    if ( this.allTypes ) {\n      this.resources = await Promise.all(this.loadResources.map((allowed) => {\n        return this.$fetchType(allowed, this.loadResources);\n      }));\n    } else {\n      const type = this.$route.params.resource;\n\n      if ( this.$store.getters['cluster/schemaFor'](type) ) {\n        const resource = await this.$fetchType(type);\n\n        this.resources = [resource];\n      }\n    }\n  },\n\n  data() {\n    // Ensure these are set on load (to determine if the NS filter is required) rather than too late on `fetch`\n    const { loadResources, loadIndeterminate } = $loadingResources(this.$route, this.$store);\n\n    return {\n      resources: [],\n      loadResources,\n      loadIndeterminate\n    };\n  },\n\n  computed: {\n    allTypes() {\n      return this.$route.params.resource === schema.id;\n    },\n\n    schema() {\n      const { params:{ resource:type } } = this.$route;\n\n      if (type !== schema.id) {\n        return this.$store.getters['cluster/schemaFor'](type);\n      }\n\n      return schema;\n    },\n\n    filteredRows() {\n      const out = [];\n\n      for ( const typeRows of this.resources ) {\n        if ( !typeRows ) {\n          continue;\n        }\n\n        for ( const row of typeRows ) {\n          if (!this.allTypes || !row.ownedByWorkload) {\n            out.push(row);\n          }\n        }\n      }\n\n      return out;\n    },\n  },\n\n  // All of the resources that we will load that we need for the loading indicator\n  $loadingResources($route, $store) {\n    return $loadingResources($route, $store);\n  },\n\n  methods: {\n    loadHeathResources() {\n      // Fetch these in the background to populate workload health\n      if ( this.allTypes ) {\n        this.$fetchType(POD);\n        this.$fetchType(WORKLOAD_TYPES.JOB);\n      } else {\n        const type = this.$route.params.resource;\n\n        if (type === WORKLOAD_TYPES.JOB || type === POD) {\n          // Ignore job and pods (we're fetching this anyway, plus they contain their own state)\n          return;\n        }\n\n        if (type === WORKLOAD_TYPES.CRON_JOB) {\n          this.$fetchType(WORKLOAD_TYPES.JOB);\n        } else {\n          this.$fetchType(POD);\n        }\n      }\n    }\n  },\n\n  typeDisplay() {\n    const { params:{ resource:type } } = this.$route;\n    let paramSchema = schema;\n\n    if (type !== schema.id) {\n      paramSchema = this.$store.getters['cluster/schemaFor'](type);\n    }\n\n    return this.$store.getters['type-map/labelFor'](paramSchema, 99);\n  },\n};\n</script>\n\n<template>\n  <ResourceTable\n    :loading=\"$fetchState.pending\"\n    :schema=\"schema\"\n    :rows=\"filteredRows\"\n    :overflow-y=\"true\"\n    :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n    :force-update-live-and-delayed=\"forceUpdateLiveAndDelayed\"\n  />\n</template>\n"],"mappings":"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"}]}