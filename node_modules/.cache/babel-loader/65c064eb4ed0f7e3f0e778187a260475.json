{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/machine-config/generic.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/machine-config/generic.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCB7IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXksIHN0cmluZ2lmeSB9IGZyb20gJ0BzaGVsbC91dGlscy9lcnJvcic7CmltcG9ydCBRdWVzdGlvbnMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUXVlc3Rpb25zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcsCiAgICBCYW5uZXI6IEJhbm5lciwKICAgIFF1ZXN0aW9uczogUXVlc3Rpb25zCiAgfSwKICBtaXhpbnM6IFtDcmVhdGVFZGl0Vmlld10sCiAgcHJvcHM6IHsKICAgIGNyZWRlbnRpYWxJZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgcHJvdmlkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB0aGlzLmVycm9ycyA9IFtdOwogICAgdHJ5IHsKICAgICAgdGhpcy5maWVsZHMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydwbHVnaW5zL2ZpZWxkc0ZvckRyaXZlciddKHRoaXMucHJvdmlkZXIpOwogICAgICB2YXIgbmFtZSA9ICJya2UtbWFjaGluZS1jb25maWcuY2F0dGxlLmlvLiIuY29uY2F0KHRoaXMucHJvdmlkZXIsICJjb25maWciKTsKICAgICAgaWYgKCF0aGlzLmZpZWxkcykgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiTWFjaGluZSBEcml2ZXIgY29uZmlnIHNjaGVtYSBub3QgZm91bmQgZm9yICIuY29uY2F0KG5hbWUpKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLmVycm9ycyA9IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXkoZSk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3JzOiBudWxsLAogICAgICBmaWVsZHM6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2xvdWRDcmVkZW50aWFsS2V5czogZnVuY3Rpb24gY2xvdWRDcmVkZW50aWFsS2V5cygpIHsKICAgICAgdmFyIG5vcm1hblR5cGUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydwbHVnaW5zL2NyZWRlbnRpYWxGaWVsZEZvckRyaXZlciddKHRoaXMucHJvdmlkZXIpOwogICAgICB2YXIgbm9ybWFuU2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncmFuY2hlci9zY2hlbWFGb3InXSgiIi5jb25jYXQobm9ybWFuVHlwZSwgImNyZWRlbnRpYWxjb25maWciKSk7CiAgICAgIGlmIChub3JtYW5TY2hlbWEpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobm9ybWFuU2NoZW1hLnJlc291cmNlRmllbGRzIHx8IHt9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncGx1Z2lucy9maWVsZE5hbWVzRm9yRHJpdmVyJ10odGhpcy5wcm92aWRlcik7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAnY3JlZGVudGlhbElkJzogZnVuY3Rpb24gY3JlZGVudGlhbElkKCkgewogICAgICB0aGlzLiRmZXRjaCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc3RyaW5naWZ5OiBzdHJpbmdpZnkKICB9Cn07"},{"version":3,"names":["Loading","Banner","CreateEditView","exceptionToErrorsArray","stringify","Questions","components","mixins","props","credentialId","type","String","required","provider","disabled","Boolean","default","fetch","errors","fields","$store","getters","name","concat","Error","e","data","computed","cloudCredentialKeys","normanType","normanSchema","Object","keys","resourceFields","watch","$fetch","methods"],"sources":["node_modules/@rancher/shell/machine-config/generic.vue"],"sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { exceptionToErrorsArray, stringify } from '@shell/utils/error';\nimport Questions from '@shell/components/Questions';\n\nexport default {\n  components: {\n    Loading, Banner, Questions\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    credentialId: {\n      type:     String,\n      required: true,\n    },\n\n    provider: {\n      type:     String,\n      required: true,\n    },\n\n    disabled: {\n      type:    Boolean,\n      default: false\n    },\n  },\n\n  fetch() {\n    this.errors = [];\n\n    try {\n      this.fields = this.$store.getters['plugins/fieldsForDriver'](this.provider);\n      const name = `rke-machine-config.cattle.io.${ this.provider }config`;\n\n      if ( !this.fields ) {\n        throw new Error(`Machine Driver config schema not found for ${ name }`);\n      }\n    } catch (e) {\n      this.errors = exceptionToErrorsArray(e);\n    }\n  },\n\n  data() {\n    return {\n      errors: null,\n      fields: null,\n    };\n  },\n\n  computed: {\n    cloudCredentialKeys() {\n      const normanType = this.$store.getters['plugins/credentialFieldForDriver'](this.provider);\n      const normanSchema = this.$store.getters['rancher/schemaFor'](`${ normanType }credentialconfig`);\n\n      if ( normanSchema ) {\n        return Object.keys(normanSchema.resourceFields || {});\n      } else {\n        return this.$store.getters['plugins/fieldNamesForDriver'](this.provider);\n      }\n    }\n  },\n\n  watch: {\n    'credentialId'() {\n      this.$fetch();\n    },\n  },\n\n  methods: { stringify },\n};\n</script>\n\n<template>\n  <Loading\n    v-if=\"$fetchState.pending\"\n    :delayed=\"true\"\n  />\n  <div v-else-if=\"errors.length\">\n    <div\n      v-for=\"(err, idx) in errors\"\n      :key=\"idx\"\n    >\n      <Banner\n        color=\"error\"\n        :label=\"stringify(err)\"\n      />\n    </div>\n  </div>\n  <div v-else>\n    <Questions\n      v-model=\"value\"\n      :mode=\"mode\"\n      :tabbed=\"false\"\n      :source=\"fields\"\n      :ignore-variables=\"cloudCredentialKeys\"\n      :target-namespace=\"value.metadata.namespace\"\n      :disabled=\"disabled\"\n    />\n  </div>\n</template>\n"],"mappings":";AACA,OAAAA,OAAA;AACA,SAAAC,MAAA;AACA,OAAAC,cAAA;AACA,SAAAC,sBAAA,EAAAC,SAAA;AACA,OAAAC,SAAA;AAEA;EACAC,UAAA;IACAN,OAAA,EAAAA,OAAA;IAAAC,MAAA,EAAAA,MAAA;IAAAI,SAAA,EAAAA;EACA;EAEAE,MAAA,GAAAL,cAAA;EAEAM,KAAA;IACAC,YAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAC,QAAA;MACAH,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAE,QAAA;MACAJ,IAAA,EAAAK,OAAA;MACAC,OAAA;IACA;EACA;EAEAC,KAAA,WAAAA,MAAA;IACA,KAAAC,MAAA;IAEA;MACA,KAAAC,MAAA,QAAAC,MAAA,CAAAC,OAAA,iCAAAR,QAAA;MACA,IAAAS,IAAA,mCAAAC,MAAA,MAAAV,QAAA;MAEA,UAAAM,MAAA;QACA,UAAAK,KAAA,+CAAAD,MAAA,CAAAD,IAAA;MACA;IACA,SAAAG,CAAA;MACA,KAAAP,MAAA,GAAAf,sBAAA,CAAAsB,CAAA;IACA;EACA;EAEAC,IAAA,WAAAA,KAAA;IACA;MACAR,MAAA;MACAC,MAAA;IACA;EACA;EAEAQ,QAAA;IACAC,mBAAA,WAAAA,oBAAA;MACA,IAAAC,UAAA,QAAAT,MAAA,CAAAC,OAAA,0CAAAR,QAAA;MACA,IAAAiB,YAAA,QAAAV,MAAA,CAAAC,OAAA,yBAAAE,MAAA,CAAAM,UAAA;MAEA,IAAAC,YAAA;QACA,OAAAC,MAAA,CAAAC,IAAA,CAAAF,YAAA,CAAAG,cAAA;MACA;QACA,YAAAb,MAAA,CAAAC,OAAA,qCAAAR,QAAA;MACA;IACA;EACA;EAEAqB,KAAA;IACA,yBAAAzB,aAAA;MACA,KAAA0B,MAAA;IACA;EACA;EAEAC,OAAA;IAAAhC,SAAA,EAAAA;EAAA;AACA"}]}