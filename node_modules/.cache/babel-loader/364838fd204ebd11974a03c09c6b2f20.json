{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--17-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/core/plugin.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/core/plugin.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCB7IERTTCBhcyBTVE9SRV9EU0wgfSBmcm9tICdAc2hlbGwvc3RvcmUvdHlwZS1tYXAnOwppbXBvcnQgeyBFeHRlbnNpb25Qb2ludCB9IGZyb20gJy4vdHlwZXMnOwppbXBvcnQgY29yZVN0b3JlLCB7IGNvcmVTdG9yZU1vZHVsZSwgY29yZVN0b3JlU3RhdGUgfSBmcm9tICdAc2hlbGwvcGx1Z2lucy9kYXNoYm9hcmQtc3RvcmUnOwppbXBvcnQgeyByZWdpc3RlckxheW91dCB9IGZyb20gJ0BzaGVsbC9pbml0aWFsaXplL2xheW91dHMnOwpleHBvcnQgdmFyIFBsdWdpbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gUGx1Z2luKGlkKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsdWdpbik7CiAgICB0aGlzLnR5cGVzID0ge307CiAgICB0aGlzLmwxMG4gPSB7fTsKICAgIHRoaXMubG9jYWxlcyA9IFtdOwogICAgdGhpcy5wcm9kdWN0cyA9IFtdOwogICAgdGhpcy5wcm9kdWN0TmFtZXMgPSBbXTsKICAgIHRoaXMucm91dGVzID0gW107CiAgICB0aGlzLnN0b3JlcyA9IFtdOwogICAgdGhpcy5vbkVudGVyID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICB9OwogICAgdGhpcy5vbkxlYXZlID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICB9OwogICAgdGhpcy5fb25Mb2dPdXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgIH07CiAgICB0aGlzLnVpQ29uZmlnID0ge307CiAgICAvLyBQbHVnaW4gbWV0YWRhdGEgKHBsdWdpbiBwYWNrYWdlLmpzb24pCiAgICB0aGlzLl9tZXRhZGF0YSA9IHt9OwogICAgdGhpcy5fdmFsaWRhdG9ycyA9IHt9OwogICAgLy8gSXMgdGhpcyBhIGJ1aWx0LWluIHBsdWdpbiAoYnVuZGxlZCB3aXRoIHRoZSBhcHBsaWNhdGlvbikKICAgIHRoaXMuYnVpbHRpbiA9IGZhbHNlOwogICAgLy8gVW5pbnN0YWxsIGhvb2tzCiAgICB0aGlzLnVuaW5zdGFsbEhvb2tzID0gW107CiAgICB0aGlzLmlkID0gaWQ7CiAgICB0aGlzLm5hbWUgPSBpZDsKICAgIC8vIEluaXRpYWxpemUgdWlDb25maWcgZm9yIGFsbCBvZiB0aGUgcG9zc2libGUgZW51bSB2YWx1ZXMKICAgIE9iamVjdC52YWx1ZXMoRXh0ZW5zaW9uUG9pbnQpLmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgX3RoaXMudWlDb25maWdbdl0gPSB7fTsKICAgIH0pOwogIH0KICBfY3JlYXRlQ2xhc3MoUGx1Z2luLCBbewogICAga2V5OiAibWV0YWRhdGEiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9tZXRhZGF0YTsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICB0aGlzLl9tZXRhZGF0YSA9IHZhbHVlOwogICAgICB0aGlzLm5hbWUgPSB0aGlzLl9tZXRhZGF0YS5uYW1lIHx8IHRoaXMuaWQ7CiAgICB9CiAgfSwgewogICAga2V5OiAidmVyc2lvbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX21ldGFkYXRhLnZlcnNpb247CiAgICB9CiAgfSwgewogICAga2V5OiAidmFsaWRhdG9ycyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRvcnM7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFscykgewogICAgICB0aGlzLl92YWxpZGF0b3JzID0gdmFsczsKICAgIH0KICAgIC8vIFRyYWNrIHdoaWNoIHByb2R1Y3RzIHRoZSBwbHVnaW4gY3JlYXRlcwogIH0sIHsKICAgIGtleTogIkRTTCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gRFNMKHN0b3JlLCBwcm9kdWN0TmFtZSkgewogICAgICB2YXIgc3RvcmVEU0wgPSBTVE9SRV9EU0woc3RvcmUsIHByb2R1Y3ROYW1lKTsKICAgICAgdGhpcy5wcm9kdWN0TmFtZXMucHVzaChwcm9kdWN0TmFtZSk7CiAgICAgIHJldHVybiBzdG9yZURTTDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRQcm9kdWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRQcm9kdWN0KHByb2R1Y3QpIHsKICAgICAgdGhpcy5wcm9kdWN0cy5wdXNoKHByb2R1Y3QpOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZExvY2FsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTG9jYWxlKGxvY2FsZSwgbGFiZWwpIHsKICAgICAgdGhpcy5sb2NhbGVzLnB1c2goewogICAgICAgIGxvY2FsZTogbG9jYWxlLAogICAgICAgIGxhYmVsOiBsYWJlbAogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRMMTBuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRMMTBuKGxvY2FsZSwgZm4pIHsKICAgICAgdGhpcy5yZWdpc3RlcignbDEwbicsIGxvY2FsZSwgZm4pOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZFJvdXRlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUm91dGVzKHJvdXRlcykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcm91dGVzLmZvckVhY2goZnVuY3Rpb24gKHIpIHsKICAgICAgICBpZiAoT2JqZWN0LmtleXMocikuaW5jbHVkZXMoJ3BhcmVudCcpKSB7CiAgICAgICAgICB2YXIgcENvbmZpZyA9IHI7CiAgICAgICAgICBpZiAocENvbmZpZy5wYXJlbnQpIHsKICAgICAgICAgICAgX3RoaXMyLmFkZFJvdXRlKHBDb25maWcucGFyZW50LCBwQ29uZmlnLnJvdXRlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi5hZGRSb3V0ZShwQ29uZmlnLnJvdXRlKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLmFkZFJvdXRlKHIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkUm91dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFJvdXRlKHBhcmVudE9yUm91dGUsIG9wdGlvbmFsUm91dGUpIHsKICAgICAgLy8gQWx3YXlzIGFkZCB0aGUgcGtnIG5hbWUgdG8gdGhlIHJvdXRlIG1ldGFkYXRhCiAgICAgIHZhciBoYXNQYXJlbnQgPSB0eXBlb2YgcGFyZW50T3JSb3V0ZSA9PT0gJ3N0cmluZyc7CiAgICAgIHZhciBwYXJlbnQgPSBoYXNQYXJlbnQgPyBwYXJlbnRPclJvdXRlIDogdW5kZWZpbmVkOwogICAgICB2YXIgcm91dGUgPSBoYXNQYXJlbnQgPyBvcHRpb25hbFJvdXRlIDogcGFyZW50T3JSb3V0ZTsKICAgICAgcm91dGUubWV0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcm91dGUgPT09IG51bGwgfHwgcm91dGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvdXRlLm1ldGEpLCB7fSwgewogICAgICAgIHBrZzogdGhpcy5uYW1lCiAgICAgIH0pOwogICAgICB0aGlzLnJvdXRlcy5wdXNoKHsKICAgICAgICBwYXJlbnQ6IHBhcmVudCwKICAgICAgICByb3V0ZTogcm91dGUKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2FkZFVJQ29uZmlnIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkVUlDb25maWcodHlwZSwgd2hlcmUsIHdoZW4sIGNvbmZpZykgewogICAgICAvLyBGb3IgY29udmVuaWVuY2UgJ3doZW4nIGNhbiBiZSBhIHN0cmluZyB0byBpbmRpY2F0ZSBhIHJlc291cmNlLCBzbyBjb252ZXJ0IGl0IHRvIHRoZSBMb2NhdGlvbkNvbmZpZyBmb3JtYXQKICAgICAgdmFyIGxvY2F0aW9uQ29uZmlnID0gdHlwZW9mIHdoZW4gPT09ICdzdHJpbmcnID8gewogICAgICAgIHJlc291cmNlOiB3aGVuCiAgICAgIH0gOiB3aGVuOwogICAgICB0aGlzLnVpQ29uZmlnW3R5cGVdW3doZXJlXSA9IHRoaXMudWlDb25maWdbdHlwZV1bd2hlcmVdIHx8IFtdOwogICAgICB0aGlzLnVpQ29uZmlnW3R5cGVdW3doZXJlXS5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29uZmlnKSwge30sIHsKICAgICAgICBsb2NhdGlvbkNvbmZpZzogbG9jYXRpb25Db25maWcKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBBZGRzIGFuIGFjdGlvbi9idXR0b24gdG8gdGhlIFVJCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJhZGRBY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEFjdGlvbih3aGVyZSwgd2hlbiwgYWN0aW9uKSB7CiAgICAgIHRoaXMuX2FkZFVJQ29uZmlnKEV4dGVuc2lvblBvaW50LkFDVElPTiwgd2hlcmUsIHdoZW4sIGFjdGlvbik7CiAgICB9CiAgICAvKioKICAgICAqIEFkZHMgYSB0YWIgdG8gdGhlIFVJCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJhZGRUYWIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFRhYih3aGVyZSwgd2hlbiwgdGFiKSB7CiAgICAgIHRoaXMuX2FkZFVJQ29uZmlnKEV4dGVuc2lvblBvaW50LlRBQiwgd2hlcmUsIHdoZW4sIHRhYik7CiAgICB9CiAgICAvKioKICAgICAqIEFkZHMgYSBwYW5lbC9jb21wb25lbnQgdG8gdGhlIFVJCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJhZGRQYW5lbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUGFuZWwod2hlcmUsIHdoZW4sIHBhbmVsKSB7CiAgICAgIHRoaXMuX2FkZFVJQ29uZmlnKEV4dGVuc2lvblBvaW50LlBBTkVMLCB3aGVyZSwgd2hlbiwgcGFuZWwpOwogICAgfQogICAgLyoqCiAgICAgKiBBZGRzIGEgY2FyZCB0byB0aGUgdG8gdGhlIFVJCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJhZGRDYXJkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDYXJkKHdoZXJlLCB3aGVuLCBjYXJkKSB7CiAgICAgIHRoaXMuX2FkZFVJQ29uZmlnKEV4dGVuc2lvblBvaW50LkNBUkQsIHdoZXJlLCB3aGVuLCBjYXJkKTsKICAgIH0KICAgIC8qKgogICAgICogQWRkcyBhIG5ldyBjb2x1bW4gdG8gYSB0YWJsZSBvbiB0aGUgVUkKICAgICAqLwogIH0sIHsKICAgIGtleTogImFkZFRhYmxlQ29sdW1uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRUYWJsZUNvbHVtbih3aGVyZSwgd2hlbiwgY29sdW1uKSB7CiAgICAgIHRoaXMuX2FkZFVJQ29uZmlnKEV4dGVuc2lvblBvaW50LlRBQkxFX0NPTCwgd2hlcmUsIHdoZW4sIGNvbHVtbik7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0SG9tZVBhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEhvbWVQYWdlKGNvbXBvbmVudCkgewogICAgICB0aGlzLmFkZFJvdXRlKHsKICAgICAgICBuYW1lOiAnaG9tZScsCiAgICAgICAgcGF0aDogJy9ob21lJywKICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudAogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRVbmluc3RhbGxIb29rIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRVbmluc3RhbGxIb29rKGhvb2spIHsKICAgICAgdGhpcy51bmluc3RhbGxIb29rcy5wdXNoKGhvb2spOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZFN0b3JlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTdG9yZShzdG9yZU5hbWUsIHJlZ2lzdGVyLCB1bnJlZ2lzdGVyKSB7CiAgICAgIHRoaXMuc3RvcmVzLnB1c2goewogICAgICAgIHN0b3JlTmFtZTogc3RvcmVOYW1lLAogICAgICAgIHJlZ2lzdGVyOiByZWdpc3RlciwKICAgICAgICB1bnJlZ2lzdGVyOiB1bnJlZ2lzdGVyCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZERhc2hib2FyZFN0b3JlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGREYXNoYm9hcmRTdG9yZShzdG9yZU5hbWUsIHN0b3JlU3BlY2lmaWNzLCBjb25maWcsIGluaXQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMuc3RvcmVzLnB1c2goewogICAgICAgIHN0b3JlTmFtZTogc3RvcmVOYW1lLAogICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgICAgIHJldHVybiBjb3JlU3RvcmUoX3RoaXMzLnN0b3JlRmFjdG9yeShzdG9yZVNwZWNpZmljcywgY29uZmlnKSwgY29uZmlnLCBpbml0KTsKICAgICAgICB9LAogICAgICAgIHVucmVnaXN0ZXI6IGZ1bmN0aW9uIHVucmVnaXN0ZXIoc3RvcmUpIHsKICAgICAgICAgIHN0b3JlLnVucmVnaXN0ZXJNb2R1bGUoc3RvcmVOYW1lKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInN0b3JlRmFjdG9yeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcmVGYWN0b3J5KHN0b3JlU3BlY2lmaWNzLCBjb25maWcpIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29yZVN0b3JlTW9kdWxlKSwge30sIHsKICAgICAgICBzdGF0ZTogZnVuY3Rpb24gc3RhdGUoKSB7CiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb3JlU3RvcmVTdGF0ZShjb25maWcubmFtZXNwYWNlLCBjb25maWcuYmFzZVVybCwgY29uZmlnLmlzQ2x1c3RlclN0b3JlKSksIHN0b3JlU3BlY2lmaWNzLnN0YXRlKCkpOwogICAgICAgIH0sCiAgICAgICAgZ2V0dGVyczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb3JlU3RvcmVNb2R1bGUuZ2V0dGVycyksIHN0b3JlU3BlY2lmaWNzLmdldHRlcnMpLAogICAgICAgIG11dGF0aW9uczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb3JlU3RvcmVNb2R1bGUubXV0YXRpb25zKSwgc3RvcmVTcGVjaWZpY3MubXV0YXRpb25zKSwKICAgICAgICBhY3Rpb25zOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvcmVTdG9yZU1vZHVsZS5hY3Rpb25zKSwgc3RvcmVTcGVjaWZpY3MuYWN0aW9ucykKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkTmF2SG9va3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE5hdkhvb2tzKCkgewogICAgICB2YXIgb25FbnRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgICAgfTsKICAgICAgdmFyIG9uTGVhdmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICAgIH07CiAgICAgIHZhciBvbkxvZ091dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKICAgICAgfTsKICAgICAgdGhpcy5vbkVudGVyID0gb25FbnRlcjsKICAgICAgdGhpcy5vbkxlYXZlID0gb25MZWF2ZTsKICAgICAgdGhpcy5fb25Mb2dPdXQgPSBvbkxvZ091dDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkxvZ091dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX29uTG9nT3V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHN0b3JlKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMuc3RvcmVzLm1hcChmdW5jdGlvbiAocykgewogICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCIiLmNvbmNhdChzLnN0b3JlTmFtZSwgIi9vbkxvZ291dCIpKTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb25Mb2dPdXQoc3RvcmUpOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwogICAgICBmdW5jdGlvbiBvbkxvZ091dChfeCkgewogICAgICAgIHJldHVybiBfb25Mb2dPdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQogICAgICByZXR1cm4gb25Mb2dPdXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJyZWdpc3RlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXIodHlwZSwgbmFtZSwgZm4pIHsKICAgICAgdmFyIG5wYXJ0cyA9IG5hbWUuc3BsaXQoJy8nKTsKICAgICAgLy8gU3VwcG9ydCBjb21wb25lbnRzIGluIGEgc3ViLWZvbGRlciAtIGNvbXBvbmVudF9uYW1lL2luZGV4LnZ1ZSAoYW5kIGlnbm9yZSBvdGhlciBjb21wb25uZXRzIGluIHRoYXQgZm9sZGVyKQogICAgICAvLyBBbGxvdyBzdG9yZS1zY29wZWQgbW9kZWxzIHZpYSBzdWItZm9sZGVyIC0gcGtnbmFtZS9tb2RlbHMvc3RvcmVuYW1lL3R5cGUgd2lsbCBiZSByZWdpc3RlcmVkIGFzIHN0b3JlbmFtZS90eXBlIHRvIGF2b2lkIG92ZXJ3cml0aW5nIHNoZWxsL21vZGVscy90eXBlCiAgICAgIGlmIChucGFydHMubGVuZ3RoID09PSAyICYmIHR5cGUgIT09ICdtb2RlbHMnKSB7CiAgICAgICAgaWYgKG5wYXJ0c1sxXSAhPT0gJ2luZGV4JykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBuYW1lID0gbnBhcnRzWzBdOwogICAgICB9CiAgICAgIC8vIEFjY3VtdWxhdGUgbDEwbiByZXNvdXJjZXMgcmF0aGVyIHRoYW4gcmVwbGFjZQogICAgICBpZiAodHlwZSA9PT0gJ2wxMG4nKSB7CiAgICAgICAgaWYgKCF0aGlzLmwxMG5bbmFtZV0pIHsKICAgICAgICAgIHRoaXMubDEwbltuYW1lXSA9IFtdOwogICAgICAgIH0KICAgICAgICB0aGlzLmwxMG5bbmFtZV0ucHVzaChmbik7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2xheW91dHMnKSB7CiAgICAgICAgZm4oKS50aGVuKGZ1bmN0aW9uIChjb21wb25lbnQpIHsKICAgICAgICAgIGlmIChjb21wb25lbnQuZGVmYXVsdCkgewogICAgICAgICAgICByZWdpc3RlckxheW91dChuYW1lLCBjb21wb25lbnQuZGVmYXVsdCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gbG9hZCBsYXlvdXQgIi5jb25jYXQobmFtZSwgIiBiZWNhdXNlIHRoZSBmaWxlIGRpZG4ndCBleHBvcnQgYSBkZWZhdWx0IGNvbXBvbmVudC4iKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghdGhpcy50eXBlc1t0eXBlXSkgewogICAgICAgICAgdGhpcy50eXBlc1t0eXBlXSA9IHt9OwogICAgICAgIH0KICAgICAgICB0aGlzLnR5cGVzW3R5cGVdW25hbWVdID0gZm47CiAgICAgIH0KICAgIH0KICB9XSk7CiAgcmV0dXJuIFBsdWdpbjsKfSgpOw=="},{"version":3,"names":["DSL","STORE_DSL","ExtensionPoint","coreStore","coreStoreModule","coreStoreState","registerLayout","Plugin","id","_this","_classCallCheck","types","l10n","locales","products","productNames","routes","stores","onEnter","Promise","resolve","onLeave","_onLogOut","uiConfig","_metadata","_validators","builtin","uninstallHooks","name","Object","values","forEach","v","_createClass","key","get","set","value","version","vals","store","productName","storeDSL","push","addProduct","product","addLocale","locale","label","addL10n","fn","register","addRoutes","_this2","r","keys","includes","pConfig","parent","addRoute","route","parentOrRoute","optionalRoute","hasParent","undefined","meta","_objectSpread","pkg","_addUIConfig","type","where","when","config","locationConfig","resource","addAction","action","ACTION","addTab","tab","TAB","addPanel","panel","PANEL","addCard","card","CARD","addTableColumn","column","TABLE_COL","setHomePage","component","path","addUninstallHook","hook","addStore","storeName","unregister","addDashboardStore","storeSpecifics","init","_this3","storeFactory","unregisterModule","state","namespace","baseUrl","isClusterStore","getters","mutations","actions","addNavHooks","arguments","length","onLogOut","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","all","map","s","dispatch","concat","stop","_x","apply","nparts","split","then","default","console","error"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/core/plugin.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { RouteConfig } from 'vue-router';\nimport { DSL as STORE_DSL } from '@shell/store/type-map';\nimport {\n  CoreStoreInit,\n  Action,\n  Tab,\n  Card,\n  Panel,\n  TableColumn,\n  IPlugin,\n  LocationConfig,\n  ExtensionPoint,\n\n  PluginRouteConfig, RegisterStore, UnregisterStore, CoreStoreSpecifics, CoreStoreConfig, OnNavToPackage, OnNavAwayFromPackage, OnLogOut\n} from './types';\nimport coreStore, { coreStoreModule, coreStoreState } from '@shell/plugins/dashboard-store';\nimport { registerLayout } from '@shell/initialize/layouts';\n\nexport type ProductFunction = (plugin: IPlugin, store: any) => void;\n\nexport class Plugin implements IPlugin {\n  public id: string;\n  public name: string;\n  public types: any = {};\n  public l10n: { [key: string]: Function[] } = {};\n  public locales: { locale: string, label: string}[] = [];\n  public products: ProductFunction[] = [];\n  public productNames: string[] = [];\n  public routes: { parent?: string, route: RouteConfig }[] = [];\n  public stores: { storeName: string, register: RegisterStore, unregister: UnregisterStore }[] = [];\n  public onEnter: OnNavToPackage = () => Promise.resolve();\n  public onLeave: OnNavAwayFromPackage = () => Promise.resolve();\n  public _onLogOut: OnLogOut = () => Promise.resolve();\n\n  public uiConfig: { [key: string]: any } = {};\n\n  // Plugin metadata (plugin package.json)\n  public _metadata: any = {};\n\n  public _validators: {[key:string]: Function } = {}\n\n  // Is this a built-in plugin (bundled with the application)\n  public builtin = false;\n\n  // Uninstall hooks\n  public uninstallHooks: Function[] = [];\n\n  constructor(id: string) {\n    this.id = id;\n    this.name = id;\n\n    // Initialize uiConfig for all of the possible enum values\n    Object.values(ExtensionPoint).forEach((v) => {\n      this.uiConfig[v] = {};\n    });\n  }\n\n  get metadata() {\n    return this._metadata;\n  }\n\n  set metadata(value) {\n    this._metadata = value;\n    this.name = this._metadata.name || this.id;\n  }\n\n  get version() {\n    return this._metadata.version;\n  }\n\n  get validators() {\n    return this._validators;\n  }\n\n  set validators(vals: {[key:string]: Function }) {\n    this._validators = vals;\n  }\n\n  // Track which products the plugin creates\n  DSL(store: any, productName: string) {\n    const storeDSL = STORE_DSL(store, productName);\n\n    this.productNames.push(productName);\n\n    return storeDSL;\n  }\n\n  addProduct(product: ProductFunction): void {\n    this.products.push(product);\n  }\n\n  addLocale(locale: string, label: string): void {\n    this.locales.push({ locale, label });\n  }\n\n  addL10n(locale: string, fn: Function) {\n    this.register('l10n', locale, fn);\n  }\n\n  addRoutes(routes: PluginRouteConfig[] | RouteConfig[]) {\n    routes.forEach((r: PluginRouteConfig | RouteConfig) => {\n      if (Object.keys(r).includes('parent')) {\n        const pConfig = r as PluginRouteConfig;\n\n        if (pConfig.parent) {\n          this.addRoute(pConfig.parent, pConfig.route);\n        } else {\n          this.addRoute(pConfig.route);\n        }\n      } else {\n        this.addRoute(r as RouteConfig);\n      }\n    });\n  }\n\n  addRoute(parentOrRoute: RouteConfig | string, optionalRoute?: RouteConfig): void {\n    // Always add the pkg name to the route metadata\n    const hasParent = typeof (parentOrRoute) === 'string';\n    const parent: string | undefined = hasParent ? parentOrRoute as string : undefined;\n    const route: RouteConfig = hasParent ? optionalRoute as RouteConfig : parentOrRoute as RouteConfig;\n\n    route.meta = {\n      ...route?.meta,\n      pkg: this.name,\n    };\n\n    this.routes.push({ parent, route });\n  }\n\n  private _addUIConfig(type: string, where: string, when: LocationConfig | string, config: any) {\n    // For convenience 'when' can be a string to indicate a resource, so convert it to the LocationConfig format\n    const locationConfig = (typeof when === 'string') ? { resource: when } : when;\n\n    this.uiConfig[type][where] = this.uiConfig[type][where] || [];\n    this.uiConfig[type][where].push({ ...config, locationConfig });\n  }\n\n  /**\n   * Adds an action/button to the UI\n   */\n  addAction(where: string, when: LocationConfig | string, action: Action): void {\n    this._addUIConfig(ExtensionPoint.ACTION, where, when, action);\n  }\n\n  /**\n   * Adds a tab to the UI\n   */\n  addTab(where: string, when: LocationConfig | string, tab: Tab): void {\n    this._addUIConfig(ExtensionPoint.TAB, where, when, tab);\n  }\n\n  /**\n   * Adds a panel/component to the UI\n   */\n  addPanel(where: string, when: LocationConfig | string, panel: Panel): void {\n    this._addUIConfig(ExtensionPoint.PANEL, where, when, panel);\n  }\n\n  /**\n   * Adds a card to the to the UI\n   */\n  addCard( where: string, when: LocationConfig | string, card: Card): void {\n    this._addUIConfig(ExtensionPoint.CARD, where, when, card);\n  }\n\n  /**\n   * Adds a new column to a table on the UI\n   */\n  addTableColumn(where: string, when: LocationConfig | string, column: TableColumn): void {\n    this._addUIConfig(ExtensionPoint.TABLE_COL, where, when, column);\n  }\n\n  setHomePage(component: any) {\n    this.addRoute({\n      name: 'home',\n      path: '/home',\n      component\n    });\n  }\n\n  addUninstallHook(hook: Function) {\n    this.uninstallHooks.push(hook);\n  }\n\n  addStore(storeName: string, register: RegisterStore, unregister: UnregisterStore) {\n    this.stores.push({\n      storeName, register, unregister\n    });\n  }\n\n  addDashboardStore(storeName: string, storeSpecifics: CoreStoreSpecifics, config: CoreStoreConfig, init?: CoreStoreInit) {\n    this.stores.push({\n      storeName,\n      register: () => {\n        return coreStore(\n          this.storeFactory(storeSpecifics, config),\n          config,\n          init,\n        );\n      },\n      unregister: (store: any) => {\n        store.unregisterModule(storeName);\n      }\n    });\n  }\n\n  private storeFactory(storeSpecifics: CoreStoreSpecifics, config: CoreStoreConfig) {\n    return {\n      ...coreStoreModule,\n\n      state() {\n        return {\n          ...coreStoreState(config.namespace, config.baseUrl, config.isClusterStore),\n          ...storeSpecifics.state()\n        };\n      },\n\n      getters: {\n        ...coreStoreModule.getters,\n        ...storeSpecifics.getters\n      },\n\n      mutations: {\n        ...coreStoreModule.mutations,\n        ...storeSpecifics.mutations\n      },\n\n      actions: {\n        ...coreStoreModule.actions,\n        ...storeSpecifics.actions\n      },\n    };\n  }\n\n  public addNavHooks(\n    onEnter: OnNavToPackage = () => Promise.resolve(),\n    onLeave: OnNavAwayFromPackage = () => Promise.resolve(),\n    onLogOut: OnLogOut = () => Promise.resolve(),\n  ): void {\n    this.onEnter = onEnter;\n    this.onLeave = onLeave;\n    this._onLogOut = onLogOut;\n  }\n\n  public async onLogOut(store: any) {\n    await Promise.all(this.stores.map((s: any) => store.dispatch(`${ s.storeName }/onLogout`)));\n\n    await this._onLogOut(store);\n  }\n\n  public register(type: string, name: string, fn: Function) {\n    const nparts = name.split('/');\n\n    // Support components in a sub-folder - component_name/index.vue (and ignore other componnets in that folder)\n    // Allow store-scoped models via sub-folder - pkgname/models/storename/type will be registered as storename/type to avoid overwriting shell/models/type\n    if (nparts.length === 2 && type !== 'models') {\n      if (nparts[1] !== 'index') {\n        return;\n      }\n      name = nparts[0];\n    }\n\n    // Accumulate l10n resources rather than replace\n    if (type === 'l10n') {\n      if (!this.l10n[name]) {\n        this.l10n[name] = [];\n      }\n\n      this.l10n[name].push(fn);\n    } else if (type === 'layouts') {\n      fn().then((component: any) => {\n        if (component.default) {\n          registerLayout(name, component.default);\n        } else {\n          console.error(`Failed to load layout ${ name } because the file didn't export a default component.`); // eslint-disable-line no-console\n        }\n      });\n    } else {\n      if (!this.types[type]) {\n        this.types[type] = {};\n      }\n      this.types[type][name] = fn;\n    }\n  }\n}\n"],"mappings":"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"}]}