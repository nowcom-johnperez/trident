{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/LiveDuration.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/LiveDuration.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGRheSBmcm9tICdkYXlqcyc7CmltcG9ydCB7IGVsYXBzZWRUaW1lIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3RpbWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIFNldCBpbml0aWFsIHZhbHVlOwogICAgaWYgKHRoaXMudmFsdWUuc3RhcnRUaW1lKSB7CiAgICAgIHRoaXMubGl2ZVVwZGF0ZShkYXkoKSk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGFiZWw6ICctJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkYXlWYWx1ZTogZnVuY3Rpb24gZGF5VmFsdWUoKSB7CiAgICAgIGlmICghdGhpcy52YWx1ZS5zdGFydFRpbWUpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gZGF5KHRoaXMudmFsdWUuc3RhcnRUaW1lKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7CiAgICAgIGlmICh0aGlzLnZhbHVlLnN0YXJ0VGltZSkgewogICAgICAgIHRoaXMubGl2ZVVwZGF0ZShkYXkoKSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxpdmVVcGRhdGU6IGZ1bmN0aW9uIGxpdmVVcGRhdGUobm93KSB7CiAgICAgIGlmICghdGhpcy5kYXlWYWx1ZSkgewogICAgICAgIHRoaXMubGFiZWwgPSAnLSc7CiAgICAgICAgcmV0dXJuIDMwMDsKICAgICAgfQogICAgICB2YXIgX3RoaXMkZ2V0RHVyYXRpb24gPSB0aGlzLmdldER1cmF0aW9uKHRoaXMuZGF5VmFsdWUsIG5vdyksCiAgICAgICAgbGFiZWwgPSBfdGhpcyRnZXREdXJhdGlvbi5sYWJlbCwKICAgICAgICBkaWZmID0gX3RoaXMkZ2V0RHVyYXRpb24uZGlmZjsKICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsOwogICAgICByZXR1cm4gZGlmZjsKICAgIH0sCiAgICBnZXREdXJhdGlvbjogZnVuY3Rpb24gZ2V0RHVyYXRpb24odmFsdWUsIGZyb20pIHsKICAgICAgdmFyIG5vdyA9IGRheSgpOwogICAgICBmcm9tID0gZnJvbSB8fCBub3c7CiAgICAgIHZhciBzZWNvbmRzID0gTWF0aC5hYnModmFsdWUuZGlmZihub3csICdzZWNvbmRzJykpOwogICAgICByZXR1cm4gZWxhcHNlZFRpbWUoc2Vjb25kcyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["day","elapsedTime","props","value","type","Object","default","_default","mounted","startTime","liveUpdate","data","label","computed","dayValue","watch","methods","now","_this$getDuration","getDuration","diff","from","seconds","Math","abs"],"sources":["node_modules/@rancher/shell/components/formatter/LiveDuration.vue"],"sourcesContent":["<script>\nimport day from 'dayjs';\nimport { elapsedTime } from '@shell/utils/time';\n\nexport default {\n  props: {\n    value: {\n      type:    Object,\n      default: () => {}\n    },\n  },\n\n  mounted() {\n    // Set initial value;\n    if (this.value.startTime) {\n      this.liveUpdate(day());\n    }\n  },\n\n  data() {\n    return { label: '-' };\n  },\n\n  computed: {\n    dayValue() {\n      if (!this.value.startTime) {\n        return null;\n      }\n\n      return day(this.value.startTime);\n    }\n  },\n\n  watch: {\n    value() {\n      if (this.value.startTime) {\n        this.liveUpdate(day());\n      }\n    }\n  },\n\n  methods: {\n    liveUpdate(now) {\n      if (!this.dayValue) {\n        this.label = '-';\n\n        return 300;\n      }\n\n      const { label, diff } = this.getDuration(this.dayValue, now);\n\n      this.label = label;\n\n      return diff;\n    },\n    getDuration(value, from) {\n      const now = day();\n\n      from = from || now;\n      const seconds = Math.abs(value.diff(now, 'seconds'));\n\n      return elapsedTime(seconds);\n    },\n  }\n};\n</script>\n\n<template>\n  <span v-if=\"value.staticValue\">\n    {{ value.staticValue }}\n  </span>\n  <span\n    v-else\n    class=\"live-date\"\n  >\n    {{ label }}\n  </span>\n</template>\n"],"mappings":"AACA,OAAAA,GAAA;AACA,SAAAC,WAAA;AAEA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IACA;IACA,SAAAL,KAAA,CAAAM,SAAA;MACA,KAAAC,UAAA,CAAAV,GAAA;IACA;EACA;EAEAW,IAAA,WAAAA,KAAA;IACA;MAAAC,KAAA;IAAA;EACA;EAEAC,QAAA;IACAC,QAAA,WAAAA,SAAA;MACA,UAAAX,KAAA,CAAAM,SAAA;QACA;MACA;MAEA,OAAAT,GAAA,MAAAG,KAAA,CAAAM,SAAA;IACA;EACA;EAEAM,KAAA;IACAZ,KAAA,WAAAA,MAAA;MACA,SAAAA,KAAA,CAAAM,SAAA;QACA,KAAAC,UAAA,CAAAV,GAAA;MACA;IACA;EACA;EAEAgB,OAAA;IACAN,UAAA,WAAAA,WAAAO,GAAA;MACA,UAAAH,QAAA;QACA,KAAAF,KAAA;QAEA;MACA;MAEA,IAAAM,iBAAA,QAAAC,WAAA,MAAAL,QAAA,EAAAG,GAAA;QAAAL,KAAA,GAAAM,iBAAA,CAAAN,KAAA;QAAAQ,IAAA,GAAAF,iBAAA,CAAAE,IAAA;MAEA,KAAAR,KAAA,GAAAA,KAAA;MAEA,OAAAQ,IAAA;IACA;IACAD,WAAA,WAAAA,YAAAhB,KAAA,EAAAkB,IAAA;MACA,IAAAJ,GAAA,GAAAjB,GAAA;MAEAqB,IAAA,GAAAA,IAAA,IAAAJ,GAAA;MACA,IAAAK,OAAA,GAAAC,IAAA,CAAAC,GAAA,CAAArB,KAAA,CAAAiB,IAAA,CAAAH,GAAA;MAEA,OAAAhB,WAAA,CAAAqB,OAAA;IACA;EACA;AACA"}]}