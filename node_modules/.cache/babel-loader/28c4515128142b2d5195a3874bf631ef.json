{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/storage/ContainerMountPaths.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/storage/ContainerMountPaths.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgeyBjbG9uZSB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgeyBfVklFVyB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgcmFuZG9tU3RyIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCBNb3VudCBmcm9tICdAc2hlbGwvZWRpdC93b3JrbG9hZC9zdG9yYWdlL01vdW50JzsKaW1wb3J0IEJ1dHRvbkRyb3Bkb3duIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0J1dHRvbkRyb3Bkb3duJzsKaW1wb3J0IEFycmF5TGlzdEdyb3VwZWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9BcnJheUxpc3RHcm91cGVkJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb250YWluZXJNb3VudFBhdGhzJywKICBjb21wb25lbnRzOiB7CiAgICBBcnJheUxpc3RHcm91cGVkOiBBcnJheUxpc3RHcm91cGVkLAogICAgQnV0dG9uRHJvcGRvd246IEJ1dHRvbkRyb3Bkb3duLAogICAgTW91bnQ6IE1vdW50CiAgfSwKICBwcm9wczogewogICAgbW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjcmVhdGUnCiAgICB9LAogICAgLy8gcG9kIHNwZWMKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgY29udGFpbmVyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdGhpcy5pbml0aWFsaXplU3RvcmFnZSgpOwogICAgcmV0dXJuIHsKICAgICAgY29udGFpbmVyVm9sdW1lczogW10sCiAgICAgIHN0b3JhZ2VWb2x1bWVzOiB0aGlzLmdldFN0b3JhZ2VWb2x1bWVzKCksCiAgICAgIHNlbGVjdGVkQ29udGFpbmVyVm9sdW1lczogdGhpcy5nZXRTZWxlY3RlZENvbnRhaW5lclZvbHVtZXMoKQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1ZpZXc6IGZ1bmN0aW9uIGlzVmlldygpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gX1ZJRVc7CiAgICB9LAogICAgYXZhaWxhYmxlVm9sdW1lT3B0aW9uczogZnVuY3Rpb24gYXZhaWxhYmxlVm9sdW1lT3B0aW9ucygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGNvbnRhaW5lclZvbHVtZXMgPSB0aGlzLmNvbnRhaW5lci52b2x1bWVNb3VudHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLnZvbHVtZXMuZmlsdGVyKGZ1bmN0aW9uICh2b2wpIHsKICAgICAgICByZXR1cm4gIWNvbnRhaW5lclZvbHVtZXMuaW5jbHVkZXModm9sLm5hbWUpOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6ICIiLmNvbmNhdChpdGVtLm5hbWUsICIgKCIpLmNvbmNhdChfdGhpcy5oZWFkZXJGb3IoaXRlbSksICIpIiksCiAgICAgICAgICBhY3Rpb246IF90aGlzLnNlbGVjdFZvbHVtZSwKICAgICAgICAgIHZhbHVlOiBpdGVtLm5hbWUKICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUobmV1LCBvbGQpIHsKICAgICAgdGhpcy5zZWxlY3RlZFZvbHVtZXMgPSB0aGlzLmdldFNlbGVjdGVkQ29udGFpbmVyVm9sdW1lcygpOwogICAgfSwKICAgIHN0b3JhZ2VWb2x1bWVzOiBmdW5jdGlvbiBzdG9yYWdlVm9sdW1lcyhuZXUsIG9sZCkgewogICAgICAvLyByZW1vdmVPYmplY3RzKHRoaXMudmFsdWUudm9sdW1lcywgb2xkKTsKICAgICAgLy8gYWRkT2JqZWN0cyh0aGlzLnZhbHVlLnZvbHVtZXMsIG5ldSk7CiAgICAgIHZhciBuYW1lcyA9IG5ldS5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgZWFjaCkgewogICAgICAgIGFsbC5wdXNoKGVhY2gubmFtZSk7CiAgICAgICAgcmV0dXJuIGFsbDsKICAgICAgfSwgW10pOwogICAgICB0aGlzLmNvbnRhaW5lci52b2x1bWVNb3VudHMgPSB0aGlzLmNvbnRhaW5lci52b2x1bWVNb3VudHMuZmlsdGVyKGZ1bmN0aW9uIChtb3VudCkgewogICAgICAgIHJldHVybiBuYW1lcy5pbmNsdWRlcyhtb3VudC5uYW1lKTsKICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0ZWRDb250YWluZXJWb2x1bWVzOiBmdW5jdGlvbiBzZWxlY3RlZENvbnRhaW5lclZvbHVtZXMobmV1LCBvbGQpIHsKICAgICAgLy8gcmVtb3ZlT2JqZWN0cyh0aGlzLnZhbHVlLnZvbHVtZXMsIG9sZCk7CiAgICAgIC8vIGFkZE9iamVjdHModGhpcy52YWx1ZS52b2x1bWVzLCBuZXUpOwogICAgICB2YXIgbmFtZXMgPSBuZXUubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTsKICAgICAgfSk7CiAgICAgIHRoaXMuY29udGFpbmVyLnZvbHVtZU1vdW50cyA9IHRoaXMuY29udGFpbmVyLnZvbHVtZU1vdW50cy5maWx0ZXIoZnVuY3Rpb24gKG1vdW50KSB7CiAgICAgICAgcmV0dXJuIG5hbWVzLmluY2x1ZGVzKG1vdW50Lm5hbWUpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICogSW5pdGlhbGl6ZSBtaXNzaW5nIHZhbHVlcyBmb3IgdGhlIGNvbnRhaW5lcgogICAgICovCiAgICBpbml0aWFsaXplU3RvcmFnZTogZnVuY3Rpb24gaW5pdGlhbGl6ZVN0b3JhZ2UoKSB7CiAgICAgIGlmICghdGhpcy5jb250YWluZXIudm9sdW1lTW91bnRzKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuY29udGFpbmVyLCAndm9sdW1lTW91bnRzJywgW10pOwogICAgICB9CiAgICAgIGlmICghdGhpcy52YWx1ZS52b2x1bWVzKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICd2b2x1bWVzJywgW10pOwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiBHZXQgZXhpc3RpbmcgcGFpcmVkIHN0b3JhZ2Ugdm9sdW1lcwogICAgICovCiAgICBnZXRTdG9yYWdlVm9sdW1lczogZnVuY3Rpb24gZ2V0U3RvcmFnZVZvbHVtZXMoKSB7CiAgICAgIC8vIEV4dHJhY3Qgdm9sdW1lIG1vdW50cyB0byBtYXAgc3RvcmFnZSB2b2x1bWVzCiAgICAgIHZhciBfdGhpcyRjb250YWluZXIkdm9sdW0gPSB0aGlzLmNvbnRhaW5lci52b2x1bWVNb3VudHMsCiAgICAgICAgdm9sdW1lTW91bnRzID0gX3RoaXMkY29udGFpbmVyJHZvbHVtID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJGNvbnRhaW5lciR2b2x1bTsKICAgICAgdmFyIG5hbWVzID0gdm9sdW1lTW91bnRzLm1hcChmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBuYW1lID0gX3JlZi5uYW1lOwogICAgICAgIHJldHVybiBuYW1lOwogICAgICB9KTsKCiAgICAgIC8vIEV4dHJhY3Qgc3RvcmFnZSB2b2x1bWVzIHRvIGFsbG93IG11dGF0aW9uLCBpZiBtYXRjaGVzIG1vdW50IG1hcAogICAgICByZXR1cm4gY2xvbmUodGhpcy52YWx1ZS52b2x1bWVzLmZpbHRlcihmdW5jdGlvbiAodm9sdW1lKSB7CiAgICAgICAgcmV0dXJuIG5hbWVzLmluY2x1ZGVzKHZvbHVtZS5uYW1lKTsKICAgICAgfSkpOwogICAgfSwKICAgIGdldFNlbGVjdGVkQ29udGFpbmVyVm9sdW1lczogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRDb250YWluZXJWb2x1bWVzKCkgewogICAgICAvLyBFeHRyYWN0IHZvbHVtZSBtb3VudHMgdG8gbWFwIHN0b3JhZ2Ugdm9sdW1lcwogICAgICB2YXIgX3RoaXMkY29udGFpbmVyJHZvbHVtMiA9IHRoaXMuY29udGFpbmVyLnZvbHVtZU1vdW50cywKICAgICAgICB2b2x1bWVNb3VudHMgPSBfdGhpcyRjb250YWluZXIkdm9sdW0yID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJGNvbnRhaW5lciR2b2x1bTI7CiAgICAgIHZhciBuYW1lcyA9IHZvbHVtZU1vdW50cy5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIG5hbWUgPSBfcmVmMi5uYW1lOwogICAgICAgIHJldHVybiBuYW1lOwogICAgICB9KTsKCiAgICAgIC8vIEV4dHJhY3Qgc3RvcmFnZSB2b2x1bWVzIHRvIGFsbG93IG11dGF0aW9uLCBpZiBtYXRjaGVzIG1vdW50IG1hcAogICAgICByZXR1cm4gY2xvbmUodGhpcy52YWx1ZS52b2x1bWVzLmZpbHRlcihmdW5jdGlvbiAodm9sdW1lKSB7CiAgICAgICAgcmV0dXJuIG5hbWVzLmluY2x1ZGVzKHZvbHVtZS5uYW1lKTsKICAgICAgfSkpOwogICAgfSwKICAgIC8qKgogICAgICogUmVtb3ZlIGFsbCBtb3VudHMgZm9yIGdpdmVuIHN0b3JhZ2Ugdm9sdW1lCiAgICAgKi8KICAgIHJlbW92ZVZvbHVtZTogZnVuY3Rpb24gcmVtb3ZlVm9sdW1lKHZvbHVtZSkgewogICAgICB2YXIgcmVtb3ZlTmFtZSA9IHZvbHVtZS5yb3cudmFsdWUubmFtZTsKICAgICAgdGhpcy5zZWxlY3RlZENvbnRhaW5lclZvbHVtZXMgPSB0aGlzLnNlbGVjdGVkQ29udGFpbmVyVm9sdW1lcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgdmFyIG5hbWUgPSBfcmVmMy5uYW1lOwogICAgICAgIHJldHVybiBuYW1lICE9PSByZW1vdmVOYW1lOwogICAgICB9KTsKICAgIH0sCiAgICBzZWxlY3RWb2x1bWU6IGZ1bmN0aW9uIHNlbGVjdFZvbHVtZShldmVudCkgewogICAgICB2YXIgc2VsZWN0ZWRWb2x1bWUgPSB0aGlzLnZhbHVlLnZvbHVtZXMuZmluZChmdW5jdGlvbiAodm9sKSB7CiAgICAgICAgcmV0dXJuIHZvbC5uYW1lID09PSBldmVudC52YWx1ZTsKICAgICAgfSk7CiAgICAgIHRoaXMuc2VsZWN0ZWRDb250YWluZXJWb2x1bWVzLnB1c2goc2VsZWN0ZWRWb2x1bWUpOwogICAgICB2YXIgbmFtZSA9IHNlbGVjdGVkVm9sdW1lLm5hbWU7CiAgICAgIHRoaXMuY29udGFpbmVyLnZvbHVtZU1vdW50cy5wdXNoKG5hbWUpOwogICAgfSwKICAgIGFkZFZvbHVtZTogZnVuY3Rpb24gYWRkVm9sdW1lKHR5cGUpIHsKICAgICAgdmFyIG5hbWUgPSAidm9sLSIuY29uY2F0KHJhbmRvbVN0cig1KS50b0xvd2VyQ2FzZSgpKTsKICAgICAgaWYgKHR5cGUgPT09ICdjcmVhdGVQVkMnKSB7CiAgICAgICAgdGhpcy5zdG9yYWdlVm9sdW1lcy5wdXNoKHsKICAgICAgICAgIF90eXBlOiAnY3JlYXRlUFZDJywKICAgICAgICAgIHBlcnNpc3RlbnRWb2x1bWVDbGFpbToge30sCiAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NzaScpIHsKICAgICAgICB0aGlzLnN0b3JhZ2VWb2x1bWVzLnB1c2goewogICAgICAgICAgX3R5cGU6IHR5cGUsCiAgICAgICAgICBjc2k6IHsKICAgICAgICAgICAgdm9sdW1lQXR0cmlidXRlczoge30KICAgICAgICAgIH0sCiAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zdG9yYWdlVm9sdW1lcy5wdXNoKF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoewogICAgICAgICAgX3R5cGU6IHR5cGUKICAgICAgICB9LCB0eXBlLCB7fSksICJuYW1lIiwgbmFtZSkpOwogICAgICB9CiAgICAgIHRoaXMuY29udGFpbmVyLnZvbHVtZU1vdW50cy5wdXNoKHsKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH0pOwogICAgfSwKICAgIGhlYWRlckZvcjogZnVuY3Rpb24gaGVhZGVyRm9yKHZhbHVlKSB7CiAgICAgIHZhciB0eXBlID0gT2JqZWN0LmtleXModmFsdWUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIF90eXBlb2YodmFsdWVba2V5XSkgPT09ICdvYmplY3QnOwogICAgICB9KVswXTsKICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbJ2kxOG4vZXhpc3RzJ10oIndvcmtsb2FkLnN0b3JhZ2Uuc3VidHlwZXMuIi5jb25jYXQodHlwZSkpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudCgid29ya2xvYWQuc3RvcmFnZS5zdWJ0eXBlcy4iLmNvbmNhdCh0eXBlKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHR5cGU7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuUG9wb3ZlcjogZnVuY3Rpb24gb3BlblBvcG92ZXIoKSB7CiAgICAgIHZhciBidXR0b24gPSB0aGlzLiRyZWZzLmJ1dHRvbkRyb3Bkb3duOwogICAgICB0cnkgewogICAgICAgIGJ1dHRvbi50b2dnbGVQb3BvdmVyKCk7CiAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["clone","_VIEW","randomStr","Mount","ButtonDropdown","ArrayListGrouped","name","components","props","mode","type","String","default","value","Object","_default","container","data","initializeStorage","containerVolumes","storageVolumes","getStorageVolumes","selectedContainerVolumes","getSelectedContainerVolumes","computed","isView","availableVolumeOptions","_this","volumeMounts","map","item","volumes","filter","vol","includes","label","concat","headerFor","action","selectVolume","watch","neu","old","selectedVolumes","names","reduce","all","each","push","mount","methods","$set","_this$container$volum","_ref","volume","_this$container$volum2","_ref2","removeVolume","removeName","row","_ref3","event","selectedVolume","find","addVolume","toLowerCase","_type","persistentVolumeClaim","csi","volumeAttributes","_defineProperty","keys","key","_typeof","$store","getters","t","openPopover","button","$refs","buttonDropdown","togglePopover","e"],"sources":["node_modules/@rancher/shell/edit/workload/storage/ContainerMountPaths.vue"],"sourcesContent":["<script>\nimport { clone } from '@shell/utils/object';\nimport { _VIEW } from '@shell/config/query-params';\nimport { randomStr } from '@shell/utils/string';\n\nimport Mount from '@shell/edit/workload/storage/Mount';\nimport ButtonDropdown from '@shell/components/ButtonDropdown';\nimport ArrayListGrouped from '@shell/components/form/ArrayListGrouped';\n\nexport default {\n  name:       'ContainerMountPaths',\n  components: {\n    ArrayListGrouped, ButtonDropdown, Mount\n  },\n\n  props: {\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n\n    // pod spec\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      },\n    },\n\n    container: {\n      type:    Object,\n      default: () => {\n        return {};\n      },\n    },\n  },\n\n  data() {\n    this.initializeStorage();\n\n    return {\n      containerVolumes:         [],\n      storageVolumes:           this.getStorageVolumes(),\n      selectedContainerVolumes: this.getSelectedContainerVolumes()\n    };\n  },\n\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    availableVolumeOptions() {\n      const containerVolumes = this.container.volumeMounts.map((item) => item.name);\n\n      return this.value.volumes.filter((vol) => !containerVolumes.includes(vol.name)).map((item) => {\n        return {\n          label:  `${ item.name } (${ this.headerFor(item) })`,\n          action: this.selectVolume,\n          value:  item.name\n        };\n      });\n    },\n  },\n\n  watch: {\n    value(neu, old) {\n      this.selectedVolumes = this.getSelectedContainerVolumes();\n    },\n    storageVolumes(neu, old) {\n      // removeObjects(this.value.volumes, old);\n      // addObjects(this.value.volumes, neu);\n      const names = neu.reduce((all, each) => {\n        all.push(each.name);\n\n        return all;\n      }, []);\n\n      this.container.volumeMounts = this.container.volumeMounts.filter((mount) => names.includes(mount.name));\n    },\n\n    selectedContainerVolumes(neu, old) {\n      // removeObjects(this.value.volumes, old);\n      // addObjects(this.value.volumes, neu);\n      const names = neu.map((item) => item.name);\n\n      this.container.volumeMounts = this.container.volumeMounts.filter((mount) => names.includes(mount.name));\n    }\n\n  },\n\n  methods: {\n    /**\n     * Initialize missing values for the container\n     */\n    initializeStorage() {\n      if (!this.container.volumeMounts) {\n        this.$set(this.container, 'volumeMounts', []);\n      }\n      if (!this.value.volumes) {\n        this.$set(this.value, 'volumes', []);\n      }\n    },\n\n    /**\n     * Get existing paired storage volumes\n     */\n    getStorageVolumes() {\n      // Extract volume mounts to map storage volumes\n      const { volumeMounts = [] } = this.container;\n      const names = volumeMounts.map(({ name }) => name);\n\n      // Extract storage volumes to allow mutation, if matches mount map\n      return clone(this.value.volumes.filter((volume) => names.includes(volume.name)));\n    },\n\n    getSelectedContainerVolumes() {\n      // Extract volume mounts to map storage volumes\n      const { volumeMounts = [] } = this.container;\n      const names = volumeMounts.map(({ name }) => name);\n\n      // Extract storage volumes to allow mutation, if matches mount map\n      return clone(this.value.volumes.filter((volume) => names.includes(volume.name)));\n    },\n\n    /**\n     * Remove all mounts for given storage volume\n     */\n    removeVolume(volume) {\n      const removeName = volume.row.value.name;\n\n      this.selectedContainerVolumes = this.selectedContainerVolumes.filter(({ name }) => name !== removeName);\n    },\n\n    selectVolume(event) {\n      const selectedVolume = this.value.volumes.find((vol) => vol.name === event.value);\n\n      this.selectedContainerVolumes.push(selectedVolume);\n\n      const { name } = selectedVolume;\n\n      this.container.volumeMounts.push(name);\n    },\n\n    addVolume(type) {\n      const name = `vol-${ randomStr(5).toLowerCase() }`;\n\n      if (type === 'createPVC') {\n        this.storageVolumes.push({\n          _type:                 'createPVC',\n          persistentVolumeClaim: {},\n          name,\n        });\n      } else if (type === 'csi') {\n        this.storageVolumes.push({\n          _type: type,\n          csi:   { volumeAttributes: {} },\n          name,\n        });\n      } else {\n        this.storageVolumes.push({\n          _type:  type,\n          [type]: {},\n          name,\n        });\n      }\n\n      this.container.volumeMounts.push({ name });\n    },\n\n    headerFor(value) {\n      const type = Object.keys(value).filter(\n        (key) => typeof value[key] === 'object'\n      )[0];\n\n      if (\n        this.$store.getters['i18n/exists'](`workload.storage.subtypes.${ type }`)\n      ) {\n        return this.t(`workload.storage.subtypes.${ type }`);\n      } else {\n        return type;\n      }\n    },\n\n    openPopover() {\n      const button = this.$refs.buttonDropdown;\n\n      try {\n        button.togglePopover();\n      } catch (e) {}\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <!-- Storage Volumes -->\n    <ArrayListGrouped\n      :key=\"selectedContainerVolumes.length\"\n      v-model=\"selectedContainerVolumes\"\n      :mode=\"mode\"\n      @remove=\"removeVolume\"\n    >\n      <!-- Custom/default storage volume form -->\n      <template #default=\"props\">\n        <h3>{{ props.row.value.name }} ({{ headerFor(props.row.value) }})</h3>\n        <Mount\n          :container=\"container\"\n          :name=\"props.row.value.name\"\n          :mode=\"mode\"\n        />\n      </template>\n\n      <!-- Add Storage Volume -->\n      <template #add>\n        <ButtonDropdown\n          v-if=\"!isView\"\n          id=\"add-volume\"\n          :button-label=\"t('workload.storage.selectVolume')\"\n          :dropdown-options=\"availableVolumeOptions\"\n          size=\"sm\"\n          @click-action=\"e=>selectVolume(e)\"\n        >\n          <template #no-options>\n            {{ t('workload.storage.noVolumes') }}\n          </template>\n        </ButtonDropdown>\n      </template>\n    </ArrayListGrouped>\n  </div>\n</template>\n"],"mappings":"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"}]}