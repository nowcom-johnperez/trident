{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgVGFiYmVkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZCc7CmltcG9ydCBUYWIgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkL1RhYic7CmltcG9ydCBUeXBlRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVHlwZURlc2NyaXB0aW9uJzsKaW1wb3J0IFJlc291cmNlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VUYWJsZSc7CmltcG9ydCB7IE1PTklUT1JJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgYWxsSGFzaCB9IGZyb20gJ0BzaGVsbC91dGlscy9wcm9taXNlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcsCiAgICBUYWJiZWQ6IFRhYmJlZCwKICAgIFRhYjogVGFiLAogICAgUmVzb3VyY2VUYWJsZTogUmVzb3VyY2VUYWJsZSwKICAgIFR5cGVEZXNjcmlwdGlvbjogVHlwZURlc2NyaXB0aW9uCiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGhhc2g7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF90aGlzLnBvZE1vbml0b3JTY2hlbWEgPSBfdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXShNT05JVE9SSU5HLlBPRE1PTklUT1IpOwogICAgICAgICAgICBfdGhpcy5zZXJ2aWNlTW9uaXRvclNjaGVtYSA9IF90aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL3NjaGVtYUZvciddKE1PTklUT1JJTkcuU0VSVklDRU1PTklUT1IpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIGFsbEhhc2goewogICAgICAgICAgICAgIHBvZE1vbml0b3JzOiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IE1PTklUT1JJTkcuUE9ETU9OSVRPUgogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIHNlcnZpY2VNb25pdG9yczogX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBNT05JVE9SSU5HLlNFUlZJQ0VNT05JVE9SCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGhhc2ggPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfdGhpcy5wb2RNb25pdG9ycyA9IGhhc2gucG9kTW9uaXRvcnM7CiAgICAgICAgICAgIF90aGlzLnNlcnZpY2VNb25pdG9ycyA9IGhhc2guc2VydmljZU1vbml0b3JzOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGluaXRUYWIgPSB0aGlzLiRyb3V0ZS5xdWVyeS5yZXNvdXJjZSB8fCBNT05JVE9SSU5HLlNQT09GRUQuUE9ETU9OSVRPUjsKICAgIHJldHVybiB7CiAgICAgIHBvZE1vbml0b3JzOiBbXSwKICAgICAgc2VydmljZU1vbml0b3JzOiBbXSwKICAgICAgcG9kTW9uaXRvclNjaGVtYTogbnVsbCwKICAgICAgc2VydmljZU1vbml0b3JTY2hlbWE6IG51bGwsCiAgICAgIGluaXRUYWI6IGluaXRUYWIKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY3JlYXRlUm91dGU6IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlKCkgewogICAgICB2YXIgX3RoaXMkJHJlZnM7CiAgICAgIHZhciBhY3RpdmVSZXNvdXJjZSA9ICgoX3RoaXMkJHJlZnMgPSB0aGlzLiRyZWZzKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyA9PT0gdm9pZCAwIHx8IChfdGhpcyQkcmVmcyA9IF90aGlzJCRyZWZzLnRhYnMpID09PSBudWxsIHx8IF90aGlzJCRyZWZzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkcmVmcy5hY3RpdmVUYWJOYW1lKSB8fCB0aGlzLnJvdXRlU2NoZW1hLmlkOwogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICdjLWNsdXN0ZXItbW9uaXRvcmluZy1tb25pdG9yLWNyZWF0ZScsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjbHVzdGVyOiB0aGlzLiRyb3V0ZS5wYXJhbXMuY2x1c3RlcgogICAgICAgIH0sCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHJlc291cmNlOiBhY3RpdmVSZXNvdXJjZQogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"names":["Loading","Tabbed","Tab","TypeDescription","ResourceTable","MONITORING","allHash","components","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","hash","wrap","_callee$","_context","prev","next","podMonitorSchema","$store","getters","PODMONITOR","serviceMonitorSchema","SERVICEMONITOR","podMonitors","dispatch","type","serviceMonitors","sent","stop","data","initTab","$route","query","resource","SPOOFED","computed","createRoute","_this$$refs","activeResource","$refs","tabs","activeTabName","routeSchema","id","name","params","cluster"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue"],"sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport TypeDescription from '@shell/components/TypeDescription';\n\nimport ResourceTable from '@shell/components/ResourceTable';\nimport { MONITORING } from '@shell/config/types';\nimport { allHash } from '@shell/utils/promise';\nexport default {\n  components: {\n    Loading, Tabbed, Tab, ResourceTable, TypeDescription\n  },\n\n  async fetch() {\n    this.podMonitorSchema = this.$store.getters['cluster/schemaFor'](MONITORING.PODMONITOR);\n    this.serviceMonitorSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SERVICEMONITOR);\n\n    const hash = await allHash( {\n      podMonitors:     this.$store.dispatch('cluster/findAll', { type: MONITORING.PODMONITOR } ),\n      serviceMonitors: this.$store.dispatch('cluster/findAll', { type: MONITORING.SERVICEMONITOR } )\n    });\n\n    this.podMonitors = hash.podMonitors;\n    this.serviceMonitors = hash.serviceMonitors;\n  },\n\n  data() {\n    const initTab = this.$route.query.resource || MONITORING.SPOOFED.PODMONITOR;\n\n    return {\n      podMonitors: [], serviceMonitors: [], podMonitorSchema: null, serviceMonitorSchema: null, initTab\n    };\n  },\n\n  computed: {\n    createRoute() {\n      const activeResource = this.$refs?.tabs?.activeTabName || this.routeSchema.id;\n\n      return {\n        name:   'c-cluster-monitoring-monitor-create',\n        params: { cluster: this.$route.params.cluster },\n        query:  { resource: activeResource }\n      };\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"row header mb-40\">\n      <h1>  {{ t('monitoring.monitors') }}</h1>\n      <div>\n        <button\n          class=\"btn btn-lg role-primary float right\"\n          @click=\"$router.push(createRoute)\"\n        >\n          {{ t('resourceList.head.createFromYaml') }}\n        </button>\n      </div>\n    </div>\n    <Tabbed\n      ref=\"tabs\"\n      :default-tab=\"initTab\"\n    >\n      <Tab\n        :name=\"podMonitorSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](podMonitorSchema, 2)\"\n      >\n        <TypeDescription :resource=\"podMonitorSchema.id\" />\n        <ResourceTable\n          :schema=\"podMonitorSchema\"\n          :rows=\"podMonitors\"\n        />\n      </Tab>\n      <Tab\n        :name=\"serviceMonitorSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](serviceMonitorSchema, 2)\"\n      >\n        <TypeDescription :resource=\"serviceMonitorSchema.id\" />\n        <ResourceTable\n          :schema=\"serviceMonitorSchema\"\n          :rows=\"serviceMonitors\"\n        />\n      </Tab>\n    </Tabbed>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.header{\n  display: flex;\n  H1{\n    flex: 1;\n  }\n}\n</style>\n"],"mappings":";;AACA,OAAAA,OAAA;AACA,OAAAC,MAAA;AACA,OAAAC,GAAA;AACA,OAAAC,eAAA;AAEA,OAAAC,aAAA;AACA,SAAAC,UAAA;AACA,SAAAC,OAAA;AACA;EACAC,UAAA;IACAP,OAAA,EAAAA,OAAA;IAAAC,MAAA,EAAAA,MAAA;IAAAC,GAAA,EAAAA,GAAA;IAAAE,aAAA,EAAAA,aAAA;IAAAD,eAAA,EAAAA;EACA;EAEAK,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,IAAA;MAAA,OAAAH,kBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAV,KAAA,CAAAW,gBAAA,GAAAX,KAAA,CAAAY,MAAA,CAAAC,OAAA,sBAAAjB,UAAA,CAAAkB,UAAA;YACAd,KAAA,CAAAe,oBAAA,GAAAf,KAAA,CAAAY,MAAA,CAAAC,OAAA,sBAAAjB,UAAA,CAAAoB,cAAA;YAAAR,QAAA,CAAAE,IAAA;YAAA,OAEAb,OAAA;cACAoB,WAAA,EAAAjB,KAAA,CAAAY,MAAA,CAAAM,QAAA;gBAAAC,IAAA,EAAAvB,UAAA,CAAAkB;cAAA;cACAM,eAAA,EAAApB,KAAA,CAAAY,MAAA,CAAAM,QAAA;gBAAAC,IAAA,EAAAvB,UAAA,CAAAoB;cAAA;YACA;UAAA;YAHAX,IAAA,GAAAG,QAAA,CAAAa,IAAA;YAKArB,KAAA,CAAAiB,WAAA,GAAAZ,IAAA,CAAAY,WAAA;YACAjB,KAAA,CAAAoB,eAAA,GAAAf,IAAA,CAAAe,eAAA;UAAA;UAAA;YAAA,OAAAZ,QAAA,CAAAc,IAAA;QAAA;MAAA,GAAAlB,OAAA;IAAA;EACA;EAEAmB,IAAA,WAAAA,KAAA;IACA,IAAAC,OAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAC,QAAA,IAAA/B,UAAA,CAAAgC,OAAA,CAAAd,UAAA;IAEA;MACAG,WAAA;MAAAG,eAAA;MAAAT,gBAAA;MAAAI,oBAAA;MAAAS,OAAA,EAAAA;IACA;EACA;EAEAK,QAAA;IACAC,WAAA,WAAAA,YAAA;MAAA,IAAAC,WAAA;MACA,IAAAC,cAAA,KAAAD,WAAA,QAAAE,KAAA,cAAAF,WAAA,gBAAAA,WAAA,GAAAA,WAAA,CAAAG,IAAA,cAAAH,WAAA,uBAAAA,WAAA,CAAAI,aAAA,UAAAC,WAAA,CAAAC,EAAA;MAEA;QACAC,IAAA;QACAC,MAAA;UAAAC,OAAA,OAAAf,MAAA,CAAAc,MAAA,CAAAC;QAAA;QACAd,KAAA;UAAAC,QAAA,EAAAK;QAAA;MACA;IACA;EACA;AACA"}]}