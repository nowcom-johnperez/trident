{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/logging/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/logging/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0IHsgTkFNRSwgQ0hBUlRfTkFNRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJvZHVjdC9sb2dnaW5nJzsKaW1wb3J0IEluc3RhbGxSZWRpcmVjdCBmcm9tICdAc2hlbGwvdXRpbHMvaW5zdGFsbC1yZWRpcmVjdCc7CmltcG9ydCB7IExPR0dJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IFNvcnRhYmxlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZSc7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmltcG9ydCB7IENPTkZJR1VSRURfUFJPVklERVJTLCBDTFVTVEVSX09VVFBVVCwgT1VUUFVULCBOQU1FU1BBQ0UsIE5BTUUgYXMgTkFNRV9DT0wgfSBmcm9tICdAc2hlbGwvY29uZmlnL3RhYmxlLWhlYWRlcnMnOwppbXBvcnQgQ2hhcnRIZWFkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NoYXJ0SGVhZGluZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBtaWRkbGV3YXJlOiBJbnN0YWxsUmVkaXJlY3QoTkFNRSwgQ0hBUlRfTkFNRSksCiAgY29tcG9uZW50czogewogICAgQ2hhcnRIZWFkaW5nOiBDaGFydEhlYWRpbmcsCiAgICBTb3J0YWJsZVRhYmxlOiBTb3J0YWJsZVRhYmxlCiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGdldEFsbE9yRGVmYXVsdCwgaGFzaDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZ2V0QWxsT3JEZWZhdWx0ID0gZnVuY3Rpb24gZ2V0QWxsT3JEZWZhdWx0KHR5cGUpIHsKICAgICAgICAgICAgICB2YXIgaGFzQWNjZXNzID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbImNsdXN0ZXIvc2NoZW1hRm9yIl0odHlwZSk7CiAgICAgICAgICAgICAgcmV0dXJuIGhhc0FjY2VzcyA/IF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgewogICAgICAgICAgICAgICAgdHlwZTogdHlwZQogICAgICAgICAgICAgIH0pIDogUHJvbWlzZS5yZXNvbHZlKFtdKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBhbGxIYXNoKHsKICAgICAgICAgICAgICBjbHVzdGVyRmxvd3M6IGdldEFsbE9yRGVmYXVsdChMT0dHSU5HLkNMVVNURVJfRkxPVyksCiAgICAgICAgICAgICAgZmxvd3M6IGdldEFsbE9yRGVmYXVsdChMT0dHSU5HLkZMT1cpLAogICAgICAgICAgICAgIGNsdXN0ZXJPdXRwdXRzOiBnZXRBbGxPckRlZmF1bHQoTE9HR0lORy5DTFVTVEVSX09VVFBVVCksCiAgICAgICAgICAgICAgb3V0cHV0czogZ2V0QWxsT3JEZWZhdWx0KExPR0dJTkcuT1VUUFVUKQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgaGFzaCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF90aGlzLmNsdXN0ZXJGbG93cyA9IGhhc2guY2x1c3RlckZsb3dzIHx8IFtdOwogICAgICAgICAgICBfdGhpcy5mbG93cyA9IGhhc2guZmxvd3MgfHwgW107CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjbHVzdGVyRmxvd3M6IFtdLAogICAgICBmbG93czogW10sCiAgICAgIG5hbWVzcGFjZUZsb3dUYWJsZUhlYWRlcnM6IFtOQU1FU1BBQ0UsIE5BTUVfQ09MLCBPVVRQVVQsIENMVVNURVJfT1VUUFVULCBDT05GSUdVUkVEX1BST1ZJREVSU10sCiAgICAgIGNsdXN0ZXJGbG93VGFibGVIZWFkZXJzOiBbTkFNRV9DT0wsIENMVVNURVJfT1VUUFVULCBDT05GSUdVUkVEX1BST1ZJREVSU10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaGFzQ2x1c3RlckZsb3dBY2Nlc3M6IGZ1bmN0aW9uIGhhc0NsdXN0ZXJGbG93QWNjZXNzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1siY2x1c3Rlci9zY2hlbWFGb3IiXShMT0dHSU5HLkNMVVNURVJfRkxPVyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["NAME","CHART_NAME","InstallRedirect","LOGGING","SortableTable","allHash","CONFIGURED_PROVIDERS","CLUSTER_OUTPUT","OUTPUT","NAMESPACE","NAME_COL","ChartHeading","middleware","components","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","getAllOrDefault","hash","wrap","_callee$","_context","prev","next","type","hasAccess","$store","getters","dispatch","Promise","resolve","clusterFlows","CLUSTER_FLOW","flows","FLOW","clusterOutputs","outputs","sent","stop","data","namespaceFlowTableHeaders","clusterFlowTableHeaders","computed","hasClusterFlowAccess"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/logging/index.vue"],"sourcesContent":["<script>\nimport { NAME, CHART_NAME } from '@shell/config/product/logging';\nimport InstallRedirect from '@shell/utils/install-redirect';\nimport { LOGGING } from '@shell/config/types';\nimport SortableTable from '@shell/components/SortableTable';\nimport { allHash } from '@shell/utils/promise';\nimport {\n  CONFIGURED_PROVIDERS, CLUSTER_OUTPUT, OUTPUT, NAMESPACE, NAME as NAME_COL\n} from '@shell/config/table-headers';\nimport ChartHeading from '@shell/components/ChartHeading';\n\nexport default {\n  middleware: InstallRedirect(NAME, CHART_NAME),\n  components: { ChartHeading, SortableTable },\n  async fetch() {\n    const getAllOrDefault = (type) => {\n      const hasAccess = this.$store.getters[`cluster/schemaFor`](type);\n\n      return hasAccess ? this.$store.dispatch('cluster/findAll', { type }) : Promise.resolve([]);\n    };\n\n    const hash = await allHash({\n      clusterFlows:   getAllOrDefault(LOGGING.CLUSTER_FLOW),\n      flows:          getAllOrDefault(LOGGING.FLOW),\n      clusterOutputs: getAllOrDefault(LOGGING.CLUSTER_OUTPUT),\n      outputs:        getAllOrDefault(LOGGING.OUTPUT),\n    });\n\n    this.clusterFlows = hash.clusterFlows || [];\n    this.flows = hash.flows || [];\n  },\n\n  data() {\n    return {\n      clusterFlows:              [],\n      flows:                     [],\n      namespaceFlowTableHeaders: [\n        NAMESPACE,\n        NAME_COL,\n        OUTPUT,\n        CLUSTER_OUTPUT,\n        CONFIGURED_PROVIDERS\n      ],\n      clusterFlowTableHeaders: [\n        NAME_COL, CLUSTER_OUTPUT, CONFIGURED_PROVIDERS\n      ]\n    };\n  },\n\n  computed: {\n    hasClusterFlowAccess() {\n      return this.$store.getters[`cluster/schemaFor`](LOGGING.CLUSTER_FLOW);\n    }\n  },\n};\n</script>\n\n<template>\n  <div class=\"logging\">\n    <ChartHeading\n      :label=\"t('logging.overview.poweredBy')\"\n      url=\"https://github.com/banzaicloud/logging-operator\"\n    />\n    <div class=\"spacer\" />\n    <div v-if=\"hasClusterFlowAccess\">\n      <h2>{{ t('logging.overview.clusterLevel') }}</h2>\n      <SortableTable\n        class=\"sortable-table\"\n        :headers=\"clusterFlowTableHeaders\"\n        :rows=\"clusterFlows\"\n        :row-actions=\"false\"\n        :search=\"false\"\n        :table-actions=\"false\"\n        key-field=\"id\"\n      />\n    </div>\n    <h2 :class=\"{ 'mt-20': hasClusterFlowAccess }\">\n      {{ t('logging.overview.namespaceLevel') }}\n    </h2>\n    <SortableTable\n      class=\"sortable-table\"\n      :headers=\"namespaceFlowTableHeaders\"\n      :rows=\"flows\"\n      :row-actions=\"false\"\n      :search=\"false\"\n      :table-actions=\"false\"\n      key-field=\"id\"\n    />\n  </div>\n</template>\n"],"mappings":";;;;AACA,SAAAA,IAAA,EAAAC,UAAA;AACA,OAAAC,eAAA;AACA,SAAAC,OAAA;AACA,OAAAC,aAAA;AACA,SAAAC,OAAA;AACA,SACAC,oBAAA,EAAAC,cAAA,EAAAC,MAAA,EAAAC,SAAA,EAAAT,IAAA,IAAAU,QAAA,QACA;AACA,OAAAC,YAAA;AAEA;EACAC,UAAA,EAAAV,eAAA,CAAAF,IAAA,EAAAC,UAAA;EACAY,UAAA;IAAAF,YAAA,EAAAA,YAAA;IAAAP,aAAA,EAAAA;EAAA;EACAU,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,eAAA,EAAAC,IAAA;MAAA,OAAAJ,kBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAN,eAAA,YAAAA,gBAAAO,IAAA;cACA,IAAAC,SAAA,GAAAb,KAAA,CAAAc,MAAA,CAAAC,OAAA,sBAAAH,IAAA;cAEA,OAAAC,SAAA,GAAAb,KAAA,CAAAc,MAAA,CAAAE,QAAA;gBAAAJ,IAAA,EAAAA;cAAA,KAAAK,OAAA,CAAAC,OAAA;YACA;YAAAT,QAAA,CAAAE,IAAA;YAAA,OAEArB,OAAA;cACA6B,YAAA,EAAAd,eAAA,CAAAjB,OAAA,CAAAgC,YAAA;cACAC,KAAA,EAAAhB,eAAA,CAAAjB,OAAA,CAAAkC,IAAA;cACAC,cAAA,EAAAlB,eAAA,CAAAjB,OAAA,CAAAI,cAAA;cACAgC,OAAA,EAAAnB,eAAA,CAAAjB,OAAA,CAAAK,MAAA;YACA;UAAA;YALAa,IAAA,GAAAG,QAAA,CAAAgB,IAAA;YAOAzB,KAAA,CAAAmB,YAAA,GAAAb,IAAA,CAAAa,YAAA;YACAnB,KAAA,CAAAqB,KAAA,GAAAf,IAAA,CAAAe,KAAA;UAAA;UAAA;YAAA,OAAAZ,QAAA,CAAAiB,IAAA;QAAA;MAAA,GAAAtB,OAAA;IAAA;EACA;EAEAuB,IAAA,WAAAA,KAAA;IACA;MACAR,YAAA;MACAE,KAAA;MACAO,yBAAA,GACAlC,SAAA,EACAC,QAAA,EACAF,MAAA,EACAD,cAAA,EACAD,oBAAA,CACA;MACAsC,uBAAA,GACAlC,QAAA,EAAAH,cAAA,EAAAD,oBAAA;IAEA;EACA;EAEAuC,QAAA;IACAC,oBAAA,WAAAA,qBAAA;MACA,YAAAjB,MAAA,CAAAC,OAAA,sBAAA3B,OAAA,CAAAgC,YAAA;IACA;EACA;AACA"}]}