{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--17-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/async.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/async.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90aGlzID0gdGhpczsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwpleHBvcnQgdmFyIHdhaXRGb3IgPSBmdW5jdGlvbiB3YWl0Rm9yKHRlc3RGbikgewogIHZhciBtc2cgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnOwogIHZhciB0aW1lb3V0TXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDMwMDAwMDA7CiAgdmFyIGludGVydmFsTXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDUwMDsKICB2YXIgbG9nID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTsKICBnYXRlZExvZygnU3RhcnRpbmcgd2FpdCBmb3InLCBtc2cpOwogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBpZiAodGVzdEZuKCkpIHsKICAgICAgZ2F0ZWRMb2coJ1dhaXQgZm9yJywgbXNnIHx8ICd1bmtub3duJywgJ2RvbmUgaW1tZWRpYXRlbHknKTsKICAgICAgcmVzb2x2ZShfdGhpcyk7CiAgICB9CiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBnYXRlZExvZygnV2FpdCBmb3InLCBtc2csICd0aW1lZCBvdXQnKTsKICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKICAgICAgaWYgKG1zZykgewogICAgICAgIHJlamVjdChuZXcgRXJyb3IoIkZhaWxlZCB3YWl0aW5nIGZvcjogIi5jb25jYXQobXNnKSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IG5ldyBFcnJvcigid2FpdEZvciB0aW1lZCBvdXQgYWZ0ZXIgIi5jb25jYXQodGltZW91dE1zIC8gMTAwMCwgIiBzZWNvbmRzIikpOwogICAgICB9CiAgICB9LCB0aW1lb3V0TXMpOwogICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICBpZiAodGVzdEZuKCkpIHsKICAgICAgICBnYXRlZExvZygnV2FpdCBmb3InLCBtc2csICdkb25lJyk7CiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgICAgIHJlc29sdmUoX3RoaXMpOwogICAgICB9IGVsc2UgaWYgKG1zZykgewogICAgICAgIGdhdGVkTG9nKCdXYWl0IGZvcicsIG1zZywgJ25vdCBkb25lIHlldCcpOwogICAgICB9CiAgICB9LCBpbnRlcnZhbE1zKTsKICB9KTsKICBmdW5jdGlvbiBnYXRlZExvZygpIHsKICAgIGlmIChsb2cpIHsKICAgICAgdmFyIF9jb25zb2xlOwogICAgICAoX2NvbnNvbGUgPSBjb25zb2xlKS5sb2cuYXBwbHkoX2NvbnNvbGUsIGFyZ3VtZW50cyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgfQogIH0KfTs="},{"version":3,"names":["waitFor","testFn","msg","arguments","length","undefined","timeoutMs","intervalMs","log","gatedLog","Promise","resolve","reject","_this","timeout","setTimeout","clearInterval","interval","clearTimeout","Error","concat","setInterval","_console","console","apply"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/async.ts"],"sourcesContent":["export const waitFor = (testFn: Function, msg = '', timeoutMs = 3000000, intervalMs = 500, log = false): Promise<unknown> => {\n  gatedLog('Starting wait for', msg);\n\n  return new Promise((resolve, reject) => {\n    if (testFn()) {\n      gatedLog('Wait for', msg || 'unknown', 'done immediately');\n      resolve(this);\n    }\n    const timeout = setTimeout(() => {\n      gatedLog('Wait for', msg, 'timed out');\n      clearInterval(interval);\n      clearTimeout(timeout);\n      if (msg) {\n        reject(new Error(`Failed waiting for: ${ msg }`));\n      } else {\n        throw new Error(`waitFor timed out after ${ timeoutMs / 1000 } seconds`);\n      }\n    }, timeoutMs);\n    const interval = setInterval(() => {\n      if ( testFn() ) {\n        gatedLog('Wait for', msg, 'done');\n        clearInterval(interval);\n        clearTimeout(timeout);\n        resolve(this);\n      } else if (msg) {\n        gatedLog('Wait for', msg, 'not done yet');\n      }\n    }, intervalMs);\n  });\n\n  function gatedLog(...args: any[]) {\n    if (log) {\n      console.log(...args); // eslint-disable-line no-console\n    }\n  }\n};\n"],"mappings":";;;AAAA,OAAO,IAAMA,OAAO,GAAG,SAAVA,OAAOA,CAAIC,MAAgB,EAAoF;EAAA,IAAlFC,GAAG,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEG,SAAS,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,OAAO;EAAA,IAAEI,UAAU,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,GAAG;EAAA,IAAEK,GAAG,GAAAL,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EACpGM,QAAQ,CAAC,mBAAmB,EAAEP,GAAG,CAAC;EAElC,OAAO,IAAIQ,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAI;IACrC,IAAIX,MAAM,EAAE,EAAE;MACZQ,QAAQ,CAAC,UAAU,EAAEP,GAAG,IAAI,SAAS,EAAE,kBAAkB,CAAC;MAC1DS,OAAO,CAACE,KAAI,CAAC;;IAEf,IAAMC,OAAO,GAAGC,UAAU,CAAC,YAAK;MAC9BN,QAAQ,CAAC,UAAU,EAAEP,GAAG,EAAE,WAAW,CAAC;MACtCc,aAAa,CAACC,QAAQ,CAAC;MACvBC,YAAY,CAACJ,OAAO,CAAC;MACrB,IAAIZ,GAAG,EAAE;QACPU,MAAM,CAAC,IAAIO,KAAK,wBAAAC,MAAA,CAAyBlB,GAAI,CAAE,CAAC,CAAC;OAClD,MAAM;QACL,MAAM,IAAIiB,KAAK,4BAAAC,MAAA,CAA6Bd,SAAS,GAAG,IAAK,aAAU,CAAC;;IAE5E,CAAC,EAAEA,SAAS,CAAC;IACb,IAAMW,QAAQ,GAAGI,WAAW,CAAC,YAAK;MAChC,IAAKpB,MAAM,EAAE,EAAG;QACdQ,QAAQ,CAAC,UAAU,EAAEP,GAAG,EAAE,MAAM,CAAC;QACjCc,aAAa,CAACC,QAAQ,CAAC;QACvBC,YAAY,CAACJ,OAAO,CAAC;QACrBH,OAAO,CAACE,KAAI,CAAC;OACd,MAAM,IAAIX,GAAG,EAAE;QACdO,QAAQ,CAAC,UAAU,EAAEP,GAAG,EAAE,cAAc,CAAC;;IAE7C,CAAC,EAAEK,UAAU,CAAC;EAChB,CAAC,CAAC;EAEF,SAASE,QAAQA,CAAA,EAAe;IAC9B,IAAID,GAAG,EAAE;MAAA,IAAAc,QAAA;MACP,CAAAA,QAAA,GAAAC,OAAO,EAACf,GAAG,CAAAgB,KAAA,CAAAF,QAAA,EAAAnB,SAAQ,CAAC,CAAC,CAAC;;EAE1B;AACF,CAAC"}]}