{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/settings/banners.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/settings/banners.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBpc0VtcHR5IGZyb20gJ2xvZGFzaC9pc0VtcHR5JzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCBBc3luY0J1dHRvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Bc3luY0J1dHRvbic7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBCYW5uZXJTZXR0aW5ncyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0Jhbm5lclNldHRpbmdzJzsKaW1wb3J0IHsgYWxsSGFzaCB9IGZyb20gJ0BzaGVsbC91dGlscy9wcm9taXNlJzsKaW1wb3J0IHsgTUFOQUdFTUVOVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBnZXRWZW5kb3IgfSBmcm9tICdAc2hlbGwvY29uZmlnL3ByaXZhdGUtbGFiZWwnOwppbXBvcnQgeyBTRVRUSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9zZXR0aW5ncyc7CmltcG9ydCB7IGNsb25lIH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IF9FRElULCBfVklFVyB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IE5vdGlmaWNhdGlvblNldHRpbmdzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTm90aWZpY2F0aW9uU2V0dGluZ3MudnVlJzsKdmFyIERFRkFVTFRfQkFOTkVSX1NFVFRJTkcgPSB7CiAgbG9naW5FcnJvcjogewogICAgbWVzc2FnZTogJycsCiAgICBzaG93TWVzc2FnZTogJ2ZhbHNlJwogIH0sCiAgYmFubmVySGVhZGVyOiB7CiAgICBiYWNrZ3JvdW5kOiBudWxsLAogICAgY29sb3I6IG51bGwsCiAgICB0ZXh0QWxpZ25tZW50OiAnY2VudGVyJywKICAgIGZvbnRXZWlnaHQ6IG51bGwsCiAgICBmb250U3R5bGU6IG51bGwsCiAgICBmb250U2l6ZTogJzE0cHgnLAogICAgdGV4dERlY29yYXRpb246IG51bGwsCiAgICB0ZXh0OiBudWxsCiAgfSwKICBiYW5uZXJGb290ZXI6IHsKICAgIGJhY2tncm91bmQ6IG51bGwsCiAgICBjb2xvcjogbnVsbCwKICAgIHRleHRBbGlnbm1lbnQ6ICdjZW50ZXInLAogICAgZm9udFdlaWdodDogbnVsbCwKICAgIGZvbnRTdHlsZTogbnVsbCwKICAgIGZvbnRTaXplOiAnMTRweCcsCiAgICB0ZXh0RGVjb3JhdGlvbjogbnVsbCwKICAgIHRleHQ6IG51bGwKICB9LAogIGJhbm5lckNvbnNlbnQ6IHsKICAgIGJhY2tncm91bmQ6IG51bGwsCiAgICBjb2xvcjogbnVsbCwKICAgIHRleHRBbGlnbm1lbnQ6ICdjZW50ZXInLAogICAgZm9udFdlaWdodDogbnVsbCwKICAgIGZvbnRTdHlsZTogbnVsbCwKICAgIGZvbnRTaXplOiAnMTRweCcsCiAgICB0ZXh0RGVjb3JhdGlvbjogbnVsbCwKICAgIHRleHQ6IG51bGwsCiAgICBidXR0b246IG51bGwKICB9LAogIHNob3dIZWFkZXI6ICdmYWxzZScsCiAgc2hvd0Zvb3RlcjogJ2ZhbHNlJywKICBzaG93Q29uc2VudDogJ2ZhbHNlJwp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbGF5b3V0OiAnYXV0aGVudGljYXRlZCcsCiAgY29tcG9uZW50czogewogICAgQ2hlY2tib3g6IENoZWNrYm94LAogICAgTG9hZGluZzogTG9hZGluZywKICAgIEFzeW5jQnV0dG9uOiBBc3luY0J1dHRvbiwKICAgIEJhbm5lcjogQmFubmVyLAogICAgQmFubmVyU2V0dGluZ3M6IEJhbm5lclNldHRpbmdzLAogICAgTm90aWZpY2F0aW9uU2V0dGluZ3M6IE5vdGlmaWNhdGlvblNldHRpbmdzCiAgfSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGhhc2g7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gYWxsSGFzaCh7CiAgICAgICAgICAgICAgdWlCYW5uZXJTZXR0aW5nOiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuU0VUVElORywKICAgICAgICAgICAgICAgIGlkOiBTRVRUSU5HLkJBTk5FUlMKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgaGFzaCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMsIGhhc2gpOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmVuZG9yOiBnZXRWZW5kb3IoKSwKICAgICAgdWlCYW5uZXJTZXR0aW5nOiBudWxsLAogICAgICBiYW5uZXJWYWw6IHt9LAogICAgICBlcnJvcnM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG1vZGU6IGZ1bmN0aW9uIG1vZGUoKSB7CiAgICAgIHZhciBfc2NoZW1hJHJlc291cmNlTWV0aG87CiAgICAgIHZhciBzY2hlbWEgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWyJtYW5hZ2VtZW50L3NjaGVtYUZvciJdKE1BTkFHRU1FTlQuU0VUVElORyk7CiAgICAgIHJldHVybiBzY2hlbWEgIT09IG51bGwgJiYgc2NoZW1hICE9PSB2b2lkIDAgJiYgKF9zY2hlbWEkcmVzb3VyY2VNZXRobyA9IHNjaGVtYS5yZXNvdXJjZU1ldGhvZHMpICE9PSBudWxsICYmIF9zY2hlbWEkcmVzb3VyY2VNZXRobyAhPT0gdm9pZCAwICYmIF9zY2hlbWEkcmVzb3VyY2VNZXRoby5pbmNsdWRlcygnUFVUJykgPyBfRURJVCA6IF9WSUVXOwogICAgfSwKICAgIGhlYWRlck1vZGU6IGZ1bmN0aW9uIGhlYWRlck1vZGUoKSB7CiAgICAgIHZhciBfdGhpcyRiYW5uZXJWYWw7CiAgICAgIHJldHVybiAoKF90aGlzJGJhbm5lclZhbCA9IHRoaXMuYmFubmVyVmFsKSA9PT0gbnVsbCB8fCBfdGhpcyRiYW5uZXJWYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGJhbm5lclZhbC5zaG93SGVhZGVyKSA9PT0gJ3RydWUnID8gX0VESVQgOiBfVklFVzsKICAgIH0sCiAgICBmb290ZXJNb2RlOiBmdW5jdGlvbiBmb290ZXJNb2RlKCkgewogICAgICB2YXIgX3RoaXMkYmFubmVyVmFsMjsKICAgICAgcmV0dXJuICgoX3RoaXMkYmFubmVyVmFsMiA9IHRoaXMuYmFubmVyVmFsKSA9PT0gbnVsbCB8fCBfdGhpcyRiYW5uZXJWYWwyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRiYW5uZXJWYWwyLnNob3dGb290ZXIpID09PSAndHJ1ZScgPyBfRURJVCA6IF9WSUVXOwogICAgfSwKICAgIGNvbnNlbnRNb2RlOiBmdW5jdGlvbiBjb25zZW50TW9kZSgpIHsKICAgICAgdmFyIF90aGlzJGJhbm5lclZhbDM7CiAgICAgIHJldHVybiAoKF90aGlzJGJhbm5lclZhbDMgPSB0aGlzLmJhbm5lclZhbCkgPT09IG51bGwgfHwgX3RoaXMkYmFubmVyVmFsMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYmFubmVyVmFsMy5zaG93Q29uc2VudCkgPT09ICd0cnVlJyA/IF9FRElUIDogX1ZJRVc7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdWlCYW5uZXJTZXR0aW5nOiBmdW5jdGlvbiB1aUJhbm5lclNldHRpbmcobmV1KSB7CiAgICAgIGlmIChuZXUgIT09IG51bGwgJiYgbmV1ICE9PSB2b2lkIDAgJiYgbmV1LnZhbHVlICYmIG5ldS52YWx1ZSAhPT0gJycpIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHBhcnNlZEJhbm5lciA9IEpTT04ucGFyc2UobmV1LnZhbHVlKTsKICAgICAgICAgIHRoaXMuYmFubmVyVmFsID0gdGhpcy5jaGVja09yVXBkYXRlTGVnYWN5VUlCYW5uZXJTZXR0aW5nKHBhcnNlZEJhbm5lcik7CiAgICAgICAgfSBjYXRjaCAoX3VudXNlZCkge30KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tPclVwZGF0ZUxlZ2FjeVVJQmFubmVyU2V0dGluZzogZnVuY3Rpb24gY2hlY2tPclVwZGF0ZUxlZ2FjeVVJQmFubmVyU2V0dGluZyhwYXJzZWRCYW5uZXIpIHsKICAgICAgdmFyIGJhbm5lckhlYWRlciA9IHBhcnNlZEJhbm5lci5iYW5uZXJIZWFkZXIsCiAgICAgICAgYmFubmVyRm9vdGVyID0gcGFyc2VkQmFubmVyLmJhbm5lckZvb3RlciwKICAgICAgICBiYW5uZXJDb25zZW50ID0gcGFyc2VkQmFubmVyLmJhbm5lckNvbnNlbnQsCiAgICAgICAgYmFubmVyID0gcGFyc2VkQmFubmVyLmJhbm5lciwKICAgICAgICBsb2dpbkVycm9yID0gcGFyc2VkQmFubmVyLmxvZ2luRXJyb3I7CiAgICAgIGlmIChpc0VtcHR5KGJhbm5lckhlYWRlcikgJiYgaXNFbXB0eShiYW5uZXJGb290ZXIpICYmIGlzRW1wdHkoYmFubmVyQ29uc2VudCkpIHsKICAgICAgICB2YXIgbmV1ID0gREVGQVVMVF9CQU5ORVJfU0VUVElORzsKICAgICAgICBpZiAoIWlzRW1wdHkoYmFubmVyKSkgewogICAgICAgICAgdmFyIGNsb25lZCA9IGNsb25lKGJhbm5lciAhPT0gbnVsbCAmJiBiYW5uZXIgIT09IHZvaWQgMCA/IGJhbm5lciA6IHt9KTsKICAgICAgICAgIGlmIChjbG9uZWQgIT09IG51bGwgJiYgY2xvbmVkICE9PSB2b2lkIDAgJiYgY2xvbmVkLnRleHRDb2xvcikgewogICAgICAgICAgICBjbG9uZWRbJ2NvbG9yJ10gPSBjbG9uZWQudGV4dENvbG9yOwogICAgICAgICAgICBkZWxldGUgY2xvbmVkLnRleHRDb2xvcjsKICAgICAgICAgIH0KICAgICAgICAgIG5ldSA9IHsKICAgICAgICAgICAgYmFubmVySGVhZGVyOiBfb2JqZWN0U3ByZWFkKHt9LCBjbG9uZWQpLAogICAgICAgICAgICBiYW5uZXJGb290ZXI6IF9vYmplY3RTcHJlYWQoe30sIGNsb25lZCksCiAgICAgICAgICAgIGxvZ2luRXJyb3I6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgREVGQVVMVF9CQU5ORVJfU0VUVElORy5sb2dpbkVycm9yKSwge30sIHsKICAgICAgICAgICAgICBsb2dpbkVycm9yOiAobG9naW5FcnJvciA9PT0gbnVsbCB8fCBsb2dpbkVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsb2dpbkVycm9yLnNob3dNZXNzYWdlKSA9PT0gJ2ZhbHNlJyA/ICdmYWxzZScgOiAndHJ1ZScKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIGJhbm5lckNvbnNlbnQ6IF9vYmplY3RTcHJlYWQoe30sIERFRkFVTFRfQkFOTkVSX1NFVFRJTkcuYmFubmVyQ29uc2VudCksCiAgICAgICAgICAgIHNob3dIZWFkZXI6IChwYXJzZWRCYW5uZXIgPT09IG51bGwgfHwgcGFyc2VkQmFubmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJzZWRCYW5uZXIuc2hvd0hlYWRlcikgPT09ICd0cnVlJyA/ICd0cnVlJyA6ICdmYWxzZScsCiAgICAgICAgICAgIHNob3dGb290ZXI6IChwYXJzZWRCYW5uZXIgPT09IG51bGwgfHwgcGFyc2VkQmFubmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJzZWRCYW5uZXIuc2hvd0Zvb3RlcikgPT09ICd0cnVlJyA/ICd0cnVlJyA6ICdmYWxzZScsCiAgICAgICAgICAgIHNob3dDb25zZW50OiAocGFyc2VkQmFubmVyID09PSBudWxsIHx8IHBhcnNlZEJhbm5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyc2VkQmFubmVyLnNob3dDb25zZW50KSA9PT0gJ3RydWUnID8gJ3RydWUnIDogJ2ZhbHNlJwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldTsKICAgICAgfQoKICAgICAgLy8gSWYgdXNlciBoYXMgZXhpc3RpbmcgYmFubmVycywgdGhleSBtYXkgbm90IGhhdmUgY29uc2VudCBiYW5uZXIgLSB1c2UgZGVmYXVsdCB2YWx1ZQogICAgICBpZiAoaXNFbXB0eShiYW5uZXJDb25zZW50KSkgewogICAgICAgIHBhcnNlZEJhbm5lci5iYW5uZXJDb25zZW50ID0gX29iamVjdFNwcmVhZCh7fSwgREVGQVVMVF9CQU5ORVJfU0VUVElORy5iYW5uZXJDb25zZW50KTsKICAgICAgfQogICAgICBpZiAoaXNFbXB0eShsb2dpbkVycm9yKSkgewogICAgICAgIHBhcnNlZEJhbm5lci5sb2dpbkVycm9yID0gX29iamVjdFNwcmVhZCh7fSwgREVGQVVMVF9CQU5ORVJfU0VUVElORy5sb2dpbkVycm9yKTsKICAgICAgfQogICAgICByZXR1cm4gcGFyc2VkQmFubmVyOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoYnRuQ0IpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpczIudWlCYW5uZXJTZXR0aW5nLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMyLmJhbm5lclZhbCk7CiAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycyA9IFtdOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtfdGhpczIudWlCYW5uZXJTZXR0aW5nLnNhdmUoKV0pOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgYnRuQ0IodHJ1ZSk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgICAgYnRuQ0IoZmFsc2UpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["isEmpty","Checkbox","Loading","AsyncButton","Banner","BannerSettings","allHash","MANAGEMENT","getVendor","SETTING","clone","_EDIT","_VIEW","NotificationSettings","DEFAULT_BANNER_SETTING","loginError","message","showMessage","bannerHeader","background","color","textAlignment","fontWeight","fontStyle","fontSize","textDecoration","text","bannerFooter","bannerConsent","button","showHeader","showFooter","showConsent","layout","components","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","hash","wrap","_callee$","_context","prev","next","uiBannerSetting","$store","dispatch","type","id","BANNERS","sent","Object","assign","stop","data","vendor","bannerVal","errors","computed","mode","_schema$resourceMetho","schema","getters","resourceMethods","includes","headerMode","_this$bannerVal","footerMode","_this$bannerVal2","consentMode","_this$bannerVal3","watch","neu","value","parsedBanner","JSON","parse","checkOrUpdateLegacyUIBannerSetting","_unused","methods","banner","cloned","textColor","_objectSpread","save","btnCB","_this2","_callee2","_callee2$","_context2","stringify","Promise","all","t0","push"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/settings/banners.vue"],"sourcesContent":["<script>\nimport isEmpty from 'lodash/isEmpty';\n\nimport { Checkbox } from '@components/Form/Checkbox';\nimport Loading from '@shell/components/Loading';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Banner } from '@components/Banner';\nimport BannerSettings from '@shell/components/form/BannerSettings';\nimport { allHash } from '@shell/utils/promise';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { getVendor } from '@shell/config/private-label';\nimport { SETTING } from '@shell/config/settings';\nimport { clone } from '@shell/utils/object';\nimport { _EDIT, _VIEW } from '@shell/config/query-params';\nimport NotificationSettings from '@shell/components/form/NotificationSettings.vue';\n\nconst DEFAULT_BANNER_SETTING = {\n  loginError:   { message: '', showMessage: 'false' },\n  bannerHeader: {\n    background:     null,\n    color:          null,\n    textAlignment:  'center',\n    fontWeight:     null,\n    fontStyle:      null,\n    fontSize:       '14px',\n    textDecoration: null,\n    text:           null,\n  },\n  bannerFooter: {\n    background:     null,\n    color:          null,\n    textAlignment:  'center',\n    fontWeight:     null,\n    fontStyle:      null,\n    fontSize:       '14px',\n    textDecoration: null,\n    text:           null\n  },\n  bannerConsent: {\n    background:     null,\n    color:          null,\n    textAlignment:  'center',\n    fontWeight:     null,\n    fontStyle:      null,\n    fontSize:       '14px',\n    textDecoration: null,\n    text:           null,\n    button:         null,\n  },\n  showHeader:  'false',\n  showFooter:  'false',\n  showConsent: 'false'\n};\n\nexport default {\n  layout: 'authenticated',\n\n  components: {\n    Checkbox,\n    Loading,\n    AsyncButton,\n    Banner,\n    BannerSettings,\n    NotificationSettings\n  },\n\n  async fetch() {\n    const hash = await allHash({ uiBannerSetting: this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.BANNERS }) });\n\n    Object.assign(this, hash);\n  },\n\n  data() {\n    return {\n      vendor: getVendor(),\n\n      uiBannerSetting: null,\n      bannerVal:       {},\n\n      errors: [],\n\n    };\n  },\n\n  computed: {\n    mode() {\n      const schema = this.$store.getters[`management/schemaFor`](MANAGEMENT.SETTING);\n\n      return schema?.resourceMethods?.includes('PUT') ? _EDIT : _VIEW;\n    },\n\n    headerMode() {\n      return this.bannerVal?.showHeader === 'true' ? _EDIT : _VIEW;\n    },\n    footerMode() {\n      return this.bannerVal?.showFooter === 'true' ? _EDIT : _VIEW;\n    },\n    consentMode() {\n      return this.bannerVal?.showConsent === 'true' ? _EDIT : _VIEW;\n    }\n  },\n\n  watch: {\n    uiBannerSetting(neu) {\n      if (neu?.value && neu.value !== '') {\n        try {\n          const parsedBanner = JSON.parse(neu.value);\n\n          this.bannerVal = this.checkOrUpdateLegacyUIBannerSetting(parsedBanner);\n        } catch {}\n      }\n    }\n  },\n\n  methods: {\n    checkOrUpdateLegacyUIBannerSetting(parsedBanner) {\n      const {\n        bannerHeader, bannerFooter, bannerConsent, banner, loginError\n      } = parsedBanner;\n\n      if (isEmpty(bannerHeader) && isEmpty(bannerFooter) && isEmpty(bannerConsent)) {\n        let neu = DEFAULT_BANNER_SETTING;\n\n        if (!isEmpty(banner)) {\n          const cloned = clone(( banner ?? {} ));\n\n          if (cloned?.textColor) {\n            cloned['color'] = cloned.textColor;\n            delete cloned.textColor;\n          }\n\n          neu = {\n            bannerHeader:  { ...cloned },\n            bannerFooter:  { ...cloned },\n            loginError:    { ...DEFAULT_BANNER_SETTING.loginError, loginError: loginError?.showMessage === 'false' ? 'false' : 'true' },\n            bannerConsent: { ...DEFAULT_BANNER_SETTING.bannerConsent },\n            showHeader:    parsedBanner?.showHeader === 'true' ? 'true' : 'false',\n            showFooter:    parsedBanner?.showFooter === 'true' ? 'true' : 'false',\n            showConsent:   parsedBanner?.showConsent === 'true' ? 'true' : 'false'\n          };\n        }\n\n        return neu;\n      }\n\n      // If user has existing banners, they may not have consent banner - use default value\n      if (isEmpty(bannerConsent)) {\n        parsedBanner.bannerConsent = { ...DEFAULT_BANNER_SETTING.bannerConsent };\n      }\n\n      if (isEmpty(loginError)) {\n        parsedBanner.loginError = { ...DEFAULT_BANNER_SETTING.loginError };\n      }\n\n      return parsedBanner;\n    },\n\n    async save(btnCB) {\n      this.uiBannerSetting.value = JSON.stringify(this.bannerVal);\n\n      this.errors = [];\n\n      try {\n        await Promise.all([\n          this.uiBannerSetting.save()\n        ]);\n        btnCB(true);\n      } catch (err) {\n        this.errors.push(err);\n        btnCB(false);\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <h1 class=\"mb-20\">\n      {{ t('banner.label') }}\n    </h1>\n    <div>\n      <label class=\"text-label\">\n        {{ t(`advancedSettings.descriptions.${ 'ui-banners' }`, {}, true) }}\n      </label>\n\n      <template>\n        <!-- Header Settings -->\n        <h2 class=\"mt-40 mb-40\">\n          {{ t('banner.headerBanner') }}\n        </h2>\n        <div class=\"row mb-20\">\n          <div class=\"col span-6\">\n            <Checkbox\n              :value=\"bannerVal.showHeader === 'true'\"\n              :label=\"t('banner.showHeader')\"\n              :mode=\"mode\"\n              @input=\"e=>$set(bannerVal, 'showHeader', e.toString())\"\n            />\n          </div>\n        </div>\n        <BannerSettings\n          v-model=\"bannerVal\"\n          banner-type=\"bannerHeader\"\n          :mode=\"headerMode\"\n        />\n\n        <!-- Footer settings -->\n        <h2 class=\"mt-40 mb-40\">\n          {{ t('banner.footerBanner') }}\n        </h2>\n        <div class=\"row mt-40 mb-20\">\n          <div class=\"col span-6\">\n            <Checkbox\n              :value=\"bannerVal.showFooter === 'true'\"\n              :label=\"t('banner.showFooter')\"\n              :mode=\"mode\"\n              @input=\"e=>$set(bannerVal, 'showFooter', e.toString())\"\n            />\n          </div>\n        </div>\n        <BannerSettings\n          v-model=\"bannerVal\"\n          banner-type=\"bannerFooter\"\n          :mode=\"footerMode\"\n        />\n      </template>\n\n      <!-- Consent settings -->\n      <h2 class=\"mt-40 mb-40\">\n        {{ t('banner.loginScreenBanner') }}\n      </h2>\n      <template>\n        <div class=\"row mt-40 mb-20\">\n          <div class=\"col span-6\">\n            <Checkbox\n              :value=\"bannerVal.showConsent === 'true'\"\n              :label=\"t('banner.showConsent')\"\n              :mode=\"mode\"\n              @input=\"e => $set(bannerVal, 'showConsent', e.toString())\"\n            />\n          </div>\n        </div>\n        <BannerSettings\n          v-model=\"bannerVal\"\n          banner-type=\"bannerConsent\"\n          :mode=\"consentMode\"\n        />\n      </template>\n      <h2 class=\"mt-40 mb-40\">\n        {{ t('notifications.loginError.header') }}\n      </h2>\n      <NotificationSettings\n        v-model=\"bannerVal.loginError\"\n        :mode=\"mode\"\n        :label=\"t('notifications.loginError.messageLabel')\"\n      />\n    </div>\n    <template v-for=\"err in errors\">\n      <Banner\n        :key=\"err\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </template>\n    <div v-if=\"mode === 'edit'\">\n      <AsyncButton\n        class=\"pull-right mt-20\"\n        mode=\"apply\"\n        @click=\"save\"\n      />\n    </div>\n  </div>\n</template>\n\n<style scoped lang='scss'>\n.overlay {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: var(--overlay-bg);\n  z-index: 1;\n}\n</style>\n"],"mappings":"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"}]}