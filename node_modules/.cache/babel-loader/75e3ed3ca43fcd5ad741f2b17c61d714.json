{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/logging.banzaicloud.io.flow.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/logging.banzaicloud.io.flow.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvWyJAQGl0ZXJhdG9yIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9CmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mbGF0LW1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnVuc2NvcGFibGVzLmZsYXQtbWFwLmpzIjsKaW1wb3J0IHsgTE9HR0lORyB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBzZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHVuaXEgZnJvbSAnbG9kYXNoL3VuaXEnOwppbXBvcnQgU3RldmVNb2RlbCBmcm9tICdAc2hlbGwvcGx1Z2lucy9zdGV2ZS9zdGV2ZS1jbGFzcyc7CmV4cG9ydCBmdW5jdGlvbiBtYXRjaFJ1bGVJc1BvcHVsYXRlZChydWxlKSB7CiAgdmFyIF9ydWxlJGhvc3RzLCBfcnVsZSRjb250YWluZXJfbmFtZXMsIF9ydWxlJG5hbWVzcGFjZXM7CiAgaWYgKCFydWxlKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQogIGlmIChydWxlLmxhYmVscyAmJiBPYmplY3Qua2V5cyhydWxlLmxhYmVscykubGVuZ3RoKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgaWYgKChfcnVsZSRob3N0cyA9IHJ1bGUuaG9zdHMpICE9PSBudWxsICYmIF9ydWxlJGhvc3RzICE9PSB2b2lkIDAgJiYgX3J1bGUkaG9zdHMubGVuZ3RoKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgaWYgKChfcnVsZSRjb250YWluZXJfbmFtZXMgPSBydWxlLmNvbnRhaW5lcl9uYW1lcykgIT09IG51bGwgJiYgX3J1bGUkY29udGFpbmVyX25hbWVzICE9PSB2b2lkIDAgJiYgX3J1bGUkY29udGFpbmVyX25hbWVzLmxlbmd0aCkgewogICAgcmV0dXJuIHRydWU7CiAgfQogIGlmICgoX3J1bGUkbmFtZXNwYWNlcyA9IHJ1bGUubmFtZXNwYWNlcykgIT09IG51bGwgJiYgX3J1bGUkbmFtZXNwYWNlcyAhPT0gdm9pZCAwICYmIF9ydWxlJG5hbWVzcGFjZXMubGVuZ3RoKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgcmV0dXJuIGZhbHNlOwp9CnZhciBMb2dGbG93ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3RldmVNb2RlbCkgewogIF9pbmhlcml0cyhMb2dGbG93LCBfU3RldmVNb2RlbCk7CiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihMb2dGbG93KTsKICBmdW5jdGlvbiBMb2dGbG93KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvZ0Zsb3cpOwogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBfY3JlYXRlQ2xhc3MoTG9nRmxvdywgW3sKICAgIGtleTogImFwcGx5RGVmYXVsdHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5RGVmYXVsdHMoKSB7CiAgICAgIHNldCh0aGlzLCAnc3BlYycsIHRoaXMuc3BlYyB8fCB7fSk7CiAgICAgIHNldCh0aGlzLnNwZWMsICdtYXRjaCcsIHRoaXMuc3BlYy5tYXRjaCB8fCBbXSk7CiAgICAgIHNldCh0aGlzLnNwZWMsICdmaWx0ZXJzJywgdGhpcy5zcGVjLmZpbHRlcnMgfHwgW10pOwogICAgICBzZXQodGhpcy5zcGVjLCAnbG9jYWxPdXRwdXRSZWZzJywgdGhpcy5zcGVjLmxvY2FsT3V0cHV0UmVmcyB8fCBbXSk7CiAgICAgIHNldCh0aGlzLnNwZWMsICdnbG9iYWxPdXRwdXRSZWZzJywgdGhpcy5zcGVjLmdsb2JhbE91dHB1dFJlZnMgfHwgW10pOwogICAgfQogIH0sIHsKICAgIGtleTogImNhbkN1c3RvbUVkaXQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzcGVjOwogICAgICBpZiAoISgoX3RoaXMkc3BlYyA9IHRoaXMuc3BlYykgIT09IG51bGwgJiYgX3RoaXMkc3BlYyAhPT0gdm9pZCAwICYmIChfdGhpcyRzcGVjID0gX3RoaXMkc3BlYy5tYXRjaCkgIT09IG51bGwgJiYgX3RoaXMkc3BlYyAhPT0gdm9pZCAwICYmIF90aGlzJHNwZWMubGVuZ3RoKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHZhciBvdXQgPSB0cnVlOwogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5zcGVjLm1hdGNoKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIG1hdGNoID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICBpZiAobWF0Y2hSdWxlSXNQb3B1bGF0ZWQobWF0Y2guc2VsZWN0KSAmJiBtYXRjaFJ1bGVJc1BvcHVsYXRlZChtYXRjaC5leGNsdWRlKSkgewogICAgICAgICAgICBvdXQgPSBmYWxzZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIG91dDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhbGxPdXRwdXRzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ2NsdXN0ZXIvYWxsJ10oTE9HR0lORy5PVVRQVVQpIHx8IFtdOwogICAgfQogIH0sIHsKICAgIGtleTogImFsbENsdXN0ZXJPdXRwdXRzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ2NsdXN0ZXIvYWxsJ10oTE9HR0lORy5DTFVTVEVSX09VVFBVVCkgfHwgW107CiAgICB9CiAgfSwgewogICAga2V5OiAib3V0cHV0cyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHNwZWMyOwogICAgICB2YXIgbG9jYWxPdXRwdXRSZWZzID0gKChfdGhpcyRzcGVjMiA9IHRoaXMuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkc3BlYzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNwZWMyLmxvY2FsT3V0cHV0UmVmcykgfHwgW107CiAgICAgIHJldHVybiB0aGlzLmFsbE91dHB1dHMuZmlsdGVyKGZ1bmN0aW9uIChvdXRwdXQpIHsKICAgICAgICByZXR1cm4gbG9jYWxPdXRwdXRSZWZzLmluY2x1ZGVzKG91dHB1dC5uYW1lKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAib3V0cHV0c1NvcnRhYmxlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgZGlzcGxheXMgPSB0aGlzLm91dHB1dHMubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuIG8ubmFtZURpc3BsYXk7CiAgICAgIH0pOwogICAgICBkaXNwbGF5cy5zb3J0KCk7CiAgICAgIHJldHVybiBkaXNwbGF5cy5qb2luKCcnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbHVzdGVyT3V0cHV0cyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHNwZWMzOwogICAgICB2YXIgZ2xvYmFsT3V0cHV0UmVmcyA9ICgoX3RoaXMkc3BlYzMgPSB0aGlzLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHNwZWMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzcGVjMy5nbG9iYWxPdXRwdXRSZWZzKSB8fCBbXTsKICAgICAgaWYgKHRoaXMuYWxsQ2x1c3Rlck91dHB1dHMpIHsKICAgICAgICByZXR1cm4gdGhpcy5hbGxDbHVzdGVyT3V0cHV0cy5maWx0ZXIoZnVuY3Rpb24gKG91dHB1dCkgewogICAgICAgICAgcmV0dXJuIGdsb2JhbE91dHB1dFJlZnMuaW5jbHVkZXMob3V0cHV0Lm5hbWUpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgdXNlciBkb2Vzbid0IGhhdmUgcGVybWlzc2lvbgogICAgICAgIC8vIHRvIHNlZSBDbHVzdGVyT3V0cHV0cwogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNsdXN0ZXJPdXRwdXRzU29ydGFibGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBkaXNwbGF5cyA9IHRoaXMuY2x1c3Rlck91dHB1dHMubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuIG8ubmFtZURpc3BsYXk7CiAgICAgIH0pOwogICAgICBkaXNwbGF5cy5zb3J0KCk7CiAgICAgIHJldHVybiBkaXNwbGF5cy5qb2luKCcnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92aWRlcnNEaXNwbGF5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgY29tYmluZWRPdXRwdXRzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLm91dHB1dHMpLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5jbHVzdGVyT3V0cHV0cykpOwogICAgICB2YXIgZHVwbGljYXRlZFByb3ZpZGVycyA9IGNvbWJpbmVkT3V0cHV0cy5mbGF0TWFwKGZ1bmN0aW9uIChvdXRwdXQpIHsKICAgICAgICByZXR1cm4gb3V0cHV0LnByb3ZpZGVyc0Rpc3BsYXk7CiAgICAgIH0pOwogICAgICByZXR1cm4gdW5pcShkdXBsaWNhdGVkUHJvdmlkZXJzKSB8fCBbXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjdXN0b21WYWxpZGF0aW9uUnVsZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIHBhdGg6ICdzcGVjJywKICAgICAgICB2YWxpZGF0b3JzOiBbJ2Zsb3dPdXRwdXQ6dmVyaWZ5TG9jYWwnXQogICAgICB9XTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIExvZ0Zsb3c7Cn0oU3RldmVNb2RlbCk7CmV4cG9ydCB7IExvZ0Zsb3cgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["LOGGING","set","uniq","SteveModel","matchRuleIsPopulated","rule","_rule$hosts","_rule$container_names","_rule$namespaces","labels","Object","keys","length","hosts","container_names","namespaces","LogFlow","_SteveModel","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","applyDefaults","spec","match","filters","localOutputRefs","globalOutputRefs","get","_this$spec","out","_iterator","_createForOfIteratorHelper","_step","s","n","done","select","exclude","err","e","f","$rootGetters","OUTPUT","CLUSTER_OUTPUT","_this$spec2","allOutputs","filter","output","includes","name","displays","outputs","map","o","nameDisplay","sort","join","_this$spec3","allClusterOutputs","clusterOutputs","combinedOutputs","concat","_toConsumableArray","duplicatedProviders","flatMap","providersDisplay","path","validators","default"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/logging.banzaicloud.io.flow.js"],"sourcesContent":["import { LOGGING } from '@shell/config/types';\nimport { set } from '@shell/utils/object';\nimport uniq from 'lodash/uniq';\nimport SteveModel from '@shell/plugins/steve/steve-class';\n\nexport function matchRuleIsPopulated(rule) {\n  if ( !rule ) {\n    return false;\n  }\n\n  if ( rule.labels && Object.keys(rule.labels).length ) {\n    return true;\n  }\n\n  if ( rule.hosts?.length ) {\n    return true;\n  }\n\n  if ( rule.container_names?.length ) {\n    return true;\n  }\n\n  if ( rule.namespaces?.length ) {\n    return true;\n  }\n\n  return false;\n}\n\nexport default class LogFlow extends SteveModel {\n  applyDefaults() {\n    set(this, 'spec', this.spec || {});\n    set(this.spec, 'match', this.spec.match || []);\n    set(this.spec, 'filters', this.spec.filters || []);\n    set(this.spec, 'localOutputRefs', this.spec.localOutputRefs || []);\n    set(this.spec, 'globalOutputRefs', this.spec.globalOutputRefs || []);\n  }\n\n  get canCustomEdit() {\n    if ( !this.spec?.match?.length ) {\n      return true;\n    }\n\n    let out = true;\n\n    for ( const match of this.spec.match ) {\n      if ( matchRuleIsPopulated(match.select) && matchRuleIsPopulated(match.exclude) ) {\n        out = false;\n        break;\n      }\n    }\n\n    return out;\n  }\n\n  get allOutputs() {\n    return this.$rootGetters['cluster/all'](LOGGING.OUTPUT) || [];\n  }\n\n  get allClusterOutputs() {\n    return this.$rootGetters['cluster/all'](LOGGING.CLUSTER_OUTPUT) || [];\n  }\n\n  get outputs() {\n    const localOutputRefs = this.spec?.localOutputRefs || [];\n\n    return this.allOutputs.filter((output) => localOutputRefs.includes(output.name));\n  }\n\n  get outputsSortable() {\n    const displays = this.outputs.map((o) => o.nameDisplay);\n\n    displays.sort();\n\n    return displays.join('');\n  }\n\n  get clusterOutputs() {\n    const globalOutputRefs = this.spec?.globalOutputRefs || [];\n\n    if (this.allClusterOutputs) {\n      return this.allClusterOutputs.filter((output) => globalOutputRefs.includes(output.name));\n    } else {\n      // Handle the case where the user doesn't have permission\n      // to see ClusterOutputs\n      return [];\n    }\n  }\n\n  get clusterOutputsSortable() {\n    const displays = this.clusterOutputs.map((o) => o.nameDisplay);\n\n    displays.sort();\n\n    return displays.join('');\n  }\n\n  get providersDisplay() {\n    const combinedOutputs = [...this.outputs, ...this.clusterOutputs];\n    const duplicatedProviders = combinedOutputs\n      .flatMap((output) => output.providersDisplay);\n\n    return uniq(duplicatedProviders) || [];\n  }\n\n  get customValidationRules() {\n    return [\n      {\n        path:       'spec',\n        validators: ['flowOutput:verifyLocal'],\n      },\n    ];\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,OAAO,QAAQ,qBAAqB;AAC7C,SAASC,GAAG,QAAQ,qBAAqB;AACzC,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,UAAU,MAAM,kCAAkC;AAEzD,OAAO,SAASC,oBAAoBA,CAACC,IAAI,EAAE;EAAA,IAAAC,WAAA,EAAAC,qBAAA,EAAAC,gBAAA;EACzC,IAAK,CAACH,IAAI,EAAG;IACX,OAAO,KAAK;EACd;EAEA,IAAKA,IAAI,CAACI,MAAM,IAAIC,MAAM,CAACC,IAAI,CAACN,IAAI,CAACI,MAAM,CAAC,CAACG,MAAM,EAAG;IACpD,OAAO,IAAI;EACb;EAEA,KAAAN,WAAA,GAAKD,IAAI,CAACQ,KAAK,cAAAP,WAAA,eAAVA,WAAA,CAAYM,MAAM,EAAG;IACxB,OAAO,IAAI;EACb;EAEA,KAAAL,qBAAA,GAAKF,IAAI,CAACS,eAAe,cAAAP,qBAAA,eAApBA,qBAAA,CAAsBK,MAAM,EAAG;IAClC,OAAO,IAAI;EACb;EAEA,KAAAJ,gBAAA,GAAKH,IAAI,CAACU,UAAU,cAAAP,gBAAA,eAAfA,gBAAA,CAAiBI,MAAM,EAAG;IAC7B,OAAO,IAAI;EACb;EAEA,OAAO,KAAK;AACd;AAAC,IAEoBI,OAAO,0BAAAC,WAAA;EAAAC,SAAA,CAAAF,OAAA,EAAAC,WAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,OAAA;EAAA,SAAAA,QAAA;IAAAK,eAAA,OAAAL,OAAA;IAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;EAAA;EAAAC,YAAA,CAAAR,OAAA;IAAAS,GAAA;IAAAC,KAAA,EAC1B,SAAAC,cAAA,EAAgB;MACd1B,GAAG,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC2B,IAAI,IAAI,CAAC,CAAC,CAAC;MAClC3B,GAAG,CAAC,IAAI,CAAC2B,IAAI,EAAE,OAAO,EAAE,IAAI,CAACA,IAAI,CAACC,KAAK,IAAI,EAAE,CAAC;MAC9C5B,GAAG,CAAC,IAAI,CAAC2B,IAAI,EAAE,SAAS,EAAE,IAAI,CAACA,IAAI,CAACE,OAAO,IAAI,EAAE,CAAC;MAClD7B,GAAG,CAAC,IAAI,CAAC2B,IAAI,EAAE,iBAAiB,EAAE,IAAI,CAACA,IAAI,CAACG,eAAe,IAAI,EAAE,CAAC;MAClE9B,GAAG,CAAC,IAAI,CAAC2B,IAAI,EAAE,kBAAkB,EAAE,IAAI,CAACA,IAAI,CAACI,gBAAgB,IAAI,EAAE,CAAC;IACtE;EAAC;IAAAP,GAAA;IAAAQ,GAAA,EAED,SAAAA,IAAA,EAAoB;MAAA,IAAAC,UAAA;MAClB,IAAK,GAAAA,UAAA,GAAC,IAAI,CAACN,IAAI,cAAAM,UAAA,gBAAAA,UAAA,GAATA,UAAA,CAAWL,KAAK,cAAAK,UAAA,eAAhBA,UAAA,CAAkBtB,MAAM,GAAG;QAC/B,OAAO,IAAI;MACb;MAEA,IAAIuB,GAAG,GAAG,IAAI;MAAC,IAAAC,SAAA,GAAAC,0BAAA,CAEM,IAAI,CAACT,IAAI,CAACC,KAAK;QAAAS,KAAA;MAAA;QAApC,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAAuC;UAAA,IAA3BZ,KAAK,GAAAS,KAAA,CAAAZ,KAAA;UACf,IAAKtB,oBAAoB,CAACyB,KAAK,CAACa,MAAM,CAAC,IAAItC,oBAAoB,CAACyB,KAAK,CAACc,OAAO,CAAC,EAAG;YAC/ER,GAAG,GAAG,KAAK;YACX;UACF;QACF;MAAC,SAAAS,GAAA;QAAAR,SAAA,CAAAS,CAAA,CAAAD,GAAA;MAAA;QAAAR,SAAA,CAAAU,CAAA;MAAA;MAED,OAAOX,GAAG;IACZ;EAAC;IAAAV,GAAA;IAAAQ,GAAA,EAED,SAAAA,IAAA,EAAiB;MACf,OAAO,IAAI,CAACc,YAAY,CAAC,aAAa,CAAC,CAAC/C,OAAO,CAACgD,MAAM,CAAC,IAAI,EAAE;IAC/D;EAAC;IAAAvB,GAAA;IAAAQ,GAAA,EAED,SAAAA,IAAA,EAAwB;MACtB,OAAO,IAAI,CAACc,YAAY,CAAC,aAAa,CAAC,CAAC/C,OAAO,CAACiD,cAAc,CAAC,IAAI,EAAE;IACvE;EAAC;IAAAxB,GAAA;IAAAQ,GAAA,EAED,SAAAA,IAAA,EAAc;MAAA,IAAAiB,WAAA;MACZ,IAAMnB,eAAe,GAAG,EAAAmB,WAAA,OAAI,CAACtB,IAAI,cAAAsB,WAAA,uBAATA,WAAA,CAAWnB,eAAe,KAAI,EAAE;MAExD,OAAO,IAAI,CAACoB,UAAU,CAACC,MAAM,CAAC,UAACC,MAAM;QAAA,OAAKtB,eAAe,CAACuB,QAAQ,CAACD,MAAM,CAACE,IAAI,CAAC;MAAA,EAAC;IAClF;EAAC;IAAA9B,GAAA;IAAAQ,GAAA,EAED,SAAAA,IAAA,EAAsB;MACpB,IAAMuB,QAAQ,GAAG,IAAI,CAACC,OAAO,CAACC,GAAG,CAAC,UAACC,CAAC;QAAA,OAAKA,CAAC,CAACC,WAAW;MAAA,EAAC;MAEvDJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAEf,OAAOL,QAAQ,CAACM,IAAI,CAAC,EAAE,CAAC;IAC1B;EAAC;IAAArC,GAAA;IAAAQ,GAAA,EAED,SAAAA,IAAA,EAAqB;MAAA,IAAA8B,WAAA;MACnB,IAAM/B,gBAAgB,GAAG,EAAA+B,WAAA,OAAI,CAACnC,IAAI,cAAAmC,WAAA,uBAATA,WAAA,CAAW/B,gBAAgB,KAAI,EAAE;MAE1D,IAAI,IAAI,CAACgC,iBAAiB,EAAE;QAC1B,OAAO,IAAI,CAACA,iBAAiB,CAACZ,MAAM,CAAC,UAACC,MAAM;UAAA,OAAKrB,gBAAgB,CAACsB,QAAQ,CAACD,MAAM,CAACE,IAAI,CAAC;QAAA,EAAC;MAC1F,CAAC,MAAM;QACL;QACA;QACA,OAAO,EAAE;MACX;IACF;EAAC;IAAA9B,GAAA;IAAAQ,GAAA,EAED,SAAAA,IAAA,EAA6B;MAC3B,IAAMuB,QAAQ,GAAG,IAAI,CAACS,cAAc,CAACP,GAAG,CAAC,UAACC,CAAC;QAAA,OAAKA,CAAC,CAACC,WAAW;MAAA,EAAC;MAE9DJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAEf,OAAOL,QAAQ,CAACM,IAAI,CAAC,EAAE,CAAC;IAC1B;EAAC;IAAArC,GAAA;IAAAQ,GAAA,EAED,SAAAA,IAAA,EAAuB;MACrB,IAAMiC,eAAe,MAAAC,MAAA,CAAAC,kBAAA,CAAO,IAAI,CAACX,OAAO,GAAAW,kBAAA,CAAK,IAAI,CAACH,cAAc,EAAC;MACjE,IAAMI,mBAAmB,GAAGH,eAAe,CACxCI,OAAO,CAAC,UAACjB,MAAM;QAAA,OAAKA,MAAM,CAACkB,gBAAgB;MAAA,EAAC;MAE/C,OAAOrE,IAAI,CAACmE,mBAAmB,CAAC,IAAI,EAAE;IACxC;EAAC;IAAA5C,GAAA;IAAAQ,GAAA,EAED,SAAAA,IAAA,EAA4B;MAC1B,OAAO,CACL;QACEuC,IAAI,EAAQ,MAAM;QAClBC,UAAU,EAAE,CAAC,wBAAwB;MACvC,CAAC,CACF;IACH;EAAC;EAAA,OAAAzD,OAAA;AAAA,EAnFkCb,UAAU;AAAA,SAA1Ba,OAAO,IAAA0D,OAAA"}]}