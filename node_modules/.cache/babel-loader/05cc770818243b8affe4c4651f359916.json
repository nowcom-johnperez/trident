{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBDcnVSZXNvdXJjZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DcnVSZXNvdXJjZSc7CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgVGFiYmVkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZCc7CmltcG9ydCBUYWIgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkL1RhYic7CmltcG9ydCB7IE1PTklUT1JJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCBOYW1lTnNEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL05hbWVOc0Rlc2NyaXB0aW9uJzsKaW1wb3J0IHsgRURJVE9SX01PREVTIH0gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvWWFtbEVkaXRvcic7CmltcG9ydCB7IFJFQ0VJVkVSU19UWVBFUyB9IGZyb20gJ0BzaGVsbC9tb2RlbHMvbW9uaXRvcmluZy5jb3Jlb3MuY29tLnJlY2VpdmVyJzsKaW1wb3J0IFJvdXRlQ29uZmlnIGZyb20gJy4vcm91dGVDb25maWcnOwppbXBvcnQgUmVzb3VyY2VUYWJsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9SZXNvdXJjZVRhYmxlJzsKaW1wb3J0IEFjdGlvbk1lbnUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQWN0aW9uTWVudSc7CmltcG9ydCB7IF9DUkVBVEUsIF9FRElULCBfVklFVywgX0NPTkZJRyB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEFjdGlvbk1lbnU6IEFjdGlvbk1lbnUsCiAgICBDcnVSZXNvdXJjZTogQ3J1UmVzb3VyY2UsCiAgICBMb2FkaW5nOiBMb2FkaW5nLAogICAgTmFtZU5zRGVzY3JpcHRpb246IE5hbWVOc0Rlc2NyaXB0aW9uLAogICAgUmVzb3VyY2VUYWJsZTogUmVzb3VyY2VUYWJsZSwKICAgIFJvdXRlQ29uZmlnOiBSb3V0ZUNvbmZpZywKICAgIFRhYjogVGFiLAogICAgVGFiYmVkOiBUYWJiZWQKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGluU3RvcmUsIGFsZXJ0bWFuYWdlckNvbmZpZ0lkLCBhbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZSwgYWxlcnRtYW5hZ2VyQ29uZmlnQWN0aW9ucywgcmVjZWl2ZXJBY3Rpb25zOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpblN0b3JlID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbJ2N1cnJlbnRQcm9kdWN0J10uaW5TdG9yZTsKICAgICAgICAgICAgYWxlcnRtYW5hZ2VyQ29uZmlnSWQgPSBfdGhpcy52YWx1ZS5pZDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goIiIuY29uY2F0KGluU3RvcmUsICIvZmluZCIpLCB7CiAgICAgICAgICAgICAgdHlwZTogTU9OSVRPUklORy5BTEVSVE1BTkFHRVJDT05GSUcsCiAgICAgICAgICAgICAgaWQ6IGFsZXJ0bWFuYWdlckNvbmZpZ0lkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBhbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF90aGlzLmFsZXJ0bWFuYWdlckNvbmZpZ0lkID0gYWxlcnRtYW5hZ2VyQ29uZmlnSWQ7CiAgICAgICAgICAgIF90aGlzLmFsZXJ0bWFuYWdlckNvbmZpZ1Jlc291cmNlID0gYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2U7CiAgICAgICAgICAgIF90aGlzLmFsZXJ0bWFuYWdlckNvbmZpZ0RldGFpbFJvdXRlID0gYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2UuX2RldGFpbExvY2F0aW9uOwogICAgICAgICAgICBhbGVydG1hbmFnZXJDb25maWdBY3Rpb25zID0gYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2UuYXZhaWxhYmxlQWN0aW9uczsKICAgICAgICAgICAgcmVjZWl2ZXJBY3Rpb25zID0gYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2UuZ2V0UmVjZWl2ZXJBY3Rpb25zKGFsZXJ0bWFuYWdlckNvbmZpZ0FjdGlvbnMpOwogICAgICAgICAgICBfdGhpcy5yZWNlaXZlckFjdGlvbnMgPSByZWNlaXZlckFjdGlvbnM7CiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzJHZhbHVlOwogICAgdGhpcy52YWx1ZS5hcHBseURlZmF1bHRzKCk7CiAgICB2YXIgZGVmYXVsdFJlY2VpdmVyVmFsdWVzID0ge307CiAgICB2YXIgcmVjZWl2ZXJTY2hlbWEgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL3NjaGVtYUZvciddKE1PTklUT1JJTkcuU1BPT0ZFRC5BTEVSVE1BTkFHRVJDT05GSUdfUkVDRUlWRVJfU1BFQyk7CiAgICB2YXIgcm91dGVTY2hlbWEgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL3NjaGVtYUZvciddKE1PTklUT1JJTkcuU1BPT0ZFRC5BTEVSVE1BTkFHRVJDT05GSUdfUk9VVEVfU1BFQyk7CiAgICB2YXIgcmVjZWl2ZXJPcHRpb25zID0gKCgoX3RoaXMkdmFsdWUgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZSA9IF90aGlzJHZhbHVlLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZS5yZWNlaXZlcnMpIHx8IFtdKS5tYXAoZnVuY3Rpb24gKHJlY2VpdmVyKSB7CiAgICAgIHJldHVybiByZWNlaXZlci5uYW1lOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBhY3Rpb25NZW51VGFyZ2V0RWxlbWVudDogbnVsbCwKICAgICAgYWN0aW9uTWVudVRhcmdldEV2ZW50OiBudWxsLAogICAgICBjb25maWc6IF9DT05GSUcsCiAgICAgIGNyZWF0ZTogX0NSRUFURSwKICAgICAgY3JlYXRlUmVjZWl2ZXJMaW5rOiB0aGlzLnZhbHVlLmdldENyZWF0ZVJlY2VpdmVyUm91dGUoKSwKICAgICAgZGVmYXVsdFJlY2VpdmVyVmFsdWVzOiBkZWZhdWx0UmVjZWl2ZXJWYWx1ZXMsCiAgICAgIHJlY2VpdmVyQWN0aW9uTWVudUlzT3BlbjogZmFsc2UsCiAgICAgIHJlY2VpdmVyVGFibGVIZWFkZXJzOiBbewogICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICBsYWJlbEtleTogJ3RhYmxlSGVhZGVycy5uYW1lJywKICAgICAgICB2YWx1ZTogJ25hbWUnLAogICAgICAgIHNvcnQ6IFsnbmFtZVNvcnQnXSwKICAgICAgICBmb3JtYXR0ZXI6ICdMaW5rRGV0YWlsJywKICAgICAgICBjYW5CZVZhcmlhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAndHlwZScsCiAgICAgICAgbGFiZWxLZXk6ICd0YWJsZUhlYWRlcnMudHlwZScsCiAgICAgICAgdmFsdWU6ICduYW1lJywKICAgICAgICBmb3JtYXR0ZXI6ICdSZWNlaXZlckljb25zJywKICAgICAgICBjYW5CZVZhcmlhYmxlOiB0cnVlCiAgICAgIH0KICAgICAgLy8gQWRkIG1vcmUgY29sdW1ucwogICAgICBdLAogICAgICBuZXdSZWNlaXZlclR5cGU6IG51bGwsCiAgICAgIHJlY2VpdmVyQWN0aW9uczogW10sCiAgICAgIHJlY2VpdmVyT3B0aW9uczogcmVjZWl2ZXJPcHRpb25zLAogICAgICByZWNlaXZlclR5cGVzOiBSRUNFSVZFUlNfVFlQRVMsCiAgICAgIHJvdXRlU2NoZW1hOiByb3V0ZVNjaGVtYSwKICAgICAgcmVjZWl2ZXJTY2hlbWE6IHJlY2VpdmVyU2NoZW1hLAogICAgICBzZWxlY3RlZFJlY2VpdmVyTmFtZTogJycsCiAgICAgIHNlbGVjdGVkUm93VmFsdWU6IG51bGwsCiAgICAgIHZpZXc6IF9WSUVXCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGVkaXRvck1vZGU6IGZ1bmN0aW9uIGVkaXRvck1vZGUoKSB7CiAgICAgIGlmICh0aGlzLm1vZGUgPT09IF9WSUVXKSB7CiAgICAgICAgcmV0dXJuIEVESVRPUl9NT0RFUy5WSUVXX0NPREU7CiAgICAgIH0KICAgICAgcmV0dXJuIEVESVRPUl9NT0RFUy5FRElUX0NPREU7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB0cmFuc2xhdGVSZWNlaXZlclR5cGVzOiBmdW5jdGlvbiB0cmFuc2xhdGVSZWNlaXZlclR5cGVzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIHRoaXMucmVjZWl2ZXJUeXBlcy5tYXAoZnVuY3Rpb24gKHJlY2VpdmVyVHlwZSkgewogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlY2VpdmVyVHlwZSksIHt9LCB7CiAgICAgICAgICBsYWJlbDogX3RoaXMyLnQocmVjZWl2ZXJUeXBlLmxhYmVsKQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRSZWNlaXZlckRldGFpbExpbms6IGZ1bmN0aW9uIGdldFJlY2VpdmVyRGV0YWlsTGluayhyZWNlaXZlckRhdGEpIHsKICAgICAgaWYgKHJlY2VpdmVyRGF0YSAmJiByZWNlaXZlckRhdGEubmFtZSkgewogICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmdldFJlY2VpdmVyRGV0YWlsTGluayhyZWNlaXZlckRhdGEubmFtZSk7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGVSZWNlaXZlckFjdGlvbk1lbnU6IGZ1bmN0aW9uIHRvZ2dsZVJlY2VpdmVyQWN0aW9uTWVudSgpIHsKICAgICAgdGhpcy5yZWNlaXZlckFjdGlvbk1lbnVJc09wZW4gPSB0cnVlOwogICAgfSwKICAgIHNldEFjdGlvbk1lbnVTdGF0ZTogZnVuY3Rpb24gc2V0QWN0aW9uTWVudVN0YXRlKGV2ZW50RGF0YSkgewogICAgICAvLyBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgYSBjb250ZXh0IG1lbnUKICAgICAgLy8gZm9yIGEgcmVjZWl2ZXIgaW4gdGhlIHJlY2VpdmVyIGluIHRoZSByZWNlaXZlciBsaXN0IHZpZXcuCiAgICAgIC8vIEl0IHNldHMgdGhlIHRhcmdldCBlbGVtZW50IHNvIHRoZSBtZW51IGNhbiBvcGVuIHdoZXJlIHRoZQogICAgICAvLyB1c2VyIGNsaWNrZWQuCiAgICAgIHZhciBldmVudCA9IGV2ZW50RGF0YS5ldmVudCwKICAgICAgICB0YXJnZXRFbGVtZW50ID0gZXZlbnREYXRhLnRhcmdldEVsZW1lbnQ7CgogICAgICAvLyBUYXJnZXRFbGVtZW50IGNvdWxkIGJlIGFuIGFycmF5IG9mIG1vcmUgdGhhbgogICAgICAvLyBvbmUgaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSByZWYgb2YgdGhlIHNhbWUgbmFtZS4KICAgICAgaWYgKGV2ZW50ICYmIHRhcmdldEVsZW1lbnQpIHsKICAgICAgICB0aGlzLmFjdGlvbk1lbnVUYXJnZXRFbGVtZW50ID0gdGFyZ2V0RWxlbWVudDsKICAgICAgICB0aGlzLmFjdGlvbk1lbnVUYXJnZXRFdmVudCA9IGV2ZW50OwoKICAgICAgICAvLyBXZSB0YWtlIHRoZSBzZWxlY3RlZCByZWNlaXZlciBuYW1lIG91dCBvZiB0aGUgdGFyZ2V0CiAgICAgICAgLy8gZWxlbWVudCdzIElEIHRvIGhlbHAgdXMgYnVpbGQgdGhlIFVSTCB0byBsaW5rIHRvCiAgICAgICAgLy8gdGhlIGRldGFpbCBwYWdlIG9mIHRoYXQgcmVjZWl2ZXIuCiAgICAgICAgLy8gV2UgdXNlIGEgcGx1cyBzaWduIGFzIHRoZSBkZWxpbWl0ZXIgdG8gc2VwYXJhdGUgdGhlCiAgICAgICAgLy8gbmFtZSBiZWNhdXNlIHRoZSBwbHVzIGlzIG5vdCBhbiBhbGxvd2VkIGNoYXJhY3RlciBpbgogICAgICAgIC8vIEt1YmVybmV0ZXMgbmFtZXMuCiAgICAgICAgdGhpcy5zZWxlY3RlZFJlY2VpdmVyTmFtZSA9IHRhcmdldEVsZW1lbnQuaWQuc3BsaXQoJysnKS5zbGljZSgyKS5qb2luKCcnKTsKICAgICAgICB0aGlzLnRvZ2dsZVJlY2VpdmVyQWN0aW9uTWVudSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgYWN0aW9uIG1lbnUgdGFyZ2V0IGVsZW1lbnQuJyk7CiAgICAgIH0KICAgIH0sCiAgICBnb1RvRWRpdDogZnVuY3Rpb24gZ29Ub0VkaXQoKSB7CiAgICAgIC8vICdnb1RvRWRpdCcgaXMgdGhlIGV4YWN0IG5hbWUgb2YgYW4gYWN0aW9uIGZvciBBbGVydG1hbmFnZXJDb25maWcKICAgICAgLy8gYW5kIHRoaXMgbWV0aG9kIGV4ZWN1dGVzIHRoZSBhY3Rpb24uCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2UuZ2V0RWRpdFJlY2VpdmVyQ29uZmlnUm91dGUodGhpcy5zZWxlY3RlZFJlY2VpdmVyTmFtZSwgX0VESVQpKTsKICAgIH0sCiAgICBnb1RvRWRpdFlhbWw6IGZ1bmN0aW9uIGdvVG9FZGl0WWFtbCgpIHsKICAgICAgLy8gJ2dvVG9FZGl0WWFtbCcgaXMgdGhlIGV4YWN0IG5hbWUgb2YgYW4gYWN0aW9uIGZvciBBbGVydG1hbmFnZXJDb25maWcKICAgICAgLy8gYW5kIHRoaXMgbWV0aG9kIGV4ZWN1dGVzIHRoZSBhY3Rpb24uCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2UuZ2V0RWRpdFJlY2VpdmVyWWFtbFJvdXRlKHRoaXMuc2VsZWN0ZWRSZWNlaXZlck5hbWUsIF9FRElUKSk7CiAgICB9LAogICAgcHJvbXB0UmVtb3ZlOiBmdW5jdGlvbiBwcm9tcHRSZW1vdmUoKSB7CiAgICAgIHZhciBfdGhpcyRhbGVydG1hbmFnZXJDb247CiAgICAgIC8vICdwcm9tcHRSZW1vdmUnIGlzIHRoZSBleGFjdCBuYW1lIG9mIGFuIGFjdGlvbiBmb3IgQWxlcnRtYW5hZ2VyQ29uZmlnCiAgICAgIC8vIGFuZCB0aGlzIG1ldGhvZCBleGVjdXRlcyB0aGUgYWN0aW9uLgogICAgICAvLyBHZXQgdGhlIG5hbWUgb2YgdGhlIHJlY2VpdmVyIHRvIGRlbGV0ZSBmcm9tIHRoZSBhY3Rpb24gaW5mby4KICAgICAgdmFyIG5hbWVPZlJlY2VpdmVyVG9EZWxldGUgPSB0aGlzLnNlbGVjdGVkUmVjZWl2ZXJOYW1lOwogICAgICAvLyBSZW1vdmUgaXQgZnJvbSB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGUgcGFyZW50IEFsZXJ0bWFuYWdlckNvbmZpZwogICAgICAvLyByZXNvdXJjZS4KICAgICAgdmFyIGV4aXN0aW5nUmVjZWl2ZXJzID0gdGhpcy5hbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZS5zcGVjLnJlY2VpdmVycyB8fCBbXTsKICAgICAgdmFyIHJlY2VpdmVyc01pbnVzRGVsZXRlZEl0ZW0gPSBleGlzdGluZ1JlY2VpdmVycy5maWx0ZXIoZnVuY3Rpb24gKHJlY2VpdmVyKSB7CiAgICAgICAgcmV0dXJuIHJlY2VpdmVyLm5hbWUgIT09IG5hbWVPZlJlY2VpdmVyVG9EZWxldGU7CiAgICAgIH0pOwogICAgICB0aGlzLmFsZXJ0bWFuYWdlckNvbmZpZ1Jlc291cmNlLnNwZWMucmVjZWl2ZXJzID0gcmVjZWl2ZXJzTWludXNEZWxldGVkSXRlbTsKICAgICAgLy8gQWZ0ZXIgc2F2aW5nIHRoZSBBbGVydG1hbmFnZXJDb25maWcsIHRoZSByZXNvdXJjZSBoYXMgYmVlbiBkZWxldGVkLgogICAgICAoX3RoaXMkYWxlcnRtYW5hZ2VyQ29uID0gdGhpcy5hbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZSkuc2F2ZS5hcHBseShfdGhpcyRhbGVydG1hbmFnZXJDb24sIGFyZ3VtZW50cyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["CruResource","CreateEditView","Tabbed","Tab","MONITORING","Loading","NameNsDescription","EDITOR_MODES","RECEIVERS_TYPES","RouteConfig","ResourceTable","ActionMenu","_CREATE","_EDIT","_VIEW","_CONFIG","components","mixins","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","inStore","alertmanagerConfigId","alertmanagerConfigResource","alertmanagerConfigActions","receiverActions","wrap","_callee$","_context","prev","next","$store","getters","value","id","dispatch","concat","type","ALERTMANAGERCONFIG","sent","alertmanagerConfigDetailRoute","_detailLocation","availableActions","getReceiverActions","stop","data","_this$value","applyDefaults","defaultReceiverValues","receiverSchema","SPOOFED","ALERTMANAGERCONFIG_RECEIVER_SPEC","routeSchema","ALERTMANAGERCONFIG_ROUTE_SPEC","receiverOptions","spec","receivers","map","receiver","name","actionMenuTargetElement","actionMenuTargetEvent","config","create","createReceiverLink","getCreateReceiverRoute","receiverActionMenuIsOpen","receiverTableHeaders","labelKey","sort","formatter","canBeVariable","newReceiverType","receiverTypes","selectedReceiverName","selectedRowValue","view","computed","editorMode","mode","VIEW_CODE","EDIT_CODE","methods","translateReceiverTypes","_this2","receiverType","_objectSpread","label","t","getReceiverDetailLink","receiverData","toggleReceiverActionMenu","setActionMenuState","eventData","event","targetElement","split","slice","join","Error","goToEdit","$router","push","getEditReceiverConfigRoute","goToEditYaml","getEditReceiverYamlRoute","promptRemove","_this$alertmanagerCon","nameOfReceiverToDelete","existingReceivers","receiversMinusDeletedItem","filter","save","apply","arguments"],"sources":["node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig/index.vue"],"sourcesContent":["<script>\nimport CruResource from '@shell/components/CruResource';\n\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { MONITORING } from '@shell/config/types';\nimport Loading from '@shell/components/Loading';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { EDITOR_MODES } from '@shell/components/YamlEditor';\nimport { RECEIVERS_TYPES } from '@shell/models/monitoring.coreos.com.receiver';\nimport RouteConfig from './routeConfig';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport ActionMenu from '@shell/components/ActionMenu';\nimport { _CREATE, _EDIT, _VIEW, _CONFIG } from '@shell/config/query-params';\n\nexport default {\n  components: {\n    ActionMenu,\n    CruResource,\n    Loading,\n    NameNsDescription,\n    ResourceTable,\n    RouteConfig,\n    Tab,\n    Tabbed,\n  },\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    const inStore = this.$store.getters['currentProduct'].inStore;\n    const alertmanagerConfigId = this.value.id;\n\n    const alertmanagerConfigResource = await this.$store.dispatch(`${ inStore }/find`, { type: MONITORING.ALERTMANAGERCONFIG, id: alertmanagerConfigId });\n\n    this.alertmanagerConfigId = alertmanagerConfigId;\n    this.alertmanagerConfigResource = alertmanagerConfigResource;\n    this.alertmanagerConfigDetailRoute = alertmanagerConfigResource._detailLocation;\n\n    const alertmanagerConfigActions = alertmanagerConfigResource.availableActions;\n    const receiverActions = alertmanagerConfigResource.getReceiverActions(alertmanagerConfigActions);\n\n    this.receiverActions = receiverActions;\n  },\n\n  data() {\n    this.value.applyDefaults();\n\n    const defaultReceiverValues = {};\n    const receiverSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SPOOFED.ALERTMANAGERCONFIG_RECEIVER_SPEC);\n    const routeSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SPOOFED.ALERTMANAGERCONFIG_ROUTE_SPEC);\n    const receiverOptions = (this.value?.spec?.receivers || []).map((receiver) => receiver.name);\n\n    return {\n      actionMenuTargetElement:  null,\n      actionMenuTargetEvent:    null,\n      config:                   _CONFIG,\n      create:                   _CREATE,\n      createReceiverLink:       this.value.getCreateReceiverRoute(),\n      defaultReceiverValues,\n      receiverActionMenuIsOpen: false,\n      receiverTableHeaders:     [\n        {\n          name:          'name',\n          labelKey:      'tableHeaders.name',\n          value:         'name',\n          sort:          ['nameSort'],\n          formatter:     'LinkDetail',\n          canBeVariable: true,\n        },\n        {\n          name:          'type',\n          labelKey:      'tableHeaders.type',\n          value:         'name',\n          formatter:     'ReceiverIcons',\n          canBeVariable: true,\n        }\n        // Add more columns\n      ],\n      newReceiverType:      null,\n      receiverActions:      [],\n      receiverOptions,\n      receiverTypes:        RECEIVERS_TYPES,\n      routeSchema,\n      receiverSchema,\n      selectedReceiverName: '',\n      selectedRowValue:     null,\n      view:                 _VIEW,\n    };\n  },\n\n  computed: {\n\n    editorMode() {\n      if ( this.mode === _VIEW ) {\n        return EDITOR_MODES.VIEW_CODE;\n      }\n\n      return EDITOR_MODES.EDIT_CODE;\n    },\n  },\n  methods: {\n\n    translateReceiverTypes() {\n      return this.receiverTypes.map((receiverType) => {\n        return {\n          ...receiverType,\n          label: this.t(receiverType.label)\n        };\n      });\n    },\n    getReceiverDetailLink(receiverData) {\n      if (receiverData && receiverData.name) {\n        return this.value.getReceiverDetailLink(receiverData.name);\n      }\n    },\n\n    toggleReceiverActionMenu() {\n      this.receiverActionMenuIsOpen = true;\n    },\n    setActionMenuState(eventData) {\n      // This method is called when the user clicks a context menu\n      // for a receiver in the receiver in the receiver list view.\n      // It sets the target element so the menu can open where the\n      // user clicked.\n      const { event, targetElement } = eventData;\n\n      // TargetElement could be an array of more than\n      // one if there is more than one ref of the same name.\n      if (event && targetElement) {\n        this.actionMenuTargetElement = targetElement;\n        this.actionMenuTargetEvent = event;\n\n        // We take the selected receiver name out of the target\n        // element's ID to help us build the URL to link to\n        // the detail page of that receiver.\n        // We use a plus sign as the delimiter to separate the\n        // name because the plus is not an allowed character in\n        // Kubernetes names.\n        this.selectedReceiverName = targetElement.id.split('+').slice(2).join('');\n\n        this.toggleReceiverActionMenu();\n      } else {\n        throw new Error('Could not find action menu target element.');\n      }\n    },\n    goToEdit() {\n      // 'goToEdit' is the exact name of an action for AlertmanagerConfig\n      // and this method executes the action.\n      this.$router.push(this.alertmanagerConfigResource.getEditReceiverConfigRoute(this.selectedReceiverName, _EDIT));\n    },\n\n    goToEditYaml() {\n      // 'goToEditYaml' is the exact name of an action for AlertmanagerConfig\n      // and this method executes the action.\n      this.$router.push(this.alertmanagerConfigResource.getEditReceiverYamlRoute(this.selectedReceiverName, _EDIT));\n    },\n    promptRemove() {\n      // 'promptRemove' is the exact name of an action for AlertmanagerConfig\n      // and this method executes the action.\n      // Get the name of the receiver to delete from the action info.\n      const nameOfReceiverToDelete = this.selectedReceiverName;\n      // Remove it from the configuration of the parent AlertmanagerConfig\n      // resource.\n      const existingReceivers = this.alertmanagerConfigResource.spec.receivers || [];\n      const receiversMinusDeletedItem = existingReceivers.filter((receiver) => {\n        return receiver.name !== nameOfReceiverToDelete;\n      });\n\n      this.alertmanagerConfigResource.spec.receivers = receiversMinusDeletedItem;\n      // After saving the AlertmanagerConfig, the resource has been deleted.\n      this.alertmanagerConfigResource.save(...arguments);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <CruResource\n    v-else\n    class=\"route\"\n    :done-route=\"doneRoute\"\n    :errors=\"errors\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :cancel-event=\"true\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      v-model=\"value\"\n      :mode=\"mode\"\n      :namespaced=\"isNamespaced\"\n    />\n\n    <Tabbed>\n      <Tab\n        :label=\"t('monitoring.route.label')\"\n        :weight=\"1\"\n        name=\"route\"\n      >\n        <RouteConfig\n          :value=\"value.spec.route\"\n          :mode=\"mode\"\n          :receiver-options=\"receiverOptions\"\n        />\n      </Tab>\n      <Tab\n        :label=\"t('alertmanagerConfigReceiver.receivers')\"\n        :weight=\"2\"\n        name=\"receivers\"\n      >\n        <ResourceTable\n          :headers=\"receiverTableHeaders\"\n          :schema=\"receiverSchema\"\n          :rows=\"value.spec.receivers || []\"\n          :get-custom-detail-link=\"getReceiverDetailLink\"\n          :table-actions=\"false\"\n          :custom-actions=\"value.receiverActions\"\n          @clickedActionButton=\"setActionMenuState\"\n        >\n          <template #header-button>\n            <nuxt-link\n              v-if=\"createReceiverLink && createReceiverLink.name\"\n              :to=\"mode !== create ? createReceiverLink : {}\"\n            >\n              <button\n                class=\"btn role-primary\"\n                :disabled=\"mode === create\"\n                :tooltip=\"t('monitoring.alertmanagerConfig.disabledReceiverButton')\"\n              >\n                {{ t('monitoring.receiver.addReceiver') }}\n                <i\n                  v-if=\"mode === create\"\n                  v-clean-tooltip=\"t('monitoring.alertmanagerConfig.disabledReceiverButton')\"\n                  class=\"icon icon-info\"\n                />\n              </button>\n            </nuxt-link>\n          </template>\n        </ResourceTable>\n      </Tab>\n    </Tabbed>\n    <ActionMenu\n      :custom-actions=\"receiverActions\"\n      :open=\"receiverActionMenuIsOpen\"\n      :use-custom-target-element=\"true\"\n      :custom-target-element=\"actionMenuTargetElement\"\n      :custom-target-event=\"actionMenuTargetEvent\"\n      @close=\"receiverActionMenuIsOpen = false\"\n      @goToEdit=\"goToEdit\"\n      @goToEditYaml=\"goToEditYaml\"\n      @promptRemove=\"promptRemove\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n  h3 {\n    margin-top: 2em;\n  }\n  input {\n    margin-top: 1em;\n  }\n  .route {\n    &[real-mode=view] .label {\n      color: var(--input-label);\n    }\n  }\n  button {\n    margin-left: 0.5em;\n  }\n  a:hover {\n      text-decoration: none;\n  }\n</style>\n"],"mappings":"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"}]}