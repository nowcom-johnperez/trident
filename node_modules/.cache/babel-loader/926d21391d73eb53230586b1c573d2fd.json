{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/sorting.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/sorting.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IHsgc29ydEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvcnQnOwppbXBvcnQgeyBhZGRPYmplY3QgfSBmcm9tICdAc2hlbGwvdXRpbHMvYXJyYXknOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IHsKICAgIHNvcnRGaWVsZHM6IGZ1bmN0aW9uIHNvcnRGaWVsZHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBmcm9tR3JvdXAgPSAodGhpcy5ncm91cEJ5ID8gdGhpcy5ncm91cFNvcnQgfHwgdGhpcy5ncm91cEJ5IDogbnVsbCkgfHwgW107CiAgICAgIHZhciBmcm9tQ29sdW1uID0gW107CiAgICAgIHZhciBjb2x1bW4gPSAodGhpcy5jb2x1bW5zIHx8IHRoaXMuaGVhZGVycykuZmluZChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4ICYmIHgubmFtZSAmJiB4Lm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gX3RoaXMuc29ydEJ5LnRvTG93ZXJDYXNlKCk7CiAgICAgIH0pOwogICAgICBpZiAodGhpcy5zb3J0QnkgJiYgY29sdW1uICYmIGNvbHVtbi5zb3J0KSB7CiAgICAgICAgZnJvbUNvbHVtbiA9IGNvbHVtbi5zb3J0OwogICAgICB9CiAgICAgIGlmICghQXJyYXkuaXNBcnJheShmcm9tR3JvdXApKSB7CiAgICAgICAgZnJvbUdyb3VwID0gW2Zyb21Hcm91cF07CiAgICAgIH0KICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGZyb21Db2x1bW4pKSB7CiAgICAgICAgZnJvbUNvbHVtbiA9IFtmcm9tQ29sdW1uXTsKICAgICAgfQogICAgICB2YXIgb3V0ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShmcm9tR3JvdXApLCBfdG9Db25zdW1hYmxlQXJyYXkoZnJvbUNvbHVtbikpOwogICAgICBhZGRPYmplY3Qob3V0LCAnbmFtZVNvcnQnKTsKICAgICAgYWRkT2JqZWN0KG91dCwgJ2lkJyk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAogICAgYXJyYW5nZWRSb3dzOiBmdW5jdGlvbiBhcnJhbmdlZFJvd3MoKSB7CiAgICAgIHZhciBrZXk7CiAgICAgIGlmICh0aGlzLnNvcnRHZW5lcmF0aW9uRm4pIHsKICAgICAgICBrZXkgPSAiIi5jb25jYXQodGhpcy5zb3J0R2VuZXJhdGlvbkZuLmFwcGx5KHRoaXMpLCAiLyIpLmNvbmNhdCh0aGlzLnJvd3MubGVuZ3RoLCAiLyIpLmNvbmNhdCh0aGlzLmRlc2NlbmRpbmcsICIvIikuY29uY2F0KHRoaXMuc29ydEZpZWxkcy5qb2luKCcsJykpOwogICAgICAgIGlmICh0aGlzLmNhY2hlS2V5ID09PSBrZXkpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFJvd3M7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBvdXQgPSBzb3J0QnkodGhpcy5yb3dzLCB0aGlzLnNvcnRGaWVsZHMsIHRoaXMuZGVzY2VuZGluZyk7CiAgICAgIGlmIChrZXkpIHsKICAgICAgICB0aGlzLmNhY2hlS2V5ID0ga2V5OwogICAgICAgIHRoaXMuY2FjaGVkUm93cyA9IG91dDsKICAgICAgfQogICAgICByZXR1cm4gb3V0OwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBzb3J0QnkgPSBudWxsOwogICAgdGhpcy5fZGVmYXVsdFNvcnRCeSA9IHRoaXMuZGVmYXVsdFNvcnRCeTsKCiAgICAvLyBUcnkgdG8gZmluZCBhIHJlYXNvbmFibGUgZGVmYXVsdCBzb3J0CiAgICBpZiAoIXRoaXMuX2RlZmF1bHRTb3J0QnkpIHsKICAgICAgdmFyIG1hcmtlZENvbHVtbiA9IHRoaXMuaGVhZGVycy5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuICEheC5kZWZhdWx0U29ydDsKICAgICAgfSk7CiAgICAgIHZhciBuYW1lQ29sdW1uID0gdGhpcy5oZWFkZXJzLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5uYW1lID09PSAnbmFtZSc7CiAgICAgIH0pOwogICAgICBpZiAobWFya2VkQ29sdW1uKSB7CiAgICAgICAgdGhpcy5fZGVmYXVsdFNvcnRCeSA9IG1hcmtlZENvbHVtbi5uYW1lOwogICAgICB9IGVsc2UgaWYgKG5hbWVDb2x1bW4pIHsKICAgICAgICAvLyBVc2UgdGhlIG5hbWUgY29sdW1uIGlmIHRoZXJlIGlzIG9uZQogICAgICAgIHRoaXMuX2RlZmF1bHRTb3J0QnkgPSBuYW1lQ29sdW1uLm5hbWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVGhlIGZpcnN0IGNvbHVtbiB0aGF0IGlzbid0IHN0YXRlCiAgICAgICAgdmFyIGZpcnN0ID0gdGhpcy5oZWFkZXJzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHgubmFtZSAhPT0gJ3N0YXRlJzsKICAgICAgICB9KVswXTsKICAgICAgICBpZiAoZmlyc3QpIHsKICAgICAgICAgIHRoaXMuX2RlZmF1bHRTb3J0QnkgPSBmaXJzdC5uYW1lOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBJIGdpdmUgdXAKICAgICAgICAgIHRoaXMuX2RlZmF1bHRTb3J0QnkgPSAnaWQnOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIElmIHRoZSBzb3J0IGNvbHVtbiBkb2Vzbid0IGV4aXN0IG9yIGlzbid0IHNwZWNpZmllZCwgdXNlIGRlZmF1bHQKICAgIGlmICghc29ydEJ5IHx8ICF0aGlzLmhlYWRlcnMuZmluZChmdW5jdGlvbiAoeCkgewogICAgICByZXR1cm4geC5uYW1lID09PSBzb3J0Qnk7CiAgICB9KSkgewogICAgICBzb3J0QnkgPSB0aGlzLl9kZWZhdWx0U29ydEJ5OwogICAgfQogICAgcmV0dXJuIHsKICAgICAgc29ydEJ5OiBzb3J0QnksCiAgICAgIGRlc2NlbmRpbmc6IGZhbHNlLAogICAgICBjYWNoZWRSb3dzOiBudWxsLAogICAgICBjYWNoZUtleTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVNvcnQ6IGZ1bmN0aW9uIGNoYW5nZVNvcnQoc29ydCwgZGVzYykgewogICAgICB0aGlzLnNvcnRCeSA9IHNvcnQ7CiAgICAgIHRoaXMuZGVzY2VuZGluZyA9IGRlc2M7CgogICAgICAvLyBBbHdheXMgZ28gYmFjayB0byB0aGUgZmlyc3QgcGFnZSB3aGVuIHRoZSBzb3J0IGlzIGNoYW5nZWQKICAgICAgdGhpcy5zZXRQYWdlKDEpOwogICAgfQogIH0KfTs="},{"version":3,"names":["sortBy","addObject","computed","sortFields","_this","fromGroup","groupBy","groupSort","fromColumn","column","columns","headers","find","x","name","toLowerCase","sort","Array","isArray","out","concat","_toConsumableArray","arrangedRows","key","sortGenerationFn","apply","rows","length","descending","join","cacheKey","cachedRows","data","_defaultSortBy","defaultSortBy","markedColumn","defaultSort","nameColumn","first","filter","methods","changeSort","desc","setPage"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/sorting.js"],"sourcesContent":["import { sortBy } from '@shell/utils/sort';\nimport { addObject } from '@shell/utils/array';\n\nexport default {\n  computed: {\n    sortFields() {\n      let fromGroup = ( this.groupBy ? this.groupSort || this.groupBy : null) || [];\n      let fromColumn = [];\n\n      const column = (this.columns || this.headers).find((x) => x && x.name && x.name.toLowerCase() === this.sortBy.toLowerCase());\n\n      if ( this.sortBy && column && column.sort ) {\n        fromColumn = column.sort;\n      }\n\n      if ( !Array.isArray(fromGroup) ) {\n        fromGroup = [fromGroup];\n      }\n\n      if ( !Array.isArray(fromColumn) ) {\n        fromColumn = [fromColumn];\n      }\n\n      const out = [...fromGroup, ...fromColumn];\n\n      addObject(out, 'nameSort');\n      addObject(out, 'id');\n\n      return out;\n    },\n\n    arrangedRows() {\n      let key;\n\n      if ( this.sortGenerationFn ) {\n        key = `${ this.sortGenerationFn.apply(this) }/${ this.rows.length }/${ this.descending }/${ this.sortFields.join(',') }`;\n\n        if ( this.cacheKey === key ) {\n          return this.cachedRows;\n        }\n      }\n\n      const out = sortBy(this.rows, this.sortFields, this.descending);\n\n      if ( key ) {\n        this.cacheKey = key;\n        this.cachedRows = out;\n      }\n\n      return out;\n    },\n  },\n\n  data() {\n    let sortBy = null;\n\n    this._defaultSortBy = this.defaultSortBy;\n\n    // Try to find a reasonable default sort\n    if ( !this._defaultSortBy ) {\n      const markedColumn = this.headers.find((x) => !!x.defaultSort);\n      const nameColumn = this.headers.find( (x) => x.name === 'name');\n\n      if ( markedColumn ) {\n        this._defaultSortBy = markedColumn.name;\n      } else if ( nameColumn ) {\n        // Use the name column if there is one\n        this._defaultSortBy = nameColumn.name;\n      } else {\n        // The first column that isn't state\n        const first = this.headers.filter( (x) => x.name !== 'state' )[0];\n\n        if ( first ) {\n          this._defaultSortBy = first.name;\n        } else {\n          // I give up\n          this._defaultSortBy = 'id';\n        }\n      }\n    }\n\n    // If the sort column doesn't exist or isn't specified, use default\n    if ( !sortBy || !this.headers.find((x) => x.name === sortBy ) ) {\n      sortBy = this._defaultSortBy;\n    }\n\n    return {\n      sortBy,\n      descending: false,\n      cachedRows: null,\n      cacheKey:   null,\n    };\n  },\n\n  methods: {\n    changeSort(sort, desc) {\n      this.sortBy = sort;\n      this.descending = desc;\n\n      // Always go back to the first page when the sort is changed\n      this.setPage(1);\n    },\n  },\n};\n"],"mappings":"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"}]}