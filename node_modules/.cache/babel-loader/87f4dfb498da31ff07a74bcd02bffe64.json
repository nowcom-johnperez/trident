{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBTZWxlY3RJY29uR3JpZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9TZWxlY3RJY29uR3JpZCc7CmltcG9ydCB7IHNvcnRCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9zb3J0JzsKaW1wb3J0IHsgTU9ERSwgX0VESVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IGF1dGhQcm92aWRlcnNJbmZvIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2F1dGgnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU2VsZWN0SWNvbkdyaWQ6IFNlbGVjdEljb25HcmlkLAogICAgQmFubmVyOiBCYW5uZXIKICB9LAogIGFzeW5jRGF0YTogZnVuY3Rpb24gYXN5bmNEYXRhKF9yZWYpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBzdG9yZSwgcmVkaXJlY3QsIGF1dGhQcm92czsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgc3RvcmUgPSBfcmVmLnN0b3JlLCByZWRpcmVjdCA9IF9yZWYucmVkaXJlY3Q7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gYXV0aFByb3ZpZGVyc0luZm8oc3RvcmUpOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBhdXRoUHJvdnMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBpZiAoISFhdXRoUHJvdnMuZW5hYmxlZExvY2F0aW9uKSB7CiAgICAgICAgICAgICAgcmVkaXJlY3QoYXV0aFByb3ZzLmVuYWJsZWRMb2NhdGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIG5vbkxvY2FsOiBhdXRoUHJvdnMubm9uTG9jYWwsCiAgICAgICAgICAgICAgZW5hYmxlZDogYXV0aFByb3ZzLmVuYWJsZWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgcmVzb3VyY2UgPSBNQU5BR0VNRU5ULkFVVEhfQ09ORklHOwogICAgdmFyIGdldHRlcnMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzOwogICAgdmFyIGluU3RvcmUgPSBnZXR0ZXJzWydjdXJyZW50U3RvcmUnXShyZXNvdXJjZSk7CiAgICB2YXIgaGFzTGlzdENvbXBvbmVudCA9IGdldHRlcnNbJ3R5cGUtbWFwL2hhc0N1c3RvbUxpc3QnXShyZXNvdXJjZSk7CiAgICB2YXIgaGFzRWRpdENvbXBvbmVudCA9IGdldHRlcnNbJ3R5cGUtbWFwL2hhc0N1c3RvbUVkaXQnXShyZXNvdXJjZSk7CiAgICB2YXIgc2NoZW1hID0gZ2V0dGVyc1siIi5jb25jYXQoaW5TdG9yZSwgIi9zY2hlbWFGb3IiKV0ocmVzb3VyY2UpOwogICAgcmV0dXJuIHsKICAgICAgcmVzb3VyY2U6IHJlc291cmNlLAogICAgICBzY2hlbWE6IHNjaGVtYSwKICAgICAgaGFzTGlzdENvbXBvbmVudDogaGFzTGlzdENvbXBvbmVudCwKICAgICAgaGFzRWRpdENvbXBvbmVudDogaGFzRWRpdENvbXBvbmVudCwKICAgICAgLy8gUHJvdmlkZWQgYnkgYXN5bmNEYXRhIGxhdGVyCiAgICAgIG5vbkxvY2FsOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJvd3M6IGZ1bmN0aW9uIHJvd3MoKSB7CiAgICAgIHJldHVybiBzb3J0QnkodGhpcy5ub25Mb2NhbCwgWydzaWRlTGFiZWwnLCAnbmFtZURpc3BsYXknXSk7CiAgICB9LAogICAgZGlzcGxheU5hbWU6IGZ1bmN0aW9uIGRpc3BsYXlOYW1lKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvbGFiZWxGb3InXSh0aGlzLnNjaGVtYSwgMik7CiAgICB9LAogICAgbG9jYWxVc2Vyc1JvdXRlOiBmdW5jdGlvbiBsb2NhbFVzZXJzUm91dGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogJ2MtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuJHJvdXRlLnBhcmFtcy5jbHVzdGVyLAogICAgICAgICAgcHJvZHVjdDogJ2F1dGgnLAogICAgICAgICAgcmVzb3VyY2U6IE1BTkFHRU1FTlQuVVNFUgogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNvbG9yRm9yOiBmdW5jdGlvbiBjb2xvckZvcihyb3cpIHsKICAgICAgdmFyIHR5cGVzID0gWydsZGFwJywgJ29hdXRoJywgJ3NhbWwnLCAnb2lkYyddOwogICAgICB2YXIgaWR4ID0gdHlwZXMuaW5kZXhPZihyb3cuY29uZmlnVHlwZSk7CiAgICAgIGlmIChpZHggPT09IC0xKSB7CiAgICAgICAgcmV0dXJuICdjb2xvcjgnOwogICAgICB9CiAgICAgIHJldHVybiAiY29sb3IiLmNvbmNhdChpZHggKyAxKTsKICAgIH0sCiAgICBnb1RvOiBmdW5jdGlvbiBnb1RvKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLWF1dGgtY29uZmlnLWlkJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0sCiAgICAgICAgcXVlcnk6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgTU9ERSwgX0VESVQpCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["MANAGEMENT","SelectIconGrid","sortBy","MODE","_EDIT","authProvidersInfo","Banner","components","asyncData","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","store","redirect","authProvs","wrap","_callee$","_context","prev","next","sent","enabledLocation","abrupt","nonLocal","enabled","stop","data","resource","AUTH_CONFIG","getters","$store","inStore","hasListComponent","hasEditComponent","schema","concat","computed","rows","displayName","localUsersRoute","name","params","cluster","$route","product","USER","methods","colorFor","row","types","idx","indexOf","configType","goTo","id","$router","push","query","_defineProperty"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue"],"sourcesContent":["<script>\nimport { MANAGEMENT } from '@shell/config/types';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport { sortBy } from '@shell/utils/sort';\nimport { MODE, _EDIT } from '@shell/config/query-params';\nimport { authProvidersInfo } from '@shell/utils/auth';\nimport { Banner } from '@components/Banner';\n\nexport default {\n  components: { SelectIconGrid, Banner },\n\n  async asyncData({ store, redirect }) {\n    const authProvs = await authProvidersInfo(store);\n\n    if (!!authProvs.enabledLocation) {\n      redirect(authProvs.enabledLocation);\n    }\n\n    return { nonLocal: authProvs.nonLocal, enabled: authProvs.enabled };\n  },\n\n  data() {\n    const resource = MANAGEMENT.AUTH_CONFIG;\n    const getters = this.$store.getters;\n    const inStore = getters['currentStore'](resource);\n    const hasListComponent = getters['type-map/hasCustomList'](resource);\n    const hasEditComponent = getters['type-map/hasCustomEdit'](resource);\n    const schema = getters[`${ inStore }/schemaFor`](resource);\n\n    return {\n      resource,\n      schema,\n      hasListComponent,\n      hasEditComponent,\n\n      // Provided by asyncData later\n      nonLocal: null,\n    };\n  },\n\n  computed: {\n    rows() {\n      return sortBy(this.nonLocal, ['sideLabel', 'nameDisplay']);\n    },\n\n    displayName() {\n      return this.$store.getters['type-map/labelFor'](this.schema, 2);\n    },\n\n    localUsersRoute() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster: this.$route.params.cluster, product: 'auth', resource: MANAGEMENT.USER\n        }\n      };\n    },\n  },\n\n  methods: {\n    colorFor(row) {\n      const types = ['ldap', 'oauth', 'saml', 'oidc'];\n\n      const idx = types.indexOf(row.configType);\n\n      if ( idx === -1 ) {\n        return 'color8';\n      }\n\n      return `color${ idx + 1 }`;\n    },\n\n    goTo(id) {\n      this.$router.push({\n        name:   'c-cluster-auth-config-id',\n        params: { id },\n        query:  { [MODE]: _EDIT }\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <h1 class=\"m-0\">\n      {{ displayName }}\n    </h1>\n    <Banner\n      v-if=\"!enabled.length\"\n      :label=\"t('authConfig.noneEnabled')\"\n      color=\"info\"\n    >\n      <div>\n        {{ t('authConfig.localEnabled') }}\n        <nuxt-link :to=\"localUsersRoute\">\n          {{ t('authConfig.manageLocal') }}\n        </nuxt-link>\n        <br>\n        {{ t('authConfig.noneEnabled') }}\n      </div>\n    </Banner>\n    <SelectIconGrid\n      :rows=\"rows\"\n      :color-for=\"colorFor\"\n      name-field=\"provider\"\n      @clicked=\"(row) => goTo(row.id)\"\n    />\n  </div>\n</template>\n"],"mappings":";;;AACA,SAAAA,UAAA;AACA,OAAAC,cAAA;AACA,SAAAC,MAAA;AACA,SAAAC,IAAA,EAAAC,KAAA;AACA,SAAAC,iBAAA;AACA,SAAAC,MAAA;AAEA;EACAC,UAAA;IAAAN,cAAA,EAAAA,cAAA;IAAAK,MAAA,EAAAA;EAAA;EAEAE,SAAA,WAAAA,UAAAC,IAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,KAAA,EAAAC,QAAA,EAAAC,SAAA;MAAA,OAAAL,kBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAP,KAAA,GAAAL,IAAA,CAAAK,KAAA,EAAAC,QAAA,GAAAN,IAAA,CAAAM,QAAA;YAAAI,QAAA,CAAAE,IAAA;YAAA,OACAhB,iBAAA,CAAAS,KAAA;UAAA;YAAAE,SAAA,GAAAG,QAAA,CAAAG,IAAA;YAEA,MAAAN,SAAA,CAAAO,eAAA;cACAR,QAAA,CAAAC,SAAA,CAAAO,eAAA;YACA;YAAA,OAAAJ,QAAA,CAAAK,MAAA,WAEA;cAAAC,QAAA,EAAAT,SAAA,CAAAS,QAAA;cAAAC,OAAA,EAAAV,SAAA,CAAAU;YAAA;UAAA;UAAA;YAAA,OAAAP,QAAA,CAAAQ,IAAA;QAAA;MAAA,GAAAd,OAAA;IAAA;EACA;EAEAe,IAAA,WAAAA,KAAA;IACA,IAAAC,QAAA,GAAA7B,UAAA,CAAA8B,WAAA;IACA,IAAAC,OAAA,QAAAC,MAAA,CAAAD,OAAA;IACA,IAAAE,OAAA,GAAAF,OAAA,iBAAAF,QAAA;IACA,IAAAK,gBAAA,GAAAH,OAAA,2BAAAF,QAAA;IACA,IAAAM,gBAAA,GAAAJ,OAAA,2BAAAF,QAAA;IACA,IAAAO,MAAA,GAAAL,OAAA,IAAAM,MAAA,CAAAJ,OAAA,iBAAAJ,QAAA;IAEA;MACAA,QAAA,EAAAA,QAAA;MACAO,MAAA,EAAAA,MAAA;MACAF,gBAAA,EAAAA,gBAAA;MACAC,gBAAA,EAAAA,gBAAA;MAEA;MACAV,QAAA;IACA;EACA;EAEAa,QAAA;IACAC,IAAA,WAAAA,KAAA;MACA,OAAArC,MAAA,MAAAuB,QAAA;IACA;IAEAe,WAAA,WAAAA,YAAA;MACA,YAAAR,MAAA,CAAAD,OAAA,2BAAAK,MAAA;IACA;IAEAK,eAAA,WAAAA,gBAAA;MACA;QACAC,IAAA;QACAC,MAAA;UACAC,OAAA,OAAAC,MAAA,CAAAF,MAAA,CAAAC,OAAA;UAAAE,OAAA;UAAAjB,QAAA,EAAA7B,UAAA,CAAA+C;QACA;MACA;IACA;EACA;EAEAC,OAAA;IACAC,QAAA,WAAAA,SAAAC,GAAA;MACA,IAAAC,KAAA;MAEA,IAAAC,GAAA,GAAAD,KAAA,CAAAE,OAAA,CAAAH,GAAA,CAAAI,UAAA;MAEA,IAAAF,GAAA;QACA;MACA;MAEA,eAAAf,MAAA,CAAAe,GAAA;IACA;IAEAG,IAAA,WAAAA,KAAAC,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAhB,IAAA;QACAC,MAAA;UAAAa,EAAA,EAAAA;QAAA;QACAG,KAAA,EAAAC,eAAA,KAAAzD,IAAA,EAAAC,KAAA;MACA;IACA;EACA;AACA"}]}