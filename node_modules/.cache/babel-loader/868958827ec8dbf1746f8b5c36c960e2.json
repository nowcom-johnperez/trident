{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/fleet.cattle.io.gitrepo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/fleet.cattle.io.gitrepo.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfQpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBleGNlcHRpb25Ub0Vycm9yc0FycmF5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2Vycm9yJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBBVVRIX1RZUEUsIEZMRUVULCBOT1JNQU4sIFNFQ1JFVCwgVklSVFVBTF9IQVJWRVNURVJfUFJPVklERVIgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgc2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCBBcnJheUxpc3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9BcnJheUxpc3QnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IENydVJlc291cmNlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NydVJlc291cmNlJzsKaW1wb3J0IElucHV0V2l0aFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0lucHV0V2l0aFNlbGVjdCc7CmltcG9ydCBqc3lhbWwgZnJvbSAnanMteWFtbCc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IExhYmVscyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVscyc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgTmFtZU5zRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9OYW1lTnNEZXNjcmlwdGlvbic7CmltcG9ydCBZYW1sRWRpdG9yIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1lhbWxFZGl0b3InOwppbXBvcnQgeyBiYXNlNjREZWNvZGUsIGJhc2U2NEVuY29kZSB9IGZyb20gJ0BzaGVsbC91dGlscy9jcnlwdG8nOwppbXBvcnQgU2VsZWN0T3JDcmVhdGVBdXRoU2VjcmV0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vU2VsZWN0T3JDcmVhdGVBdXRoU2VjcmV0JzsKaW1wb3J0IHsgX0NSRUFURSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IHsgaXNIYXJ2ZXN0ZXJDbHVzdGVyIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2NsdXN0ZXInOwppbXBvcnQgeyBDQVBJLCBDQVRBTE9HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwppbXBvcnQgeyBTRUNSRVRfVFlQRVMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NlY3JldCc7CmltcG9ydCB7IGNoZWNrU2NoZW1hc0ZvckZpbmRBbGxIYXNoIH0gZnJvbSAnQHNoZWxsL3V0aWxzL2F1dGgnOwppbXBvcnQgQ2hlY2tib3ggZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveC9DaGVja2JveC52dWUnOwp2YXIgX1ZFUklGWSA9ICd2ZXJpZnknOwp2YXIgX1NLSVAgPSAnc2tpcCc7CnZhciBfU1BFQ0lGWTIgPSAnc3BlY2lmeSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ3J1R2l0UmVwbycsCiAgY29tcG9uZW50czogewogICAgQ2hlY2tib3g6IENoZWNrYm94LAogICAgQXJyYXlMaXN0OiBBcnJheUxpc3QsCiAgICBCYW5uZXI6IEJhbm5lciwKICAgIENydVJlc291cmNlOiBDcnVSZXNvdXJjZSwKICAgIElucHV0V2l0aFNlbGVjdDogSW5wdXRXaXRoU2VsZWN0LAogICAgTGFiZWxzOiBMYWJlbHMsCiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dCwKICAgIExhYmVsZWRTZWxlY3Q6IExhYmVsZWRTZWxlY3QsCiAgICBMb2FkaW5nOiBMb2FkaW5nLAogICAgTmFtZU5zRGVzY3JpcHRpb246IE5hbWVOc0Rlc2NyaXB0aW9uLAogICAgWWFtbEVkaXRvcjogWWFtbEVkaXRvciwKICAgIFNlbGVjdE9yQ3JlYXRlQXV0aFNlY3JldDogU2VsZWN0T3JDcmVhdGVBdXRoU2VjcmV0CiAgfSwKICBtaXhpbnM6IFtDcmVhdGVFZGl0Vmlld10sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBoYXNoLCB0bHM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gY2hlY2tTY2hlbWFzRm9yRmluZEFsbEhhc2goewogICAgICAgICAgICAgIGFsbENsdXN0ZXJzOiB7CiAgICAgICAgICAgICAgICBpblN0b3JlVHlwZTogJ21hbmFnZW1lbnQnLAogICAgICAgICAgICAgICAgdHlwZTogRkxFRVQuQ0xVU1RFUgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYWxsQ2x1c3Rlckdyb3VwczogewogICAgICAgICAgICAgICAgaW5TdG9yZVR5cGU6ICdtYW5hZ2VtZW50JywKICAgICAgICAgICAgICAgIHR5cGU6IEZMRUVULkNMVVNURVJfR1JPVVAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF90aGlzLiRzdG9yZSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGhhc2ggPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfdGhpcy5hbGxDbHVzdGVycyA9IGhhc2guYWxsQ2x1c3RlcnMgfHwgW107CiAgICAgICAgICAgIF90aGlzLmFsbENsdXN0ZXJHcm91cHMgPSBoYXNoLmFsbENsdXN0ZXJHcm91cHMgfHwgW107CiAgICAgICAgICAgIHRscyA9IF9WRVJJRlk7CiAgICAgICAgICAgIGlmIChfdGhpcy52YWx1ZS5zcGVjLmluc2VjdXJlU2tpcFRMU1ZlcmlmeSkgewogICAgICAgICAgICAgIHRscyA9IF9TS0lQOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLnZhbHVlLnNwZWMuY2FCdW5kbGUpIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgX3RoaXMuY2FCdW5kbGUgPSBiYXNlNjREZWNvZGUoX3RoaXMudmFsdWUuc3BlYy5jYUJ1bmRsZSk7CiAgICAgICAgICAgICAgICB0bHMgPSBfU1BFQ0lGWTI7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgLy8gSG1tLi4uCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLnRsc01vZGUgPSB0bHM7CiAgICAgICAgICAgIGlmIChfdGhpcy52YWx1ZS5zcGVjLmNvcnJlY3REcmlmdCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgVnVlLnNldChfdGhpcy52YWx1ZS5zcGVjLCAnY29ycmVjdERyaWZ0JywgewogICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy51cGRhdGVUYXJnZXRzKCk7CiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzJHZhbHVlJHNwZWMsIF90aGlzJHZhbHVlJHNwZWMyOwogICAgdmFyIHRhcmdldEluZm8gPSB0aGlzLnZhbHVlLnRhcmdldEluZm87CiAgICB2YXIgdGFyZ2V0Q2x1c3RlciA9IHRhcmdldEluZm8uY2x1c3RlcjsKICAgIHZhciB0YXJnZXRDbHVzdGVyR3JvdXAgPSB0YXJnZXRJbmZvLmNsdXN0ZXJHcm91cDsKICAgIHZhciB0YXJnZXRBZHZhbmNlZCA9IHRhcmdldEluZm8uYWR2YW5jZWQ7CiAgICB2YXIgcmVmID0gKF90aGlzJHZhbHVlJHNwZWMgPSB0aGlzLnZhbHVlLnNwZWMpICE9PSBudWxsICYmIF90aGlzJHZhbHVlJHNwZWMgIT09IHZvaWQgMCAmJiBfdGhpcyR2YWx1ZSRzcGVjLnJldmlzaW9uID8gJ3JldmlzaW9uJyA6ICdicmFuY2gnOwogICAgdmFyIHJlZlZhbHVlID0gKChfdGhpcyR2YWx1ZSRzcGVjMiA9IHRoaXMudmFsdWUuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUkc3BlYzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHZhbHVlJHNwZWMyW3JlZl0pIHx8ICcnOwogICAgdmFyIHRhcmdldE1vZGUgPSB0YXJnZXRJbmZvLm1vZGU7CiAgICBpZiAodGhpcy5yZWFsTW9kZSA9PT0gX0NSRUFURSkgewogICAgICB0YXJnZXRNb2RlID0gJ2FsbCc7CiAgICB9IGVsc2UgaWYgKHRhcmdldE1vZGUgPT09ICdjbHVzdGVyJykgewogICAgICB0YXJnZXRNb2RlID0gImNsdXN0ZXI6Ly8iLmNvbmNhdCh0YXJnZXRDbHVzdGVyKTsKICAgIH0gZWxzZSBpZiAodGFyZ2V0TW9kZSA9PT0gJ2NsdXN0ZXJHcm91cCcpIHsKICAgICAgdGFyZ2V0TW9kZSA9ICJncm91cDovLyIuY29uY2F0KHRhcmdldENsdXN0ZXJHcm91cCk7CiAgICB9CiAgICB2YXIgc3RlcFJlcG9JbmZvID0gewogICAgICBuYW1lOiAnc3RlcFJlcG9JbmZvJywKICAgICAgdGl0bGU6IHRoaXMudCgnZmxlZXQuZ2l0UmVwby5hZGQuc3RlcHMucmVwb0luZm8udGl0bGUnKSwKICAgICAgbGFiZWw6IHRoaXMudCgnZmxlZXQuZ2l0UmVwby5hZGQuc3RlcHMucmVwb0luZm8ubGFiZWwnKSwKICAgICAgc3VidGV4dDogdGhpcy50KCdmbGVldC5naXRSZXBvLmFkZC5zdGVwcy5yZXBvSW5mby5zdWJ0ZXh0JyksCiAgICAgIGRlc2NyaXB0aW9uS2V5OiAnZmxlZXQuZ2l0UmVwby5hZGQuc3RlcHMucmVwb0luZm8uZGVzY3JpcHRpb24nLAogICAgICByZWFkeTogZmFsc2UsCiAgICAgIHdlaWdodDogMzAKICAgIH07CiAgICB2YXIgc3RlcFRhcmdldEluZm8gPSB7CiAgICAgIG5hbWU6ICdzdGVwVGFyZ2V0SW5mbycsCiAgICAgIHRpdGxlOiB0aGlzLnQoJ2ZsZWV0LmdpdFJlcG8uYWRkLnN0ZXBzLnRhcmdldEluZm8udGl0bGUnKSwKICAgICAgbGFiZWw6IHRoaXMudCgnZmxlZXQuZ2l0UmVwby5hZGQuc3RlcHMudGFyZ2V0SW5mby5sYWJlbCcpLAogICAgICBzdWJ0ZXh0OiB0aGlzLnQoJ2ZsZWV0LmdpdFJlcG8uYWRkLnN0ZXBzLnRhcmdldEluZm8uc3VidGV4dCcpLAogICAgICBkZXNjcmlwdGlvbktleTogJ2ZsZWV0LmdpdFJlcG8uc3RlcHMuYWRkLnRhcmdldEluZm8uZGVzY3JpcHRpb24nLAogICAgICByZWFkeTogdHJ1ZSwKICAgICAgd2VpZ2h0OiAzMAogICAgfTsKICAgIHZhciBhZGRSZXBvc2l0b3J5U3RlcHMgPSBbc3RlcFJlcG9JbmZvLCBzdGVwVGFyZ2V0SW5mb10uc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICByZXR1cm4gKGIud2VpZ2h0IHx8IDApIC0gKGEud2VpZ2h0IHx8IDApOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBhbGxDbHVzdGVyczogW10sCiAgICAgIGFsbENsdXN0ZXJHcm91cHM6IFtdLAogICAgICBhbGxXb3Jrc3BhY2VzOiBbXSwKICAgICAgdGVtcENhY2hlZFZhbHVlczoge30sCiAgICAgIHVzZXJuYW1lOiBudWxsLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgcHVibGljS2V5OiBudWxsLAogICAgICBwcml2YXRlS2V5OiBudWxsLAogICAgICB0bHNNb2RlOiBudWxsLAogICAgICBjYUJ1bmRsZTogbnVsbCwKICAgICAgdGFyZ2V0QWR2YW5jZWRFcnJvcnM6IG51bGwsCiAgICAgIG1hdGNoaW5nQ2x1c3RlcnM6IG51bGwsCiAgICAgIHJlZjogcmVmLAogICAgICByZWZWYWx1ZTogcmVmVmFsdWUsCiAgICAgIHRhcmdldE1vZGU6IHRhcmdldE1vZGUsCiAgICAgIHRhcmdldENsdXN0ZXI6IHRhcmdldENsdXN0ZXIsCiAgICAgIHRhcmdldENsdXN0ZXJHcm91cDogdGFyZ2V0Q2x1c3Rlckdyb3VwLAogICAgICB0YXJnZXRBZHZhbmNlZDogdGFyZ2V0QWR2YW5jZWQsCiAgICAgIHN0ZXBSZXBvSW5mbzogc3RlcFJlcG9JbmZvLAogICAgICBzdGVwVGFyZ2V0SW5mbzogc3RlcFRhcmdldEluZm8sCiAgICAgIGFkZFJlcG9zaXRvcnlTdGVwczogYWRkUmVwb3NpdG9yeVN0ZXBzLAogICAgICBkaXNwbGF5SGVsbVJlcG9VUkxSZWdleDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnd29ya3NwYWNlJ10pKSwge30sIHsKICAgIF9TUEVDSUZZOiBmdW5jdGlvbiBfU1BFQ0lGWSgpIHsKICAgICAgcmV0dXJuIF9TUEVDSUZZMjsKICAgIH0sCiAgICBpc0xvY2FsOiBmdW5jdGlvbiBpc0xvY2FsKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5tZXRhZGF0YS5uYW1lc3BhY2UgPT09ICdmbGVldC1sb2NhbCc7CiAgICB9LAogICAgaXNUbHM6IGZ1bmN0aW9uIGlzVGxzKCkgewogICAgICB2YXIgX3RoaXMkdmFsdWU7CiAgICAgIHJldHVybiAhKCgoX3RoaXMkdmFsdWUgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZSA9IF90aGlzJHZhbHVlLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZS5yZXBvKSB8fCAnJykuc3RhcnRzV2l0aCgnaHR0cDovLycpOwogICAgfSwKICAgIHRhcmdldE9wdGlvbnM6IGZ1bmN0aW9uIHRhcmdldE9wdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgb3V0ID0gW3sKICAgICAgICBsYWJlbDogJ05vIENsdXN0ZXJzJywKICAgICAgICB2YWx1ZTogJ25vbmUnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ0FsbCBDbHVzdGVycyBpbiB0aGUgV29ya3NwYWNlJywKICAgICAgICB2YWx1ZTogJ2FsbCcKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnQWR2YW5jZWQnLAogICAgICAgIHZhbHVlOiAnYWR2YW5jZWQnCiAgICAgIH1dOwogICAgICB2YXIgY2x1c3RlcnMgPSB0aGlzLmFsbENsdXN0ZXJzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4Lm1ldGFkYXRhLm5hbWVzcGFjZSA9PT0gX3RoaXMyLnZhbHVlLm1ldGFkYXRhLm5hbWVzcGFjZTsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuICFpc0hhcnZlc3RlckNsdXN0ZXIoeCk7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsYWJlbDogeC5uYW1lRGlzcGxheSwKICAgICAgICAgIHZhbHVlOiAiY2x1c3RlcjovLyIuY29uY2F0KHgubWV0YWRhdGEubmFtZSkKICAgICAgICB9OwogICAgICB9KTsKICAgICAgaWYgKGNsdXN0ZXJzLmxlbmd0aCkgewogICAgICAgIG91dC5wdXNoKHsKICAgICAgICAgIGtpbmQ6ICdkaXZpZGVyJywKICAgICAgICAgIGRpc2FibGVkOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgb3V0LnB1c2goewogICAgICAgICAga2luZDogJ3RpdGxlJywKICAgICAgICAgIGxhYmVsOiAnQ2x1c3RlcnMnLAogICAgICAgICAgZGlzYWJsZWQ6IHRydWUKICAgICAgICB9KTsKICAgICAgICBvdXQucHVzaC5hcHBseShvdXQsIF90b0NvbnN1bWFibGVBcnJheShjbHVzdGVycykpOwogICAgICB9CiAgICAgIHZhciBncm91cHMgPSB0aGlzLmFsbENsdXN0ZXJHcm91cHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHgubWV0YWRhdGEubmFtZXNwYWNlID09PSBfdGhpczIudmFsdWUubWV0YWRhdGEubmFtZXNwYWNlOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6IHgubmFtZURpc3BsYXksCiAgICAgICAgICB2YWx1ZTogImdyb3VwOi8vIi5jb25jYXQoeC5tZXRhZGF0YS5uYW1lKQogICAgICAgIH07CiAgICAgIH0pOwogICAgICBpZiAoZ3JvdXBzLmxlbmd0aCkgewogICAgICAgIG91dC5wdXNoKHsKICAgICAgICAgIGtpbmQ6ICdkaXZpZGVyJywKICAgICAgICAgIGRpc2FibGVkOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgb3V0LnB1c2goewogICAgICAgICAga2luZDogJ3RpdGxlJywKICAgICAgICAgIGxhYmVsOiAnQ2x1c3RlciBHcm91cHMnLAogICAgICAgICAgZGlzYWJsZWQ6IHRydWUKICAgICAgICB9KTsKICAgICAgICBvdXQucHVzaC5hcHBseShvdXQsIF90b0NvbnN1bWFibGVBcnJheShncm91cHMpKTsKICAgICAgfQogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIGNsdXN0ZXJOYW1lczogZnVuY3Rpb24gY2x1c3Rlck5hbWVzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIG91dCA9IHRoaXMuYWxsQ2x1c3RlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHgubWV0YWRhdGEubmFtZXNwYWNlID09PSBfdGhpczMudmFsdWUubWV0YWRhdGEubmFtZXNwYWNlOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5tZXRhZGF0YS5uYW1lOwogICAgICB9KTsKICAgICAgcmV0dXJuIG91dDsKICAgIH0sCiAgICBjbHVzdGVyR3JvdXBOYW1lczogZnVuY3Rpb24gY2x1c3Rlckdyb3VwTmFtZXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgb3V0ID0gdGhpcy5hbGxDbHVzdGVyR3JvdXBzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4Lm1ldGFkYXRhLm5hbWVzcGFjZSA9PT0gX3RoaXM0LnZhbHVlLm1ldGFkYXRhLm5hbWVzcGFjZTsKICAgICAgfSkubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHgubWV0YWRhdGEubmFtZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAogICAgdGxzT3B0aW9uczogZnVuY3Rpb24gdGxzT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgbGFiZWw6IHRoaXMudCgnZmxlZXQuZ2l0UmVwby50bHMudmVyaWZ5JyksCiAgICAgICAgdmFsdWU6IF9WRVJJRlkKICAgICAgfSwgewogICAgICAgIGxhYmVsOiB0aGlzLnQoJ2ZsZWV0LmdpdFJlcG8udGxzLnNwZWNpZnknKSwKICAgICAgICB2YWx1ZTogX1NQRUNJRlkyCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy50KCdmbGVldC5naXRSZXBvLnRscy5za2lwJyksCiAgICAgICAgdmFsdWU6IF9TS0lQCiAgICAgIH1dOwogICAgfSwKICAgIHN0ZXBPbmVSZXF1aXJlczogZnVuY3Rpb24gc3RlcE9uZVJlcXVpcmVzKCkgewogICAgICByZXR1cm4gISF0aGlzLnZhbHVlLm1ldGFkYXRhLm5hbWUgJiYgISF0aGlzLnJlZlZhbHVlOwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICAndmFsdWUubWV0YWRhdGEubmFtZXNwYWNlJzogJ3VwZGF0ZVRhcmdldHMnLAogICAgdGFyZ2V0TW9kZTogJ3VwZGF0ZVRhcmdldHMnLAogICAgdGFyZ2V0Q2x1c3RlcjogJ3VwZGF0ZVRhcmdldHMnLAogICAgdGFyZ2V0Q2x1c3Rlckdyb3VwOiAndXBkYXRlVGFyZ2V0cycsCiAgICB0YXJnZXRBZHZhbmNlZDogJ3VwZGF0ZVRhcmdldHMnLAogICAgdGxzTW9kZTogJ3VwZGF0ZVRscycsCiAgICBjYUJ1bmRsZTogJ3VwZGF0ZVRscycsCiAgICB3b3Jrc3BhY2U6IGZ1bmN0aW9uIHdvcmtzcGFjZShuZXUpIHsKICAgICAgaWYgKHRoaXMuaXNDcmVhdGUpIHsKICAgICAgICBzZXQodGhpcy52YWx1ZSwgJ21ldGFkYXRhLm5hbWVzcGFjZScsIG5ldSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnJlZ2lzdGVyQmVmb3JlSG9vayh0aGlzLmNsZWFuVExTLCAnY2xlYW5UTFMnKTsKICAgIHRoaXMucmVnaXN0ZXJCZWZvcmVIb29rKHRoaXMuZG9DcmVhdGVTZWNyZXRzLCAicmVnaXN0ZXJBdXRoU2VjcmV0cyIuY29uY2F0KG5ldyBEYXRlKCkuZ2V0VGltZSgpKSwgOTkpOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0OiBzZXQsCiAgICBjbGVhblRMUzogZnVuY3Rpb24gY2xlYW5UTFMoKSB7CiAgICAgIGlmICghdGhpcy5pc1RscykgewogICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlLnNwZWMuaW5zZWN1cmVTa2lwVExTVmVyaWZ5OwogICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlLnNwZWMuY2FCdW5kbGU7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVDYWNoZWRBdXRoVmFsOiBmdW5jdGlvbiB1cGRhdGVDYWNoZWRBdXRoVmFsKHZhbCwga2V5KSB7CiAgICAgIHRoaXMudGVtcENhY2hlZFZhbHVlc1trZXldID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyB7CiAgICAgICAgc2VsZWN0ZWQ6IHZhbAogICAgICB9IDogX29iamVjdFNwcmVhZCh7fSwgdmFsKTsKICAgICAgaWYgKGtleSA9PT0gJ2hlbG1TZWNyZXROYW1lJykgewogICAgICAgIHRoaXMudG9nZ2xlSGVsbVJlcG9VUkxSZWdleCh2YWwgJiYgdmFsLnNlbGVjdGVkICE9PSBBVVRIX1RZUEUuX05PTkUpOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlQXV0aDogZnVuY3Rpb24gdXBkYXRlQXV0aCh2YWwsIGtleSkgewogICAgICB2YXIgc3BlYyA9IHRoaXMudmFsdWUuc3BlYzsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHNwZWNba2V5XSA9IHZhbDsKICAgICAgfSBlbHNlIHsKICAgICAgICBkZWxldGUgc3BlY1trZXldOwogICAgICB9CiAgICAgIHRoaXMudXBkYXRlQ2FjaGVkQXV0aFZhbCh2YWwsIGtleSk7CiAgICB9LAogICAgdG9nZ2xlSGVsbVJlcG9VUkxSZWdleDogZnVuY3Rpb24gdG9nZ2xlSGVsbVJlcG9VUkxSZWdleChhY3RpdmUpIHsKICAgICAgdGhpcy5kaXNwbGF5SGVsbVJlcG9VUkxSZWdleCA9IGFjdGl2ZTsKICAgICAgaWYgKCFhY3RpdmUpIHsKICAgICAgICB2YXIgX3RoaXMkdmFsdWUkc3BlYzM7CiAgICAgICAgKF90aGlzJHZhbHVlJHNwZWMzID0gdGhpcy52YWx1ZS5zcGVjKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSRzcGVjMyA9PT0gdm9pZCAwIHx8IGRlbGV0ZSBfdGhpcyR2YWx1ZSRzcGVjMy5oZWxtUmVwb1VSTFJlZ2V4OwogICAgICB9CiAgICB9LAogICAgdXBkYXRlVGFyZ2V0czogZnVuY3Rpb24gdXBkYXRlVGFyZ2V0cygpIHsKICAgICAgdmFyIHNwZWMgPSB0aGlzLnZhbHVlLnNwZWM7CiAgICAgIHZhciBtb2RlID0gdGhpcy50YXJnZXRNb2RlOwogICAgICB2YXIga2luZCwgdmFsdWU7CiAgICAgIHZhciBtYXRjaCA9IG1vZGUubWF0Y2goLyhbXjpdKykoOlwvXC8oLiopKT8kLyk7CiAgICAgIGlmIChtYXRjaCkgewogICAgICAgIGtpbmQgPSBtYXRjaFsxXTsKICAgICAgICB2YWx1ZSA9IG1hdGNoWzNdOwogICAgICB9CiAgICAgIGlmIChraW5kID09PSAnYWxsJykgewogICAgICAgIHNwZWMudGFyZ2V0cyA9IFt7CiAgICAgICAgICBjbHVzdGVyU2VsZWN0b3I6IHsKICAgICAgICAgICAgbWF0Y2hFeHByZXNzaW9uczogW3sKICAgICAgICAgICAgICBrZXk6IENBUEkuUFJPVklERVIsCiAgICAgICAgICAgICAgb3BlcmF0b3I6ICdOb3RJbicsCiAgICAgICAgICAgICAgdmFsdWVzOiBbVklSVFVBTF9IQVJWRVNURVJfUFJPVklERVJdCiAgICAgICAgICAgIH1dCiAgICAgICAgICB9CiAgICAgICAgfV07CiAgICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gJ25vbmUnKSB7CiAgICAgICAgc3BlYy50YXJnZXRzID0gW107CiAgICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gJ2NsdXN0ZXInKSB7CiAgICAgICAgc3BlYy50YXJnZXRzID0gW3sKICAgICAgICAgIGNsdXN0ZXJOYW1lOiB2YWx1ZQogICAgICAgIH1dOwogICAgICB9IGVsc2UgaWYgKGtpbmQgPT09ICdncm91cCcpIHsKICAgICAgICBzcGVjLnRhcmdldHMgPSBbewogICAgICAgICAgY2x1c3Rlckdyb3VwOiB2YWx1ZQogICAgICAgIH1dOwogICAgICB9IGVsc2UgaWYgKGtpbmQgPT09ICdhZHZhbmNlZCcpIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHBhcnNlZCA9IGpzeWFtbC5sb2FkKHRoaXMudGFyZ2V0QWR2YW5jZWQpOwogICAgICAgICAgc3BlYy50YXJnZXRzID0gcGFyc2VkOwogICAgICAgICAgdGhpcy50YXJnZXRBZHZhbmNlZEVycm9ycyA9IG51bGw7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgdGhpcy50YXJnZXRBZHZhbmNlZEVycm9ycyA9IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXkoZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHNwZWMudGFyZ2V0cyA9IFtdOwogICAgICB9CiAgICAgIHRoaXMuc3RlcE9uZVJlYWR5KCk7CiAgICB9LAogICAgY2hhbmdlUmVmOiBmdW5jdGlvbiBjaGFuZ2VSZWYoX3JlZikgewogICAgICB2YXIgdGV4dCA9IF9yZWYudGV4dCwKICAgICAgICBzZWxlY3RlZCA9IF9yZWYuc2VsZWN0ZWQ7CiAgICAgIHRoaXMucmVmID0gc2VsZWN0ZWQ7CiAgICAgIHRoaXMucmVmVmFsdWUgPSB0ZXh0OwogICAgICB2YXIgc3BlYyA9IHRoaXMudmFsdWUuc3BlYzsKICAgICAgaWYgKHNlbGVjdGVkID09PSAnYnJhbmNoJykgewogICAgICAgIHNwZWMuYnJhbmNoID0gdGV4dDsKICAgICAgICBkZWxldGUgc3BlYy5yZXZpc2lvbjsKICAgICAgfSBlbHNlIHsKICAgICAgICBkZWxldGUgc3BlYy5icmFuY2g7CiAgICAgICAgc3BlYy5yZXZpc2lvbiA9IHRleHQ7CiAgICAgIH0KICAgICAgdGhpcy5zdGVwT25lUmVhZHkoKTsKICAgIH0sCiAgICBkb0NyZWF0ZVNlY3JldHM6IGZ1bmN0aW9uIGRvQ3JlYXRlU2VjcmV0cygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoIV90aGlzNS50ZW1wQ2FjaGVkVmFsdWVzLmNsaWVudFNlY3JldE5hbWUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5kb0NyZWF0ZSgnY2xpZW50U2VjcmV0TmFtZScsIF90aGlzNS50ZW1wQ2FjaGVkVmFsdWVzLmNsaWVudFNlY3JldE5hbWUpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgaWYgKCFfdGhpczUudGVtcENhY2hlZFZhbHVlcy5oZWxtU2VjcmV0TmFtZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmRvQ3JlYXRlKCdoZWxtU2VjcmV0TmFtZScsIF90aGlzNS50ZW1wQ2FjaGVkVmFsdWVzLmhlbG1TZWNyZXROYW1lKTsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZG9DcmVhdGU6IGZ1bmN0aW9uIGRvQ3JlYXRlKG5hbWUsIGNyZWRlbnRpYWxzKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgc2VsZWN0ZWQsIHB1YmxpY0tleSwgcHJpdmF0ZUtleSwgc2VjcmV0LCB0eXBlLCBwdWJsaWNGaWVsZCwgcHJpdmF0ZUZpZWxkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzZWxlY3RlZCA9IGNyZWRlbnRpYWxzLnNlbGVjdGVkLCBwdWJsaWNLZXkgPSBjcmVkZW50aWFscy5wdWJsaWNLZXksIHByaXZhdGVLZXkgPSBjcmVkZW50aWFscy5wcml2YXRlS2V5OwogICAgICAgICAgICAgIGlmIChbQVVUSF9UWVBFLl9TU0gsIEFVVEhfVFlQRS5fQkFTSUMsIEFVVEhfVFlQRS5fUzNdLmluY2x1ZGVzKHNlbGVjdGVkKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGlmICghKHNlbGVjdGVkID09PSBBVVRIX1RZUEUuX1MzKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgicmFuY2hlci9jcmVhdGUiLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBOT1JNQU4uQ0xPVURfQ1JFREVOVElBTCwKICAgICAgICAgICAgICAgIHMzY3JlZGVudGlhbENvbmZpZzogewogICAgICAgICAgICAgICAgICBhY2Nlc3NLZXk6IHB1YmxpY0tleSwKICAgICAgICAgICAgICAgICAgc2VjcmV0S2V5OiBwcml2YXRlS2V5CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBzZWNyZXQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgiIi5jb25jYXQoQ0FUQUxPRy5fTUFOQUdFTUVOVCwgIi9jcmVhdGUiKSwgewogICAgICAgICAgICAgICAgdHlwZTogU0VDUkVULAogICAgICAgICAgICAgICAgbWV0YWRhdGE6IHsKICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBfdGhpczYudmFsdWUubWV0YWRhdGEubmFtZXNwYWNlLAogICAgICAgICAgICAgICAgICBnZW5lcmF0ZU5hbWU6ICdhdXRoLScKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBzZWNyZXQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBzZWxlY3RlZDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IF9jb250ZXh0My50MCA9PT0gQVVUSF9UWVBFLl9TU0ggPyAxNSA6IF9jb250ZXh0My50MCA9PT0gQVVUSF9UWVBFLl9CQVNJQyA/IDE5IDogMjM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgdHlwZSA9IFNFQ1JFVF9UWVBFUy5TU0g7CiAgICAgICAgICAgICAgcHVibGljRmllbGQgPSAnc3NoLXB1YmxpY2tleSc7CiAgICAgICAgICAgICAgcHJpdmF0ZUZpZWxkID0gJ3NzaC1wcml2YXRla2V5JzsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgiYnJlYWsiLCAyNCk7CiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgdHlwZSA9IFNFQ1JFVF9UWVBFUy5CQVNJQzsKICAgICAgICAgICAgICBwdWJsaWNGaWVsZCA9ICd1c2VybmFtZSc7CiAgICAgICAgICAgICAgcHJpdmF0ZUZpZWxkID0gJ3Bhc3N3b3JkJzsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgiYnJlYWsiLCAyNCk7CiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHR5cGUnKTsKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBzZWNyZXQuX3R5cGUgPSB0eXBlOwogICAgICAgICAgICAgIHNlY3JldC5kYXRhID0gX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eSh7fSwgcHVibGljRmllbGQsIGJhc2U2NEVuY29kZShwdWJsaWNLZXkpKSwgcHJpdmF0ZUZpZWxkLCBiYXNlNjRFbmNvZGUocHJpdmF0ZUtleSkpOwogICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgcmV0dXJuIHNlY3JldC5zYXZlKCk7CiAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpczYudXBkYXRlQXV0aChzZWNyZXQubWV0YWRhdGEubmFtZSwgbmFtZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHNlY3JldCk7CiAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVUbHNNb2RlOiBmdW5jdGlvbiB1cGRhdGVUbHNNb2RlKGV2ZW50KSB7CiAgICAgIHRoaXMudGxzTW9kZSA9IGV2ZW50OwogICAgfSwKICAgIG9uVXBkYXRlUmVwb05hbWU6IGZ1bmN0aW9uIG9uVXBkYXRlUmVwb05hbWUoKSB7CiAgICAgIHRoaXMuc3RlcE9uZVJlYWR5KCk7CiAgICB9LAogICAgc3RlcE9uZVJlYWR5OiBmdW5jdGlvbiBzdGVwT25lUmVhZHkoKSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLmFkZFJlcG9zaXRvcnlTdGVwc1swXSwgJ3JlYWR5JywgdGhpcy5zdGVwT25lUmVxdWlyZXMpOwogICAgfSwKICAgIHVwZGF0ZVRsczogZnVuY3Rpb24gdXBkYXRlVGxzKCkgewogICAgICB2YXIgc3BlYyA9IHRoaXMudmFsdWUuc3BlYzsKICAgICAgaWYgKHRoaXMudGxzTW9kZSA9PT0gX1NQRUNJRlkyKSB7CiAgICAgICAgc3BlYy5pbnNlY3VyZVNraXBUTFNWZXJpZnkgPSBmYWxzZTsKICAgICAgICB2YXIgY2FCdW5kbGUgPSAodGhpcy5jYUJ1bmRsZSB8fCAnJykudHJpbSgpOwogICAgICAgIGlmIChjYUJ1bmRsZSkgewogICAgICAgICAgc3BlYy5jYUJ1bmRsZSA9IGJhc2U2NEVuY29kZSgiIi5jb25jYXQoY2FCdW5kbGUsICJcbiIpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGVsZXRlIHNwZWMuY2FCdW5kbGU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnRsc01vZGUgPT09IF9TS0lQKSB7CiAgICAgICAgICBzcGVjLmluc2VjdXJlU2tpcFRMU1ZlcmlmeSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNwZWMuaW5zZWN1cmVTa2lwVExTVmVyaWZ5ID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmxpdmVWYWx1ZS5jYUJ1bmRsZSkgewogICAgICAgICAgc3BlYy5jYUJ1bmRsZSA9IHRoaXMubGl2ZVZhbHVlLmNhQnVuZGxlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkZWxldGUgc3BlYy5jYUJ1bmRsZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["Vue","exceptionToErrorsArray","mapGetters","AUTH_TYPE","FLEET","NORMAN","SECRET","VIRTUAL_HARVESTER_PROVIDER","set","ArrayList","Banner","CreateEditView","CruResource","InputWithSelect","jsyaml","LabeledInput","LabeledSelect","Labels","Loading","NameNsDescription","YamlEditor","base64Decode","base64Encode","SelectOrCreateAuthSecret","_CREATE","isHarvesterCluster","CAPI","CATALOG","SECRET_TYPES","checkSchemasForFindAllHash","Checkbox","_VERIFY","_SKIP","_SPECIFY","name","components","mixins","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","hash","tls","wrap","_callee$","_context","prev","next","allClusters","inStoreType","type","CLUSTER","allClusterGroups","CLUSTER_GROUP","$store","sent","value","spec","insecureSkipTLSVerify","caBundle","e","tlsMode","correctDrift","undefined","enabled","updateTargets","stop","data","_this$value$spec","_this$value$spec2","targetInfo","targetCluster","cluster","targetClusterGroup","clusterGroup","targetAdvanced","advanced","ref","revision","refValue","targetMode","mode","realMode","concat","stepRepoInfo","title","t","label","subtext","descriptionKey","ready","weight","stepTargetInfo","addRepositorySteps","sort","a","b","allWorkspaces","tempCachedValues","username","password","publicKey","privateKey","targetAdvancedErrors","matchingClusters","displayHelmRepoURLRegex","computed","_objectSpread","isLocal","metadata","namespace","isTls","_this$value","repo","startsWith","targetOptions","_this2","out","clusters","filter","x","map","nameDisplay","length","push","kind","disabled","apply","_toConsumableArray","groups","clusterNames","_this3","clusterGroupNames","_this4","tlsOptions","stepOneRequires","watch","workspace","neu","isCreate","created","registerBeforeHook","cleanTLS","doCreateSecrets","Date","getTime","methods","updateCachedAuthVal","val","key","selected","toggleHelmRepoURLRegex","_NONE","updateAuth","active","_this$value$spec3","helmRepoURLRegex","match","targets","clusterSelector","matchExpressions","PROVIDER","operator","values","clusterName","parsed","load","stepOneReady","changeRef","_ref","text","branch","_this5","_callee2","_callee2$","_context2","clientSecretName","doCreate","helmSecretName","credentials","_this6","_callee3","secret","publicField","privateField","_callee3$","_context3","_SSH","_BASIC","_S3","includes","abrupt","dispatch","CLOUD_CREDENTIAL","s3credentialConfig","accessKey","secretKey","_MANAGEMENT","generateName","t0","SSH","BASIC","Error","_type","_defineProperty","save","$nextTick","updateTlsMode","event","onUpdateRepoName","$set","updateTls","trim","liveValue"],"sources":["node_modules/@rancher/shell/edit/fleet.cattle.io.gitrepo.vue"],"sourcesContent":["<script>\nimport Vue from 'vue';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { mapGetters } from 'vuex';\nimport {\n  AUTH_TYPE, FLEET, NORMAN, SECRET, VIRTUAL_HARVESTER_PROVIDER\n} from '@shell/config/types';\nimport { set } from '@shell/utils/object';\nimport ArrayList from '@shell/components/form/ArrayList';\nimport { Banner } from '@components/Banner';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource';\nimport InputWithSelect from '@shell/components/form/InputWithSelect';\nimport jsyaml from 'js-yaml';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport Labels from '@shell/components/form/Labels';\nimport Loading from '@shell/components/Loading';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport YamlEditor from '@shell/components/YamlEditor';\nimport { base64Decode, base64Encode } from '@shell/utils/crypto';\nimport SelectOrCreateAuthSecret from '@shell/components/form/SelectOrCreateAuthSecret';\nimport { _CREATE } from '@shell/config/query-params';\nimport { isHarvesterCluster } from '@shell/utils/cluster';\nimport { CAPI, CATALOG } from '@shell/config/labels-annotations';\nimport { SECRET_TYPES } from '@shell/config/secret';\nimport { checkSchemasForFindAllHash } from '@shell/utils/auth';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\n\nconst _VERIFY = 'verify';\nconst _SKIP = 'skip';\nconst _SPECIFY = 'specify';\n\nexport default {\n  name: 'CruGitRepo',\n\n  components: {\n    Checkbox,\n    ArrayList,\n    Banner,\n    CruResource,\n    InputWithSelect,\n    Labels,\n    LabeledInput,\n    LabeledSelect,\n    Loading,\n    NameNsDescription,\n    YamlEditor,\n    SelectOrCreateAuthSecret,\n  },\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    const hash = await checkSchemasForFindAllHash({\n      allClusters: {\n        inStoreType: 'management',\n        type:        FLEET.CLUSTER\n      },\n\n      allClusterGroups: {\n        inStoreType: 'management',\n        type:        FLEET.CLUSTER_GROUP\n      }\n    }, this.$store);\n\n    this.allClusters = hash.allClusters || [];\n    this.allClusterGroups = hash.allClusterGroups || [];\n\n    let tls = _VERIFY;\n\n    if ( this.value.spec.insecureSkipTLSVerify ) {\n      tls = _SKIP;\n    } else if ( this.value.spec.caBundle ) {\n      try {\n        this.caBundle = base64Decode(this.value.spec.caBundle);\n        tls = _SPECIFY;\n      } catch (e) {\n        // Hmm...\n      }\n    }\n\n    this.tlsMode = tls;\n\n    if (this.value.spec.correctDrift === undefined) {\n      Vue.set(this.value.spec, 'correctDrift', { enabled: false });\n    }\n\n    this.updateTargets();\n  },\n\n  data() {\n    const targetInfo = this.value.targetInfo;\n    const targetCluster = targetInfo.cluster;\n    const targetClusterGroup = targetInfo.clusterGroup;\n    const targetAdvanced = targetInfo.advanced;\n\n    const ref = ( this.value.spec?.revision ? 'revision' : 'branch' );\n    const refValue = this.value.spec?.[ref] || '';\n\n    let targetMode = targetInfo.mode;\n\n    if ( this.realMode === _CREATE ) {\n      targetMode = 'all';\n    } else if ( targetMode === 'cluster' ) {\n      targetMode = `cluster://${ targetCluster }`;\n    } else if ( targetMode === 'clusterGroup' ) {\n      targetMode = `group://${ targetClusterGroup }`;\n    }\n\n    const stepRepoInfo = {\n      name:           'stepRepoInfo',\n      title:          this.t('fleet.gitRepo.add.steps.repoInfo.title'),\n      label:          this.t('fleet.gitRepo.add.steps.repoInfo.label'),\n      subtext:        this.t('fleet.gitRepo.add.steps.repoInfo.subtext'),\n      descriptionKey: 'fleet.gitRepo.add.steps.repoInfo.description',\n      ready:          false,\n      weight:         30\n    };\n\n    const stepTargetInfo = {\n      name:           'stepTargetInfo',\n      title:          this.t('fleet.gitRepo.add.steps.targetInfo.title'),\n      label:          this.t('fleet.gitRepo.add.steps.targetInfo.label'),\n      subtext:        this.t('fleet.gitRepo.add.steps.targetInfo.subtext'),\n      descriptionKey: 'fleet.gitRepo.steps.add.targetInfo.description',\n      ready:          true,\n      weight:         30\n    };\n\n    const addRepositorySteps = [stepRepoInfo, stepTargetInfo].sort((a, b) => (b.weight || 0) - (a.weight || 0));\n\n    return {\n      allClusters:             [],\n      allClusterGroups:        [],\n      allWorkspaces:           [],\n      tempCachedValues:        {},\n      username:                null,\n      password:                null,\n      publicKey:               null,\n      privateKey:              null,\n      tlsMode:                 null,\n      caBundle:                null,\n      targetAdvancedErrors:    null,\n      matchingClusters:        null,\n      ref,\n      refValue,\n      targetMode,\n      targetCluster,\n      targetClusterGroup,\n      targetAdvanced,\n      stepRepoInfo,\n      stepTargetInfo,\n      addRepositorySteps,\n      displayHelmRepoURLRegex: false\n    };\n  },\n\n  computed: {\n    ...mapGetters(['workspace']),\n\n    _SPECIFY() {\n      return _SPECIFY;\n    },\n\n    isLocal() {\n      return this.value.metadata.namespace === 'fleet-local';\n    },\n\n    isTls() {\n      return !(this.value?.spec?.repo || '').startsWith('http://');\n    },\n\n    targetOptions() {\n      const out = [\n        {\n          label: 'No Clusters',\n          value: 'none'\n        },\n        {\n          label: 'All Clusters in the Workspace',\n          value: 'all',\n        },\n        {\n          label: 'Advanced',\n          value: 'advanced'\n        },\n      ];\n\n      const clusters = this.allClusters\n        .filter((x) => {\n          return x.metadata.namespace === this.value.metadata.namespace;\n        })\n        .filter((x) => !isHarvesterCluster(x))\n        .map((x) => {\n          return { label: x.nameDisplay, value: `cluster://${ x.metadata.name }` };\n        });\n\n      if ( clusters.length ) {\n        out.push({ kind: 'divider', disabled: true });\n        out.push({\n          kind:     'title',\n          label:    'Clusters',\n          disabled: true,\n        });\n\n        out.push(...clusters);\n      }\n\n      const groups = this.allClusterGroups\n        .filter((x) => x.metadata.namespace === this.value.metadata.namespace)\n        .map((x) => {\n          return { label: x.nameDisplay, value: `group://${ x.metadata.name }` };\n        });\n\n      if ( groups.length ) {\n        out.push({ kind: 'divider', disabled: true });\n        out.push({\n          kind:     'title',\n          label:    'Cluster Groups',\n          disabled: true\n        });\n\n        out.push(...groups);\n      }\n\n      return out;\n    },\n\n    clusterNames() {\n      const out = this.allClusters\n        .filter((x) => x.metadata.namespace === this.value.metadata.namespace)\n        .map((x) => x.metadata.name);\n\n      return out;\n    },\n\n    clusterGroupNames() {\n      const out = this.allClusterGroups\n        .filter((x) => x.metadata.namespace === this.value.metadata.namespace)\n        .map((x) => x.metadata.name);\n\n      return out;\n    },\n\n    tlsOptions() {\n      return [\n        { label: this.t('fleet.gitRepo.tls.verify'), value: _VERIFY },\n        { label: this.t('fleet.gitRepo.tls.specify'), value: _SPECIFY },\n        { label: this.t('fleet.gitRepo.tls.skip'), value: _SKIP },\n      ];\n    },\n\n    stepOneRequires() {\n      return !!this.value.metadata.name && !!this.refValue;\n    },\n  },\n\n  watch: {\n    'value.metadata.namespace': 'updateTargets',\n    targetMode:                 'updateTargets',\n    targetCluster:              'updateTargets',\n    targetClusterGroup:         'updateTargets',\n    targetAdvanced:             'updateTargets',\n    tlsMode:                    'updateTls',\n    caBundle:                   'updateTls',\n\n    workspace(neu) {\n      if ( this.isCreate ) {\n        set(this.value, 'metadata.namespace', neu);\n      }\n    },\n  },\n\n  created() {\n    this.registerBeforeHook(this.cleanTLS, 'cleanTLS');\n    this.registerBeforeHook(this.doCreateSecrets, `registerAuthSecrets${ new Date().getTime() }`, 99);\n  },\n\n  methods: {\n    set,\n\n    cleanTLS() {\n      if (!this.isTls) {\n        delete this.value.spec.insecureSkipTLSVerify;\n        delete this.value.spec.caBundle;\n      }\n    },\n\n    updateCachedAuthVal(val, key) {\n      this.tempCachedValues[key] = typeof val === 'string' ? { selected: val } : { ...val };\n\n      if (key === 'helmSecretName') {\n        this.toggleHelmRepoURLRegex(val && val.selected !== AUTH_TYPE._NONE);\n      }\n    },\n\n    updateAuth(val, key) {\n      const spec = this.value.spec;\n\n      if ( val ) {\n        spec[key] = val;\n      } else {\n        delete spec[key];\n      }\n\n      this.updateCachedAuthVal(val, key);\n    },\n\n    toggleHelmRepoURLRegex(active) {\n      this.displayHelmRepoURLRegex = active;\n\n      if (!active) {\n        delete this.value.spec?.helmRepoURLRegex;\n      }\n    },\n\n    updateTargets() {\n      const spec = this.value.spec;\n      const mode = this.targetMode;\n\n      let kind, value;\n      const match = mode.match(/([^:]+)(:\\/\\/(.*))?$/);\n\n      if ( match ) {\n        kind = match[1];\n        value = match[3];\n      }\n\n      if ( kind === 'all' ) {\n        spec.targets = [{\n          clusterSelector: {\n            matchExpressions: [{\n              key:      CAPI.PROVIDER,\n              operator: 'NotIn',\n              values:   [\n                VIRTUAL_HARVESTER_PROVIDER\n              ],\n            }],\n          },\n        }];\n      } else if ( kind === 'none' ) {\n        spec.targets = [];\n      } else if ( kind === 'cluster' ) {\n        spec.targets = [\n          { clusterName: value },\n        ];\n      } else if ( kind === 'group' ) {\n        spec.targets = [\n          { clusterGroup: value }\n        ];\n      } else if ( kind === 'advanced' ) {\n        try {\n          const parsed = jsyaml.load(this.targetAdvanced);\n\n          spec.targets = parsed;\n          this.targetAdvancedErrors = null;\n        } catch (e) {\n          this.targetAdvancedErrors = exceptionToErrorsArray(e);\n        }\n      } else {\n        spec.targets = [];\n      }\n\n      this.stepOneReady();\n    },\n\n    changeRef({ text, selected }) {\n      this.ref = selected;\n      this.refValue = text;\n      const spec = this.value.spec;\n\n      if ( selected === 'branch' ) {\n        spec.branch = text;\n        delete spec.revision;\n      } else {\n        delete spec.branch;\n        spec.revision = text;\n      }\n\n      this.stepOneReady();\n    },\n\n    async doCreateSecrets() {\n      if (this.tempCachedValues.clientSecretName) {\n        await this.doCreate('clientSecretName', this.tempCachedValues.clientSecretName);\n      }\n\n      if (this.tempCachedValues.helmSecretName) {\n        await this.doCreate('helmSecretName', this.tempCachedValues.helmSecretName);\n      }\n    },\n\n    async doCreate(name, credentials) {\n      const { selected, publicKey, privateKey } = credentials;\n\n      if ( ![AUTH_TYPE._SSH, AUTH_TYPE._BASIC, AUTH_TYPE._S3].includes(selected) ) {\n        return;\n      }\n\n      let secret;\n\n      if ( selected === AUTH_TYPE._S3 ) {\n        secret = await this.$store.dispatch(`rancher/create`, {\n          type:               NORMAN.CLOUD_CREDENTIAL,\n          s3credentialConfig: {\n            accessKey: publicKey,\n            secretKey: privateKey,\n          },\n        });\n      } else {\n        secret = await this.$store.dispatch(`${ CATALOG._MANAGEMENT }/create`, {\n          type:     SECRET,\n          metadata: {\n            namespace:    this.value.metadata.namespace,\n            generateName: 'auth-'\n          },\n        });\n\n        let type, publicField, privateField;\n\n        switch ( selected ) {\n        case AUTH_TYPE._SSH:\n          type = SECRET_TYPES.SSH;\n          publicField = 'ssh-publickey';\n          privateField = 'ssh-privatekey';\n          break;\n        case AUTH_TYPE._BASIC:\n          type = SECRET_TYPES.BASIC;\n          publicField = 'username';\n          privateField = 'password';\n          break;\n        default:\n          throw new Error('Unknown type');\n        }\n\n        secret._type = type;\n        secret.data = {\n          [publicField]:  base64Encode(publicKey),\n          [privateField]: base64Encode(privateKey),\n        };\n      }\n\n      await secret.save();\n\n      await this.$nextTick(() => {\n        this.updateAuth(secret.metadata.name, name);\n      });\n\n      return secret;\n    },\n\n    updateTlsMode(event) {\n      this.tlsMode = event;\n    },\n\n    onUpdateRepoName() {\n      this.stepOneReady();\n    },\n\n    stepOneReady() {\n      this.$set(this.addRepositorySteps[0], 'ready', this.stepOneRequires);\n    },\n\n    updateTls() {\n      const spec = this.value.spec;\n\n      if ( this.tlsMode === _SPECIFY ) {\n        spec.insecureSkipTLSVerify = false;\n        const caBundle = (this.caBundle || '').trim();\n\n        if ( caBundle ) {\n          spec.caBundle = base64Encode(`${ caBundle }\\n`);\n        } else {\n          delete spec.caBundle;\n        }\n      } else {\n        if ( this.tlsMode === _SKIP ) {\n          spec.insecureSkipTLSVerify = true;\n        } else {\n          spec.insecureSkipTLSVerify = false;\n        }\n\n        if ( this.liveValue.caBundle ) {\n          spec.caBundle = this.liveValue.caBundle;\n        } else {\n          delete spec.caBundle;\n        }\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n\n  <CruResource\n    v-else\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :validation-passed=\"true\"\n    :errors=\"errors\"\n    :steps=\"addRepositorySteps\"\n    :edit-first-step=\"true\"\n    :finish-mode=\"'finish'\"\n    class=\"wizard\"\n    @cancel=\"done\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n  >\n    <template #noticeBanner>\n      <Banner\n        v-if=\"isLocal && mode === 'create'\"\n        color=\"info\"\n      >\n        {{ t('fleet.gitRepo.createLocalBanner') }}\n      </Banner>\n    </template>\n    <template #stepRepoInfo>\n      <NameNsDescription\n        v-if=\"!isView\"\n        v-model=\"value\"\n        :namespaced=\"false\"\n        :mode=\"mode\"\n        @change=\"onUpdateRepoName\"\n      />\n\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <Banner\n            color=\"info col span-6\"\n          >\n            <div>\n              {{ t('fleet.gitRepo.repo.protocolBanner') }}\n            </div>\n          </Banner>\n        </div>\n      </div>\n      <div\n        class=\"row\"\n        :class=\"{'mt-20': isView}\"\n      >\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.spec.repo\"\n            :mode=\"mode\"\n            label-key=\"fleet.gitRepo.repo.label\"\n            :placeholder=\"t('fleet.gitRepo.repo.placeholder', null, true)\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <InputWithSelect\n            :data-testid=\"`gitrepo-${ref}`\"\n            :mode=\"mode\"\n            :select-label=\"t('fleet.gitRepo.ref.label')\"\n            :select-value=\"ref\"\n            :text-label=\"t(`fleet.gitRepo.ref.${ref}Label`)\"\n            :text-placeholder=\"t(`fleet.gitRepo.ref.${ref}Placeholder`)\"\n            :text-value=\"refValue\"\n            :text-required=\"true\"\n            :options=\"[{label: t('fleet.gitRepo.ref.branch'), value: 'branch'}, {label: t('fleet.gitRepo.ref.revision'), value: 'revision'}]\"\n            @input=\"changeRef($event)\"\n          />\n        </div>\n      </div>\n      <SelectOrCreateAuthSecret\n        :value=\"value.spec.clientSecretName\"\n        :register-before-hook=\"registerBeforeHook\"\n        :namespace=\"value.metadata.namespace\"\n        :delegate-create-to-parent=\"true\"\n        in-store=\"management\"\n        :pre-select=\"tempCachedValues.clientSecretName\"\n        :mode=\"mode\"\n        generate-name=\"gitrepo-auth-\"\n        label-key=\"fleet.gitRepo.auth.git\"\n        @input=\"updateAuth($event, 'clientSecretName')\"\n        @inputauthval=\"updateCachedAuthVal($event, 'clientSecretName')\"\n      />\n\n      <SelectOrCreateAuthSecret\n        data-testid=\"gitrepo-helm-auth\"\n        :value=\"value.spec.helmSecretName\"\n        :register-before-hook=\"registerBeforeHook\"\n        :namespace=\"value.metadata.namespace\"\n        :delegate-create-to-parent=\"true\"\n        in-store=\"management\"\n        :mode=\"mode\"\n        generate-name=\"helmrepo-auth-\"\n        label-key=\"fleet.gitRepo.auth.helm\"\n        :pre-select=\"tempCachedValues.helmSecretName\"\n        @input=\"updateAuth($event, 'helmSecretName')\"\n        @inputauthval=\"updateCachedAuthVal($event, 'helmSecretName')\"\n      />\n\n      <div\n        v-if=\"displayHelmRepoURLRegex\"\n        class=\"row mt-20\"\n      >\n        <div\n          class=\"col span-6\"\n          data-testid=\"gitrepo-helm-repo-url-regex\"\n        >\n          <LabeledInput\n            v-model=\"value.spec.helmRepoURLRegex\"\n            :mode=\"mode\"\n            label-key=\"fleet.gitRepo.helmRepoURLRegex\"\n          />\n        </div>\n      </div>\n\n      <template v-if=\"isTls\">\n        <div class=\"spacer\" />\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledSelect\n              :label=\"t('fleet.gitRepo.tls.label')\"\n              :mode=\"mode\"\n              :value=\"tlsMode\"\n              :options=\"tlsOptions\"\n              @input=\"updateTlsMode($event)\"\n            />\n          </div>\n          <div\n            v-if=\"tlsMode === _SPECIFY\"\n            class=\"col span-6\"\n          >\n            <LabeledInput\n              v-model=\"caBundle\"\n              :mode=\"mode\"\n              type=\"multiline\"\n              label-key=\"fleet.gitRepo.caBundle.label\"\n              placeholder-key=\"fleet.gitRepo.caBundle.placeholder\"\n            />\n          </div>\n        </div>\n      </template>\n      <div class=\"spacer\" />\n      <h2 v-t=\"'fleet.gitRepo.resources.label'\" />\n      <div>\n        <Checkbox\n          v-model=\"value.spec.correctDrift.enabled\"\n          data-testid=\"GitRepo-correctDrift-checkbox\"\n          class=\"check\"\n          type=\"checkbox\"\n          label-key=\"fleet.gitRepo.resources.correctDrift\"\n          :mode=\"mode\"\n        />\n        <Banner\n          data-testid=\"GitRepo-correctDrift-banner\"\n          color=\"info\"\n        >\n          {{ t('fleet.gitRepo.resources.correctDriftBanner') }}\n        </Banner>\n      </div>\n\n      <Checkbox\n        v-model=\"value.spec.keepResources\"\n        class=\"check\"\n        type=\"checkbox\"\n        label-key=\"fleet.gitRepo.resources.keepResources\"\n        :mode=\"mode\"\n      />\n      <Banner\n        color=\"info\"\n      >\n        {{ t('fleet.gitRepo.resources.keepResourcesBanner') }}\n      </Banner>\n      <div class=\"spacer\" />\n      <h2 v-t=\"'fleet.gitRepo.paths.label'\" />\n      <ArrayList\n        v-model=\"value.spec.paths\"\n        data-testid=\"gitRepo-paths\"\n        :mode=\"mode\"\n        :initial-empty-row=\"false\"\n        :value-placeholder=\"t('fleet.gitRepo.paths.placeholder')\"\n        :add-label=\"t('fleet.gitRepo.paths.addLabel')\"\n      >\n        <template #empty>\n          <Banner label-key=\"fleet.gitRepo.paths.empty\" />\n        </template>\n      </ArrayList>\n    </template>\n    <template #stepTargetInfo>\n      <h2 v-t=\"isLocal ? 'fleet.gitRepo.target.labelLocal' : 'fleet.gitRepo.target.label'\" />\n\n      <template v-if=\"!isLocal\">\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"targetMode\"\n              :options=\"targetOptions\"\n              option-key=\"value\"\n              :mode=\"mode\"\n              :selectable=\"option => !option.disabled\"\n              :label=\"t('fleet.gitRepo.target.selectLabel')\"\n            >\n              <template v-slot:option=\"opt\">\n                <hr v-if=\"opt.kind === 'divider'\">\n                <div v-else-if=\"opt.kind === 'title'\">\n                  {{ opt.label }}\n                </div>\n                <div v-else>\n                  {{ opt.label }}\n                </div>\n              </template>\n            </LabeledSelect>\n          </div>\n        </div>\n\n        <div\n          v-if=\"targetMode === 'advanced'\"\n          class=\"row mt-10\"\n        >\n          <div class=\"col span-12\">\n            <YamlEditor v-model=\"targetAdvanced\" />\n          </div>\n        </div>\n\n        <Banner\n          v-for=\"(err, i) in targetAdvancedErrors\"\n          :key=\"i\"\n          color=\"error\"\n          :label=\"err\"\n        />\n      </template>\n\n      <div class=\"row mt-20\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.spec.serviceAccount\"\n            :mode=\"mode\"\n            label-key=\"fleet.gitRepo.serviceAccount.label\"\n            placeholder-key=\"fleet.gitRepo.serviceAccount.placeholder\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.spec.targetNamespace\"\n            :mode=\"mode\"\n            label-key=\"fleet.gitRepo.targetNamespace.label\"\n            placeholder-key=\"fleet.gitRepo.targetNamespace.placeholder\"\n            label=\"Target Namespace\"\n            placeholder=\"Optional: Require all resources to be in this namespace\"\n          />\n        </div>\n      </div>\n      <div class=\"spacer\" />\n      <Labels\n        :value=\"value\"\n        :mode=\"mode\"\n        :display-side-by-side=\"false\"\n      />\n    </template>\n  </CruResource>\n</template>\n"],"mappings":"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"}]}