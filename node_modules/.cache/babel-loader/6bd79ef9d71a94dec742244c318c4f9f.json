{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCB7IE5BTUUsIENIQVJUX05BTUUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3Byb2R1Y3QvZ2F0ZWtlZXBlcic7CmltcG9ydCBJbnN0YWxsUmVkaXJlY3QgZnJvbSAnQHNoZWxsL3V0aWxzL2luc3RhbGwtcmVkaXJlY3QnOwppbXBvcnQgQ2hhcnRIZWFkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NoYXJ0SGVhZGluZyc7CmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgeyBDT05TVFJBSU5UX1ZJT0xBVElPTl9DT05TVFJBSU5UX0xJTkssIENPTlNUUkFJTlRfVklPTEFUSU9OX0NPVU5ULCBDT05TVFJBSU5UX1ZJT0xBVElPTl9URU1QTEFURV9MSU5LIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90YWJsZS1oZWFkZXJzJzsKaW1wb3J0IHsgR0FURUtFRVBFUiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwpleHBvcnQgdmFyIE9QQV9HQVRFX0tFRVBFUl9JRCA9ICdjbHVzdGVyL3JhbmNoZXItY2hhcnRzL3JhbmNoZXItZ2F0ZWtlZXBlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDaGFydEhlYWRpbmc6IENoYXJ0SGVhZGluZywKICAgIFNvcnRhYmxlVGFibGU6IFNvcnRhYmxlVGFibGUsCiAgICBCYW5uZXI6IEJhbm5lcgogIH0sCiAgbWlkZGxld2FyZTogSW5zdGFsbFJlZGlyZWN0KE5BTUUsIENIQVJUX05BTUUpLAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29uc3RyYWludHM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghX3RoaXMuY29uc3RyYWludCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gW190aGlzLmNvbnN0cmFpbnRdOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgdHlwZTogR0FURUtFRVBFUi5TUE9PRkVELkNPTlNUUkFJTlQKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY29uc3RyYWludHMgPSBfY29udGV4dC50MDsKICAgICAgICAgICAgX3RoaXMudmlvbGF0aW9ucyA9IGNvbnN0cmFpbnRzLm1hcChmdW5jdGlvbiAoY29uc3RyYWludCwgaSkgewogICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBpZDogaSwKICAgICAgICAgICAgICAgIGNvbnN0cmFpbnRMaW5rOiB7CiAgICAgICAgICAgICAgICAgIHRleHQ6IGNvbnN0cmFpbnQubmFtZURpc3BsYXksCiAgICAgICAgICAgICAgICAgIHRvOiBjb25zdHJhaW50LmRldGFpbExvY2F0aW9uCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdGVtcGxhdGVMaW5rOiB7CiAgICAgICAgICAgICAgICAgIHRleHQ6IGNvbnN0cmFpbnQua2luZCwKICAgICAgICAgICAgICAgICAgdG86IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UtaWQnLAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6ICd0ZW1wbGF0ZXMuZ2F0ZWtlZXBlci5zaC5jb25zdHJhaW50dGVtcGxhdGUnLAogICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbnN0cmFpbnQua2luZC50b0xvd2VyQ2FzZSgpLAogICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2dhdGVrZWVwZXInCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY291bnQ6IGNvbnN0cmFpbnQudG90YWxWaW9sYXRpb25zCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY3R4KSB7CiAgICByZXR1cm4gewogICAgICBoZWFkZXJzOiBbQ09OU1RSQUlOVF9WSU9MQVRJT05fQ09OU1RSQUlOVF9MSU5LLCBDT05TVFJBSU5UX1ZJT0xBVElPTl9URU1QTEFURV9MSU5LLCBDT05TVFJBSU5UX1ZJT0xBVElPTl9DT1VOVF0sCiAgICAgIHZpb2xhdGlvbnM6IFtdCiAgICB9OwogIH0KfTs="},{"version":3,"names":["NAME","CHART_NAME","InstallRedirect","ChartHeading","SortableTable","Banner","CONSTRAINT_VIOLATION_CONSTRAINT_LINK","CONSTRAINT_VIOLATION_COUNT","CONSTRAINT_VIOLATION_TEMPLATE_LINK","GATEKEEPER","OPA_GATE_KEEPER_ID","components","middleware","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","constraints","wrap","_callee$","_context","prev","next","constraint","t0","$store","dispatch","type","SPOOFED","CONSTRAINT","sent","violations","map","i","id","constraintLink","text","nameDisplay","to","detailLocation","templateLink","kind","name","params","resource","toLowerCase","product","count","totalViolations","stop","data","ctx","headers"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/index.vue"],"sourcesContent":["<script>\nimport { NAME, CHART_NAME } from '@shell/config/product/gatekeeper';\nimport InstallRedirect from '@shell/utils/install-redirect';\nimport ChartHeading from '@shell/components/ChartHeading';\nimport SortableTable from '@shell/components/SortableTable';\nimport { Banner } from '@components/Banner';\nimport { CONSTRAINT_VIOLATION_CONSTRAINT_LINK, CONSTRAINT_VIOLATION_COUNT, CONSTRAINT_VIOLATION_TEMPLATE_LINK } from '@shell/config/table-headers';\nimport { GATEKEEPER } from '@shell/config/types';\n\nexport const OPA_GATE_KEEPER_ID = 'cluster/rancher-charts/rancher-gatekeeper';\n\nexport default {\n  components: {\n    ChartHeading, SortableTable, Banner\n  },\n  middleware: InstallRedirect(NAME, CHART_NAME),\n  async fetch() {\n    const constraints = this.constraint ? [this.constraint] : await this.$store.dispatch('cluster/findAll', { type: GATEKEEPER.SPOOFED.CONSTRAINT });\n\n    this.violations = constraints\n      .map((constraint, i) => ({\n        id:             i,\n        constraintLink: {\n          text: constraint.nameDisplay,\n          to:   constraint.detailLocation\n        },\n        templateLink: {\n          text: constraint.kind,\n          to:   {\n            name:   'c-cluster-product-resource-id',\n            params: {\n              resource: 'templates.gatekeeper.sh.constrainttemplate', id: constraint.kind.toLowerCase(), product: 'gatekeeper'\n            }\n          }\n        },\n        count: constraint.totalViolations\n      }));\n  },\n  data(ctx) {\n    return {\n      headers: [\n        CONSTRAINT_VIOLATION_CONSTRAINT_LINK,\n        CONSTRAINT_VIOLATION_TEMPLATE_LINK,\n        CONSTRAINT_VIOLATION_COUNT\n      ],\n      violations: []\n    };\n  }\n};\n</script>\n\n<template>\n  <div>\n    <ChartHeading\n      :label=\"t('gatekeeperIndex.poweredBy')\"\n      url=\"https://github.com/open-policy-agent/gatekeeper\"\n    />\n    <Banner color=\"warning\">\n      <span v-clean-html=\"t('gatekeeperIndex.deprecated', {}, true)\" />\n    </Banner>\n    <div class=\"spacer\" />\n    <div class=\"mb-10\">\n      <h2><t k=\"gatekeeperIndex.violations\" /></h2>\n    </div>\n    <div>\n      <SortableTable\n        :headers=\"headers\"\n        :rows=\"violations\"\n        :search=\"false\"\n        :table-actions=\"false\"\n        :row-actions=\"false\"\n        :paging=\"true\"\n        :rows-per-page=\"10\"\n        key-field=\"id\"\n        group-by=\"templateLink.text\"\n      />\n    </div>\n  </div>\n</template>\n"],"mappings":";;;AACA,SAAAA,IAAA,EAAAC,UAAA;AACA,OAAAC,eAAA;AACA,OAAAC,YAAA;AACA,OAAAC,aAAA;AACA,SAAAC,MAAA;AACA,SAAAC,oCAAA,EAAAC,0BAAA,EAAAC,kCAAA;AACA,SAAAC,UAAA;AAEA,WAAAC,kBAAA;AAEA;EACAC,UAAA;IACAR,YAAA,EAAAA,YAAA;IAAAC,aAAA,EAAAA,aAAA;IAAAC,MAAA,EAAAA;EACA;EACAO,UAAA,EAAAV,eAAA,CAAAF,IAAA,EAAAC,UAAA;EACAY,KAAA,WAAAA,MAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,WAAA;MAAA,OAAAH,kBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,KACAV,KAAA,CAAAW,UAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAI,EAAA,IAAAZ,KAAA,CAAAW,UAAA;YAAAH,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAAAV,KAAA,CAAAa,MAAA,CAAAC,QAAA;cAAAC,IAAA,EAAApB,UAAA,CAAAqB,OAAA,CAAAC;YAAA;UAAA;YAAAT,QAAA,CAAAI,EAAA,GAAAJ,QAAA,CAAAU,IAAA;UAAA;YAAAb,WAAA,GAAAG,QAAA,CAAAI,EAAA;YAEAZ,KAAA,CAAAmB,UAAA,GAAAd,WAAA,CACAe,GAAA,WAAAT,UAAA,EAAAU,CAAA;cAAA;gBACAC,EAAA,EAAAD,CAAA;gBACAE,cAAA;kBACAC,IAAA,EAAAb,UAAA,CAAAc,WAAA;kBACAC,EAAA,EAAAf,UAAA,CAAAgB;gBACA;gBACAC,YAAA;kBACAJ,IAAA,EAAAb,UAAA,CAAAkB,IAAA;kBACAH,EAAA;oBACAI,IAAA;oBACAC,MAAA;sBACAC,QAAA;sBAAAV,EAAA,EAAAX,UAAA,CAAAkB,IAAA,CAAAI,WAAA;sBAAAC,OAAA;oBACA;kBACA;gBACA;gBACAC,KAAA,EAAAxB,UAAA,CAAAyB;cACA;YAAA;UAAA;UAAA;YAAA,OAAA5B,QAAA,CAAA6B,IAAA;QAAA;MAAA,GAAAjC,OAAA;IAAA;EACA;EACAkC,IAAA,WAAAA,KAAAC,GAAA;IACA;MACAC,OAAA,GACAhD,oCAAA,EACAE,kCAAA,EACAD,0BAAA,CACA;MACA0B,UAAA;IACA;EACA;AACA"}]}