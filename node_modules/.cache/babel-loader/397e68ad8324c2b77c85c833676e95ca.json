{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/cluster.x-k8s.io.machine.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/cluster.x-k8s.io.machine.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9nZXQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0IjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0IHsgQUREUkVTU0VTLCBDQVBJLCBOT0RFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IENBUEkgYXMgQ0FQSV9MQUJFTFMsIE1BQ0hJTkVfUk9MRVMgfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7CmltcG9ydCB7IE5BTUUgYXMgRVhQTE9SRVIgfSBmcm9tICdAc2hlbGwvY29uZmlnL3Byb2R1Y3QvZXhwbG9yZXInOwppbXBvcnQgeyBsaXN0Tm9kZVJvbGVzIH0gZnJvbSAnQHNoZWxsL21vZGVscy9jbHVzdGVyL25vZGUnOwppbXBvcnQgeyBlc2NhcGVIdG1sIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCB7IGluc2VydEF0LCBmaW5kQnkgfSBmcm9tICdAc2hlbGwvdXRpbHMvYXJyYXknOwppbXBvcnQgeyBnZXQgYXMgX2dldDIgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgZG93bmxvYWRVcmwgfSBmcm9tICdAc2hlbGwvdXRpbHMvZG93bmxvYWQnOwppbXBvcnQgU3RldmVNb2RlbCBmcm9tICdAc2hlbGwvcGx1Z2lucy9zdGV2ZS9zdGV2ZS1jbGFzcyc7CgovKioKICogUHJldmVudCBzY2FsaW5nIGRvd24gY29udHJvbCBwbGFuZSBvciBldGNkIG1hY2hpbmVzIHRvIHplcm8KICoKICogQHBhcmFtIHttYWNoaW5lIHwgbWFjaGluZURlcGxveW1lbnR9IGN1cnJlbnQKICogQHBhcmFtIHttYWNoaW5lW119IGFsbAogKiBAcmV0dXJucwogKi8KZXhwb3J0IGZ1bmN0aW9uIG5vdE9ubHlPZlJvbGUoY3VycmVudCwgYWxsKSB7CiAgLy8gVGhpcyBpcyBhIGxpdHRsZSBvdmVybHkgb3B0aW1pc2VkIGJ1dCBhdm9pZHMgaXRlcmF0aW5nIG92ZXIgYWxsIG1hY2hpbmVzIGV2ZXJ5IHRpbWUKCiAgdmFyIGZvdW5kVHlwZSA9IHt9OwogIGlmIChjdXJyZW50LmlzQ29udHJvbFBsYW5lKSB7CiAgICBmb3VuZFR5cGUuaXNDb250cm9sUGxhbmUgPSBmYWxzZTsKICB9CiAgaWYgKGN1cnJlbnQuaXNFdGNkKSB7CiAgICBmb3VuZFR5cGUuaXNFdGNkID0gZmFsc2U7CiAgfQogIGlmIChPYmplY3Qua2V5cyhmb3VuZFR5cGUpLmxlbmd0aCA9PT0gMCkgewogICAgcmV0dXJuIHRydWU7IC8vIEl0J3MgbmVpdGhlciB0eXBlLCBzbyBjYW4gYWx3YXlzIHNjYWxlIGRvd24KICB9CgogIC8vIElmIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSBvZiB0aGUgcmVxdWlyZWQgdHlwZXMgdGhlbiBpdCdzIG5vdCB0aGUgbGFzdCBvZiB0aGF0IHR5cGUgYW5kIGNhbiBiZSBzY2FsZWQgZG93bgogIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhbGwpLAogICAgX3N0ZXA7CiAgdHJ5IHsKICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkgewogICAgICAgIHZhciBtID0gX3N0ZXAudmFsdWU7CiAgICAgICAgT2JqZWN0LmtleXMoZm91bmRUeXBlKS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgICAgICAvLyBIYXZlIHdlIGZvdW5kIHRoaXMgdHlwZT8KICAgICAgICAgIGlmIChtW3R5cGVdKSB7CiAgICAgICAgICAgIGlmIChmb3VuZFR5cGVbdHlwZV0pIHsKICAgICAgICAgICAgICAvLyBBbm90aGVyIG9mIHRoaXMgdHlwZSBleGlzdHMsIHdlIGRvbid0IG5lZWQgdG8gY2hlY2sgZm9yIGl0IGZ1cnRoZXIKICAgICAgICAgICAgICBkZWxldGUgZm91bmRUeXBlW3R5cGVdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIFJlY29yZCB0aGF0IHdlJ3ZlIGZvdW5kIHR5cGUKICAgICAgICAgICAgICBmb3VuZFR5cGVbdHlwZV0gPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIC8vIEFyZSB0aGVyZSBubyB0eXBlcyBsZWZ0IHRvIGxvb2sgZm9yPwogICAgICAgIGlmIChPYmplY3Qua2V5cyhmb3VuZFR5cGUpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdjogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIF9yZXQ7CiAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICBfcmV0ID0gX2xvb3AoKTsKICAgICAgaWYgKF9yZXQpIHJldHVybiBfcmV0LnY7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfaXRlcmF0b3IuZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3IuZigpOwogIH0KICByZXR1cm4gZmFsc2U7Cn0KdmFyIENhcGlNYWNoaW5lID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU3RldmVNb2RlbCkgewogIF9pbmhlcml0cyhDYXBpTWFjaGluZSwgX1N0ZXZlTW9kZWwpOwogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2FwaU1hY2hpbmUpOwogIGZ1bmN0aW9uIENhcGlNYWNoaW5lKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcGlNYWNoaW5lKTsKICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CiAgX2NyZWF0ZUNsYXNzKENhcGlNYWNoaW5lLCBbewogICAga2V5OiAiX2F2YWlsYWJsZUFjdGlvbnMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBvdXQgPSBfZ2V0KF9nZXRQcm90b3R5cGVPZihDYXBpTWFjaGluZS5wcm90b3R5cGUpLCAiX2F2YWlsYWJsZUFjdGlvbnMiLCB0aGlzKTsKICAgICAgdmFyIG9wZW5Tc2ggPSB7CiAgICAgICAgYWN0aW9uOiAnb3BlblNzaCcsCiAgICAgICAgZW5hYmxlZDogISF0aGlzLmxpbmtzLnNoZWxsICYmIHRoaXMuaXNSdW5uaW5nLAogICAgICAgIGljb246ICdpY29uIGljb24tZncgaWNvbi1jaGV2cm9uLXJpZ2h0JywKICAgICAgICBsYWJlbDogJ1NTSCBTaGVsbCcKICAgICAgfTsKICAgICAgdmFyIGRvd25sb2FkS2V5cyA9IHsKICAgICAgICBhY3Rpb246ICdkb3dubG9hZEtleXMnLAogICAgICAgIGVuYWJsZWQ6ICEhdGhpcy5saW5rcy5zc2hrZXlzLAogICAgICAgIGljb246ICdpY29uIGljb24tZncgaWNvbi1kb3dubG9hZCcsCiAgICAgICAgbGFiZWw6IHRoaXMudCgnbm9kZS5hY3Rpb25zLmRvd25sb2FkU1NIS2V5JykKICAgICAgfTsKICAgICAgdmFyIGZvcmNlUmVtb3ZlID0gewogICAgICAgIGFjdGlvbjogJ3RvZ2dsZUZvcmNlUmVtb3ZlTW9kYWwnLAogICAgICAgIGFsdEFjdGlvbjogJ2ZvcmNlTWFjaGluZVJlbW92ZScsCiAgICAgICAgZW5hYmxlZDogISF0aGlzLmlzUmVtb3ZlRm9yY2VhYmxlLAogICAgICAgIGxhYmVsOiB0aGlzLnQoJ25vZGUuYWN0aW9ucy5mb3JjZURlbGV0ZScpLAogICAgICAgIGljb246ICdpY29uIGljb24tdHJhc2gnCiAgICAgIH07CiAgICAgIHZhciBzY2FsZURvd24gPSB7CiAgICAgICAgYWN0aW9uOiAndG9nZ2xlU2NhbGVEb3duTW9kYWwnLAogICAgICAgIGJ1bGtBY3Rpb246ICd0b2dnbGVTY2FsZURvd25Nb2RhbCcsCiAgICAgICAgZW5hYmxlZDogISF0aGlzLmNhblNjYWxlRG93biwKICAgICAgICBpY29uOiAnaWNvbiBpY29uLW1pbnVzIGljb24tZncnLAogICAgICAgIGxhYmVsOiB0aGlzLnQoJ25vZGUuYWN0aW9ucy5zY2FsZURvd24nKSwKICAgICAgICBidWxrYWJsZTogdHJ1ZQogICAgICB9OwogICAgICBpbnNlcnRBdChvdXQsIDAsIHsKICAgICAgICBkaXZpZGVyOiB0cnVlCiAgICAgIH0pOwogICAgICBpbnNlcnRBdChvdXQsIDAsIGRvd25sb2FkS2V5cyk7CiAgICAgIGluc2VydEF0KG91dCwgMCwgb3BlblNzaCk7CiAgICAgIGluc2VydEF0KG91dCwgMCwgc2NhbGVEb3duKTsKICAgICAgaW5zZXJ0QXQob3V0LCAwLCBmb3JjZVJlbW92ZSk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuQ2xvbmUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcGVuU3NoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuU3NoKG5hbWUpIHsKICAgICAgdmFyIGxhYmVsID0gbmFtZSB8fCB0aGlzLm5hbWVEaXNwbGF5OwogICAgICB0aGlzLiRkaXNwYXRjaCgnd20vb3BlbicsIHsKICAgICAgICBpZDogIiIuY29uY2F0KHRoaXMuaWQsICItc3NoIiksCiAgICAgICAgbGFiZWw6IGxhYmVsLAogICAgICAgIGljb246ICd0ZXJtaW5hbCcsCiAgICAgICAgY29tcG9uZW50OiAnTWFjaGluZVNzaCcsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIG1hY2hpbmU6IHRoaXMsCiAgICAgICAgICBwb2Q6IHt9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgcm9vdDogdHJ1ZQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkb3dubG9hZEtleXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkS2V5cygpIHsKICAgICAgZG93bmxvYWRVcmwodGhpcy5saW5rcy5zc2hrZXlzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b2dnbGVGb3JjZVJlbW92ZU1vZGFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVGb3JjZVJlbW92ZU1vZGFsKCkgewogICAgICB2YXIgcmVzb3VyY2VzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzOwogICAgICB0aGlzLiRkaXNwYXRjaCgncHJvbXB0TW9kYWwnLCB7CiAgICAgICAgY29tcG9uZW50UHJvcHM6IHsKICAgICAgICAgIG1hY2hpbmU6IHJlc291cmNlcwogICAgICAgIH0sCiAgICAgICAgY29tcG9uZW50OiAnRm9yY2VNYWNoaW5lUmVtb3ZlRGlhbG9nJwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmb3JjZU1hY2hpbmVSZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mb3JjZU1hY2hpbmVSZW1vdmUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG1hY2hpbmU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFjaGluZVJlZigpOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgbWFjaGluZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgbWFjaGluZS5zZXRBbm5vdGF0aW9uKENBUElfTEFCRUxTLkZPUkNFX01BQ0hJTkVfUkVNT1ZFLCAndHJ1ZScpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBtYWNoaW5lLnNhdmUoKTsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKICAgICAgZnVuY3Rpb24gZm9yY2VNYWNoaW5lUmVtb3ZlKCkgewogICAgICAgIHJldHVybiBfZm9yY2VNYWNoaW5lUmVtb3ZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZvcmNlTWFjaGluZVJlbW92ZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInRvZ2dsZVNjYWxlRG93bk1vZGFsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVTY2FsZURvd25Nb2RhbCgpIHsKICAgICAgdmFyIHJlc291cmNlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpczsKICAgICAgdGhpcy4kZGlzcGF0Y2goJ3Byb21wdE1vZGFsJywgewogICAgICAgIHJlc291cmNlczogcmVzb3VyY2VzLAogICAgICAgIGNvbXBvbmVudDogJ1NjYWxlTWFjaGluZURvd25EaWFsb2cnLAogICAgICAgIG1vZGFsV2lkdGg6ICc0NTBweCcKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFjaGluZVJlZiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX21hY2hpbmVSZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZWYsIGlkLCBraW5kOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICByZWYgPSB0aGlzLnNwZWMuaW5mcmFzdHJ1Y3R1cmVSZWY7CiAgICAgICAgICAgICAgaWQgPSAiIi5jb25jYXQocmVmLm5hbWVzcGFjZSwgIi8iKS5jb25jYXQocmVmLm5hbWUpOwogICAgICAgICAgICAgIGtpbmQgPSAicmtlLW1hY2hpbmUuY2F0dGxlLmlvLiIuY29uY2F0KHJlZi5raW5kLnRvTG93ZXJDYXNlKCkpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZGlzcGF0Y2goJ2ZpbmQnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBraW5kLAogICAgICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnNlbnQpOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CiAgICAgIGZ1bmN0aW9uIG1hY2hpbmVSZWYoKSB7CiAgICAgICAgcmV0dXJuIF9tYWNoaW5lUmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgICAgcmV0dXJuIG1hY2hpbmVSZWY7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjbHVzdGVyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICBpZiAoIXRoaXMuc3BlYy5jbHVzdGVyTmFtZSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHZhciBjbHVzdGVySWQgPSAiIi5jb25jYXQodGhpcy5tZXRhZGF0YS5uYW1lc3BhY2UsICIvIikuY29uY2F0KHRoaXMuc3BlYy5jbHVzdGVyTmFtZSk7CiAgICAgIHZhciBjbHVzdGVyID0gdGhpcy4kcm9vdEdldHRlcnNbJ21hbmFnZW1lbnQvYnlJZCddKENBUEkuUkFOQ0hFUl9DTFVTVEVSLCBjbHVzdGVySWQpOwogICAgICByZXR1cm4gY2x1c3RlcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb29sTmFtZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJG1ldGFkYXRhOwogICAgICByZXR1cm4gKChfdGhpcyRtZXRhZGF0YSA9IHRoaXMubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJG1ldGFkYXRhID09PSB2b2lkIDAgfHwgKF90aGlzJG1ldGFkYXRhID0gX3RoaXMkbWV0YWRhdGEubGFiZWxzKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGFbQ0FQSV9MQUJFTFMuREVQTE9ZTUVOVF9OQU1FXSkgfHwgJyc7CiAgICB9CiAgfSwgewogICAga2V5OiAicG9vbElkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgcG9vbElkID0gIiIuY29uY2F0KHRoaXMubWV0YWRhdGEubmFtZXNwYWNlLCAiLyIpLmNvbmNhdCh0aGlzLnBvb2xOYW1lKTsKICAgICAgcmV0dXJuIHBvb2xJZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb29sIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ21hbmFnZW1lbnQvYnlJZCddKENBUEkuTUFDSElORV9ERVBMT1lNRU5ULCB0aGlzLnBvb2xJZCk7CiAgICB9CiAgfSwgewogICAga2V5OiAib3BlcmF0aW5nU3lzdGVtIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkbWV0YWRhdGEyOwogICAgICByZXR1cm4gKChfdGhpcyRtZXRhZGF0YTIgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXRhZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1ldGFkYXRhMi5sYWJlbHNbJ2NhdHRsZS5pby9vcyddKSB8fCAnbGludXgnOwogICAgfQogIH0sIHsKICAgIGtleTogImt1YmVOb2RlRGV0YWlsTG9jYXRpb24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0dXMsIF90aGlzJGNsdXN0ZXI7CiAgICAgIHZhciBrdWJlSWQgPSAoX3RoaXMkc3RhdHVzID0gdGhpcy5zdGF0dXMpID09PSBudWxsIHx8IF90aGlzJHN0YXR1cyA9PT0gdm9pZCAwIHx8IChfdGhpcyRzdGF0dXMgPSBfdGhpcyRzdGF0dXMubm9kZVJlZikgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRzdGF0dXMubmFtZTsKICAgICAgdmFyIGNsdXN0ZXIgPSAoX3RoaXMkY2x1c3RlciA9IHRoaXMuY2x1c3RlcikgPT09IG51bGwgfHwgX3RoaXMkY2x1c3RlciA9PT0gdm9pZCAwIHx8IChfdGhpcyRjbHVzdGVyID0gX3RoaXMkY2x1c3Rlci5zdGF0dXMpID09PSBudWxsIHx8IF90aGlzJGNsdXN0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGNsdXN0ZXIuY2x1c3Rlck5hbWU7CiAgICAgIGlmIChrdWJlSWQgJiYgY2x1c3RlcikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuYW1lOiAnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UtaWQnLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuY2x1c3Rlci5zdGF0dXMuY2x1c3Rlck5hbWUsCiAgICAgICAgICAgIHByb2R1Y3Q6IEVYUExPUkVSLAogICAgICAgICAgICByZXNvdXJjZTogTk9ERSwKICAgICAgICAgICAgaWQ6IGt1YmVJZAogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgICAgcmV0dXJuIGt1YmVJZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJncm91cEJ5TGFiZWwiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRjbHVzdGVyMjsKICAgICAgdmFyIG5hbWUgPSAoKF90aGlzJGNsdXN0ZXIyID0gdGhpcy5jbHVzdGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRjbHVzdGVyMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2x1c3RlcjIubmFtZURpc3BsYXkpIHx8IHRoaXMuc3BlYy5jbHVzdGVyTmFtZTsKICAgICAgcmV0dXJuIHRoaXMuJHJvb3RHZXR0ZXJzWydpMThuL3QnXSgncmVzb3VyY2VUYWJsZS5ncm91cExhYmVsLmNsdXN0ZXInLCB7CiAgICAgICAgbmFtZTogZXNjYXBlSHRtbChuYW1lKQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsYWJlbHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRtZXRhZGF0YTM7CiAgICAgIHJldHVybiAoKF90aGlzJG1ldGFkYXRhMyA9IHRoaXMubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJG1ldGFkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWV0YWRhdGEzLmxhYmVscykgfHwge307CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNXb3JrZXIiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5sYWJlbHNbTUFDSElORV9ST0xFUy5XT1JLRVJdKSA9PT0gJ3RydWUnOwogICAgfQogIH0sIHsKICAgIGtleTogImlzQ29udHJvbFBsYW5lIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMubGFiZWxzW01BQ0hJTkVfUk9MRVMuQ09OVFJPTF9QTEFORV0pID09PSAndHJ1ZSc7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNFdGNkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMubGFiZWxzW01BQ0hJTkVfUk9MRVMuRVRDRF0pID09PSAndHJ1ZSc7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNSZW1vdmVGb3JjZWFibGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBjb25kaXRpb25zID0gX2dldDIodGhpcywgJ3N0YXR1cy5jb25kaXRpb25zJyk7CiAgICAgIHZhciByZWFzb25NZXNzYWdlID0gKGZpbmRCeShjb25kaXRpb25zLCAndHlwZScsICdJbmZyYXN0cnVjdHVyZVJlYWR5JykgfHwge30pLnJlYXNvbjsKICAgICAgaWYgKHJlYXNvbk1lc3NhZ2UgPT09ICdEZWxldGVFcnJvcicpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5TY2FsZURvd24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRwb29sOwogICAgICBpZiAoIXRoaXMuY2FuVXBkYXRlIHx8ICEoKF90aGlzJHBvb2wgPSB0aGlzLnBvb2wpICE9PSBudWxsICYmIF90aGlzJHBvb2wgIT09IHZvaWQgMCAmJiBfdGhpcyRwb29sLmNhblVwZGF0ZSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIG5vdE9ubHlPZlJvbGUodGhpcywgdGhpcy5jbHVzdGVyLm1hY2hpbmVzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyb2xlcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIGlzQ29udHJvbFBsYW5lID0gdGhpcy5pc0NvbnRyb2xQbGFuZSwKICAgICAgICBpc1dvcmtlciA9IHRoaXMuaXNXb3JrZXIsCiAgICAgICAgaXNFdGNkID0gdGhpcy5pc0V0Y2Q7CiAgICAgIHJldHVybiBsaXN0Tm9kZVJvbGVzKGlzQ29udHJvbFBsYW5lLCBpc1dvcmtlciwgaXNFdGNkLCB0aGlzLnQoJ2dlbmVyaWMuYWxsJykpOwogICAgfQogIH0sIHsKICAgIGtleTogImlzUnVubmluZyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHN0YXR1czI7CiAgICAgIHJldHVybiAoKF90aGlzJHN0YXR1czIgPSB0aGlzLnN0YXR1cykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzMi5waGFzZSkgPT09ICdSdW5uaW5nJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbnRlcm5hbElwIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkc3RhdHVzMzsKICAgICAgLy8gVGhpcyBzaG93cyBpbiB0aGUgSVAgYWRkcmVzcyBjb2x1bW4gZm9yIFJLRTIgbm9kZXMgaW4gdGhlCiAgICAgIC8vIGxpc3Qgb2Ygbm9kZXMgaW4gdGhlIGNsdXN0ZXIgZGV0YWlsIHBhZ2Ugb2YgQ2x1c3RlciBNYW5hZ2VtZW50LgogICAgICB2YXIgaW50ZXJuYWwgPSAoX3RoaXMkc3RhdHVzMyA9IHRoaXMuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0dXMzID09PSB2b2lkIDAgfHwgKF90aGlzJHN0YXR1czMgPSBfdGhpcyRzdGF0dXMzLmFkZHJlc3NlcykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzMyA9PT0gdm9pZCAwIHx8IChfdGhpcyRzdGF0dXMzID0gX3RoaXMkc3RhdHVzMy5maW5kKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIHR5cGUgPSBfcmVmLnR5cGU7CiAgICAgICAgcmV0dXJuIHR5cGUgPT09IEFERFJFU1NFUy5JTlRFUk5BTF9JUDsKICAgICAgfSkpID09PSBudWxsIHx8IF90aGlzJHN0YXR1czMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHN0YXR1czMuYWRkcmVzczsKICAgICAgaWYgKGludGVybmFsKSB7CiAgICAgICAgcmV0dXJuIGludGVybmFsOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnQoJ2dlbmVyaWMubm9uZScpOwogICAgfQogIH0sIHsKICAgIGtleTogImV4dGVybmFsSXAiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRzdGF0dXM0OwogICAgICB2YXIgZXh0ZXJuYWwgPSAoX3RoaXMkc3RhdHVzNCA9IHRoaXMuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0dXM0ID09PSB2b2lkIDAgfHwgKF90aGlzJHN0YXR1czQgPSBfdGhpcyRzdGF0dXM0LmFkZHJlc3NlcykgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzNCA9PT0gdm9pZCAwIHx8IChfdGhpcyRzdGF0dXM0ID0gX3RoaXMkc3RhdHVzNC5maW5kKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciB0eXBlID0gX3JlZjIudHlwZTsKICAgICAgICByZXR1cm4gdHlwZSA9PT0gQUREUkVTU0VTLkVYVEVSTkFMX0lQOwogICAgICB9KSkgPT09IG51bGwgfHwgX3RoaXMkc3RhdHVzNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdHVzNC5hZGRyZXNzOwogICAgICBpZiAoZXh0ZXJuYWwpIHsKICAgICAgICByZXR1cm4gZXh0ZXJuYWw7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMudCgnZ2VuZXJpYy5ub25lJyk7CiAgICB9CiAgfV0pOwogIHJldHVybiBDYXBpTWFjaGluZTsKfShTdGV2ZU1vZGVsKTsKZXhwb3J0IHsgQ2FwaU1hY2hpbmUgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["ADDRESSES","CAPI","NODE","CAPI_LABELS","MACHINE_ROLES","NAME","EXPLORER","listNodeRoles","escapeHtml","insertAt","findBy","get","downloadUrl","SteveModel","notOnlyOfRole","current","all","foundType","isControlPlane","isEtcd","Object","keys","length","_iterator","_createForOfIteratorHelper","_step","_loop","m","value","forEach","type","v","_ret","s","n","done","err","e","f","CapiMachine","_SteveModel","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","out","_get","_getPrototypeOf","prototype","openSsh","action","enabled","links","shell","isRunning","icon","label","downloadKeys","sshkeys","t","forceRemove","altAction","isRemoveForceable","scaleDown","bulkAction","canScaleDown","bulkable","divider","name","nameDisplay","$dispatch","id","concat","component","attrs","machine","pod","root","toggleForceRemoveModal","resources","undefined","componentProps","_forceMachineRemove","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","machineRef","sent","setAnnotation","FORCE_MACHINE_REMOVE","save","stop","forceMachineRemove","toggleScaleDownModal","modalWidth","_machineRef","_callee2","ref","kind","_callee2$","_context2","spec","infrastructureRef","namespace","toLowerCase","abrupt","clusterName","clusterId","metadata","cluster","$rootGetters","RANCHER_CLUSTER","_this$metadata","labels","DEPLOYMENT_NAME","poolId","poolName","MACHINE_DEPLOYMENT","_this$metadata2","_this$status","_this$cluster","kubeId","status","nodeRef","params","product","resource","_this$cluster2","_this$metadata3","WORKER","CONTROL_PLANE","ETCD","conditions","reasonMessage","reason","_this$pool","canUpdate","pool","machines","isWorker","_this$status2","phase","_this$status3","internal","addresses","find","_ref","INTERNAL_IP","address","_this$status4","external","_ref2","EXTERNAL_IP","default"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/cluster.x-k8s.io.machine.js"],"sourcesContent":["import { ADDRESSES, CAPI, NODE } from '@shell/config/types';\nimport { CAPI as CAPI_LABELS, MACHINE_ROLES } from '@shell/config/labels-annotations';\nimport { NAME as EXPLORER } from '@shell/config/product/explorer';\nimport { listNodeRoles } from '@shell/models/cluster/node';\nimport { escapeHtml } from '@shell/utils/string';\nimport { insertAt, findBy } from '@shell/utils/array';\nimport { get } from '@shell/utils/object';\nimport { downloadUrl } from '@shell/utils/download';\nimport SteveModel from '@shell/plugins/steve/steve-class';\n\n/**\n * Prevent scaling down control plane or etcd machines to zero\n *\n * @param {machine | machineDeployment} current\n * @param {machine[]} all\n * @returns\n */\nexport function notOnlyOfRole(current, all) {\n  // This is a little overly optimised but avoids iterating over all machines every time\n\n  const foundType = { };\n\n  if (current.isControlPlane) {\n    foundType.isControlPlane = false;\n  }\n  if (current.isEtcd) {\n    foundType.isEtcd = false;\n  }\n  if (Object.keys(foundType).length === 0) {\n    return true; // It's neither type, so can always scale down\n  }\n\n  // If we have more than one of the required types then it's not the last of that type and can be scaled down\n  for (const m of all) {\n    Object.keys(foundType).forEach((type) => {\n      // Have we found this type?\n      if (m[type]) {\n        if (foundType[type]) {\n          // Another of this type exists, we don't need to check for it further\n          delete foundType[type];\n        } else {\n          // Record that we've found type\n          foundType[type] = true;\n        }\n      }\n    });\n\n    // Are there no types left to look for?\n    if (Object.keys(foundType).length === 0) {\n      return true;\n    }\n  }\n\n  return false;\n}\nexport default class CapiMachine extends SteveModel {\n  get _availableActions() {\n    const out = super._availableActions;\n\n    const openSsh = {\n      action:  'openSsh',\n      enabled: !!this.links.shell && this.isRunning,\n      icon:    'icon icon-fw icon-chevron-right',\n      label:   'SSH Shell',\n    };\n    const downloadKeys = {\n      action:  'downloadKeys',\n      enabled: !!this.links.sshkeys,\n      icon:    'icon icon-fw icon-download',\n      label:   this.t('node.actions.downloadSSHKey'),\n    };\n    const forceRemove = {\n      action:    'toggleForceRemoveModal',\n      altAction: 'forceMachineRemove',\n      enabled:   !!this.isRemoveForceable,\n      label:     this.t('node.actions.forceDelete'),\n      icon:      'icon icon-trash',\n    };\n    const scaleDown = {\n      action:     'toggleScaleDownModal',\n      bulkAction: 'toggleScaleDownModal',\n      enabled:    !!this.canScaleDown,\n      icon:       'icon icon-minus icon-fw',\n      label:      this.t('node.actions.scaleDown'),\n      bulkable:   true\n    };\n\n    insertAt(out, 0, { divider: true });\n    insertAt(out, 0, downloadKeys);\n    insertAt(out, 0, openSsh);\n    insertAt(out, 0, scaleDown);\n    insertAt(out, 0, forceRemove);\n\n    return out;\n  }\n\n  get canClone() {\n    return false;\n  }\n\n  openSsh(name) {\n    const label = name || this.nameDisplay;\n\n    this.$dispatch('wm/open', {\n      id:        `${ this.id }-ssh`,\n      label,\n      icon:      'terminal',\n      component: 'MachineSsh',\n      attrs:     { machine: this, pod: {} }\n    }, { root: true });\n  }\n\n  downloadKeys() {\n    downloadUrl(this.links.sshkeys);\n  }\n\n  toggleForceRemoveModal(resources = this) {\n    this.$dispatch('promptModal', {\n      componentProps: { machine: resources },\n      component:      'ForceMachineRemoveDialog'\n    });\n  }\n\n  async forceMachineRemove() {\n    const machine = await this.machineRef();\n\n    machine.setAnnotation(CAPI_LABELS.FORCE_MACHINE_REMOVE, 'true');\n    await machine.save();\n  }\n\n  toggleScaleDownModal(resources = this) {\n    this.$dispatch('promptModal', {\n      resources,\n      component:  'ScaleMachineDownDialog',\n      modalWidth: '450px'\n    });\n  }\n\n  async machineRef() {\n    const ref = this.spec.infrastructureRef;\n    const id = `${ ref.namespace }/${ ref.name }`;\n    const kind = `rke-machine.cattle.io.${ ref.kind.toLowerCase() }`;\n\n    return await this.$dispatch('find', { type: kind, id });\n  }\n\n  get cluster() {\n    if ( !this.spec.clusterName ) {\n      return null;\n    }\n\n    const clusterId = `${ this.metadata.namespace }/${ this.spec.clusterName }`;\n\n    const cluster = this.$rootGetters['management/byId'](CAPI.RANCHER_CLUSTER, clusterId);\n\n    return cluster;\n  }\n\n  get poolName() {\n    return this.metadata?.labels?.[ CAPI_LABELS.DEPLOYMENT_NAME ] || '';\n  }\n\n  get poolId() {\n    const poolId = `${ this.metadata.namespace }/${ this.poolName }`;\n\n    return poolId;\n  }\n\n  get pool() {\n    return this.$rootGetters['management/byId'](CAPI.MACHINE_DEPLOYMENT, this.poolId);\n  }\n\n  get operatingSystem() {\n    return this.metadata?.labels['cattle.io/os'] || 'linux';\n  }\n\n  get kubeNodeDetailLocation() {\n    const kubeId = this.status?.nodeRef?.name;\n    const cluster = this.cluster?.status?.clusterName;\n\n    if ( kubeId && cluster ) {\n      return {\n        name:   'c-cluster-product-resource-id',\n        params: {\n          cluster:  this.cluster.status.clusterName,\n          product:  EXPLORER,\n          resource: NODE,\n          id:       kubeId\n        }\n      };\n    }\n\n    return kubeId;\n  }\n\n  get groupByLabel() {\n    const name = this.cluster?.nameDisplay || this.spec.clusterName;\n\n    return this.$rootGetters['i18n/t']('resourceTable.groupLabel.cluster', { name: escapeHtml(name) });\n  }\n\n  get labels() {\n    return this.metadata?.labels || {};\n  }\n\n  get isWorker() {\n    return `${ this.labels[MACHINE_ROLES.WORKER] }` === 'true';\n  }\n\n  get isControlPlane() {\n    return `${ this.labels[MACHINE_ROLES.CONTROL_PLANE] }` === 'true';\n  }\n\n  get isEtcd() {\n    return `${ this.labels[MACHINE_ROLES.ETCD] }` === 'true';\n  }\n\n  get isRemoveForceable() {\n    const conditions = get(this, 'status.conditions');\n    const reasonMessage = (findBy(conditions, 'type', 'InfrastructureReady') || {}).reason;\n\n    if (reasonMessage === 'DeleteError') {\n      return true;\n    }\n\n    return null;\n  }\n\n  get canScaleDown() {\n    if (!this.canUpdate || !this.pool?.canUpdate) {\n      return false;\n    }\n\n    return notOnlyOfRole(this, this.cluster.machines);\n  }\n\n  get roles() {\n    const { isControlPlane, isWorker, isEtcd } = this;\n\n    return listNodeRoles(isControlPlane, isWorker, isEtcd, this.t('generic.all'));\n  }\n\n  get isRunning() {\n    return this.status?.phase === 'Running';\n  }\n\n  get internalIp() {\n    // This shows in the IP address column for RKE2 nodes in the\n    // list of nodes in the cluster detail page of Cluster Management.\n    const internal = this.status?.addresses?.find(({ type }) => {\n      return type === ADDRESSES.INTERNAL_IP;\n    })?.address;\n\n    if (internal) {\n      return internal;\n    }\n\n    return this.t('generic.none');\n  }\n\n  get externalIp() {\n    const external = this.status?.addresses?.find(({ type }) => {\n      return type === ADDRESSES.EXTERNAL_IP;\n    })?.address;\n\n    if (external) {\n      return external;\n    }\n\n    return this.t('generic.none');\n  }\n}\n"],"mappings":"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"}]}