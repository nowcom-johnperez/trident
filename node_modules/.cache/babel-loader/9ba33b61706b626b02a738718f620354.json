{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/secret/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/secret/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IFNFQ1JFVF9UWVBFUyBhcyBUWVBFUyB9IGZyb20gJ0BzaGVsbC9jb25maWcvc2VjcmV0JzsKaW1wb3J0IHsgTUFOQUdFTUVOVCwgTkFNRVNQQUNFLCBERUZBVUxUX1dPUktTUEFDRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IE5hbWVOc0Rlc2NyaXB0aW9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTmFtZU5zRGVzY3JpcHRpb24nOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCBDcnVSZXNvdXJjZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DcnVSZXNvdXJjZSc7CmltcG9ydCB7IENMT1VEX0NSRURFTlRJQUwsIF9DTE9ORSwgX0NSRUFURSwgX0VESVQsIF9GTEFHR0VEIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgVGFiIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9UYWInOwppbXBvcnQgTGFiZWxzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxzJzsKaW1wb3J0IHsgSElERV9TRU5TSVRJVkUgfSBmcm9tICdAc2hlbGwvc3RvcmUvcHJlZnMnOwppbXBvcnQgeyBDQVBJIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwppbXBvcnQgeyBjbGVhciwgdW5pcSB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7CmltcG9ydCB7IE5BTUUgYXMgTUFOQUdFUiB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJvZHVjdC9tYW5hZ2VyJzsKaW1wb3J0IFNlbGVjdEljb25HcmlkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NlbGVjdEljb25HcmlkJzsKaW1wb3J0IHsgc29ydEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NvcnQnOwppbXBvcnQgeyB1Y0ZpcnN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CnZhciBjcmVhdGFibGVUeXBlcyA9IFtUWVBFUy5PUEFRVUUsIFRZUEVTLkRPQ0tFUl9KU09OLCBUWVBFUy5UTFMsIFRZUEVTLlNTSCwgVFlQRVMuQkFTSUNdOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NydVNlY3JldCcsCiAgY29tcG9uZW50czogewogICAgTGFiZWxlZElucHV0OiBMYWJlbGVkSW5wdXQsCiAgICBMYWJlbGVkU2VsZWN0OiBMYWJlbGVkU2VsZWN0LAogICAgTG9hZGluZzogTG9hZGluZywKICAgIE5hbWVOc0Rlc2NyaXB0aW9uOiBOYW1lTnNEZXNjcmlwdGlvbiwKICAgIENydVJlc291cmNlOiBDcnVSZXNvdXJjZSwKICAgIFRhYmJlZDogVGFiYmVkLAogICAgVGFiOiBUYWIsCiAgICBMYWJlbHM6IExhYmVscywKICAgIFNlbGVjdEljb25HcmlkOiBTZWxlY3RJY29uR3JpZAogIH0sCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAogIGZldGNoOiBmdW5jdGlvbiBmZXRjaCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoIV90aGlzLmlzQ2xvdWQpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgewogICAgICAgICAgICAgIHR5cGU6IE1BTkFHRU1FTlQuTk9ERV9EUklWRVIKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIF90aGlzLm5vZGVEcml2ZXJzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBuZXdDbG91ZENyZWQgPSB0aGlzLiRyb3V0ZS5xdWVyeVtDTE9VRF9DUkVERU5USUFMXSA9PT0gX0ZMQUdHRUQ7CiAgICB2YXIgZWRpdENsb3VkQ3JlZCA9IHRoaXMubW9kZSA9PT0gX0VESVQgJiYgdGhpcy52YWx1ZS5fdHlwZSA9PT0gVFlQRVMuQ0xPVURfQ1JFREVOVElBTDsKICAgIHZhciBjbG9uZUNsb3VkQ3JlZCA9IHRoaXMucmVhbE1vZGUgPT09IF9DTE9ORSAmJiB0aGlzLmxpdmVWYWx1ZS5fdHlwZSA9PT0gVFlQRVMuQ0xPVURfQ1JFREVOVElBTDsKICAgIHZhciBpc0Nsb3VkID0gbmV3Q2xvdWRDcmVkIHx8IGVkaXRDbG91ZENyZWQgfHwgY2xvbmVDbG91ZENyZWQ7CiAgICBpZiAobmV3Q2xvdWRDcmVkKSB7CiAgICAgIHRoaXMudmFsdWUubWV0YWRhdGEubmFtZXNwYWNlID0gREVGQVVMVF9XT1JLU1BBQ0U7CiAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLm1ldGFkYXRhLCAnbmFtZScsICcnKTsKICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdkYXRhJywge30pOwogICAgfQogICAgdmFyIHNlY3JldFR5cGVzID0gW3sKICAgICAgbGFiZWw6ICdDdXN0b20nLAogICAgICB2YWx1ZTogJ2N1c3RvbScKICAgIH0sIHsKICAgICAgbGFiZWw6ICdkaXZpZGVyJywKICAgICAgZGlzYWJsZWQ6IHRydWUsCiAgICAgIGtpbmQ6ICdkaXZpZGVyJwogICAgfV07CiAgICBPYmplY3QudmFsdWVzKFRZUEVTKS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7CiAgICAgIHNlY3JldFR5cGVzLnB1c2goewogICAgICAgIGxhYmVsOiB0LAogICAgICAgIHZhbHVlOiB0CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBpc0Nsb3VkOiBpc0Nsb3VkLAogICAgICBub2RlRHJpdmVyczogbnVsbCwKICAgICAgc2VjcmV0VHlwZXM6IHNlY3JldFR5cGVzLAogICAgICBzZWNyZXRUeXBlOiB0aGlzLnZhbHVlLl90eXBlLAogICAgICBpbml0aWFsU2VjcmV0VHlwZTogdGhpcy52YWx1ZS5fdHlwZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0N1c3RvbVNlY3JldENyZWF0ZTogZnVuY3Rpb24gaXNDdXN0b21TZWNyZXRDcmVhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09IF9DUkVBVEUgJiYgdGhpcy4kcm91dGUucXVlcnkudHlwZSA9PT0gJ2N1c3RvbSc7CiAgICB9LAogICAgc2hvd0N1c3RvbVNlY3JldFR5cGU6IGZ1bmN0aW9uIHNob3dDdXN0b21TZWNyZXRUeXBlKCkgewogICAgICByZXR1cm4gdGhpcy5zZWNyZXRUeXBlID09PSAnY3VzdG9tJzsKICAgIH0sCiAgICB0eXBlS2V5OiBmdW5jdGlvbiB0eXBlS2V5KCkgewogICAgICBpZiAodGhpcy5pc0Nsb3VkKSB7CiAgICAgICAgcmV0dXJuICdjbG91ZCc7CiAgICAgIH0KICAgICAgc3dpdGNoICh0aGlzLnZhbHVlLl90eXBlKSB7CiAgICAgICAgY2FzZSBUWVBFUy5UTFM6CiAgICAgICAgICByZXR1cm4gJ3Rscyc7CiAgICAgICAgY2FzZSBUWVBFUy5CQVNJQzoKICAgICAgICAgIHJldHVybiAnYmFzaWMnOwogICAgICAgIGNhc2UgVFlQRVMuRE9DS0VSX0pTT046CiAgICAgICAgICByZXR1cm4gJ3JlZ2lzdHJ5JzsKICAgICAgICBjYXNlIFRZUEVTLlNTSDoKICAgICAgICAgIHJldHVybiAnc3NoJzsKICAgICAgfQogICAgICByZXR1cm4gJ2dlbmVyaWMnOwogICAgfSwKICAgIGRhdGFDb21wb25lbnQ6IGZ1bmN0aW9uIGRhdGFDb21wb25lbnQoKSB7CiAgICAgIHJldHVybiByZXF1aXJlKCJAc2hlbGwvZWRpdC9zZWNyZXQvIi5jb25jYXQodGhpcy50eXBlS2V5KSkuZGVmYXVsdDsKICAgIH0sCiAgICBkcml2ZXJOYW1lOiBmdW5jdGlvbiBkcml2ZXJOYW1lKCkgewogICAgICB2YXIgX3RoaXMkdmFsdWUkbWV0YWRhdGE7CiAgICAgIHZhciBkcml2ZXIgPSAoX3RoaXMkdmFsdWUkbWV0YWRhdGEgPSB0aGlzLnZhbHVlLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSRtZXRhZGF0YSA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZSRtZXRhZGF0YSA9IF90aGlzJHZhbHVlJG1ldGFkYXRhLmFubm90YXRpb25zKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdmFsdWUkbWV0YWRhdGFbQ0FQSS5DUkVERU5USUFMX0RSSVZFUl07CiAgICAgIHJldHVybiBkcml2ZXI7CiAgICB9LAogICAgY2xvdWRDb21wb25lbnQ6IGZ1bmN0aW9uIGNsb3VkQ29tcG9uZW50KCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaGFzQ3VzdG9tQ2xvdWRDcmVkZW50aWFsQ29tcG9uZW50J10odGhpcy5kcml2ZXJOYW1lKSkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9pbXBvcnRDbG91ZENyZWRlbnRpYWwnXSh0aGlzLmRyaXZlck5hbWUpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9pbXBvcnRDbG91ZENyZWRlbnRpYWwnXSgnZ2VuZXJpYycpOwogICAgfSwKICAgIC8vIGFycmF5IG9mIGlkLCBsYWJlbCwgZGVzY3JpcHRpb24sIGluaXRpYWxzIGZvciB0eXBlIHNlbGVjdGlvbiBzdGVwCiAgICBzZWNyZXRTdWJUeXBlczogZnVuY3Rpb24gc2VjcmV0U3ViVHlwZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgb3V0ID0gW107CgogICAgICAvLyBDbG91ZCBjcmVkZW50aWFscwogICAgICBpZiAodGhpcy5pc0Nsb3VkKSB7CiAgICAgICAgdmFyIG1hY2hpbmVUeXBlcyA9IHVuaXEodGhpcy5ub2RlRHJpdmVycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnNwZWMuYWN0aXZlOwogICAgICAgIH0pLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHguc3BlYy5kaXNwbGF5TmFtZSB8fCB4LmlkOwogICAgICAgIH0pLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZ2V0dGVyc1sncGx1Z2lucy9jcmVkZW50aWFsRHJpdmVyRm9yJ10oeCk7CiAgICAgICAgfSkpOwogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtYWNoaW5lVHlwZXMpLAogICAgICAgICAgX3N0ZXA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBpZCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICB2YXIgYmFubmVySW1hZ2UgPSB2b2lkIDAsCiAgICAgICAgICAgICAgYmFubmVyQWJicnYgPSB2b2lkIDA7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgYmFubmVySW1hZ2UgPSByZXF1aXJlKCJ+c2hlbGwvYXNzZXRzL2ltYWdlcy9wcm92aWRlcnMvIi5jb25jYXQoaWQsICIuc3ZnIikpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgYmFubmVySW1hZ2UgPSBudWxsOwogICAgICAgICAgICAgIGJhbm5lckFiYnJ2ID0gdGhpcy5pbml0aWFsRGlzcGxheUZvcihpZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb3V0LnB1c2goewogICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICBsYWJlbDogdGhpcy50eXBlRGlzcGxheShDQVBJLkNSRURFTlRJQUxfRFJJVkVSLCBpZCksCiAgICAgICAgICAgICAgYmFubmVySW1hZ2U6IGJhbm5lckltYWdlLAogICAgICAgICAgICAgIGJhbm5lckFiYnJ2OiBiYW5uZXJBYmJydgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIE90aGVyIGtpbmRzCiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfY3JlYXRhYmxlVHlwZXMgPSBjcmVhdGFibGVUeXBlczsgX2kgPCBfY3JlYXRhYmxlVHlwZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICB2YXIgX2lkID0gX2NyZWF0YWJsZVR5cGVzW19pXTsKICAgICAgICAgIG91dC5wdXNoKHsKICAgICAgICAgICAgaWQ6IF9pZCwKICAgICAgICAgICAgbGFiZWw6IHRoaXMudHlwZURpc3BsYXkoX2lkKSwKICAgICAgICAgICAgYmFubmVyQWJicnY6IHRoaXMuaW5pdGlhbERpc3BsYXlGb3IoX2lkKSwKICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMudCgic2VjcmV0LnR5cGVEZXNjcmlwdGlvbnMuJyIuY29uY2F0KF9pZCwgIicuZGVzY3JpcHRpb24iKSksCiAgICAgICAgICAgIGRvY0xpbms6IHRoaXMudCgic2VjcmV0LnR5cGVEZXNjcmlwdGlvbnMuJyIuY29uY2F0KF9pZCwgIicuZG9jTGluayIpKQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIG91dC5wdXNoKHsKICAgICAgICAgIGlkOiAnY3VzdG9tJywKICAgICAgICAgIGxhYmVsOiB0aGlzLnQoJ3NlY3JldC5jdXN0b21UeXBlJyksCiAgICAgICAgICBiYW5uZXJBYmJydjogdGhpcy5pbml0aWFsRGlzcGxheUZvcignY3VzdG9tJyksCiAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy50KCdzZWNyZXQudHlwZURlc2NyaXB0aW9ucy5jdXN0b20uZGVzY3JpcHRpb24nKQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBzb3J0Qnkob3V0LCAnbGFiZWwnKTsKICAgIH0sCiAgICBuYW1lc3BhY2VzOiBmdW5jdGlvbiBuYW1lc3BhY2VzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9hbGwnXShOQU1FU1BBQ0UpLm1hcChmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxhYmVsOiBvYmoubmFtZURpc3BsYXksCiAgICAgICAgICB2YWx1ZTogb2JqLmlkCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgaGlkZVNlbnNpdGl2ZURhdGE6IGZ1bmN0aW9uIGhpZGVTZW5zaXRpdmVEYXRhKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncHJlZnMvZ2V0J10oSElERV9TRU5TSVRJVkUpOwogICAgfSwKICAgIGRhdGFMYWJlbDogZnVuY3Rpb24gZGF0YUxhYmVsKCkgewogICAgICBzd2l0Y2ggKHRoaXMudmFsdWUuX3R5cGUpIHsKICAgICAgICBjYXNlIFRZUEVTLlRMUzoKICAgICAgICAgIHJldHVybiB0aGlzLnQoJ3NlY3JldC5jZXJ0aWZpY2F0ZS5jZXJ0aWZpY2F0ZScpOwogICAgICAgIGNhc2UgVFlQRVMuU1NIOgogICAgICAgICAgcmV0dXJuIHRoaXMudCgnc2VjcmV0LnNzaC5rZXlzJyk7CiAgICAgICAgY2FzZSBUWVBFUy5CQVNJQzoKICAgICAgICAgIHJldHVybiB0aGlzLnQoJ3NlY3JldC5hdXRoZW50aWNhdGlvbicpOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gdGhpcy50KCdzZWNyZXQuZGF0YScpOwogICAgICB9CiAgICB9LAogICAgZG9uZVJvdXRlOiBmdW5jdGlvbiBkb25lUm91dGUoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50UHJvZHVjdCddLm5hbWUgPT09IE1BTkFHRVIpIHsKICAgICAgICByZXR1cm4gJ2MtY2x1c3Rlci1tYW5hZ2VyLXNlY3JldCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdjLWNsdXN0ZXItcHJvZHVjdC1yZXNvdXJjZSc7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmVTZWNyZXQ6IGZ1bmN0aW9uIHNhdmVTZWNyZXQoYnRuQ2IpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfdGhpczMkJHJlZnMkY2xvdWRDb207CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKF90aGlzMy5lcnJvcnMpIHsKICAgICAgICAgICAgICAgIGNsZWFyKF90aGlzMy5lcnJvcnMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgKChfdGhpczMkJHJlZnMkY2xvdWRDb20gPSBfdGhpczMuJHJlZnMuY2xvdWRDb21wb25lbnQpID09PSBudWxsIHx8IF90aGlzMyQkcmVmcyRjbG91ZENvbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMzJCRyZWZzJGNsb3VkQ29tLnRlc3QpID09PSAnZnVuY3Rpb24nKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHJlZnMuY2xvdWRDb21wb25lbnQudGVzdCgpOwogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgaWYgKCEoIXJlcyB8fCByZXMgIT09IG51bGwgJiYgcmVzICE9PSB2b2lkIDAgJiYgcmVzLmVycm9ycykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKHJlcyAhPT0gbnVsbCAmJiByZXMgIT09IHZvaWQgMCAmJiByZXMuZXJyb3JzKSB7CiAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzID0gcmVzLmVycm9yczsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycyA9IFsnQXV0aGVudGljYXRpb24gdGVzdCBmYWlsZWQsIHBsZWFzZSBjaGVjayB5b3VyIGNyZWRlbnRpYWxzJ107CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJ0bkNiKGZhbHNlKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEyOwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzID0gW19jb250ZXh0Mi50MF07CiAgICAgICAgICAgICAgYnRuQ2IoZmFsc2UpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX3RoaXMzLnNhdmUoYnRuQ2IpKTsKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1syLCAxMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VsZWN0VHlwZTogZnVuY3Rpb24gc2VsZWN0VHlwZSh0eXBlKSB7CiAgICAgIHZhciBkcml2ZXI7CiAgICAgIGlmICh0aGlzLmlzQ2xvdWQpIHsKICAgICAgICBpZiAodHlwZSA9PT0gVFlQRVMuQ0xPVURfQ1JFREVOVElBTCkgewogICAgICAgICAgLy8gQ2xvbmUgZ29lcyB0aHJvdWdoIGhlcmUKICAgICAgICAgIGRyaXZlciA9IHRoaXMuZHJpdmVyTmFtZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZHJpdmVyID0gdHlwZTsKICAgICAgICAgIHR5cGUgPSBUWVBFUy5DTE9VRF9DUkVERU5USUFMOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5tb2RlID09PSBfQ1JFQVRFKSB7CiAgICAgICAgICB0aGlzLnZhbHVlLnNldEFubm90YXRpb24oQ0FQSS5DUkVERU5USUFMX0RSSVZFUiwgZHJpdmVyKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdfdHlwZScsIHR5cGUpOwogICAgICB0aGlzLiRlbWl0KCdzZXQtc3VidHlwZScsIHRoaXMudHlwZURpc3BsYXkodHlwZSwgZHJpdmVyKSk7CiAgICAgIHRoaXMuc2VjcmV0VHlwZSA9IHR5cGU7CiAgICAgIGlmICh0aGlzLm1vZGUgPT09IF9DUkVBVEUgJiYgdHlwZSA9PT0gJ2N1c3RvbScpIHsKICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ190eXBlJywgJycpOwogICAgICB9CiAgICB9LAogICAgdHlwZURpc3BsYXk6IGZ1bmN0aW9uIHR5cGVEaXNwbGF5KHR5cGUsIGRyaXZlcikgewogICAgICBpZiAodHlwZSA9PT0gQ0FQSS5DUkVERU5USUFMX0RSSVZFUikgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydpMThuL3dpdGhGYWxsYmFjayddKCJjbHVzdGVyLnByb3ZpZGVyLlwiIi5jb25jYXQoZHJpdmVyLCAiXCIiKSwgbnVsbCwgZHJpdmVyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZmFsbGJhY2sgPSB0eXBlLnJlcGxhY2UoL15rdWJlcm5ldGVzLmlvXC8vLCAnJyk7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2kxOG4vd2l0aEZhbGxiYWNrJ10oInNlY3JldC50eXBlcy5cIiIuY29uY2F0KHR5cGUsICJcIiIpLCBudWxsLCBmYWxsYmFjayk7CiAgICAgIH0KICAgIH0sCiAgICBpbml0aWFsRGlzcGxheUZvcjogZnVuY3Rpb24gaW5pdGlhbERpc3BsYXlGb3IodHlwZSkgewogICAgICB2YXIgZmFsbGJhY2sgPSAodWNGaXJzdCh0aGlzLnR5cGVEaXNwbGF5KHR5cGUpIHx8ICcnKS5yZXBsYWNlKC9bXkEtWl0vZywgJycpIHx8IHR5cGUpLnN1YnN0cigwLCAzKTsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2kxOG4vd2l0aEZhbGxiYWNrJ10oInNlY3JldC5pbml0aWFscy5cIiIuY29uY2F0KHR5cGUsICJcIiIpLCBudWxsLCBmYWxsYmFjayk7CiAgICB9LAogICAgc2VsZWN0Q3VzdG9tVHlwZTogZnVuY3Rpb24gc2VsZWN0Q3VzdG9tVHlwZSh0eXBlKSB7CiAgICAgIGlmICh0eXBlICE9PSAnY3VzdG9tJykgewogICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnX3R5cGUnLCB0eXBlKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["SECRET_TYPES","TYPES","MANAGEMENT","NAMESPACE","DEFAULT_WORKSPACE","CreateEditView","NameNsDescription","LabeledInput","LabeledSelect","CruResource","CLOUD_CREDENTIAL","_CLONE","_CREATE","_EDIT","_FLAGGED","Loading","Tabbed","Tab","Labels","HIDE_SENSITIVE","CAPI","clear","uniq","NAME","MANAGER","SelectIconGrid","sortBy","ucFirst","creatableTypes","OPAQUE","DOCKER_JSON","TLS","SSH","BASIC","name","components","mixins","fetch","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","isCloud","$store","dispatch","type","NODE_DRIVER","nodeDrivers","sent","stop","data","newCloudCred","$route","query","editCloudCred","mode","value","_type","cloneCloudCred","realMode","liveValue","metadata","namespace","$set","secretTypes","label","disabled","kind","Object","values","forEach","t","push","secretType","initialSecretType","computed","isCustomSecretCreate","showCustomSecretType","typeKey","dataComponent","require","concat","default","driverName","_this$value$metadata","driver","annotations","CREDENTIAL_DRIVER","cloudComponent","getters","secretSubTypes","_this2","out","machineTypes","filter","x","spec","active","map","displayName","id","_iterator","_createForOfIteratorHelper","_step","s","n","done","bannerImage","bannerAbbrv","e","initialDisplayFor","typeDisplay","err","f","_i","_creatableTypes","length","description","docLink","namespaces","obj","nameDisplay","hideSensitiveData","dataLabel","doneRoute","methods","saveSecret","btnCb","_this3","_callee2","_this3$$refs$cloudCom","res","_callee2$","_context2","errors","$refs","test","abrupt","t0","save","selectType","setAnnotation","$emit","fallback","replace","substr","selectCustomType"],"sources":["node_modules/@rancher/shell/edit/secret/index.vue"],"sourcesContent":["<script>\nimport { SECRET_TYPES as TYPES } from '@shell/config/secret';\nimport { MANAGEMENT, NAMESPACE, DEFAULT_WORKSPACE } from '@shell/config/types';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport CruResource from '@shell/components/CruResource';\nimport {\n  CLOUD_CREDENTIAL, _CLONE, _CREATE, _EDIT, _FLAGGED\n} from '@shell/config/query-params';\nimport Loading from '@shell/components/Loading';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Labels from '@shell/components/form/Labels';\nimport { HIDE_SENSITIVE } from '@shell/store/prefs';\nimport { CAPI } from '@shell/config/labels-annotations';\nimport { clear, uniq } from '@shell/utils/array';\nimport { NAME as MANAGER } from '@shell/config/product/manager';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport { sortBy } from '@shell/utils/sort';\nimport { ucFirst } from '@shell/utils/string';\n\nconst creatableTypes = [\n  TYPES.OPAQUE,\n  TYPES.DOCKER_JSON,\n  TYPES.TLS,\n  TYPES.SSH,\n  TYPES.BASIC,\n];\n\nexport default {\n  name: 'CruSecret',\n\n  components: {\n    LabeledInput,\n    LabeledSelect,\n    Loading,\n    NameNsDescription,\n    CruResource,\n    Tabbed,\n    Tab,\n    Labels,\n    SelectIconGrid\n  },\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    if ( this.isCloud ) {\n      this.nodeDrivers = await this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE_DRIVER });\n    }\n  },\n\n  data() {\n    const newCloudCred = this.$route.query[CLOUD_CREDENTIAL] === _FLAGGED;\n    const editCloudCred = this.mode === _EDIT && this.value._type === TYPES.CLOUD_CREDENTIAL;\n    const cloneCloudCred = this.realMode === _CLONE && this.liveValue._type === TYPES.CLOUD_CREDENTIAL;\n    const isCloud = newCloudCred || editCloudCred || cloneCloudCred;\n\n    if ( newCloudCred ) {\n      this.value.metadata.namespace = DEFAULT_WORKSPACE;\n\n      this.$set(this.value.metadata, 'name', '');\n\n      this.$set(this.value, 'data', {});\n    }\n\n    const secretTypes = [\n      {\n        label: 'Custom',\n        value: 'custom'\n      },\n      {\n        label:    'divider',\n        disabled: true,\n        kind:     'divider'\n      }\n    ];\n\n    Object.values(TYPES).forEach((t) => {\n      secretTypes.push({\n        label: t,\n        value: t\n      });\n    });\n\n    return {\n      isCloud,\n      nodeDrivers:       null,\n      secretTypes,\n      secretType:        this.value._type,\n      initialSecretType: this.value._type\n    };\n  },\n\n  computed: {\n    isCustomSecretCreate() {\n      return this.mode === _CREATE && this.$route.query.type === 'custom';\n    },\n    showCustomSecretType() {\n      return this.secretType === 'custom';\n    },\n    typeKey() {\n      if ( this.isCloud ) {\n        return 'cloud';\n      }\n\n      switch ( this.value._type ) {\n      case TYPES.TLS: return 'tls';\n      case TYPES.BASIC: return 'basic';\n      case TYPES.DOCKER_JSON: return 'registry';\n      case TYPES.SSH: return 'ssh';\n      }\n\n      return 'generic';\n    },\n\n    dataComponent() {\n      return require(`@shell/edit/secret/${ this.typeKey }`).default;\n    },\n\n    driverName() {\n      const driver = this.value.metadata?.annotations?.[CAPI.CREDENTIAL_DRIVER];\n\n      return driver;\n    },\n\n    cloudComponent() {\n      if (this.$store.getters['type-map/hasCustomCloudCredentialComponent'](this.driverName)) {\n        return this.$store.getters['type-map/importCloudCredential'](this.driverName);\n      }\n\n      return this.$store.getters['type-map/importCloudCredential']('generic');\n    },\n\n    // array of id, label, description, initials for type selection step\n    secretSubTypes() {\n      const out = [];\n\n      // Cloud credentials\n      if ( this.isCloud ) {\n        const machineTypes = uniq(this.nodeDrivers\n          .filter((x) => x.spec.active)\n          .map((x) => x.spec.displayName || x.id)\n          .map((x) => this.$store.getters['plugins/credentialDriverFor'](x))\n        );\n\n        for ( const id of machineTypes ) {\n          let bannerImage, bannerAbbrv;\n\n          try {\n            bannerImage = require(`~shell/assets/images/providers/${ id }.svg`);\n          } catch (e) {\n            bannerImage = null;\n            bannerAbbrv = this.initialDisplayFor(id);\n          }\n\n          out.push({\n            id,\n            label: this.typeDisplay(CAPI.CREDENTIAL_DRIVER, id),\n            bannerImage,\n            bannerAbbrv\n          });\n        }\n      } else {\n        // Other kinds\n        for ( const id of creatableTypes ) {\n          out.push({\n            id,\n            label:       this.typeDisplay(id),\n            bannerAbbrv: this.initialDisplayFor(id),\n            description: this.t(`secret.typeDescriptions.'${ id }'.description`),\n            docLink:     this.t(`secret.typeDescriptions.'${ id }'.docLink`)\n          });\n        }\n\n        out.push({\n          id:          'custom',\n          label:       this.t('secret.customType'),\n          bannerAbbrv: this.initialDisplayFor('custom'),\n          description: this.t('secret.typeDescriptions.custom.description')\n        });\n      }\n\n      return sortBy(out, 'label');\n    },\n\n    namespaces() {\n      return this.$store.getters['cluster/all'](NAMESPACE).map((obj) => {\n        return {\n          label: obj.nameDisplay,\n          value: obj.id,\n        };\n      });\n    },\n\n    hideSensitiveData() {\n      return this.$store.getters['prefs/get'](HIDE_SENSITIVE);\n    },\n\n    dataLabel() {\n      switch (this.value._type) {\n      case TYPES.TLS:\n        return this.t('secret.certificate.certificate');\n      case TYPES.SSH:\n        return this.t('secret.ssh.keys');\n      case TYPES.BASIC:\n        return this.t('secret.authentication');\n      default:\n        return this.t('secret.data');\n      }\n    },\n\n    doneRoute() {\n      if ( this.$store.getters['currentProduct'].name === MANAGER ) {\n        return 'c-cluster-manager-secret';\n      } else {\n        return 'c-cluster-product-resource';\n      }\n    },\n  },\n\n  methods: {\n    async saveSecret(btnCb) {\n      if ( this.errors ) {\n        clear(this.errors);\n      }\n\n      if ( typeof this.$refs.cloudComponent?.test === 'function' ) {\n        try {\n          const res = await this.$refs.cloudComponent.test();\n\n          if ( !res || res?.errors) {\n            if (res?.errors) {\n              this.errors = res.errors;\n            } else {\n              this.errors = ['Authentication test failed, please check your credentials'];\n            }\n            btnCb(false);\n\n            return;\n          }\n        } catch (e) {\n          this.errors = [e];\n          btnCb(false);\n\n          return;\n        }\n      }\n\n      return this.save(btnCb);\n    },\n\n    selectType(type) {\n      let driver;\n\n      if ( this.isCloud ) {\n        if ( type === TYPES.CLOUD_CREDENTIAL ) {\n          // Clone goes through here\n          driver = this.driverName;\n        } else {\n          driver = type;\n          type = TYPES.CLOUD_CREDENTIAL;\n        }\n\n        if ( this.mode === _CREATE ) {\n          this.value.setAnnotation(CAPI.CREDENTIAL_DRIVER, driver);\n        }\n      }\n\n      this.$set(this.value, '_type', type);\n      this.$emit('set-subtype', this.typeDisplay(type, driver));\n\n      this.secretType = type;\n\n      if (this.mode === _CREATE && type === 'custom') {\n        this.$set(this.value, '_type', '');\n      }\n    },\n\n    typeDisplay(type, driver) {\n      if ( type === CAPI.CREDENTIAL_DRIVER ) {\n        return this.$store.getters['i18n/withFallback'](`cluster.provider.\"${ driver }\"`, null, driver);\n      } else {\n        const fallback = type.replace(/^kubernetes.io\\//, '');\n\n        return this.$store.getters['i18n/withFallback'](`secret.types.\"${ type }\"`, null, fallback);\n      }\n    },\n\n    initialDisplayFor(type) {\n      const fallback = (ucFirst(this.typeDisplay(type) || '').replace(/[^A-Z]/g, '') || type).substr(0, 3);\n\n      return this.$store.getters['i18n/withFallback'](`secret.initials.\"${ type }\"`, null, fallback);\n    },\n\n    selectCustomType(type) {\n      if (type !== 'custom') {\n        this.$set(this.value, '_type', type);\n      }\n    }\n  },\n};\n</script>\n\n<template>\n  <form class=\"filled-height\">\n    <Loading v-if=\"$fetchState.pending\" />\n    <CruResource\n      v-else\n      :mode=\"mode\"\n      :validation-passed=\"true\"\n      :selected-subtype=\"value._type\"\n      :resource=\"value\"\n      :errors=\"errors\"\n      :done-route=\"doneRoute\"\n      :subtypes=\"secretSubTypes\"\n      @finish=\"saveSecret\"\n      @select-type=\"selectType\"\n      @error=\"e=>errors = e\"\n    >\n      <NameNsDescription\n        v-model=\"value\"\n        :mode=\"mode\"\n        :namespaced=\"!isCloud\"\n      />\n\n      <div\n        v-if=\"isCustomSecretCreate\"\n        class=\"row\"\n      >\n        <div class=\"col span-3\">\n          <LabeledSelect\n            v-model=\"secretType\"\n            :options=\"secretTypes\"\n            :searchable=\"false\"\n            :mode=\"mode\"\n            :multiple=\"false\"\n            :reduce=\"(e) => e.value\"\n            label-key=\"secret.type\"\n            required\n            @input=\"selectCustomType\"\n          />\n        </div>\n\n        <div class=\"col span-3\">\n          <LabeledInput\n            v-if=\"showCustomSecretType\"\n            ref=\"customType\"\n            v-model=\"value._type\"\n            v-focus\n            label-key=\"secret.customType\"\n            :mode=\"mode\"\n            required\n          />\n        </div>\n      </div>\n\n      <div class=\"spacer\" />\n      <component\n        :is=\"cloudComponent\"\n        v-if=\"isCloud\"\n        ref=\"cloudComponent\"\n        :driver-name=\"driverName\"\n        :value=\"value\"\n        :mode=\"mode\"\n        :hide-sensitive-data=\"hideSensitiveData\"\n      />\n      <Tabbed\n        v-else\n        :side-tabs=\"true\"\n        default-tab=\"data\"\n      >\n        <Tab\n          name=\"data\"\n          :label=\"dataLabel\"\n          :weight=\"99\"\n        >\n          <component\n            :is=\"dataComponent\"\n            :value=\"value\"\n            :mode=\"mode\"\n            :hide-sensitive-data=\"hideSensitiveData\"\n          />\n        </Tab>\n        <Tab\n          name=\"labels\"\n          label-key=\"generic.labelsAndAnnotations\"\n          :weight=\"-1\"\n        >\n          <Labels\n            v-model=\"value\"\n            :mode=\"mode\"\n          />\n        </Tab>\n      </Tabbed>\n    </CruResource>\n  </form>\n</template>\n\n<style lang='scss'>\n</style>\n"],"mappings":"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"}]}