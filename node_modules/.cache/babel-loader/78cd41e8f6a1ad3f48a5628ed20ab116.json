{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/cloud-credential/generic.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/cloud-credential/generic.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IENyZWF0ZUVkaXRWaWV3IGZyb20gJ0BzaGVsbC9taXhpbnMvY3JlYXRlLWVkaXQtdmlldyc7CmltcG9ydCBLZXlWYWx1ZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0tleVZhbHVlJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IHsgc2ltcGxpZnksIGlmZnlGaWVsZHMsIGxpa2VseUZpZWxkcyB9IGZyb20gJ0BzaGVsbC9zdG9yZS9wbHVnaW5zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEtleVZhbHVlOiBLZXlWYWx1ZSwKICAgIEJhbm5lcjogQmFubmVyCiAgfSwKICBtaXhpbnM6IFtDcmVhdGVFZGl0Vmlld10sCiAgcHJvcHM6IHsKICAgIGRyaXZlck5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBrZXlPcHRpb25zID0gW107CiAgICB2YXIgbm9ybWFuVHlwZSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3BsdWdpbnMvY3JlZGVudGlhbEZpZWxkRm9yRHJpdmVyJ10odGhpcy5kcml2ZXJOYW1lKTsKICAgIHZhciBub3JtYW5TY2hlbWEgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydyYW5jaGVyL3NjaGVtYUZvciddKCIiLmNvbmNhdChub3JtYW5UeXBlLCAiY3JlZGVudGlhbGNvbmZpZyIpKTsKICAgIGlmIChub3JtYW5TY2hlbWEgIT09IG51bGwgJiYgbm9ybWFuU2NoZW1hICE9PSB2b2lkIDAgJiYgbm9ybWFuU2NoZW1hLnJlc291cmNlRmllbGRzKSB7CiAgICAgIGtleU9wdGlvbnMgPSBPYmplY3Qua2V5cyhub3JtYW5TY2hlbWEucmVzb3VyY2VGaWVsZHMpOwogICAgfSBlbHNlIHsKICAgICAga2V5T3B0aW9ucyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3BsdWdpbnMvZmllbGROYW1lc0ZvckRyaXZlciddKHRoaXMuZHJpdmVyTmFtZSk7CiAgICB9CgogICAgLy8gUHJlcG9wdWxhdGUgZW1wdHkgdmFsdWVzIGZvciBrZXlzIHRoYXQgc291bmQgbGlrZSB0aGV5J3JlIGNsb3VkLWNyZWRlbnRpYWwtZXkKICAgIHZhciBrZXlzID0gW107CiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoa2V5T3B0aW9ucyksCiAgICAgIF9zdGVwOwogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgX2sgPSBfc3RlcC52YWx1ZTsKICAgICAgICB2YXIgc2sgPSBzaW1wbGlmeShfayk7CiAgICAgICAgaWYgKG5vcm1hblNjaGVtYSAhPT0gbnVsbCAmJiBub3JtYW5TY2hlbWEgIT09IHZvaWQgMCAmJiBub3JtYW5TY2hlbWEucmVzb3VyY2VGaWVsZHMgfHwgbGlrZWx5RmllbGRzLmluY2x1ZGVzKHNrKSB8fCBpZmZ5RmllbGRzLmluY2x1ZGVzKHNrKSkgewogICAgICAgICAga2V5cy5wdXNoKF9rKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgIH0KICAgIGZvciAodmFyIF9pID0gMCwgX2tleXMgPSBrZXlzOyBfaSA8IF9rZXlzLmxlbmd0aDsgX2krKykgewogICAgICB2YXIgayA9IF9rZXlzW19pXTsKICAgICAgaWYgKCF0aGlzLnZhbHVlLmRlY29kZWREYXRhW2tdKSB7CiAgICAgICAgdGhpcy52YWx1ZS5zZXREYXRhKGssICcnKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHsKICAgICAgaGFzU3VwcG9ydDogISFub3JtYW5TY2hlbWEsCiAgICAgIGtleU9wdGlvbnM6IGtleU9wdGlvbnMsCiAgICAgIGVycm9yczogbnVsbAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAndmFsdWUuZGVjb2RlZERhdGEnOiBmdW5jdGlvbiB2YWx1ZURlY29kZWREYXRhKG5ldSkgewogICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsICEhbmV1KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHZhbCkgewogICAgICB0aGlzLnZhbHVlLnNldERhdGEodmFsKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["CreateEditView","KeyValue","Banner","simplify","iffyFields","likelyFields","components","mixins","props","driverName","type","String","required","data","keyOptions","normanType","$store","getters","normanSchema","concat","resourceFields","Object","keys","_iterator","_createForOfIteratorHelper","_step","s","n","done","k","value","sk","includes","push","err","e","f","_i","_keys","length","decodedData","setData","hasSupport","errors","watch","valueDecodedData","neu","$emit","methods","update","val"],"sources":["node_modules/@rancher/shell/cloud-credential/generic.vue"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport { Banner } from '@components/Banner';\nimport { simplify, iffyFields, likelyFields } from '@shell/store/plugins';\n\nexport default {\n  components: { KeyValue, Banner },\n  mixins:     [CreateEditView],\n\n  props: {\n    driverName: {\n      type:     String,\n      required: true,\n    }\n  },\n\n  data() {\n    let keyOptions = [];\n\n    const normanType = this.$store.getters['plugins/credentialFieldForDriver'](this.driverName);\n    const normanSchema = this.$store.getters['rancher/schemaFor'](`${ normanType }credentialconfig`);\n\n    if ( normanSchema?.resourceFields ) {\n      keyOptions = Object.keys(normanSchema.resourceFields);\n    } else {\n      keyOptions = this.$store.getters['plugins/fieldNamesForDriver'](this.driverName);\n    }\n\n    // Prepopulate empty values for keys that sound like they're cloud-credential-ey\n    const keys = [];\n\n    for ( const k of keyOptions ) {\n      const sk = simplify(k);\n\n      if ( normanSchema?.resourceFields || likelyFields.includes(sk) || iffyFields.includes(sk) ) {\n        keys.push(k);\n      }\n    }\n\n    for ( const k of keys ) {\n      if ( !this.value.decodedData[k] ) {\n        this.value.setData(k, '');\n      }\n    }\n\n    return {\n      hasSupport: !!normanSchema,\n      keyOptions,\n      errors:     null,\n    };\n  },\n\n  watch: {\n    'value.decodedData'(neu) {\n      this.$emit('validationChanged', !!neu);\n    }\n  },\n\n  methods: {\n    update(val) {\n      this.value.setData(val);\n    }\n  },\n\n};\n</script>\n\n<template>\n  <div>\n    <Banner\n      v-if=\"!hasSupport\"\n      color=\"info\"\n      label-key=\"cluster.selectCredential.genericDescription\"\n      class=\"mt-0\"\n    />\n    <KeyValue\n      :value=\"value.decodedData\"\n      :key-options=\"hasSupport || !keyOptions.length ? null : keyOptions\"\n      :key-editable=\"!hasSupport\"\n      :mode=\"mode\"\n      :read-allowed=\"true\"\n      :add-allowed=\"!hasSupport\"\n      :remove-allowed=\"!hasSupport\"\n      :initial-empty-row=\"true\"\n      @input=\"update\"\n    />\n  </div>\n</template>\n"],"mappings":";;;;;;;;;;;;;;;;;;AACA,OAAAA,cAAA;AACA,OAAAC,QAAA;AACA,SAAAC,MAAA;AACA,SAAAC,QAAA,EAAAC,UAAA,EAAAC,YAAA;AAEA;EACAC,UAAA;IAAAL,QAAA,EAAAA,QAAA;IAAAC,MAAA,EAAAA;EAAA;EACAK,MAAA,GAAAP,cAAA;EAEAQ,KAAA;IACAC,UAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EAEAC,IAAA,WAAAA,KAAA;IACA,IAAAC,UAAA;IAEA,IAAAC,UAAA,QAAAC,MAAA,CAAAC,OAAA,0CAAAR,UAAA;IACA,IAAAS,YAAA,QAAAF,MAAA,CAAAC,OAAA,yBAAAE,MAAA,CAAAJ,UAAA;IAEA,IAAAG,YAAA,aAAAA,YAAA,eAAAA,YAAA,CAAAE,cAAA;MACAN,UAAA,GAAAO,MAAA,CAAAC,IAAA,CAAAJ,YAAA,CAAAE,cAAA;IACA;MACAN,UAAA,QAAAE,MAAA,CAAAC,OAAA,qCAAAR,UAAA;IACA;;IAEA;IACA,IAAAa,IAAA;IAAA,IAAAC,SAAA,GAAAC,0BAAA,CAEAV,UAAA;MAAAW,KAAA;IAAA;MAAA,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA;QAAA,IAAAC,EAAA,GAAAJ,KAAA,CAAAK,KAAA;QACA,IAAAC,EAAA,GAAA5B,QAAA,CAAA0B,EAAA;QAEA,IAAAX,YAAA,aAAAA,YAAA,eAAAA,YAAA,CAAAE,cAAA,IAAAf,YAAA,CAAA2B,QAAA,CAAAD,EAAA,KAAA3B,UAAA,CAAA4B,QAAA,CAAAD,EAAA;UACAT,IAAA,CAAAW,IAAA,CAAAJ,EAAA;QACA;MACA;IAAA,SAAAK,GAAA;MAAAX,SAAA,CAAAY,CAAA,CAAAD,GAAA;IAAA;MAAAX,SAAA,CAAAa,CAAA;IAAA;IAEA,SAAAC,EAAA,MAAAC,KAAA,GAAAhB,IAAA,EAAAe,EAAA,GAAAC,KAAA,CAAAC,MAAA,EAAAF,EAAA;MAAA,IAAAR,CAAA,GAAAS,KAAA,CAAAD,EAAA;MACA,UAAAP,KAAA,CAAAU,WAAA,CAAAX,CAAA;QACA,KAAAC,KAAA,CAAAW,OAAA,CAAAZ,CAAA;MACA;IACA;IAEA;MACAa,UAAA,IAAAxB,YAAA;MACAJ,UAAA,EAAAA,UAAA;MACA6B,MAAA;IACA;EACA;EAEAC,KAAA;IACA,8BAAAC,iBAAAC,GAAA;MACA,KAAAC,KAAA,wBAAAD,GAAA;IACA;EACA;EAEAE,OAAA;IACAC,MAAA,WAAAA,OAAAC,GAAA;MACA,KAAApB,KAAA,CAAAW,OAAA,CAAAS,GAAA;IACA;EACA;AAEA"}]}