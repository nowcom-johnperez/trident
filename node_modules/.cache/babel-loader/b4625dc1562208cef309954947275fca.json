{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/DrainOptions.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/DrainOptions.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgUmFkaW9Hcm91cCBmcm9tICdAY29tcG9uZW50cy9Gb3JtL1JhZGlvL1JhZGlvR3JvdXAudnVlJzsKaW1wb3J0IENoZWNrYm94IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gvQ2hlY2tib3gudnVlJzsKaW1wb3J0IFVuaXRJbnB1dCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1VuaXRJbnB1dC52dWUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CnZhciBERUZBVUxUUyA9IHsKICBkZWxldGVFbXB0eURpckRhdGE6IHRydWUsCiAgLy8gU2hvdzsgS2lsbCBwb2RzIHVzaW5nIGVtcHR5RGlyIHZvbHVtZXMgYW5kIGxvc2UgdGhlIGRhdGEKICBkaXNhYmxlRXZpY3Rpb246IGZhbHNlLAogIC8vIEhpZGU7IGZhbHNlID0gZXZpY3QgcG9kcywgdHJ1ZSA9IGRlbGV0ZSBwb2RzCiAgZW5hYmxlZDogZmFsc2UsCiAgLy8gU2hvdzsgdHJ1ZSA9IE5vZGVzIG11c3QgYmUgZHJhaW5lZCBiZWZvcmUgdXBncmFkZTsgZmFsc2UgPSBZT0xPCiAgZm9yY2U6IGZhbHNlLAogIC8vIFNob3c7IHRydWUgPSBEZWxldGUgc3RhbmRhbG9uZSBwb2RzLCBmYWxzZSA9IGZhaWwgaWYgdGhlcmUgYXJlIGFueQogIGdyYWNlUGVyaW9kOiAtMSwKICAvLyBTaG93OyBQb2Qgc2h1dCBkb3duIHRpbWUsIG5lZ2F0aXZlIHZhbHVlIHVzZXMgcG9kIGRlZmF1bHQKICBpZ25vcmVEYWVtb25TZXRzOiB0cnVlLAogIC8vIEhpZGU7IHRydWUgPSB3b3JrLCBmYWxzZSA9IG5ldmVyIHdvcmsgYmVjYXVzZSB0aGVyZSdzIGFsd2F5cyBkYWVtb25TZXRzCiAgc2tpcFdhaXRGb3JEZWxldGVUaW1lb3V0U2Vjb25kczogMCwKICAvLyBIaWRlOyBJZiB0aGUgcG9kIGRlbGV0aW9uIHRpbWUgaXMgb2xkZXIgdGhhbiB0aGlzID4gMCwgZG9uJ3Qgd2FpdCwgZm9yIHNvbWUgcmVhc29uCiAgdGltZW91dDogMTIwIC8vIFNob3c7IEdpdmUgdXAgYWZ0ZXIgdGhpcyBtYW55IHNlY29uZHMKfTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFJhZGlvR3JvdXA6IFJhZGlvR3JvdXAsCiAgICBDaGVja2JveDogQ2hlY2tib3gsCiAgICBVbml0SW5wdXQ6IFVuaXRJbnB1dAogIH0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBvdXQgPSB7fTsKICAgIGZvciAodmFyIGsgaW4gREVGQVVMVFMpIHsKICAgICAgaWYgKHR5cGVvZiB0aGlzLnZhbHVlW2tdID09PSAndW5kZWZpbmVkJykgewogICAgICAgIG91dFtrXSA9IERFRkFVTFRTW2tdOwogICAgICB9IGVsc2UgewogICAgICAgIG91dFtrXSA9IHRoaXMudmFsdWVba107CiAgICAgIH0KICAgIH0KICAgIG91dC5jdXN0b21HcmFjZVBlcmlvZCA9IG91dC5ncmFjZVBlcmlvZCA+PSAwOwogICAgb3V0LmN1c3RvbVRpbWVvdXQgPSBvdXQudGltZW91dCA+PSAwOwogICAgcmV0dXJuIG91dDsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnVwZGF0ZSgpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgdDogJ2kxOG4vdCcKICB9KSksCiAgbWV0aG9kczogewogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7CiAgICAgIHZhciBvdXQgPSB7fTsKICAgICAgZm9yICh2YXIgayBpbiBERUZBVUxUUykgewogICAgICAgIG91dFtrXSA9IHRoaXNba107CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmN1c3RvbUdyYWNlUGVyaW9kKSB7CiAgICAgICAgb3V0LmdyYWNlUGVyaW9kID0gLTE7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmN1c3RvbVRpbWVvdXQpIHsKICAgICAgICBvdXQudGltZW91dCA9IDA7CiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBvdXQpOwogICAgfQogIH0KfTs="},{"version":3,"names":["RadioGroup","Checkbox","UnitInput","mapGetters","DEFAULTS","deleteEmptyDirData","disableEviction","enabled","force","gracePeriod","ignoreDaemonSets","skipWaitForDeleteTimeoutSeconds","timeout","components","props","value","type","Object","default","_default","mode","String","required","data","out","k","customGracePeriod","customTimeout","created","update","computed","_objectSpread","t","methods","$emit"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/DrainOptions.vue"],"sourcesContent":["<script>\nimport RadioGroup from '@components/Form/Radio/RadioGroup.vue';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport UnitInput from '@shell/components/form/UnitInput.vue';\nimport { mapGetters } from 'vuex';\n\nconst DEFAULTS = {\n  deleteEmptyDirData:              true, // Show; Kill pods using emptyDir volumes and lose the data\n  disableEviction:                 false, // Hide; false = evict pods, true = delete pods\n  enabled:                         false, // Show; true = Nodes must be drained before upgrade; false = YOLO\n  force:                           false, // Show; true = Delete standalone pods, false = fail if there are any\n  gracePeriod:                     -1, // Show; Pod shut down time, negative value uses pod default\n  ignoreDaemonSets:                true, // Hide; true = work, false = never work because there's always daemonSets\n  skipWaitForDeleteTimeoutSeconds: 0, // Hide; If the pod deletion time is older than this > 0, don't wait, for some reason\n  timeout:                         120, // Show; Give up after this many seconds\n};\n\nexport default {\n  components: {\n    RadioGroup, Checkbox, UnitInput\n  },\n  props: {\n    value: {\n      type:    Object,\n      default: () => {},\n    },\n\n    mode: {\n      type:     String,\n      required: true,\n    }\n  },\n\n  data() {\n    const out = {};\n\n    for ( const k in DEFAULTS ) {\n      if ( typeof this.value[k] === 'undefined' ) {\n        out[k] = DEFAULTS[k];\n      } else {\n        out[k] = this.value[k];\n      }\n    }\n\n    out.customGracePeriod = out.gracePeriod >= 0;\n    out.customTimeout = out.timeout >= 0;\n\n    return out;\n  },\n\n  created() {\n    this.update();\n  },\n\n  computed: { ...mapGetters({ t: 'i18n/t' }) },\n\n  methods: {\n    update() {\n      const out = {};\n\n      for ( const k in DEFAULTS ) {\n        out[k] = this[k];\n      }\n\n      if ( !this.customGracePeriod ) {\n        out.gracePeriod = -1;\n      }\n\n      if ( !this.customTimeout ) {\n        out.timeout = 0;\n      }\n\n      this.$emit('input', out);\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <RadioGroup\n      v-model=\"enabled\"\n      name=\"enabled\"\n      :options=\"[false, true]\"\n      :label=\"t('cluster.rke2.drain.label')\"\n      :labels=\"[t('generic.no'), t('generic.yes')]\"\n      :tooltip=\"t('cluster.rke2.drain.toolTip')\"\n      :mode=\"mode\"\n      @input=\"update\"\n    />\n\n    <template v-if=\"enabled\">\n      <div class=\"mt-20\">\n        <Checkbox\n          v-model=\"deleteEmptyDirData\"\n          label-key=\"cluster.rke2.drain.deleteEmptyDir.label\"\n          tooltip-key=\"cluster.rke2.drain.deleteEmptyDir.tooltip\"\n          @input=\"update\"\n        />\n      </div>\n      <div>\n        <Checkbox\n          v-model=\"force\"\n          label=\"Delete standalone pods\"\n          label-key=\"cluster.rke2.drain.force.label\"\n          tooltip=\"Delete standalone pods which are not managed by a Workload controller (Deployment, Job, etc).  Draining will fail if this is not set and there are standalone pods.\"\n          tooltop-key=\"cluster.rke2.drain.force.tooltip\"\n          @input=\"update\"\n        />\n      </div>\n      <div>\n        <Checkbox\n          v-model=\"customGracePeriod\"\n          label-key=\"cluster.rke2.drain.gracePeriod.checkboxLabel\"\n          @input=\"update\"\n        />\n        <UnitInput\n          v-if=\"customGracePeriod\"\n          v-model=\"gracePeriod\"\n          label-key=\"cluster.rke2.drain.gracePeriod.inputLabel\"\n          :suffix=\"t('suffix.seconds', {count: timeout})\"\n          class=\"mb-10\"\n          @input=\"update\"\n        />\n      </div>\n      <div>\n        <Checkbox\n          v-model=\"customTimeout\"\n          label-key=\"cluster.rke2.drain.timeout.checkboxLabel\"\n          @input=\"update\"\n        />\n        <UnitInput\n          v-if=\"customTimeout\"\n          v-model=\"timeout\"\n          label-key=\"cluster.rke2.drain.timeout.inputLabel\"\n          :suffix=\"t('suffix.seconds', {count: timeout})\"\n          class=\"drain-timeout\"\n          @input=\"update\"\n        />\n      </div>\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  $drain-timeout-index: 18px;\n\n  .drain-timeout {\n    margin-top: 5px;\n    margin-left: $drain-timeout-index;\n    width: calc(100% - $drain-timeout-index);\n  }\n</style>\n"],"mappings":";;;;;;;;;;AACA,OAAAA,UAAA;AACA,OAAAC,QAAA;AACA,OAAAC,SAAA;AACA,SAAAC,UAAA;AAEA,IAAAC,QAAA;EACAC,kBAAA;EAAA;EACAC,eAAA;EAAA;EACAC,OAAA;EAAA;EACAC,KAAA;EAAA;EACAC,WAAA;EAAA;EACAC,gBAAA;EAAA;EACAC,+BAAA;EAAA;EACAC,OAAA;AACA;AAEA;EACAC,UAAA;IACAb,UAAA,EAAAA,UAAA;IAAAC,QAAA,EAAAA,QAAA;IAAAC,SAAA,EAAAA;EACA;EACAY,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;IACA;IAEAC,IAAA;MACAJ,IAAA,EAAAK,MAAA;MACAC,QAAA;IACA;EACA;EAEAC,IAAA,WAAAA,KAAA;IACA,IAAAC,GAAA;IAEA,SAAAC,CAAA,IAAArB,QAAA;MACA,gBAAAW,KAAA,CAAAU,CAAA;QACAD,GAAA,CAAAC,CAAA,IAAArB,QAAA,CAAAqB,CAAA;MACA;QACAD,GAAA,CAAAC,CAAA,SAAAV,KAAA,CAAAU,CAAA;MACA;IACA;IAEAD,GAAA,CAAAE,iBAAA,GAAAF,GAAA,CAAAf,WAAA;IACAe,GAAA,CAAAG,aAAA,GAAAH,GAAA,CAAAZ,OAAA;IAEA,OAAAY,GAAA;EACA;EAEAI,OAAA,WAAAA,QAAA;IACA,KAAAC,MAAA;EACA;EAEAC,QAAA,EAAAC,aAAA,KAAA5B,UAAA;IAAA6B,CAAA;EAAA;EAEAC,OAAA;IACAJ,MAAA,WAAAA,OAAA;MACA,IAAAL,GAAA;MAEA,SAAAC,CAAA,IAAArB,QAAA;QACAoB,GAAA,CAAAC,CAAA,SAAAA,CAAA;MACA;MAEA,UAAAC,iBAAA;QACAF,GAAA,CAAAf,WAAA;MACA;MAEA,UAAAkB,aAAA;QACAH,GAAA,CAAAZ,OAAA;MACA;MAEA,KAAAsB,KAAA,UAAAV,GAAA;IACA;EACA;AACA"}]}