{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/management.cattle.io.nodepool.js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/management.cattle.io.nodepool.js","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5jb25zdHJ1Y3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CmltcG9ydCB7IENBUEksIE1BTkFHRU1FTlQsIE5PUk1BTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBzb3J0QnkgfSBmcm9tICdAc2hlbGwvdXRpbHMvc29ydCc7CmltcG9ydCBIeWJyaWRNb2RlbCBmcm9tICdAc2hlbGwvcGx1Z2lucy9zdGV2ZS9oeWJyaWQtY2xhc3MnOwp2YXIgTWdtdE5vZGVQb29sID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSHlicmlkTW9kZWwpIHsKICBfaW5oZXJpdHMoTWdtdE5vZGVQb29sLCBfSHlicmlkTW9kZWwpOwogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTWdtdE5vZGVQb29sKTsKICBmdW5jdGlvbiBNZ210Tm9kZVBvb2woKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWdtdE5vZGVQb29sKTsKICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CiAgX2NyZWF0ZUNsYXNzKE1nbXROb2RlUG9vbCwgW3sKICAgIGtleTogIm5vZGVUZW1wbGF0ZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHNwZWM7CiAgICAgIHZhciBpZCA9ICgoKF90aGlzJHNwZWMgPSB0aGlzLnNwZWMpID09PSBudWxsIHx8IF90aGlzJHNwZWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNwZWMubm9kZVRlbXBsYXRlTmFtZSkgfHwgJycpLnJlcGxhY2UoLzovLCAnLycpOwogICAgICB2YXIgdGVtcGxhdGUgPSB0aGlzLiRnZXR0ZXJzWydieUlkJ10oTUFOQUdFTUVOVC5OT0RFX1RFTVBMQVRFLCBpZCk7CiAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92aWRlciIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJG5vZGVUZW1wbGF0ZTsKICAgICAgcmV0dXJuIChfdGhpcyRub2RlVGVtcGxhdGUgPSB0aGlzLm5vZGVUZW1wbGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkbm9kZVRlbXBsYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRub2RlVGVtcGxhdGUucHJvdmlkZXI7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXJOYW1lIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkbm9kZVRlbXBsYXRlMjsKICAgICAgcmV0dXJuIChfdGhpcyRub2RlVGVtcGxhdGUyID0gdGhpcy5ub2RlVGVtcGxhdGUpID09PSBudWxsIHx8IF90aGlzJG5vZGVUZW1wbGF0ZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG5vZGVUZW1wbGF0ZTIubmFtZURpc3BsYXk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHJvdmlkZXJEaXNwbGF5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkbm9kZVRlbXBsYXRlMzsKICAgICAgcmV0dXJuIChfdGhpcyRub2RlVGVtcGxhdGUzID0gdGhpcy5ub2RlVGVtcGxhdGUpID09PSBudWxsIHx8IF90aGlzJG5vZGVUZW1wbGF0ZTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG5vZGVUZW1wbGF0ZTMucHJvdmlkZXJEaXNwbGF5OwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyTG9jYXRpb24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRub2RlVGVtcGxhdGU0OwogICAgICByZXR1cm4gKF90aGlzJG5vZGVUZW1wbGF0ZTQgPSB0aGlzLm5vZGVUZW1wbGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkbm9kZVRlbXBsYXRlNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbm9kZVRlbXBsYXRlNC5wcm92aWRlckxvY2F0aW9uOwogICAgfQogIH0sIHsKICAgIGtleTogInByb3ZpZGVyU2l6ZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJG5vZGVUZW1wbGF0ZTU7CiAgICAgIHJldHVybiAoX3RoaXMkbm9kZVRlbXBsYXRlNSA9IHRoaXMubm9kZVRlbXBsYXRlKSA9PT0gbnVsbCB8fCBfdGhpcyRub2RlVGVtcGxhdGU1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRub2RlVGVtcGxhdGU1LnByb3ZpZGVyU2l6ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcm92aXNpb25pbmdDbHVzdGVyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gdGhpcy4kZ2V0dGVyc1snYWxsJ10oQ0FQSS5SQU5DSEVSX0NMVVNURVIpLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5uYW1lID09PSBfdGhpcy5zcGVjLmNsdXN0ZXJOYW1lOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkb25lT3ZlcnJpZGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRwcm92aXNpb25pbmdDbHU7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogJ2MtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlLW5hbWVzcGFjZS1pZCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICByZXNvdXJjZTogQ0FQSS5SQU5DSEVSX0NMVVNURVIsCiAgICAgICAgICBuYW1lc3BhY2U6IChfdGhpcyRwcm92aXNpb25pbmdDbHUgPSB0aGlzLnByb3Zpc2lvbmluZ0NsdXN0ZXIpID09PSBudWxsIHx8IF90aGlzJHByb3Zpc2lvbmluZ0NsdSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcHJvdmlzaW9uaW5nQ2x1Lm5hbWVzcGFjZSwKICAgICAgICAgIGlkOiB0aGlzLnNwZWMuY2x1c3Rlck5hbWUKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAic2NhbGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLm5vcm1hbi5xdWFudGl0eTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzY2FsZVBvb2wiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNjYWxlUG9vbChkZWx0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5ub3JtYW4ucXVhbnRpdHkgKz0gZGVsdGE7CiAgICAgIGlmICh0aGlzLnNjYWxlVGltZXIpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zY2FsZVRpbWVyKTsKICAgICAgfQogICAgICB0aGlzLnNjYWxlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgX3RoaXMyLm5vcm1hbi5zYXZlKCk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIF90aGlzMi4kZGlzcGF0Y2goJ2dyb3dsL2Zyb21FcnJvcicsIHsKICAgICAgICAgICAgdGl0bGU6ICdFcnJvciBzY2FsaW5nIHBvb2wnLAogICAgICAgICAgICBlcnJvcjogZXJyb3IKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJub2RlcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIG5vZGVQb29sTmFtZSA9IHRoaXMuaWQucmVwbGFjZSgnLycsICc6Jyk7CiAgICAgIHJldHVybiB0aGlzLiRnZXR0ZXJzWydhbGwnXShNQU5BR0VNRU5ULk5PREUpLmZpbHRlcihmdW5jdGlvbiAobm9kZSkgewogICAgICAgIHJldHVybiBub2RlLnNwZWMubm9kZVBvb2xOYW1lID09PSBub2RlUG9vbE5hbWU7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIm5vZGVTdW1tYXJ5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAvLyBVc2UgdGhyZWUgYnVja2V0cyBvZiBzdGF0ZXMgcmF0aGVyIHRoYW4gYWN0dWFsIHN0YXRlcy4KICAgICAgLy8gVGhlc2UgYXJlIHVzZWQgaW4gYHN0YXRlUGFydHNgIHdoaWNoIGlzIHNob3cgaW4gdGhlIHNhbWUgY29udGV4dCBhcyBgc3RhdGVQYXJ0c2AgZm9yIG1hY2hpbmUgZGVwbG95bWVudHMgKHJrZTIgcG9vbHMpKQogICAgICAvLyBVc2luZyBhY3R1YWwgc3RhdGVzIGhlcmUgd291bGQgbG9vayBzdHJhbmdlIHdoZW4gYWdhaW5zdCBidWNrZXQgc3RhdGVzIGZvciBSS0UyCiAgICAgIHZhciByZXMgPSB7CiAgICAgICAgcGVuZGluZzogMCwKICAgICAgICB1bmF2YWlsYWJsZTogMCwKICAgICAgICByZWFkeTogMAogICAgICB9OwogICAgICBpZiAoIXRoaXMubm9kZXMpIHsKICAgICAgICByZXR1cm4gcmVzOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLm5vZGVzLnJlZHVjZShmdW5jdGlvbiAocmVzLCBuKSB7CiAgICAgICAgaWYgKG4ubWV0YWRhdGEuc3RhdGUuZXJyb3IpIHsKICAgICAgICAgIHJlcy51bmF2YWlsYWJsZSsrOwogICAgICAgIH0gZWxzZSBpZiAobi5tZXRhZGF0YS5zdGF0ZS50cmFuc2l0aW9uaW5nKSB7CiAgICAgICAgICByZXMucGVuZGluZysrOwogICAgICAgIH0gZWxzZSBpZiAobi5zdGF0ZSAhPT0gJ2FjdGl2ZScpIHsKICAgICAgICAgIHJlcy51bmF2YWlsYWJsZSsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXMucmVhZHkrKzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlczsKICAgICAgfSwgX29iamVjdFNwcmVhZCh7fSwgcmVzKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVzaXJlZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJHNwZWMyOwogICAgICByZXR1cm4gKChfdGhpcyRzcGVjMiA9IHRoaXMuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkc3BlYzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHNwZWMyLnF1YW50aXR5KSB8fCAwOwogICAgfQogIH0sIHsKICAgIGtleTogInBlbmRpbmciLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLm5vZGVTdW1tYXJ5LnBlbmRpbmc7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVhZHkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLm5vZGVTdW1tYXJ5LnJlYWR5OwogICAgfQogIH0sIHsKICAgIGtleTogInVuYXZhaWxhYmxlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5ub2RlU3VtbWFyeS51bmF2YWlsYWJsZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdGF0ZVBhcnRzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgb3V0ID0gW3sKICAgICAgICBsYWJlbDogJ1BlbmRpbmcnLAogICAgICAgIGNvbG9yOiAnYmctaW5mbycsCiAgICAgICAgdGV4dENvbG9yOiAndGV4dC1pbmZvJywKICAgICAgICB2YWx1ZTogdGhpcy5wZW5kaW5nLAogICAgICAgIHNvcnQ6IDEKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnVW5hdmFpbGFibGUnLAogICAgICAgIGNvbG9yOiAnYmctZXJyb3InLAogICAgICAgIHRleHRDb2xvcjogJ3RleHQtZXJyb3InLAogICAgICAgIHZhbHVlOiB0aGlzLnVuYXZhaWxhYmxlLAogICAgICAgIHNvcnQ6IDMKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnUmVhZHknLAogICAgICAgIGNvbG9yOiAnYmctc3VjY2VzcycsCiAgICAgICAgdGV4dENvbG9yOiAndGV4dC1zdWNjZXNzJywKICAgICAgICB2YWx1ZTogdGhpcy5yZWFkeSwKICAgICAgICBzb3J0OiA0CiAgICAgIH1dLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4LnZhbHVlID4gMDsKICAgICAgfSk7CiAgICAgIHJldHVybiBzb3J0Qnkob3V0LCAnc29ydDpkZXNjJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAibm9ybWFuIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgaWQgPSB0aGlzLmlkLnJlcGxhY2UoJy8nLCAnOicpOwogICAgICByZXR1cm4gdGhpcy4kcm9vdEdldHRlcnNbJ3JhbmNoZXIvYnlJZCddKE5PUk1BTi5OT0RFX1BPT0wsIGlkKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5EZWxldGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRub3JtYW47CiAgICAgIHJldHVybiAoX3RoaXMkbm9ybWFuID0gdGhpcy5ub3JtYW4pID09PSBudWxsIHx8IF90aGlzJG5vcm1hbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbm9ybWFuLmhhc0xpbmsoJ3JlbW92ZScpOwogICAgfQogIH0sIHsKICAgIGtleTogImNhblVwZGF0ZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJG5vcm1hbjI7CiAgICAgIHJldHVybiAoX3RoaXMkbm9ybWFuMiA9IHRoaXMubm9ybWFuKSA9PT0gbnVsbCB8fCBfdGhpcyRub3JtYW4yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRub3JtYW4yLmhhc0xpbmsoJ3VwZGF0ZScpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICB2YXIgX3RoaXMkbm9ybWFuMzsKICAgICAgcmV0dXJuIChfdGhpcyRub3JtYW4zID0gdGhpcy5ub3JtYW4pID09PSBudWxsIHx8IF90aGlzJG5vcm1hbjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG5vcm1hbjMucmVtb3ZlKCk7CiAgICB9CiAgfV0pOwogIHJldHVybiBNZ210Tm9kZVBvb2w7Cn0oSHlicmlkTW9kZWwpOwpleHBvcnQgeyBNZ210Tm9kZVBvb2wgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"names":["CAPI","MANAGEMENT","NORMAN","sortBy","HybridModel","MgmtNodePool","_HybridModel","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","get","_this$spec","id","spec","nodeTemplateName","replace","template","$getters","NODE_TEMPLATE","_this$nodeTemplate","nodeTemplate","provider","_this$nodeTemplate2","nameDisplay","_this$nodeTemplate3","providerDisplay","_this$nodeTemplate4","providerLocation","_this$nodeTemplate5","providerSize","_this","RANCHER_CLUSTER","find","c","name","clusterName","_this$provisioningClu","params","resource","namespace","provisioningCluster","norman","quantity","value","scalePool","delta","_this2","scaleTimer","clearTimeout","setTimeout","save","error","$dispatch","title","root","nodePoolName","NODE","filter","node","res","pending","unavailable","ready","nodes","reduce","n","metadata","state","transitioning","_objectSpread","_this$spec2","nodeSummary","out","label","color","textColor","sort","x","$rootGetters","NODE_POOL","_this$norman","hasLink","_this$norman2","remove","_this$norman3","default"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/models/management.cattle.io.nodepool.js"],"sourcesContent":["import { CAPI, MANAGEMENT, NORMAN } from '@shell/config/types';\nimport { sortBy } from '@shell/utils/sort';\nimport HybridModel from '@shell/plugins/steve/hybrid-class';\n\nexport default class MgmtNodePool extends HybridModel {\n  get nodeTemplate() {\n    const id = (this.spec?.nodeTemplateName || '').replace(/:/, '/');\n    const template = this.$getters['byId'](MANAGEMENT.NODE_TEMPLATE, id);\n\n    return template;\n  }\n\n  get provider() {\n    return this.nodeTemplate?.provider;\n  }\n\n  get providerName() {\n    return this.nodeTemplate?.nameDisplay;\n  }\n\n  get providerDisplay() {\n    return this.nodeTemplate?.providerDisplay;\n  }\n\n  get providerLocation() {\n    return this.nodeTemplate?.providerLocation;\n  }\n\n  get providerSize() {\n    return this.nodeTemplate?.providerSize;\n  }\n\n  get provisioningCluster() {\n    return this.$getters['all'](CAPI.RANCHER_CLUSTER).find((c) => c.name === this.spec.clusterName);\n  }\n\n  get doneOverride() {\n    return {\n      name:   'c-cluster-product-resource-namespace-id',\n      params: {\n        resource:  CAPI.RANCHER_CLUSTER,\n        namespace: this.provisioningCluster?.namespace,\n        id:        this.spec.clusterName\n      }\n    };\n  }\n\n  get scale() {\n    return this.norman.quantity;\n  }\n\n  scalePool(delta) {\n    this.norman.quantity += delta;\n\n    if ( this.scaleTimer ) {\n      clearTimeout(this.scaleTimer);\n    }\n\n    this.scaleTimer = setTimeout(() => {\n      try {\n        this.norman.save();\n      } catch (error) {\n        this.$dispatch('growl/fromError', {\n          title: 'Error scaling pool',\n          error\n        }, { root: true });\n      }\n    }, 1000);\n  }\n\n  get nodes() {\n    const nodePoolName = this.id.replace('/', ':');\n\n    return this.$getters['all'](MANAGEMENT.NODE).filter((node) => node.spec.nodePoolName === nodePoolName);\n  }\n\n  get nodeSummary() {\n    // Use three buckets of states rather than actual states.\n    // These are used in `stateParts` which is show in the same context as `stateParts` for machine deployments (rke2 pools))\n    // Using actual states here would look strange when against bucket states for RKE2\n    const res = {\n      pending:     0,\n      unavailable: 0,\n      ready:       0,\n    };\n\n    if (!this.nodes) {\n      return res;\n    }\n\n    return this.nodes.reduce((res, n) => {\n      if (n.metadata.state.error ) {\n        res.unavailable++;\n      } else if (n.metadata.state.transitioning) {\n        res.pending++;\n      } else if (n.state !== 'active') {\n        res.unavailable++;\n      } else {\n        res.ready++;\n      }\n\n      return res;\n    }, { ...res });\n  }\n\n  get desired() {\n    return this.spec?.quantity || 0;\n  }\n\n  get pending() {\n    return this.nodeSummary.pending;\n  }\n\n  get ready() {\n    return this.nodeSummary.ready;\n  }\n\n  get unavailable() {\n    return this.nodeSummary.unavailable;\n  }\n\n  get stateParts() {\n    const out = [\n      {\n        label:     'Pending',\n        color:     'bg-info',\n        textColor: 'text-info',\n        value:     this.pending,\n        sort:      1,\n      },\n      {\n        label:     'Unavailable',\n        color:     'bg-error',\n        textColor: 'text-error',\n        value:     this.unavailable,\n        sort:      3,\n      },\n      {\n        label:     'Ready',\n        color:     'bg-success',\n        textColor: 'text-success',\n        value:     this.ready,\n        sort:      4,\n      },\n    ].filter((x) => x.value > 0);\n\n    return sortBy(out, 'sort:desc');\n  }\n\n  get norman() {\n    const id = this.id.replace('/', ':');\n\n    return this.$rootGetters['rancher/byId'](NORMAN.NODE_POOL, id);\n  }\n\n  get canDelete() {\n    return this.norman?.hasLink('remove');\n  }\n\n  get canUpdate() {\n    return this.norman?.hasLink('update');\n  }\n\n  remove() {\n    return this.norman?.remove();\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,IAAI,EAAEC,UAAU,EAAEC,MAAM,QAAQ,qBAAqB;AAC9D,SAASC,MAAM,QAAQ,mBAAmB;AAC1C,OAAOC,WAAW,MAAM,mCAAmC;AAAC,IAEvCC,YAAY,0BAAAC,YAAA;EAAAC,SAAA,CAAAF,YAAA,EAAAC,YAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,YAAA;EAAA,SAAAA,aAAA;IAAAK,eAAA,OAAAL,YAAA;IAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;EAAA;EAAAC,YAAA,CAAAR,YAAA;IAAAS,GAAA;IAAAC,GAAA,EAC/B,SAAAA,IAAA,EAAmB;MAAA,IAAAC,UAAA;MACjB,IAAMC,EAAE,GAAG,CAAC,EAAAD,UAAA,OAAI,CAACE,IAAI,cAAAF,UAAA,uBAATA,UAAA,CAAWG,gBAAgB,KAAI,EAAE,EAAEC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;MAChE,IAAMC,QAAQ,GAAG,IAAI,CAACC,QAAQ,CAAC,MAAM,CAAC,CAACrB,UAAU,CAACsB,aAAa,EAAEN,EAAE,CAAC;MAEpE,OAAOI,QAAQ;IACjB;EAAC;IAAAP,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAe;MAAA,IAAAS,kBAAA;MACb,QAAAA,kBAAA,GAAO,IAAI,CAACC,YAAY,cAAAD,kBAAA,uBAAjBA,kBAAA,CAAmBE,QAAQ;IACpC;EAAC;IAAAZ,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAmB;MAAA,IAAAY,mBAAA;MACjB,QAAAA,mBAAA,GAAO,IAAI,CAACF,YAAY,cAAAE,mBAAA,uBAAjBA,mBAAA,CAAmBC,WAAW;IACvC;EAAC;IAAAd,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAsB;MAAA,IAAAc,mBAAA;MACpB,QAAAA,mBAAA,GAAO,IAAI,CAACJ,YAAY,cAAAI,mBAAA,uBAAjBA,mBAAA,CAAmBC,eAAe;IAC3C;EAAC;IAAAhB,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAuB;MAAA,IAAAgB,mBAAA;MACrB,QAAAA,mBAAA,GAAO,IAAI,CAACN,YAAY,cAAAM,mBAAA,uBAAjBA,mBAAA,CAAmBC,gBAAgB;IAC5C;EAAC;IAAAlB,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAmB;MAAA,IAAAkB,mBAAA;MACjB,QAAAA,mBAAA,GAAO,IAAI,CAACR,YAAY,cAAAQ,mBAAA,uBAAjBA,mBAAA,CAAmBC,YAAY;IACxC;EAAC;IAAApB,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAA0B;MAAA,IAAAoB,KAAA;MACxB,OAAO,IAAI,CAACb,QAAQ,CAAC,KAAK,CAAC,CAACtB,IAAI,CAACoC,eAAe,CAAC,CAACC,IAAI,CAAC,UAACC,CAAC;QAAA,OAAKA,CAAC,CAACC,IAAI,KAAKJ,KAAI,CAACjB,IAAI,CAACsB,WAAW;MAAA,EAAC;IACjG;EAAC;IAAA1B,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAmB;MAAA,IAAA0B,qBAAA;MACjB,OAAO;QACLF,IAAI,EAAI,yCAAyC;QACjDG,MAAM,EAAE;UACNC,QAAQ,EAAG3C,IAAI,CAACoC,eAAe;UAC/BQ,SAAS,GAAAH,qBAAA,GAAE,IAAI,CAACI,mBAAmB,cAAAJ,qBAAA,uBAAxBA,qBAAA,CAA0BG,SAAS;UAC9C3B,EAAE,EAAS,IAAI,CAACC,IAAI,CAACsB;QACvB;MACF,CAAC;IACH;EAAC;IAAA1B,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAY;MACV,OAAO,IAAI,CAAC+B,MAAM,CAACC,QAAQ;IAC7B;EAAC;IAAAjC,GAAA;IAAAkC,KAAA,EAED,SAAAC,UAAUC,KAAK,EAAE;MAAA,IAAAC,MAAA;MACf,IAAI,CAACL,MAAM,CAACC,QAAQ,IAAIG,KAAK;MAE7B,IAAK,IAAI,CAACE,UAAU,EAAG;QACrBC,YAAY,CAAC,IAAI,CAACD,UAAU,CAAC;MAC/B;MAEA,IAAI,CAACA,UAAU,GAAGE,UAAU,CAAC,YAAM;QACjC,IAAI;UACFH,MAAI,CAACL,MAAM,CAACS,IAAI,CAAC,CAAC;QACpB,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdL,MAAI,CAACM,SAAS,CAAC,iBAAiB,EAAE;YAChCC,KAAK,EAAE,oBAAoB;YAC3BF,KAAK,EAALA;UACF,CAAC,EAAE;YAAEG,IAAI,EAAE;UAAK,CAAC,CAAC;QACpB;MACF,CAAC,EAAE,IAAI,CAAC;IACV;EAAC;IAAA7C,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAY;MACV,IAAM6C,YAAY,GAAG,IAAI,CAAC3C,EAAE,CAACG,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;MAE9C,OAAO,IAAI,CAACE,QAAQ,CAAC,KAAK,CAAC,CAACrB,UAAU,CAAC4D,IAAI,CAAC,CAACC,MAAM,CAAC,UAACC,IAAI;QAAA,OAAKA,IAAI,CAAC7C,IAAI,CAAC0C,YAAY,KAAKA,YAAY;MAAA,EAAC;IACxG;EAAC;IAAA9C,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAkB;MAChB;MACA;MACA;MACA,IAAMiD,GAAG,GAAG;QACVC,OAAO,EAAM,CAAC;QACdC,WAAW,EAAE,CAAC;QACdC,KAAK,EAAQ;MACf,CAAC;MAED,IAAI,CAAC,IAAI,CAACC,KAAK,EAAE;QACf,OAAOJ,GAAG;MACZ;MAEA,OAAO,IAAI,CAACI,KAAK,CAACC,MAAM,CAAC,UAACL,GAAG,EAAEM,CAAC,EAAK;QACnC,IAAIA,CAAC,CAACC,QAAQ,CAACC,KAAK,CAAChB,KAAK,EAAG;UAC3BQ,GAAG,CAACE,WAAW,EAAE;QACnB,CAAC,MAAM,IAAII,CAAC,CAACC,QAAQ,CAACC,KAAK,CAACC,aAAa,EAAE;UACzCT,GAAG,CAACC,OAAO,EAAE;QACf,CAAC,MAAM,IAAIK,CAAC,CAACE,KAAK,KAAK,QAAQ,EAAE;UAC/BR,GAAG,CAACE,WAAW,EAAE;QACnB,CAAC,MAAM;UACLF,GAAG,CAACG,KAAK,EAAE;QACb;QAEA,OAAOH,GAAG;MACZ,CAAC,EAAAU,aAAA,KAAOV,GAAG,CAAE,CAAC;IAChB;EAAC;IAAAlD,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAc;MAAA,IAAA4D,WAAA;MACZ,OAAO,EAAAA,WAAA,OAAI,CAACzD,IAAI,cAAAyD,WAAA,uBAATA,WAAA,CAAW5B,QAAQ,KAAI,CAAC;IACjC;EAAC;IAAAjC,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAc;MACZ,OAAO,IAAI,CAAC6D,WAAW,CAACX,OAAO;IACjC;EAAC;IAAAnD,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAY;MACV,OAAO,IAAI,CAAC6D,WAAW,CAACT,KAAK;IAC/B;EAAC;IAAArD,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAkB;MAChB,OAAO,IAAI,CAAC6D,WAAW,CAACV,WAAW;IACrC;EAAC;IAAApD,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAiB;MACf,IAAM8D,GAAG,GAAG,CACV;QACEC,KAAK,EAAM,SAAS;QACpBC,KAAK,EAAM,SAAS;QACpBC,SAAS,EAAE,WAAW;QACtBhC,KAAK,EAAM,IAAI,CAACiB,OAAO;QACvBgB,IAAI,EAAO;MACb,CAAC,EACD;QACEH,KAAK,EAAM,aAAa;QACxBC,KAAK,EAAM,UAAU;QACrBC,SAAS,EAAE,YAAY;QACvBhC,KAAK,EAAM,IAAI,CAACkB,WAAW;QAC3Be,IAAI,EAAO;MACb,CAAC,EACD;QACEH,KAAK,EAAM,OAAO;QAClBC,KAAK,EAAM,YAAY;QACvBC,SAAS,EAAE,cAAc;QACzBhC,KAAK,EAAM,IAAI,CAACmB,KAAK;QACrBc,IAAI,EAAO;MACb,CAAC,CACF,CAACnB,MAAM,CAAC,UAACoB,CAAC;QAAA,OAAKA,CAAC,CAAClC,KAAK,GAAG,CAAC;MAAA,EAAC;MAE5B,OAAO7C,MAAM,CAAC0E,GAAG,EAAE,WAAW,CAAC;IACjC;EAAC;IAAA/D,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAa;MACX,IAAME,EAAE,GAAG,IAAI,CAACA,EAAE,CAACG,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;MAEpC,OAAO,IAAI,CAAC+D,YAAY,CAAC,cAAc,CAAC,CAACjF,MAAM,CAACkF,SAAS,EAAEnE,EAAE,CAAC;IAChE;EAAC;IAAAH,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAgB;MAAA,IAAAsE,YAAA;MACd,QAAAA,YAAA,GAAO,IAAI,CAACvC,MAAM,cAAAuC,YAAA,uBAAXA,YAAA,CAAaC,OAAO,CAAC,QAAQ,CAAC;IACvC;EAAC;IAAAxE,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAgB;MAAA,IAAAwE,aAAA;MACd,QAAAA,aAAA,GAAO,IAAI,CAACzC,MAAM,cAAAyC,aAAA,uBAAXA,aAAA,CAAaD,OAAO,CAAC,QAAQ,CAAC;IACvC;EAAC;IAAAxE,GAAA;IAAAkC,KAAA,EAED,SAAAwC,OAAA,EAAS;MAAA,IAAAC,aAAA;MACP,QAAAA,aAAA,GAAO,IAAI,CAAC3C,MAAM,cAAA2C,aAAA,uBAAXA,aAAA,CAAaD,MAAM,CAAC,CAAC;IAC9B;EAAC;EAAA,OAAAnF,YAAA;AAAA,EAjKuCD,WAAW;AAAA,SAAhCC,YAAY,IAAAqF,OAAA"}]}