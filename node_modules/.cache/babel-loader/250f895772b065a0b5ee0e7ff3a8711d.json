{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--17-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/DrainOptions.test.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/DrainOptions.test.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbW91bnQgfSBmcm9tICdAdnVlL3Rlc3QtdXRpbHMnOwppbXBvcnQgRHJhaW5PcHRpb25zIGZyb20gJ0BzaGVsbC9lZGl0L3Byb3Zpc2lvbmluZy5jYXR0bGUuaW8uY2x1c3Rlci9EcmFpbk9wdGlvbnMudnVlJzsKZGVzY3JpYmUoJ2RyYWluIG9wdGlvbnMnLCBmdW5jdGlvbiAoKSB7CiAgaXQoJ3Nob3VsZCB1cGRhdGUgYW4gZW1wdHkgdmFsdWUgd2l0aCBkZWZhdWx0IGRyYWluIG9wdGlvbnMnLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2EsIF9iOwogICAgdmFyIHdyYXBwZXIgPSBtb3VudChEcmFpbk9wdGlvbnMsIHsKICAgICAgcHJvcHNEYXRhOiB7CiAgICAgICAgdmFsdWU6IHt9LAogICAgICAgIG1vZGU6ICdjcmVhdGUnCiAgICAgIH0sCiAgICAgIG1vY2tzOiB7CiAgICAgICAgJHN0b3JlOiB7CiAgICAgICAgICBnZXR0ZXJzOiB7CiAgICAgICAgICAgICdpMThuL3QnOiBqZXN0LmZuKCkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgZXhwZWN0KChfYiA9IChfYSA9IHdyYXBwZXIuZW1pdHRlZCgnaW5wdXQnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzBdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbMF0pLnRvU3RyaWN0RXF1YWwoewogICAgICBkZWxldGVFbXB0eURpckRhdGE6IHRydWUsCiAgICAgIGRpc2FibGVFdmljdGlvbjogZmFsc2UsCiAgICAgIGVuYWJsZWQ6IGZhbHNlLAogICAgICBmb3JjZTogZmFsc2UsCiAgICAgIGdyYWNlUGVyaW9kOiAtMSwKICAgICAgaWdub3JlRGFlbW9uU2V0czogdHJ1ZSwKICAgICAgc2tpcFdhaXRGb3JEZWxldGVUaW1lb3V0U2Vjb25kczogMCwKICAgICAgdGltZW91dDogMTIwCiAgICB9KTsKICB9KTsKICBpdCgnc2hvdWxkIG5vdCBvdmVyd3JpdGUgZXhpc3RpbmcgZHJhaW4gb3B0aW9uIHZhbHVlcycsIGZ1bmN0aW9uICgpIHsKICAgIHZhciBfYSwgX2I7CiAgICB2YXIgdXBncmFkZVN0cmF0ZWd5ID0gewogICAgICBkZWxldGVFbXB0eURpckRhdGE6IGZhbHNlLAogICAgICBkaXNhYmxlRXZpY3Rpb246IGZhbHNlLAogICAgICBlbmFibGVkOiBmYWxzZSwKICAgICAgZm9yY2U6IHRydWUsCiAgICAgIGlnbm9yZURhZW1vblNldHM6IGZhbHNlLAogICAgICB0aW1lb3V0OiA5MAogICAgfTsKICAgIHZhciB3cmFwcGVyID0gbW91bnQoRHJhaW5PcHRpb25zLCB7CiAgICAgIHByb3BzRGF0YTogewogICAgICAgIHZhbHVlOiB1cGdyYWRlU3RyYXRlZ3ksCiAgICAgICAgbW9kZTogJ2NyZWF0ZScKICAgICAgfSwKICAgICAgbW9ja3M6IHsKICAgICAgICAkc3RvcmU6IHsKICAgICAgICAgIGdldHRlcnM6IHsKICAgICAgICAgICAgJ2kxOG4vdCc6IGplc3QuZm4oKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICBleHBlY3QoKF9iID0gKF9hID0gd3JhcHBlci5lbWl0dGVkKCdpbnB1dCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMF0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYlswXSkudG9TdHJpY3RFcXVhbCh7CiAgICAgIGRlbGV0ZUVtcHR5RGlyRGF0YTogZmFsc2UsCiAgICAgIGRpc2FibGVFdmljdGlvbjogZmFsc2UsCiAgICAgIGVuYWJsZWQ6IGZhbHNlLAogICAgICBmb3JjZTogdHJ1ZSwKICAgICAgZ3JhY2VQZXJpb2Q6IC0xLAogICAgICBpZ25vcmVEYWVtb25TZXRzOiBmYWxzZSwKICAgICAgc2tpcFdhaXRGb3JEZWxldGVUaW1lb3V0U2Vjb25kczogMCwKICAgICAgdGltZW91dDogOTAKICAgIH0pOwogIH0pOwp9KTs="},{"version":3,"names":["mount","DrainOptions","describe","it","wrapper","propsData","value","mode","mocks","$store","getters","jest","fn","expect","_b","_a","emitted","toStrictEqual","deleteEmptyDirData","disableEviction","enabled","force","gracePeriod","ignoreDaemonSets","skipWaitForDeleteTimeoutSeconds","timeout","upgradeStrategy"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/__tests__/DrainOptions.test.ts"],"sourcesContent":["import { mount } from '@vue/test-utils';\nimport DrainOptions from '@shell/edit/provisioning.cattle.io.cluster/DrainOptions.vue';\nimport { DefaultProps } from 'vue/types/options';\nimport { ExtendedVue, Vue } from 'vue/types/vue';\n\ndescribe('drain options', () => {\n  it('should update an empty value with default drain options', () => {\n    const wrapper = mount(DrainOptions as unknown as ExtendedVue<Vue, {}, {}, {}, DefaultProps>, {\n      propsData: { value: { }, mode: 'create' },\n      mocks:     { $store: { getters: { 'i18n/t': jest.fn() } } },\n\n    });\n\n    expect(wrapper.emitted('input')?.[0]?.[0]).toStrictEqual({\n      deleteEmptyDirData:              true,\n      disableEviction:                 false,\n      enabled:                         false,\n      force:                           false,\n      gracePeriod:                     -1,\n      ignoreDaemonSets:                true,\n      skipWaitForDeleteTimeoutSeconds: 0,\n      timeout:                         120,\n    });\n  });\n\n  it('should not overwrite existing drain option values', () => {\n    const upgradeStrategy = {\n      deleteEmptyDirData: false,\n      disableEviction:    false,\n      enabled:            false,\n      force:              true,\n      ignoreDaemonSets:   false,\n      timeout:            90,\n    };\n    const wrapper = mount(DrainOptions as unknown as ExtendedVue<Vue, {}, {}, {}, DefaultProps>, {\n      propsData: { value: upgradeStrategy, mode: 'create' },\n      mocks:     { $store: { getters: { 'i18n/t': jest.fn() } } },\n\n    });\n\n    expect(wrapper.emitted('input')?.[0]?.[0]).toStrictEqual({\n      deleteEmptyDirData:              false,\n      disableEviction:                 false,\n      enabled:                         false,\n      force:                           true,\n      gracePeriod:                     -1,\n      ignoreDaemonSets:                false,\n      skipWaitForDeleteTimeoutSeconds: 0,\n      timeout:                         90,\n    });\n  });\n});\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,iBAAiB;AACvC,OAAOC,YAAY,MAAM,6DAA6D;AAItFC,QAAQ,CAAC,eAAe,EAAE,YAAK;EAC7BC,EAAE,CAAC,yDAAyD,EAAE,YAAK;;IACjE,IAAMC,OAAO,GAAGJ,KAAK,CAACC,YAAqE,EAAE;MAC3FI,SAAS,EAAE;QAAEC,KAAK,EAAE,EAAG;QAAEC,IAAI,EAAE;MAAQ,CAAE;MACzCC,KAAK,EAAM;QAAEC,MAAM,EAAE;UAAEC,OAAO,EAAE;YAAE,QAAQ,EAAEC,IAAI,CAACC,EAAE;UAAE;QAAE;MAAE;KAE1D,CAAC;IAEFC,MAAM,EAAAC,EAAA,IAAAC,EAAA,GAACX,OAAO,CAACY,OAAO,CAAC,OAAO,CAAC,cAAAD,EAAA,uBAAAA,EAAA,CAAG,CAAC,eAAAD,EAAA,uBAAAA,EAAA,CAAI,CAAC,EAAE,CAACG,aAAa,CAAC;MACvDC,kBAAkB,EAAe,IAAI;MACrCC,eAAe,EAAkB,KAAK;MACtCC,OAAO,EAA0B,KAAK;MACtCC,KAAK,EAA4B,KAAK;MACtCC,WAAW,EAAsB,CAAC,CAAC;MACnCC,gBAAgB,EAAiB,IAAI;MACrCC,+BAA+B,EAAE,CAAC;MAClCC,OAAO,EAA0B;KAClC,CAAC;EACJ,CAAC,CAAC;EAEFtB,EAAE,CAAC,mDAAmD,EAAE,YAAK;;IAC3D,IAAMuB,eAAe,GAAG;MACtBR,kBAAkB,EAAE,KAAK;MACzBC,eAAe,EAAK,KAAK;MACzBC,OAAO,EAAa,KAAK;MACzBC,KAAK,EAAe,IAAI;MACxBE,gBAAgB,EAAI,KAAK;MACzBE,OAAO,EAAa;KACrB;IACD,IAAMrB,OAAO,GAAGJ,KAAK,CAACC,YAAqE,EAAE;MAC3FI,SAAS,EAAE;QAAEC,KAAK,EAAEoB,eAAe;QAAEnB,IAAI,EAAE;MAAQ,CAAE;MACrDC,KAAK,EAAM;QAAEC,MAAM,EAAE;UAAEC,OAAO,EAAE;YAAE,QAAQ,EAAEC,IAAI,CAACC,EAAE;UAAE;QAAE;MAAE;KAE1D,CAAC;IAEFC,MAAM,EAAAC,EAAA,IAAAC,EAAA,GAACX,OAAO,CAACY,OAAO,CAAC,OAAO,CAAC,cAAAD,EAAA,uBAAAA,EAAA,CAAG,CAAC,eAAAD,EAAA,uBAAAA,EAAA,CAAI,CAAC,EAAE,CAACG,aAAa,CAAC;MACvDC,kBAAkB,EAAe,KAAK;MACtCC,eAAe,EAAkB,KAAK;MACtCC,OAAO,EAA0B,KAAK;MACtCC,KAAK,EAA4B,IAAI;MACrCC,WAAW,EAAsB,CAAC,CAAC;MACnCC,gBAAgB,EAAiB,KAAK;MACtCC,+BAA+B,EAAE,CAAC;MAClCC,OAAO,EAA0B;KAClC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"}]}