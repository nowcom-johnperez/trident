{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/ResourceQuota/Project.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/ResourceQuota/Project.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBBcnJheUxpc3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9BcnJheUxpc3QnOwppbXBvcnQgUm93IGZyb20gJy4vUHJvamVjdFJvdyc7CmltcG9ydCB7IFFVT1RBX0NPTVBVVEVEIH0gZnJvbSAnLi9zaGFyZWQnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXJyYXlMaXN0OiBBcnJheUxpc3QsCiAgICBSb3c6IFJvdwogIH0sCiAgcHJvcHM6IHsKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgdHlwZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAnc3BlYycsIHRoaXMudmFsdWUuc3BlYyB8fCB7fSk7CiAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5zcGVjLCAnbmFtZXNwYWNlRGVmYXVsdFJlc291cmNlUXVvdGEnLCB0aGlzLnZhbHVlLnNwZWMubmFtZXNwYWNlRGVmYXVsdFJlc291cmNlUXVvdGEgfHwgewogICAgICBsaW1pdDoge30KICAgIH0pOwogICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYywgJ3Jlc291cmNlUXVvdGEnLCB0aGlzLnZhbHVlLnNwZWMucmVzb3VyY2VRdW90YSB8fCB7CiAgICAgIGxpbWl0OiB7fQogICAgfSk7CiAgICByZXR1cm4gewogICAgICB0eXBlVmFsdWVzOiBPYmplY3Qua2V5cyh0aGlzLnZhbHVlLnNwZWMucmVzb3VyY2VRdW90YS5saW1pdCkKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgUVVPVEFfQ09NUFVURUQpLAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZVR5cGU6IGZ1bmN0aW9uIHVwZGF0ZVR5cGUoaSwgdHlwZSkgewogICAgICB0aGlzLiRzZXQodGhpcy50eXBlVmFsdWVzLCBpLCB0eXBlKTsKICAgIH0sCiAgICByZW1haW5pbmdUeXBlczogZnVuY3Rpb24gcmVtYWluaW5nVHlwZXMoY3VycmVudFR5cGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIHRoaXMubWFwcGVkVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChtYXBwZWRUeXBlKSB7CiAgICAgICAgcmV0dXJuICFfdGhpcy50eXBlVmFsdWVzLmluY2x1ZGVzKG1hcHBlZFR5cGUudmFsdWUpIHx8IG1hcHBlZFR5cGUudmFsdWUgPT09IGN1cnJlbnRUeXBlOwogICAgICB9KTsKICAgIH0sCiAgICBlbWl0UmVtb3ZlOiBmdW5jdGlvbiBlbWl0UmVtb3ZlKGRhdGEpIHsKICAgICAgdmFyIF9kYXRhJHJvdzsKICAgICAgdGhpcy4kZW1pdCgncmVtb3ZlJywgKF9kYXRhJHJvdyA9IGRhdGEucm93KSA9PT0gbnVsbCB8fCBfZGF0YSRyb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kYXRhJHJvdy52YWx1ZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["ArrayList","Row","QUOTA_COMPUTED","components","props","mode","type","String","required","value","Object","default","_default","types","Array","data","$set","spec","namespaceDefaultResourceQuota","limit","resourceQuota","typeValues","keys","computed","_objectSpread","methods","updateType","i","remainingTypes","currentType","_this","mappedTypes","filter","mappedType","includes","emitRemove","_data$row","$emit","row"],"sources":["node_modules/@rancher/shell/components/form/ResourceQuota/Project.vue"],"sourcesContent":["<script>\r\nimport ArrayList from '@shell/components/form/ArrayList';\r\nimport Row from './ProjectRow';\r\nimport { QUOTA_COMPUTED } from './shared';\r\n\r\nexport default {\r\n  components: { ArrayList, Row },\r\n\r\n  props: {\r\n    mode: {\r\n      type:     String,\r\n      required: true,\r\n    },\r\n    value: {\r\n      type:    Object,\r\n      default: () => {\r\n        return {};\r\n      }\r\n    },\r\n    types: {\r\n      type:    Array,\r\n      default: () => {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    this.$set(this.value, 'spec', this.value.spec || {});\r\n    this.$set(this.value.spec, 'namespaceDefaultResourceQuota', this.value.spec.namespaceDefaultResourceQuota || { limit: {} });\r\n    this.$set(this.value.spec, 'resourceQuota', this.value.spec.resourceQuota || { limit: {} });\r\n\r\n    return { typeValues: Object.keys(this.value.spec.resourceQuota.limit) };\r\n  },\r\n\r\n  computed: { ...QUOTA_COMPUTED },\r\n\r\n  methods: {\r\n    updateType(i, type) {\r\n      this.$set(this.typeValues, i, type);\r\n    },\r\n    remainingTypes(currentType) {\r\n      return this.mappedTypes\r\n        .filter((mappedType) => !this.typeValues.includes(mappedType.value) || mappedType.value === currentType);\r\n    },\r\n    emitRemove(data) {\r\n      this.$emit('remove', data.row?.value);\r\n    }\r\n  },\r\n};\r\n</script>\r\n<template>\r\n  <div>\r\n    <div class=\"headers mb-10\">\r\n      <div class=\"mr-10\">\r\n        <label>{{ t('resourceQuota.headers.resourceType') }}</label>\r\n      </div>\r\n      <div class=\"mr-20\">\r\n        <label>{{ t('resourceQuota.headers.projectLimit') }}</label>\r\n      </div>\r\n      <div class=\"mr-10\">\r\n        <label>{{ t('resourceQuota.headers.namespaceDefaultLimit') }}</label>\r\n      </div>\r\n    </div>\r\n    <ArrayList\r\n      v-model=\"typeValues\"\r\n      label=\"Resources\"\r\n      :add-label=\"t('resourceQuota.add.label')\"\r\n      :default-add-value=\"remainingTypes()[0] ? remainingTypes()[0].value : ''\"\r\n      :add-allowed=\"remainingTypes().length > 0\"\r\n      :mode=\"mode\"\r\n      @remove=\"emitRemove\"\r\n    >\r\n      <template #columns=\"props\">\r\n        <Row\r\n          v-model=\"value\"\r\n          :mode=\"mode\"\r\n          :types=\"remainingTypes(typeValues[props.i])\"\r\n          :type=\"typeValues[props.i]\"\r\n          @type-change=\"updateType(props.i, $event)\"\r\n        />\r\n      </template>\r\n    </ArrayList>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.headers {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-evenly;\r\n    align-items: center;\r\n    border-bottom: 1px solid var(--border);\r\n    height: 30px;\r\n    width: calc(100% - 75px);\r\n\r\n    div {\r\n        width: 100%;\r\n    }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;AACA,OAAAA,SAAA;AACA,OAAAC,GAAA;AACA,SAAAC,cAAA;AAEA;EACAC,UAAA;IAAAH,SAAA,EAAAA,SAAA;IAAAC,GAAA,EAAAA;EAAA;EAEAG,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IACAC,KAAA;MACAH,IAAA,EAAAI,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IACAC,KAAA;MACAP,IAAA,EAAAQ,KAAA;MACAH,OAAA,WAAAC,SAAA;QACA;MACA;IACA;EACA;EAEAG,IAAA,WAAAA,KAAA;IACA,KAAAC,IAAA,MAAAP,KAAA,eAAAA,KAAA,CAAAQ,IAAA;IACA,KAAAD,IAAA,MAAAP,KAAA,CAAAQ,IAAA,wCAAAR,KAAA,CAAAQ,IAAA,CAAAC,6BAAA;MAAAC,KAAA;IAAA;IACA,KAAAH,IAAA,MAAAP,KAAA,CAAAQ,IAAA,wBAAAR,KAAA,CAAAQ,IAAA,CAAAG,aAAA;MAAAD,KAAA;IAAA;IAEA;MAAAE,UAAA,EAAAX,MAAA,CAAAY,IAAA,MAAAb,KAAA,CAAAQ,IAAA,CAAAG,aAAA,CAAAD,KAAA;IAAA;EACA;EAEAI,QAAA,EAAAC,aAAA,KAAAtB,cAAA;EAEAuB,OAAA;IACAC,UAAA,WAAAA,WAAAC,CAAA,EAAArB,IAAA;MACA,KAAAU,IAAA,MAAAK,UAAA,EAAAM,CAAA,EAAArB,IAAA;IACA;IACAsB,cAAA,WAAAA,eAAAC,WAAA;MAAA,IAAAC,KAAA;MACA,YAAAC,WAAA,CACAC,MAAA,WAAAC,UAAA;QAAA,QAAAH,KAAA,CAAAT,UAAA,CAAAa,QAAA,CAAAD,UAAA,CAAAxB,KAAA,KAAAwB,UAAA,CAAAxB,KAAA,KAAAoB,WAAA;MAAA;IACA;IACAM,UAAA,WAAAA,WAAApB,IAAA;MAAA,IAAAqB,SAAA;MACA,KAAAC,KAAA,YAAAD,SAAA,GAAArB,IAAA,CAAAuB,GAAA,cAAAF,SAAA,uBAAAA,SAAA,CAAA3B,KAAA;IACA;EACA;AACA"}]}