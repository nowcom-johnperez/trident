{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/MachinePool.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/MachinePool.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IHsgX0VESVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCBUYWludHMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9UYWludHMudnVlJzsKaW1wb3J0IEtleVZhbHVlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vS2V5VmFsdWUudnVlJzsKaW1wb3J0IEFkdmFuY2VkU2VjdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9BZHZhbmNlZFNlY3Rpb24udnVlJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IFVuaXRJbnB1dCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1VuaXRJbnB1dC52dWUnOwppbXBvcnQgeyByYW5kb21TdHIgfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNYWNoaW5lUG9vbCcsCiAgY29tcG9uZW50czogewogICAgTGFiZWxlZElucHV0OiBMYWJlbGVkSW5wdXQsCiAgICBDaGVja2JveDogQ2hlY2tib3gsCiAgICBUYWludHM6IFRhaW50cywKICAgIEtleVZhbHVlOiBLZXlWYWx1ZSwKICAgIEFkdmFuY2VkU2VjdGlvbjogQWR2YW5jZWRTZWN0aW9uLAogICAgQmFubmVyOiBCYW5uZXIsCiAgICBVbml0SW5wdXQ6IFVuaXRJbnB1dAogIH0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBjbHVzdGVyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgLy8gbm8gY3JlZGVudGlhbHMgYXJlIHJlcXVpcmVkIGZvciBlbGVtZW50YWwgbWFjaGluZSBwb29scwogICAgY3JlZGVudGlhbElkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBfRURJVAogICAgfSwKICAgIHByb3ZpZGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBpZHg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIG1hY2hpbmVQb29sczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgLy8gSXMgdGhlIFVJIGJ1c3kgKGUuZy4gZHVyaW5nIHNhdmUpCiAgICBidXN5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgcG9vbElkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgcGFyc2VEdXJhdGlvbiA9IGZ1bmN0aW9uIHBhcnNlRHVyYXRpb24oZHVyYXRpb24pIHsKICAgICAgLy8gVGhlIGJhY2sgZW5kIHN0b3JlcyB0aGUgdGltZW91dCBpbiBEdXJhdGlvbiBmb3JtYXQsIGZvciBleGFtcGxlLCAiNDJkMzFoMTBtMzBzIi4KICAgICAgLy8gSGVyZSB3ZSBjb252ZXJ0IHRoYXQgc3RyaW5nIHRvIGFuIGludGVnZXIgYW5kIHJldHVybiB0aGUgZHVyYXRpb24gYXMgc2Vjb25kcy4KICAgICAgdmFyIHNwbGl0U3RyID0gZHVyYXRpb24uc3BsaXQoLyhbYS16XSkvKTsKICAgICAgdmFyIGR1cmF0aW9uc0FzU2Vjb25kcyA9IHNwbGl0U3RyLnJlZHVjZShmdW5jdGlvbiAob2xkLCBuZXUsIGlkeCkgewogICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChuZXUpOwogICAgICAgIGlmIChpc05hTihwYXJzZWQpKSB7CiAgICAgICAgICByZXR1cm4gb2xkOwogICAgICAgIH0KICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzcGxpdFN0cltpZHggKyAxXTsKICAgICAgICBzd2l0Y2ggKGludGVydmFsKSB7CiAgICAgICAgICBjYXNlICdkJzoKICAgICAgICAgICAgb2xkLnB1c2gocGFyc2VkICogMjQgKiA2MCAqIDYwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdoJzoKICAgICAgICAgICAgb2xkLnB1c2gocGFyc2VkICogNjAgKiA2MCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnbSc6CiAgICAgICAgICAgIG9sZC5wdXNoKHBhcnNlZCAqIDYwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICdzJzoKICAgICAgICAgICAgb2xkLnB1c2gocGFyc2VkKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9sZDsKICAgICAgfSwgW10pOwogICAgICByZXR1cm4gZHVyYXRpb25zQXNTZWNvbmRzLnJlZHVjZShmdW5jdGlvbiAob2xkLCBuZXUpIHsKICAgICAgICByZXR1cm4gb2xkICsgbmV1OwogICAgICB9KTsKICAgIH07CiAgICByZXR1cm4gewogICAgICB1dWlkOiByYW5kb21TdHIoKSwKICAgICAgdW5oZWFsdGh5Tm9kZVRpbWVvdXRJbnRlZ2VyOiB0aGlzLnZhbHVlLnBvb2wudW5oZWFsdGh5Tm9kZVRpbWVvdXQgPyBwYXJzZUR1cmF0aW9uKHRoaXMudmFsdWUucG9vbC51bmhlYWx0aHlOb2RlVGltZW91dCkgOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbmZpZ0NvbXBvbmVudDogZnVuY3Rpb24gY29uZmlnQ29tcG9uZW50KCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaGFzQ3VzdG9tTWFjaGluZUNvbmZpZ0NvbXBvbmVudCddKHRoaXMucHJvdmlkZXIpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2ltcG9ydE1hY2hpbmVDb25maWcnXSh0aGlzLnByb3ZpZGVyKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaW1wb3J0TWFjaGluZUNvbmZpZyddKCdnZW5lcmljJyk7CiAgICB9LAogICAgaXNXaW5kb3dzOiBmdW5jdGlvbiBpc1dpbmRvd3MoKSB7CiAgICAgIHZhciBfdGhpcyR2YWx1ZTsKICAgICAgcmV0dXJuICgoX3RoaXMkdmFsdWUgPSB0aGlzLnZhbHVlKSA9PT0gbnVsbCB8fCBfdGhpcyR2YWx1ZSA9PT0gdm9pZCAwIHx8IChfdGhpcyR2YWx1ZSA9IF90aGlzJHZhbHVlLmNvbmZpZykgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHZhbHVlLm9zKSA9PT0gJ3dpbmRvd3MnOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGlzV2luZG93czogZnVuY3Rpb24gaXNXaW5kb3dzKG5ldSkgewogICAgICBpZiAobmV1KSB7CiAgICAgICAgdGhpcy52YWx1ZS5wb29sLmV0Y2RSb2xlID0gZmFsc2U7CiAgICAgICAgdGhpcy52YWx1ZS5wb29sLmNvbnRyb2xQbGFuZVJvbGUgPSBmYWxzZTsKICAgICAgICB0aGlzLnZhbHVlLnBvb2wubWFjaGluZU9TID0gJ3dpbmRvd3MnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudmFsdWUucG9vbC5tYWNoaW5lT1MgPSAnbGludXgnOwogICAgICB9CiAgICB9CiAgfSwKICAvKioKICAgKiBPbiBjcmVhdGlvbiwgZW5zdXJlIHRoYXQgdGhlIHBvb2wgaXMgbWFya2VkIHZhbGlkIC0gY3VzdG9tIG1hY2hpbmUgcG9vbHMgY2FuIGVtaXQgZnVydGhlciB2YWxpZGF0aW9uIGV2ZW50cwogICAqLwogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsIHRydWUpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIC8vIEVuc3VyZSB3ZSBlbWl0IHZhbGlkYXRpb24gZXZlbnQgc28gcGFyZW50IGNhbiBmb3JnZXQgYW55IHZhbGlkYXRpb24gZm9yIHRoaXMgTWFjaGluZSBQb29sIHdoZW4gaXQgaXMgcmVtb3ZlZAogICAgdGhpcy4kZW1pdCgndmFsaWRhdGlvbkNoYW5nZWQnLCB1bmRlZmluZWQpOwogIH0sCiAgbWV0aG9kczogewogICAgZW1pdEVycm9yOiBmdW5jdGlvbiBlbWl0RXJyb3IoZSkgewogICAgICB0aGlzLiRlbWl0KCdlcnJvcicsIGUpOwogICAgfSwKICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzJCRyZWZzJGNvbmZpZ0NvbTsKICAgICAgICB2YXIgZXJyb3JzLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCEodHlwZW9mICgoX3RoaXMkJHJlZnMkY29uZmlnQ29tID0gX3RoaXMuJHJlZnMuY29uZmlnQ29tcG9uZW50KSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyRjb25maWdDb20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyZWZzJGNvbmZpZ0NvbS50ZXN0KSA9PT0gJ2Z1bmN0aW9uJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlcnJvcnMgPSBbXTsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHJlZnMuY29uZmlnQ29tcG9uZW50LnRlc3QoKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgaWYgKCFyZXMgfHwgcmVzICE9PSBudWxsICYmIHJlcyAhPT0gdm9pZCAwICYmIHJlcy5lcnJvcnMpIHsKICAgICAgICAgICAgICAgIGlmIChyZXMgIT09IG51bGwgJiYgcmVzICE9PSB2b2lkIDAgJiYgcmVzLmVycm9ycykgewogICAgICAgICAgICAgICAgICBlcnJvcnMgPSByZXMuZXJyb3JzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgIGVycm9ycyA9IFtfY29udGV4dC50MF07CiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZXJyb3JzKTsKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gaGFuZGxlIGVtaXR0ZWQgbWF0Y2hlZCBtYWNoaW5lIGludmVudG9yaWVzIG9uIHNlbGVjdG9yIHNvIHRoYXQgbWFjaGluZSBjb3VudAogICAgLy8gb24gbWFjaGluZSBwb29sIGNhbiBiZSBrZXB0IHVwIHRvIGRhdGUKICAgIC8vIChvbmx5IHVzZWQgb24gRWxlbWVudGFsIGJlY2F1c2UgaXQgY29tZXMgZnJvbSAibWFjaGluZWludmVudG9yeXNlbGVjdG9ydGVtcGxhdGUiIG1hY2hpbmUtY29uZmlnKQogICAgdXBkYXRlTWFjaGluZUNvdW50OiBmdW5jdGlvbiB1cGRhdGVNYWNoaW5lQ291bnQodmFsKSB7CiAgICAgIHRoaXMudmFsdWUucG9vbC5xdWFudGl0eSA9IHZhbCB8fCAxOwogICAgfSwKICAgIGV4cGFuZEFkdmFuY2VkOiBmdW5jdGlvbiBleHBhbmRBZHZhbmNlZCgpIHsKICAgICAgdmFyIGFkdmFuY2VkQ29tcG9uZW50ID0gdGhpcy4kcmVmcy5hZHZhbmNlZDsKICAgICAgaWYgKGFkdmFuY2VkQ29tcG9uZW50ICYmICFhZHZhbmNlZENvbXBvbmVudC5zaG93KSB7CiAgICAgICAgYWR2YW5jZWRDb21wb25lbnQudG9nZ2xlKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBQcm9wYWdhdGUgdXAgdmFsaWRhdGlvbiBzdGF0dXMgZm9yIHRoaXMgTWFjaGluZSBQb29sCiAgICB2YWxpZGF0aW9uQ2hhbmdlZDogZnVuY3Rpb24gdmFsaWRhdGlvbkNoYW5nZWQodmFsKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3ZhbGlkYXRpb25DaGFuZ2VkJywgdmFsKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["LabeledInput","Checkbox","_EDIT","Taints","KeyValue","AdvancedSection","Banner","UnitInput","randomStr","name","components","props","value","type","Object","required","cluster","default","_default","credentialId","String","mode","provider","idx","Number","machinePools","Array","busy","Boolean","poolId","data","parseDuration","duration","splitStr","split","durationsAsSeconds","reduce","old","neu","parsed","parseInt","isNaN","interval","push","uuid","unhealthyNodeTimeoutInteger","pool","unhealthyNodeTimeout","computed","configComponent","$store","getters","isWindows","_this$value","config","os","watch","etcdRole","controlPlaneRole","machineOS","created","$emit","beforeDestroy","undefined","methods","emitError","e","test","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","_this$$refs$configCom","errors","res","wrap","_callee$","_context","prev","next","$refs","sent","t0","abrupt","stop","updateMachineCount","val","quantity","expandAdvanced","advancedComponent","advanced","show","toggle","validationChanged"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/MachinePool.vue"],"sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { _EDIT } from '@shell/config/query-params';\nimport Taints from '@shell/components/form/Taints.vue';\nimport KeyValue from '@shell/components/form/KeyValue.vue';\nimport AdvancedSection from '@shell/components/AdvancedSection.vue';\nimport { Banner } from '@components/Banner';\nimport UnitInput from '@shell/components/form/UnitInput.vue';\nimport { randomStr } from '@shell/utils/string';\n\nexport default {\n\n  name: 'MachinePool',\n\n  components: {\n    LabeledInput,\n    Checkbox,\n    Taints,\n    KeyValue,\n    AdvancedSection,\n    Banner,\n    UnitInput\n  },\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    cluster: {\n      type:    Object,\n      default: () => ({})\n    },\n\n    // no credentials are required for elemental machine pools\n    credentialId: {\n      type:    String,\n      default: null\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT,\n    },\n\n    provider: {\n      type:     String,\n      required: true,\n    },\n\n    idx: {\n      type:     Number,\n      required: true,\n    },\n\n    machinePools: {\n      type:    Array,\n      default: () => []\n    },\n\n    // Is the UI busy (e.g. during save)\n    busy: {\n      type:    Boolean,\n      default: false,\n    },\n\n    poolId: {\n      type:     String,\n      required: true,\n    }\n  },\n\n  data() {\n    const parseDuration = (duration) => {\n      // The back end stores the timeout in Duration format, for example, \"42d31h10m30s\".\n      // Here we convert that string to an integer and return the duration as seconds.\n      const splitStr = duration.split(/([a-z])/);\n\n      const durationsAsSeconds = splitStr.reduce((old, neu, idx) => {\n        const parsed = parseInt(neu);\n\n        if ( isNaN(parsed) ) {\n          return old;\n        }\n\n        const interval = splitStr[(idx + 1)];\n\n        switch (interval) {\n        case 'd':\n          old.push(parsed * 24 * 60 * 60);\n          break;\n        case 'h':\n          old.push(parsed * 60 * 60);\n          break;\n        case 'm':\n          old.push(parsed * 60);\n          break;\n        case 's':\n          old.push(parsed);\n          break;\n        default:\n          break;\n        }\n\n        return old;\n      }, []);\n\n      return durationsAsSeconds.reduce((old, neu) => old + neu);\n    };\n\n    return {\n      uuid: randomStr(),\n\n      unhealthyNodeTimeoutInteger: this.value.pool.unhealthyNodeTimeout ? parseDuration(this.value.pool.unhealthyNodeTimeout) : 0,\n    };\n  },\n\n  computed: {\n    configComponent() {\n      if (this.$store.getters['type-map/hasCustomMachineConfigComponent'](this.provider)) {\n        return this.$store.getters['type-map/importMachineConfig'](this.provider);\n      }\n\n      return this.$store.getters['type-map/importMachineConfig']('generic');\n    },\n\n    isWindows() {\n      return this.value?.config?.os === 'windows';\n    },\n  },\n\n  watch: {\n    isWindows(neu) {\n      if (neu) {\n        this.value.pool.etcdRole = false;\n        this.value.pool.controlPlaneRole = false;\n        this.value.pool.machineOS = 'windows';\n      } else {\n        this.value.pool.machineOS = 'linux';\n      }\n    }\n  },\n\n  /**\n   * On creation, ensure that the pool is marked valid - custom machine pools can emit further validation events\n   */\n  created() {\n    this.$emit('validationChanged', true);\n  },\n\n  beforeDestroy() {\n    // Ensure we emit validation event so parent can forget any validation for this Machine Pool when it is removed\n    this.$emit('validationChanged', undefined);\n  },\n\n  methods: {\n    emitError(e) {\n      this.$emit('error', e);\n    },\n    async test() {\n      if ( typeof this.$refs.configComponent?.test === 'function' ) {\n        let errors = [];\n\n        try {\n          const res = await this.$refs.configComponent.test();\n\n          if ( !res || res?.errors) {\n            if (res?.errors) {\n              errors = res.errors;\n            }\n          }\n        } catch (e) {\n          errors = [e];\n        }\n\n        return errors;\n      }\n    },\n    // handle emitted matched machine inventories on selector so that machine count\n    // on machine pool can be kept up to date\n    // (only used on Elemental because it comes from \"machineinventoryselectortemplate\" machine-config)\n    updateMachineCount(val) {\n      this.value.pool.quantity = val || 1;\n    },\n\n    expandAdvanced() {\n      const advancedComponent = this.$refs.advanced;\n\n      if (advancedComponent && !advancedComponent.show) {\n        advancedComponent.toggle();\n      }\n    },\n\n    // Propagate up validation status for this Machine Pool\n    validationChanged(val) {\n      this.$emit('validationChanged', val);\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <Banner\n      v-if=\"value.pool.hostnameLengthLimit\"\n      color=\"info\"\n    >\n      <div class=\"text\">\n        {{ t('cluster.machinePool.truncationPool', { limit: value.pool.hostnameLengthLimit }) }}\n      </div>\n    </Banner>\n    <div class=\"row\">\n      <div class=\"col span-4\">\n        <LabeledInput\n          v-model=\"value.pool.name\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.name.label')\"\n          :required=\"true\"\n          :disabled=\"!value.config || !!value.config.id || busy\"\n        />\n      </div>\n      <div class=\"col span-4\">\n        <LabeledInput\n          v-model.number=\"value.pool.quantity\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.quantity.label')\"\n          :disabled=\"busy\"\n          type=\"number\"\n          min=\"0\"\n          :required=\"true\"\n        />\n      </div>\n      <div class=\"col span-4 pt-5\">\n        <h3>\n          {{ t('cluster.machinePool.role.label') }}\n        </h3>\n        <Checkbox\n          v-model=\"value.pool.etcdRole\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.role.etcd')\"\n          :disabled=\"isWindows || busy\"\n        />\n        <Checkbox\n          v-model=\"value.pool.controlPlaneRole\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.role.controlPlane')\"\n          :disabled=\"isWindows || busy\"\n        />\n        <Checkbox\n          v-model=\"value.pool.workerRole\"\n          :mode=\"mode\"\n          :label=\"t('cluster.machinePool.role.worker')\"\n          :disabled=\"busy\"\n        />\n      </div>\n    </div>\n    <hr class=\"mt-10\">\n    <component\n      :is=\"configComponent\"\n      v-if=\"value.config && configComponent\"\n      ref=\"configComponent\"\n      :cluster=\"cluster\"\n      :uuid=\"uuid\"\n      :mode=\"mode\"\n      :value=\"value.config\"\n      :provider=\"provider\"\n      :credential-id=\"credentialId\"\n      :pool-index=\"idx\"\n      :pool-id=\"poolId\"\n      :machine-pools=\"machinePools\"\n      :busy=\"busy\"\n      @error=\"emitError\"\n      @updateMachineCount=\"updateMachineCount\"\n      @expandAdvanced=\"expandAdvanced\"\n      @validationChanged=\"validationChanged\"\n    />\n    <Banner\n      v-else-if=\"value.configMissing\"\n      color=\"error\"\n      label-key=\"cluster.machinePool.configNotFound\"\n    />\n    <Banner\n      v-else\n      color=\"info\"\n      label-key=\"cluster.machinePool.noAccessBanner\"\n    />\n\n    <AdvancedSection\n      ref=\"advanced\"\n      :mode=\"mode\"\n      class=\"advanced\"\n    >\n      <portal-target\n        :name=\"'advanced-' + uuid\"\n        multiple\n      />\n\n      <div class=\"spacer\" />\n      <div class=\"row\">\n        <div class=\"col span-4\">\n          <h3>\n            {{ t('cluster.machinePool.autoReplace.label') }}\n            <i\n              v-clean-tooltip=\"t('cluster.machinePool.autoReplace.toolTip')\"\n              class=\"icon icon-info icon-lg\"\n            />\n          </h3>\n          <UnitInput\n            v-model.number=\"unhealthyNodeTimeoutInteger\"\n            :hide-arrows=\"true\"\n            :placeholder=\"t('containerResourceLimit.cpuPlaceholder')\"\n            :mode=\"mode\"\n            :output-modifier=\"true\"\n            :base-unit=\"t('cluster.machinePool.autoReplace.unit')\"\n            :disabled=\"busy\"\n            @input=\"value.pool.unhealthyNodeTimeout = `${unhealthyNodeTimeoutInteger}s`\"\n          />\n        </div>\n        <div class=\"col span-4\">\n          <h3>\n            {{ t('cluster.machinePool.drain.header') }}\n          </h3>\n          <Checkbox\n            v-model=\"value.pool.drainBeforeDelete\"\n            :mode=\"mode\"\n            :label=\"t('cluster.machinePool.drain.label')\"\n            :disabled=\"busy\"\n          />\n        </div>\n      </div>\n      <div class=\"spacer\" />\n      <KeyValue\n        v-model=\"value.pool.labels\"\n        :add-label=\"t('labels.addLabel')\"\n        :disabled=\"busy\"\n        :title=\"t('cluster.machinePool.labels.label')\"\n        :read-allowed=\"false\"\n        :value-can-be-empty=\"true\"\n      />\n\n      <div class=\"spacer\" />\n\n      <Taints\n        v-model=\"value.pool.taints\"\n        :mode=\"mode\"\n        :disabled=\"busy\"\n      />\n\n      <portal-target\n        :name=\"'advanced-footer-' + uuid\"\n        multiple\n      />\n    </AdvancedSection>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .advanced ::v-deep >.vue-portal-target:empty,\n  .advanced ::v-deep >.vue-portal-target:empty + .spacer {\n    display: none;\n  }\n</style>\n"],"mappings":"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"}]}