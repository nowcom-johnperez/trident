{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--17-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js??ref--17-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/url.ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/url.ts","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvWyJAQGl0ZXJhdG9yIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuYW5jaG9yLmpzIjsKZXhwb3J0IGZ1bmN0aW9uIGFkZFBhcmFtKHVybCwga2V5LCB2YWwpIHsKICB2YXIgb3V0ID0gdXJsICsgKHVybC5pbmNsdWRlcygnPycpID8gJyYnIDogJz8nKTsKICAvLyB2YWwgY2FuIGJlIGEgc3RyaW5nIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MKICBpZiAoIUFycmF5LmlzQXJyYXkodmFsKSkgewogICAgdmFsID0gW3ZhbF07CiAgfQogIG91dCArPSB2YWwubWFwKGZ1bmN0aW9uICh2KSB7CiAgICBpZiAodiA9PT0gbnVsbCkgewogICAgICByZXR1cm4gIiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChrZXkpKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAiIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGtleSksICI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh2KSk7CiAgICB9CiAgfSkuam9pbignJicpOwogIHJldHVybiBvdXQ7Cn0KZXhwb3J0IGZ1bmN0aW9uIGFkZFBhcmFtcyh1cmwsIHBhcmFtcykgewogIGlmIChwYXJhbXMgJiYgX3R5cGVvZihwYXJhbXMpID09PSAnb2JqZWN0JykgewogICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgdXJsID0gYWRkUGFyYW0odXJsLCBrZXksIHBhcmFtc1trZXldKTsKICAgIH0pOwogIH0KICByZXR1cm4gdXJsOwp9CmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQYXJhbSh1cmwsIGtleSkgewogIHZhciBfYTsKICB2YXIgcGFyc2VkID0gcGFyc2UodXJsKTsKICBpZiAoKF9hID0gcGFyc2VkLnF1ZXJ5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Fba2V5XSkgewogICAgZGVsZXRlIHBhcnNlZC5xdWVyeVtrZXldOwogIH0KICByZXR1cm4gc3RyaW5naWZ5KHBhcnNlZCk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTGlua0hlYWRlcihzdHIpIHsKICB2YXIgb3V0ID0ge307CiAgdmFyIGxpbmVzID0gKHN0ciB8fCAnJykuc3BsaXQoJywnKTsKICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobGluZXMpLAogICAgX3N0ZXA7CiAgdHJ5IHsKICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgIHZhciBsaW5lID0gX3N0ZXAudmFsdWU7CiAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2goL15ccyo8KFtePl0rKT5ccyo7XHMqcmVsXHMqPSIoLiopIi8pOwogICAgICBpZiAobWF0Y2gpIHsKICAgICAgICBvdXRbbWF0Y2hbMl0udG9Mb3dlckNhc2UoKV0gPSBtYXRjaFsxXTsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yLmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yLmYoKTsKICB9CiAgcmV0dXJuIG91dDsKfQpleHBvcnQgZnVuY3Rpb24gaXNNYXliZVNlY3VyZShwb3J0LCBwcm90bykgewogIHZhciBwcm90b2NvbCA9IHByb3RvLnRvTG93ZXJDYXNlKCk7CiAgcmV0dXJuIHBvcnRNYXRjaChbcG9ydF0sIFs0NDMsIDg0NDNdLCBbJzQ0MyddKSB8fCBwcm90b2NvbCA9PT0gJ2h0dHBzJzsKfQpleHBvcnQgZnVuY3Rpb24gcG9ydE1hdGNoKHBvcnRzLCBlcXVhbHMsIGVuZHNXaXRoKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3J0cy5sZW5ndGg7IGkrKykgewogICAgdmFyIHBvcnQgPSBwb3J0c1tpXTsKICAgIGlmIChlcXVhbHMuaW5jbHVkZXMocG9ydCkpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVuZHNXaXRoLmxlbmd0aDsgaisrKSB7CiAgICAgIHZhciBzdWZmaXggPSAiIi5jb25jYXQoZW5kc1dpdGhbal0pOwogICAgICB2YXIgcG9ydFN0ciA9ICIiLmNvbmNhdChwb3J0KTsKICAgICAgaWYgKHBvcnRTdHIgIT09IHN1ZmZpeCAmJiBwb3J0U3RyLmVuZHNXaXRoKHN1ZmZpeCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gZmFsc2U7Cn0KLy8gcGFyc2VVcmkgMS4yLjIKLy8gKGMpIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPgovLyBodHRwczovL2phdmFzY3JpcHRzb3VyY2UuY29tL3BhcnNldXJpLwovLyBNSVQgTGljZW5zZQpleHBvcnQgZnVuY3Rpb24gcGFyc2Uoc3RyKSB7CiAgdmFyIG8gPSBwYXJzZS5vcHRpb25zOwogIHZhciBtID0gby5wYXJzZXJbby5zdHJpY3RNb2RlID8gJ3N0cmljdCcgOiAnbG9vc2UnXS5leGVjKHN0cik7CiAgaWYgKCFtKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBwYXJzZSBhcyB1cmk6ICIuY29uY2F0KHN0cikpOwogIH0KICB2YXIgdXJpID0ge307CiAgdmFyIGkgPSAxNDsKICB3aGlsZSAoaS0tKSB7CiAgICB1cmlbby5rZXlbaV1dID0gbVtpXSB8fCAnJzsKICB9CiAgdXJpLnF1ZXJ5ID0ge307CiAgdXJpLnF1ZXJ5U3RyLnJlcGxhY2Uoby5xLnBhcnNlciwgZnVuY3Rpb24gKF8sICQxLCAkMikgewogICAgaWYgKCQxKSB7CiAgICAgIHVyaVtvLnEubmFtZV1bJDFdID0gJDI7CiAgICB9CiAgICByZXR1cm4gJyc7CiAgfSk7CiAgcmV0dXJuIHVyaTsKfQpwYXJzZS5vcHRpb25zID0gewogIHN0cmljdE1vZGU6IGZhbHNlLAogIGtleTogWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnlTdHInLCAnYW5jaG9yJ10sCiAgcTogewogICAgbmFtZTogJ3F1ZXJ5JywKICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nCiAgfSwKICBwYXJzZXI6IHsKICAgIHN0cmljdDogL14oPzooW146XC8/I10rKTopPyg/OlwvXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcLz8jXSopKD86OihcZCopKT8pKT8oKCgoPzpbXj8jXC9dKlwvKSopKFtePyNdKikpKD86XD8oW14jXSopKT8oPzojKC4qKSk/KS8sCiAgICBsb29zZTogL14oPzooPyFbXjpAXSs6W146QFwvXSpAKShbXjpcLz8jLl0rKTopPyg/OlwvXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlwvPyNdKikoPzo6KFxkKikpPykoKChcLyg/OltePyNdKD8hW14/I1wvXSpcLltePyNcLy5dKyg/Ols/I118JCkpKSpcLz8pPyhbXj8jXC9dKikpKD86XD8oW14jXSopKT8oPzojKC4qKSk/KS8KICB9Cn07CmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkodXJpKSB7CiAgdmFyIG91dCA9ICIiLmNvbmNhdCh1cmkucHJvdG9jb2wsICI6Ly8iKTsKICBpZiAodXJpLnVzZXIgJiYgdXJpLnBhc3N3b3JkKSB7CiAgICBvdXQgKz0gIiIuY29uY2F0KHVyaS51c2VyLCAiOiIpLmNvbmNhdCh1cmkucGFzc3dvcmQsICJAIik7CiAgfSBlbHNlIGlmICh1cmkudXNlcikgewogICAgb3V0ICs9ICIiLmNvbmNhdCh1cmkudXNlciwgIkAiKTsKICB9CiAgb3V0ICs9IHVyaS5ob3N0OwogIGlmICh1cmkucG9ydCkgewogICAgb3V0ICs9ICI6Ii5jb25jYXQodXJpLnBvcnQpOwogIH0KICBvdXQgKz0gdXJpLnBhdGggfHwgJy8nOwogIG91dCA9IGFkZFBhcmFtcyhvdXQsIHVyaS5xdWVyeSB8fCB7fSk7CiAgaWYgKHVyaS5hbmNob3IpIHsKICAgIG91dCArPSAiIyIuY29uY2F0KHVyaS5hbmNob3IpOwogIH0KICByZXR1cm4gb3V0Owp9"},{"version":3,"names":["addParam","url","key","val","out","includes","Array","isArray","map","v","concat","encodeURIComponent","join","addParams","params","_typeof","Object","keys","forEach","removeParam","parsed","parse","_a","query","stringify","parseLinkHeader","str","lines","split","_iterator","_createForOfIteratorHelper","_step","s","n","done","line","value","match","toLowerCase","err","e","f","isMaybeSecure","port","proto","protocol","portMatch","ports","equals","endsWith","i","length","j","suffix","portStr","o","options","m","parser","strictMode","exec","Error","uri","queryStr","replace","q","_","$1","$2","name","strict","loose","user","password","host","path","anchor"],"sources":["/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/utils/url.ts"],"sourcesContent":["type UriField = 'source' | 'protocol' | 'authority' | 'userInfo' | 'user' | 'password' | 'host' | 'port' | 'relative' | 'path' | 'directory' | 'file' | 'queryStr' | 'anchor'\ntype UriFields = {\n  [key in UriField]: string; // eslint-disable-line no-unused-vars\n}\ntype QueryParams = {\n  [key: string]: string\n}\n\ninterface ParsedUri extends UriFields {\n  query: QueryParams;\n}\n\nexport function addParam(url: string, key: string, val: string | string[]): string {\n  let out = url + (url.includes('?') ? '&' : '?');\n\n  // val can be a string or an array of strings\n  if ( !Array.isArray(val) ) {\n    val = [val];\n  }\n  out += val.map((v) => {\n    if ( v === null ) {\n      return `${ encodeURIComponent(key) }`;\n    } else {\n      return `${ encodeURIComponent(key) }=${ encodeURIComponent(v) }`;\n    }\n  }).join('&');\n\n  return out;\n}\n\nexport function addParams(url: string, params: QueryParams): string {\n  if ( params && typeof params === 'object' ) {\n    Object.keys(params).forEach((key) => {\n      url = addParam(url, key, params[key]);\n    });\n  }\n\n  return url;\n}\n\nexport function removeParam(url: string, key: string): string {\n  const parsed = parse(url);\n\n  if ( parsed.query?.[key] ) {\n    delete parsed.query[key];\n  }\n\n  return stringify(parsed);\n}\n\nexport function parseLinkHeader(str: string): Record<string, string> {\n  const out: { [key: string]: string} = { };\n  const lines = (str || '').split(',');\n\n  for ( const line of lines ) {\n    const match = line.match(/^\\s*<([^>]+)>\\s*;\\s*rel\\s*=\"(.*)\"/);\n\n    if ( match ) {\n      out[match[2].toLowerCase()] = match[1];\n    }\n  }\n\n  return out;\n}\n\nexport function isMaybeSecure(port: number, proto: string): boolean {\n  const protocol = proto.toLowerCase();\n\n  return portMatch([port], [443, 8443], ['443']) || protocol === 'https';\n}\n\nexport function portMatch(ports: number[], equals: number[], endsWith: string[]): boolean {\n  for (let i = 0; i < ports.length; i++) {\n    const port = ports[i];\n\n    if (equals.includes(port)) {\n      return true;\n    }\n\n    for (let j = 0; j < endsWith.length; j++) {\n      const suffix = `${ endsWith[j] }`;\n      const portStr = `${ port }`;\n\n      if (portStr !== suffix && portStr.endsWith(suffix)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\n// parseUri 1.2.2\n// (c) Steven Levithan <stevenlevithan.com>\n// https://javascriptsource.com/parseuri/\n// MIT License\nexport function parse(str: string): ParsedUri {\n  const o = parse.options;\n  const m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str);\n\n  if (!m) {\n    throw new Error(`Cannot parse as uri: ${ str }`);\n  }\n  const uri = {} as ParsedUri;\n  let i = 14;\n\n  while (i--) {\n    uri[o.key[i]] = m[i] || '';\n  }\n\n  uri.query = {};\n  uri.queryStr.replace(o.q.parser, (_, $1: string, $2: string): string => {\n    if ($1) {\n      uri[o.q.name][$1] = $2;\n    }\n\n    return '';\n  });\n\n  return uri;\n}\n\nparse.options = {\n  strictMode: false,\n  key:        ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'queryStr', 'anchor'],\n  q:          {\n    name:   'query',\n    parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n  },\n  parser: {\n    strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n    loose:  /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n  }\n} as {\n  strictMode: boolean,\n  key: UriField[],\n  q: {\n    name: 'query',\n    parser: RegExp\n  },\n  parser: {\n    strict: RegExp,\n    loose: RegExp\n  }\n};\n\nexport function stringify(uri: ParsedUri): string {\n  let out = `${ uri.protocol }://`;\n\n  if ( uri.user && uri.password ) {\n    out += `${ uri.user }:${ uri.password }@`;\n  } else if ( uri.user ) {\n    out += `${ uri.user }@`;\n  }\n\n  out += uri.host;\n\n  if ( uri.port ) {\n    out += `:${ uri.port }`;\n  }\n\n  out += uri.path || '/';\n\n  out = addParams(out, uri.query || {});\n\n  if ( uri.anchor ) {\n    out += `#${ uri.anchor }`;\n  }\n\n  return out;\n}\n"],"mappings":"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"}]}