{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/AssignTo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/AssignTo.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvWyJAQGl0ZXJhdG9yIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9CmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBGTEVFVCwgTk9STUFOIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCBLZXlWYWx1ZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0tleVZhbHVlJzsKaW1wb3J0IEFzeW5jQnV0dG9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FzeW5jQnV0dG9uJzsKaW1wb3J0IHsgQ2FyZCB9IGZyb20gJ0Bjb21wb25lbnRzL0NhcmQnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgeyBleGNlcHRpb25Ub0Vycm9yc0FycmF5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2Vycm9yJzsKaW1wb3J0IHsgc2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDYXJkOiBDYXJkLAogICAgTGFiZWxlZFNlbGVjdDogTGFiZWxlZFNlbGVjdCwKICAgIEtleVZhbHVlOiBLZXlWYWx1ZSwKICAgIEFzeW5jQnV0dG9uOiBBc3luY0J1dHRvbiwKICAgIEJhbm5lcjogQmFubmVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3JzOiBbXSwKICAgICAgbGFiZWxzOiB7fSwKICAgICAgbW92ZVRvOiB0aGlzLndvcmtzcGFjZSwKICAgICAgbG9hZGVkOiBmYWxzZSwKICAgICAgYWxsV29ya3NwYWNlczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ2FjdGlvbi1tZW51JywgWydzaG93QXNzaWduVG8nLCAndG9Bc3NpZ24nXSkpLCBtYXBHZXR0ZXJzKHsKICAgIHQ6ICdpMThuL3QnCiAgfSkpLCBtYXBHZXR0ZXJzKFsnd29ya3NwYWNlJ10pKSwge30sIHsKICAgIHdvcmtzcGFjZU9wdGlvbnM6IGZ1bmN0aW9uIHdvcmtzcGFjZU9wdGlvbnMoKSB7CiAgICAgIHZhciBvdXQgPSB0aGlzLmFsbFdvcmtzcGFjZXMubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgdmFyIF94JG1ldGFkYXRhOwogICAgICAgIHJldHVybiAoX3gkbWV0YWRhdGEgPSB4Lm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfeCRtZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3gkbWV0YWRhdGEubmFtZTsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuICEheCAmJiB4ICE9PSAnZmxlZXQtbG9jYWwnOwogICAgICB9KTsKICAgICAgcmV0dXJuIG91dDsKICAgIH0sCiAgICByZXNvdXJjZUNvdW50OiBmdW5jdGlvbiByZXNvdXJjZUNvdW50KCkgewogICAgICB2YXIgX3RoaXMkdG9Bc3NpZ247CiAgICAgIHJldHVybiAoKF90aGlzJHRvQXNzaWduID0gdGhpcy50b0Fzc2lnbikgPT09IG51bGwgfHwgX3RoaXMkdG9Bc3NpZ24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHRvQXNzaWduLmxlbmd0aCkgfHwgMDsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgc2hvd0Fzc2lnblRvOiBmdW5jdGlvbiBzaG93QXNzaWduVG8oc2hvdykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghc2hvdykgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JhbmNoZXIvZmluZEFsbCcsIHsKICAgICAgICAgICAgICAgIHR5cGU6IE5PUk1BTi5DTFVTVEVSCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmRBbGwnLCB7CiAgICAgICAgICAgICAgICB0eXBlOiBGTEVFVC5XT1JLU1BBQ0UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF90aGlzLmFsbFdvcmtzcGFjZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF90aGlzLm1vdmVUbyA9IF90aGlzLndvcmtzcGFjZTsKICAgICAgICAgICAgICBfdGhpcy5sb2FkZWQgPSB0cnVlOwogICAgICAgICAgICAgIF90aGlzLiRtb2RhbC5zaG93KCdhc3NpZ25UbycpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfdGhpcy4kbW9kYWwuaGlkZSgnYXNzaWduVG8nKTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgdGhpcy5sYWJlbHMgPSB7fTsKICAgICAgdGhpcy5tb3ZlVG8gPSB0aGlzLndvcmtzcGFjZTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhY3Rpb24tbWVudS90b2dnbGVBc3NpZ25UbycpOwogICAgfSwKICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShidXR0b25Eb25lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcHJvbWlzZXMsIF9pdGVyYXRvciwgX3N0ZXAsIGZsZWV0Q2x1c3RlciwgYywgX2ksIF9PYmplY3Qka2V5cywgazsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcHJvbWlzZXMgPSBbXTsKICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzID0gW107CiAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX3RoaXMyLnRvQXNzaWduKTsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yLnMoKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGlmICgoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGZsZWV0Q2x1c3RlciA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgicmFuY2hlci9jbG9uZSIsIHsKICAgICAgICAgICAgICAgIHJlc291cmNlOiBmbGVldENsdXN0ZXIubm9ybWFuCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgaWYgKGMpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImNvbnRpbnVlIiwgMTUpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGMuZmxlZXRXb3Jrc3BhY2VOYW1lID0gX3RoaXMyLm1vdmVUbzsKICAgICAgICAgICAgICBmb3IgKF9pID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXMoX3RoaXMyLmxhYmVscyk7IF9pIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICAgICAgayA9IF9PYmplY3Qka2V5c1tfaV07CiAgICAgICAgICAgICAgICBpZiAoIWMuX2xhYmVscykgewogICAgICAgICAgICAgICAgICBzZXQoYywgJ19sYWJlbHMnLCB7fSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzZXQoYy5fbGFiZWxzLCBrLCBfdGhpczIubGFiZWxzW2tdKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChjLnNhdmUoKSk7CiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOTsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoX2NvbnRleHQyLnQwKTsKICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIyOwogICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMjIpOwogICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjU7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyODsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpOwogICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIGJ1dHRvbkRvbmUodHJ1ZSk7CiAgICAgICAgICAgICAgX3RoaXMyLmNsb3NlKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDMyOwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IF9jb250ZXh0MlsiY2F0Y2giXSgyNSk7CiAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycyA9IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXkoX2NvbnRleHQyLnQxKTsKICAgICAgICAgICAgICBidXR0b25Eb25lKGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1szLCAxOSwgMjIsIDI1XSwgWzI1LCAzMl1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapState","mapGetters","FLEET","NORMAN","LabeledSelect","KeyValue","AsyncButton","Card","Banner","exceptionToErrorsArray","set","components","data","errors","labels","moveTo","workspace","loaded","allWorkspaces","computed","_objectSpread","t","workspaceOptions","out","map","x","_x$metadata","metadata","name","filter","resourceCount","_this$toAssign","toAssign","length","watch","showAssignTo","show","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","dispatch","type","CLUSTER","WORKSPACE","sent","$modal","hide","stop","methods","close","commit","apply","buttonDone","_this2","_callee2","promises","_iterator","_step","fleetCluster","c","_i","_Object$keys","k","_callee2$","_context2","_createForOfIteratorHelper","s","n","done","value","resource","norman","abrupt","fleetWorkspaceName","Object","keys","_labels","push","save","t0","e","f","finish","Promise","all","t1"],"sources":["node_modules/@rancher/shell/components/AssignTo.vue"],"sourcesContent":["<script>\nimport { mapState, mapGetters } from 'vuex';\nimport { FLEET, NORMAN } from '@shell/config/types';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport KeyValue from '@shell/components/form/KeyValue';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Card } from '@components/Card';\nimport { Banner } from '@components/Banner';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { set } from '@shell/utils/object';\n\nexport default {\n  components: {\n    Card,\n    LabeledSelect,\n    KeyValue,\n    AsyncButton,\n    Banner,\n  },\n\n  data() {\n    return {\n      errors:        [],\n      labels:        {},\n      moveTo:        this.workspace,\n      loaded:        false,\n      allWorkspaces: [],\n    };\n  },\n\n  computed: {\n    ...mapState('action-menu', ['showAssignTo', 'toAssign']),\n    ...mapGetters({ t: 'i18n/t' }),\n    ...mapGetters(['workspace']),\n\n    workspaceOptions() {\n      const out = this.allWorkspaces.map((x) => x.metadata?.name).filter((x) => !!x && x !== 'fleet-local');\n\n      return out;\n    },\n\n    resourceCount() {\n      return this.toAssign?.length || 0;\n    }\n  },\n\n  watch: {\n    async showAssignTo(show) {\n      if (show) {\n        await this.$store.dispatch('rancher/findAll', { type: NORMAN.CLUSTER });\n        this.allWorkspaces = await this.$store.dispatch('management/findAll', { type: FLEET.WORKSPACE });\n        this.moveTo = this.workspace;\n        this.loaded = true;\n        this.$modal.show('assignTo');\n      } else {\n        this.$modal.hide('assignTo');\n      }\n    }\n  },\n\n  methods: {\n    close() {\n      this.errors = [];\n      this.labels = {};\n      this.moveTo = this.workspace;\n      this.$store.commit('action-menu/toggleAssignTo');\n    },\n\n    async apply(buttonDone) {\n      const promises = [];\n\n      this.errors = [];\n\n      for ( const fleetCluster of this.toAssign ) {\n        const c = await this.$store.dispatch(`rancher/clone`, { resource: fleetCluster.norman });\n\n        if ( !c ) {\n          continue;\n        }\n\n        c.fleetWorkspaceName = this.moveTo;\n\n        for ( const k of Object.keys(this.labels) ) {\n          if ( !c._labels ) {\n            set(c, '_labels', {});\n          }\n\n          set(c._labels, k, this.labels[k]);\n        }\n\n        promises.push(c.save());\n      }\n\n      try {\n        await Promise.all(promises);\n        buttonDone(true);\n        this.close();\n      } catch (e) {\n        this.errors = exceptionToErrorsArray(e);\n        buttonDone(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <modal\n    class=\"assign-modal\"\n    name=\"assignTo\"\n    styles=\"background-color: var(--nav-bg); border-radius: var(--border-radius); max-height: 100vh;\"\n    height=\"auto\"\n    :scrollable=\"true\"\n  >\n    <Card\n      v-if=\"loaded\"\n      :show-highlight-border=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        v-clean-html=\"t('assignTo.title', {count: resourceCount}, true)\"\n        class=\"text-default-text\"\n      />\n\n      <div\n        slot=\"body\"\n        class=\"pl-10 pr-10\"\n      >\n        <form>\n          <LabeledSelect\n            v-model=\"moveTo\"\n            :label=\"t('assignTo.workspace')\"\n            :options=\"workspaceOptions\"\n            placement=\"bottom\"\n          />\n\n          <KeyValue\n            key=\"labels\"\n            v-model=\"labels\"\n            class=\"mt-20\"\n            :add-label=\"t('labels.addSetLabel')\"\n            :read-allowed=\"false\"\n          />\n\n          <Banner\n            v-for=\"(err, i) in errors\"\n            :key=\"i\"\n            color=\"error\"\n            :label=\"err\"\n          />\n        </form>\n      </div>\n\n      <div slot=\"actions\">\n        <button\n          class=\"btn role-secondary\"\n          @click=\"close\"\n        >\n          {{ t('generic.cancel') }}\n        </button>\n\n        <AsyncButton\n          mode=\"apply\"\n          @click=\"apply\"\n        />\n      </div>\n    </Card>\n  </modal>\n</template>\n\n<style lang='scss'>\n  .assign-modal {\n    border-radius: var(--border-radius);\n    overflow: scroll;\n    max-height: 100vh;\n    & ::-webkit-scrollbar-corner {\n      background: rgba(0,0,0,0);\n    }\n  }\n</style>\n"],"mappings":"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"}]}