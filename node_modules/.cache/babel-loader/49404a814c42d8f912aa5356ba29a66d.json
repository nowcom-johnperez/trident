{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/constraints/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/constraints/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmxhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnVuc2NvcGFibGVzLmZsYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgeyBBR0UsIE5BTUUsIFNUQVRFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90YWJsZS1oZWFkZXJzJzsKaW1wb3J0IFNvcnRhYmxlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZSc7CmltcG9ydCB7IERFU0NSSVBUSU9OIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwppbXBvcnQgeyBmaW5kQWxsQ29uc3RyYWludHMgfSBmcm9tICdAc2hlbGwvdXRpbHMvZ2F0ZWtlZXBlci91dGlsJzsKaW1wb3J0IE1hc3RoZWFkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlTGlzdC9NYXN0aGVhZCc7CmltcG9ydCB7IEFTLCBfWUFNTCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE1hc3RoZWFkOiBNYXN0aGVhZCwKICAgIFNvcnRhYmxlVGFibGU6IFNvcnRhYmxlVGFibGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY3R4KSB7CiAgICB2YXIgY3JlYXRlTG9jYXRpb24gPSB7CiAgICAgIG5hbWU6ICdjLWNsdXN0ZXItZ2F0ZWtlZXBlci1jb25zdHJhaW50cy1jcmVhdGUnLAogICAgICBwYXJhbXM6IHRoaXMuJHJvdXRlLnBhcmFtcwogICAgfTsKICAgIHZhciB5YW1sQ3JlYXRlTG9jYXRpb24gPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNyZWF0ZUxvY2F0aW9uKSwge30sIHsKICAgICAgcXVlcnk6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgQVMsIF9ZQU1MKQogICAgfSk7CiAgICByZXR1cm4gewogICAgICBjcmVhdGVMb2NhdGlvbjogY3JlYXRlTG9jYXRpb24sCiAgICAgIHlhbWxDcmVhdGVMb2NhdGlvbjogeWFtbENyZWF0ZUxvY2F0aW9uLAogICAgICBoZWFkZXJzOiBbU1RBVEUsIE5BTUUsIHsKICAgICAgICBuYW1lOiAnRGVzY3JpcHRpb24nLAogICAgICAgIGxhYmVsOiAnRGVzY3JpcHRpb24nLAogICAgICAgIHZhbHVlOiAiZGVzY3JpcHRpb24iLAogICAgICAgIHNvcnQ6ICJkZXNjcmlwdGlvbiIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdWaW9sYXRpb25zJywKICAgICAgICBsYWJlbDogJ1Zpb2xhdGlvbnMnLAogICAgICAgIHZhbHVlOiAnc3RhdHVzLnRvdGFsVmlvbGF0aW9ucycsCiAgICAgICAgc29ydDogJ3N0YXR1cy50b3RhbFZpb2xhdGlvbnMnLAogICAgICAgIHdpZHRoOiAxMjAKICAgICAgfSwgQUdFXSwKICAgICAgdGVtcGxhdGVzOiBbXSwKICAgICAgY29uc3RyYWludHM6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmF3Q29uc3RyYWludHM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZmluZEFsbENvbnN0cmFpbnRzKF90aGlzLiRzdG9yZSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJhd0NvbnN0cmFpbnRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX3RoaXMuY29uc3RyYWludHMgPSByYXdDb25zdHJhaW50cy5mbGF0KCkubWFwKGZ1bmN0aW9uIChjb25zdHJhaW50KSB7CiAgICAgICAgICAgICAgdmFyIF9jb25zdHJhaW50JG1ldGFkYXRhOwogICAgICAgICAgICAgIGNvbnN0cmFpbnQuZGVzY3JpcHRpb24gPSAoKGNvbnN0cmFpbnQgPT09IG51bGwgfHwgY29uc3RyYWludCA9PT0gdm9pZCAwIHx8IChfY29uc3RyYWludCRtZXRhZGF0YSA9IGNvbnN0cmFpbnQubWV0YWRhdGEpID09PSBudWxsIHx8IF9jb25zdHJhaW50JG1ldGFkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY29uc3RyYWludCRtZXRhZGF0YS5hbm5vdGF0aW9ucykgfHwge30pW0RFU0NSSVBUSU9OXTsKICAgICAgICAgICAgICByZXR1cm4gY29uc3RyYWludDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"names":["AGE","NAME","STATE","SortableTable","DESCRIPTION","findAllConstraints","Masthead","AS","_YAML","components","data","ctx","createLocation","name","params","$route","yamlCreateLocation","_objectSpread","query","_defineProperty","headers","label","value","sort","width","templates","constraints","created","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","rawConstraints","wrap","_callee$","_context","prev","next","$store","sent","flat","map","constraint","_constraint$metadata","description","metadata","annotations","stop"],"sources":["node_modules/@rancher/shell/pages/c/_cluster/gatekeeper/constraints/index.vue"],"sourcesContent":["<script>\nimport { AGE, NAME, STATE } from '@shell/config/table-headers';\nimport SortableTable from '@shell/components/SortableTable';\nimport { DESCRIPTION } from '@shell/config/labels-annotations';\nimport { findAllConstraints } from '@shell/utils/gatekeeper/util';\nimport Masthead from '@shell/components/ResourceList/Masthead';\nimport { AS, _YAML } from '@shell/config/query-params';\n\nexport default {\n  components: { Masthead, SortableTable },\n  data(ctx) {\n    const createLocation = {\n      name:   'c-cluster-gatekeeper-constraints-create',\n      params: this.$route.params,\n    };\n\n    const yamlCreateLocation = {\n      ...createLocation,\n      query: { [AS]: _YAML }\n    };\n\n    return {\n      createLocation,\n      yamlCreateLocation,\n      headers: [\n        STATE,\n        NAME,\n        {\n          name:  'Description',\n          label: 'Description',\n          value: `description`,\n          sort:  `description`\n        },\n        {\n          name:  'Violations',\n          label: 'Violations',\n          value: 'status.totalViolations',\n          sort:  'status.totalViolations',\n          width: 120\n        },\n        AGE,\n      ],\n      templates:   [],\n      constraints: [],\n    };\n  },\n\n  async created() {\n    const rawConstraints = await findAllConstraints(this.$store);\n\n    this.constraints = rawConstraints\n      .flat()\n      .map((constraint) => {\n        constraint.description = (constraint?.metadata?.annotations || {})[DESCRIPTION];\n\n        return constraint;\n      });\n  }\n\n};\n</script>\n\n<template>\n  <div class=\"gatekeeper-constraints\">\n    <Masthead\n      resource=\"Constraint\"\n      :type-display=\"'Constraint'\"\n      :is-yaml-creatable=\"true\"\n      :is-creatable=\"true\"\n      :yaml-create-location=\"yamlCreateLocation\"\n      :create-location=\"createLocation\"\n    />\n\n    <SortableTable\n      :headers=\"headers\"\n      :rows=\"constraints\"\n      key-field=\"id\"\n      group-by=\"kind\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\">\n.gatekeeper-constraints {\n  button.create {\n    height: 35px;\n    line-height: 0;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;AACA,SAAAA,GAAA,EAAAC,IAAA,EAAAC,KAAA;AACA,OAAAC,aAAA;AACA,SAAAC,WAAA;AACA,SAAAC,kBAAA;AACA,OAAAC,QAAA;AACA,SAAAC,EAAA,EAAAC,KAAA;AAEA;EACAC,UAAA;IAAAH,QAAA,EAAAA,QAAA;IAAAH,aAAA,EAAAA;EAAA;EACAO,IAAA,WAAAA,KAAAC,GAAA;IACA,IAAAC,cAAA;MACAC,IAAA;MACAC,MAAA,OAAAC,MAAA,CAAAD;IACA;IAEA,IAAAE,kBAAA,GAAAC,aAAA,CAAAA,aAAA,KACAL,cAAA;MACAM,KAAA,EAAAC,eAAA,KAAAZ,EAAA,EAAAC,KAAA;IAAA,EACA;IAEA;MACAI,cAAA,EAAAA,cAAA;MACAI,kBAAA,EAAAA,kBAAA;MACAI,OAAA,GACAlB,KAAA,EACAD,IAAA,EACA;QACAY,IAAA;QACAQ,KAAA;QACAC,KAAA;QACAC,IAAA;MACA,GACA;QACAV,IAAA;QACAQ,KAAA;QACAC,KAAA;QACAC,IAAA;QACAC,KAAA;MACA,GACAxB,GAAA,CACA;MACAyB,SAAA;MACAC,WAAA;IACA;EACA;EAEAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,cAAA;MAAA,OAAAH,kBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAjC,kBAAA,CAAAuB,KAAA,CAAAW,MAAA;UAAA;YAAAN,cAAA,GAAAG,QAAA,CAAAI,IAAA;YAEAZ,KAAA,CAAAF,WAAA,GAAAO,cAAA,CACAQ,IAAA,GACAC,GAAA,WAAAC,UAAA;cAAA,IAAAC,oBAAA;cACAD,UAAA,CAAAE,WAAA,KAAAF,UAAA,aAAAA,UAAA,gBAAAC,oBAAA,GAAAD,UAAA,CAAAG,QAAA,cAAAF,oBAAA,uBAAAA,oBAAA,CAAAG,WAAA,SAAA3C,WAAA;cAEA,OAAAuC,UAAA;YACA;UAAA;UAAA;YAAA,OAAAP,QAAA,CAAAY,IAAA;QAAA;MAAA,GAAAhB,OAAA;IAAA;EACA;AAEA"}]}