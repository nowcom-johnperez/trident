{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/networking.k8s.io.ingress/Certificates.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/networking.k8s.io.ingress/Certificates.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsuanMiOwppbXBvcnQgU29ydGFibGVUYWJsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Tb3J0YWJsZVRhYmxlJzsKaW1wb3J0IHsgX0VESVQsIF9WSUVXIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgeyBTRUNSRVQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IEFycmF5TGlzdEdyb3VwZWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9BcnJheUxpc3RHcm91cGVkJzsKaW1wb3J0IENlcnRpZmljYXRlIGZyb20gJy4vQ2VydGlmaWNhdGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXJyYXlMaXN0R3JvdXBlZDogQXJyYXlMaXN0R3JvdXBlZCwKICAgIENlcnRpZmljYXRlOiBDZXJ0aWZpY2F0ZSwKICAgIFNvcnRhYmxlVGFibGU6IFNvcnRhYmxlVGFibGUKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBfRURJVAogICAgfSwKICAgIGNlcnRpZmljYXRlczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgcnVsZXM6IHsKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGhvc3Q6IFtdCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgdHlwZTogT2JqZWN0CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVmYXVsdEFkZFZhbHVlOiB7CiAgICAgICAgc2VjcmV0TmFtZTogbnVsbCwKICAgICAgICBob3N0czogWycnXQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzVmlldzogZnVuY3Rpb24gaXNWaWV3KCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSBfVklFVzsKICAgIH0sCiAgICBjZXJ0SGVhZGVyczogZnVuY3Rpb24gY2VydEhlYWRlcnMoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIG5hbWU6ICdjZXJ0aWZpY2F0ZScsCiAgICAgICAgbGFiZWw6IHRoaXMudCgnaW5ncmVzcy5jZXJ0aWZpY2F0ZXMuaGVhZGVycy5jZXJ0aWZpY2F0ZScpLAogICAgICAgIHZhbHVlOiAnbGluaycsCiAgICAgICAgZm9ybWF0dGVyOiAnTGluaycsCiAgICAgICAgc29ydDogJ2xpbmsudGV4dCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdob3N0cycsCiAgICAgICAgbGFiZWw6IHRoaXMudCgnaW5ncmVzcy5jZXJ0aWZpY2F0ZXMuaGVhZGVycy5ob3N0cycpLAogICAgICAgIHZhbHVlOiAnaG9zdHMnLAogICAgICAgIGZvcm1hdHRlcjogJ2xpc3QnCiAgICAgIH1dOwogICAgfSwKICAgIGNlcnRSb3dzOiBmdW5jdGlvbiBjZXJ0Um93cygpIHsKICAgICAgdmFyIF90aGlzJHZhbHVlLAogICAgICAgIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIChfdGhpcyR2YWx1ZSA9IHRoaXMudmFsdWUpID09PSBudWxsIHx8IF90aGlzJHZhbHVlID09PSB2b2lkIDAgfHwgKF90aGlzJHZhbHVlID0gX3RoaXMkdmFsdWUuc3BlYykgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHZhbHVlLnRscy5tYXAoZnVuY3Rpb24gKGNlcnQpIHsKICAgICAgICBpZiAoY2VydC5zZWNyZXROYW1lKSB7CiAgICAgICAgICB2YXIgX3RoaXMkdmFsdWUyOwogICAgICAgICAgdmFyIG5hbWUgPSAnYy1jbHVzdGVyLXJlc291cmNlLW5hbWVzcGFjZS1pZCc7CiAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICBuYW1lc3BhY2U6IChfdGhpcyR2YWx1ZTIgPSBfdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUyID09PSB2b2lkIDAgfHwgKF90aGlzJHZhbHVlMiA9IF90aGlzJHZhbHVlMi5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkdmFsdWUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR2YWx1ZTIubmFtZXNwYWNlLAogICAgICAgICAgICBpZDogY2VydC5zZWNyZXROYW1lLAogICAgICAgICAgICByZXNvdXJjZTogU0VDUkVUCiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHVybCA9IHsKICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgICAgIH07CiAgICAgICAgICBjZXJ0LmxpbmsgPSB7CiAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICB0ZXh0OiBjZXJ0LnNlY3JldE5hbWUKICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNlcnQubGluayA9IHsKICAgICAgICAgICAgdGV4dDogJ2RlZmF1bHQnCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4gY2VydDsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["SortableTable","_EDIT","_VIEW","SECRET","ArrayListGrouped","Certificate","components","props","value","type","Object","default","_default","mode","String","certificates","Array","rules","host","data","defaultAddValue","secretName","hosts","computed","isView","certHeaders","name","label","t","formatter","sort","certRows","_this$value","_this","spec","tls","map","cert","_this$value2","params","namespace","metadata","id","resource","url","link","text"],"sources":["node_modules/@rancher/shell/edit/networking.k8s.io.ingress/Certificates.vue"],"sourcesContent":["<script>\nimport SortableTable from '@shell/components/SortableTable';\nimport { _EDIT, _VIEW } from '@shell/config/query-params';\nimport { SECRET } from '@shell/config/types';\nimport ArrayListGrouped from '@shell/components/form/ArrayListGrouped';\nimport Certificate from './Certificate';\n\nexport default {\n  components: {\n    ArrayListGrouped, Certificate, SortableTable\n  },\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n    certificates: {\n      type:    Array,\n      default: () => []\n    },\n    rules: {\n      default: () => ({ host: [] }),\n      type:    Object,\n    }\n  },\n  data() {\n    return {\n      defaultAddValue: {\n        secretName: null,\n        hosts:      ['']\n      }\n    };\n  },\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    },\n    certHeaders() {\n      return [\n        {\n          name:      'certificate',\n          label:     this.t('ingress.certificates.headers.certificate'),\n          value:     'link',\n          formatter: 'Link',\n          sort:      'link.text'\n        },\n        {\n          name:      'hosts',\n          label:     this.t('ingress.certificates.headers.hosts'),\n          value:     'hosts',\n          formatter: 'list'\n        },\n      ];\n    },\n    certRows() {\n      return this.value?.spec?.tls.map((cert) => {\n        if (cert.secretName) {\n          const name = 'c-cluster-resource-namespace-id';\n          const params = {\n            namespace: this.value?.metadata?.namespace,\n            id:        cert.secretName,\n            resource:  SECRET\n          };\n          const url = { name, params };\n\n          cert.link = { url, text: cert.secretName };\n        } else {\n          cert.link = { text: 'default' };\n        }\n\n        return cert;\n      });\n    }\n  }\n};\n</script>\n<template>\n  <SortableTable\n    v-if=\"isView\"\n    :rows=\"certRows\"\n    :headers=\"certHeaders\"\n    key-field=\"_key\"\n    :search=\"false\"\n    :table-actions=\"false\"\n    :row-actions=\"false\"\n  />\n  <div v-else>\n    <ArrayListGrouped\n      v-model=\"value.spec.tls\"\n      :add-label=\"t('ingress.certificates.addCertificate')\"\n      :default-add-value=\"defaultAddValue\"\n      :mode=\"mode\"\n    >\n      <template #default=\"props\">\n        <Certificate\n          v-model=\"props.row.value\"\n          class=\"mb-20\"\n          :mode=\"mode\"\n          :certs=\"certificates\"\n          :rules=\"rules\"\n        />\n      </template>\n    </ArrayListGrouped>\n  </div>\n</template>\n"],"mappings":";;AACA,OAAAA,aAAA;AACA,SAAAC,KAAA,EAAAC,KAAA;AACA,SAAAC,MAAA;AACA,OAAAC,gBAAA;AACA,OAAAC,WAAA;AAEA;EACAC,UAAA;IACAF,gBAAA,EAAAA,gBAAA;IAAAC,WAAA,EAAAA,WAAA;IAAAL,aAAA,EAAAA;EACA;EACAO,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,WAAAC,SAAA;QACA;MACA;IACA;IACAC,IAAA;MACAJ,IAAA,EAAAK,MAAA;MACAH,OAAA,EAAAV;IACA;IACAc,YAAA;MACAN,IAAA,EAAAO,KAAA;MACAL,OAAA,WAAAC,SAAA;QAAA;MAAA;IACA;IACAK,KAAA;MACAN,OAAA,WAAAC,SAAA;QAAA;UAAAM,IAAA;QAAA;MAAA;MACAT,IAAA,EAAAC;IACA;EACA;EACAS,IAAA,WAAAA,KAAA;IACA;MACAC,eAAA;QACAC,UAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,QAAA;IACAC,MAAA,WAAAA,OAAA;MACA,YAAAX,IAAA,KAAAX,KAAA;IACA;IACAuB,WAAA,WAAAA,YAAA;MACA,QACA;QACAC,IAAA;QACAC,KAAA,OAAAC,CAAA;QACApB,KAAA;QACAqB,SAAA;QACAC,IAAA;MACA,GACA;QACAJ,IAAA;QACAC,KAAA,OAAAC,CAAA;QACApB,KAAA;QACAqB,SAAA;MACA,EACA;IACA;IACAE,QAAA,WAAAA,SAAA;MAAA,IAAAC,WAAA;QAAAC,KAAA;MACA,QAAAD,WAAA,QAAAxB,KAAA,cAAAwB,WAAA,gBAAAA,WAAA,GAAAA,WAAA,CAAAE,IAAA,cAAAF,WAAA,uBAAAA,WAAA,CAAAG,GAAA,CAAAC,GAAA,WAAAC,IAAA;QACA,IAAAA,IAAA,CAAAhB,UAAA;UAAA,IAAAiB,YAAA;UACA,IAAAZ,IAAA;UACA,IAAAa,MAAA;YACAC,SAAA,GAAAF,YAAA,GAAAL,KAAA,CAAAzB,KAAA,cAAA8B,YAAA,gBAAAA,YAAA,GAAAA,YAAA,CAAAG,QAAA,cAAAH,YAAA,uBAAAA,YAAA,CAAAE,SAAA;YACAE,EAAA,EAAAL,IAAA,CAAAhB,UAAA;YACAsB,QAAA,EAAAxC;UACA;UACA,IAAAyC,GAAA;YAAAlB,IAAA,EAAAA,IAAA;YAAAa,MAAA,EAAAA;UAAA;UAEAF,IAAA,CAAAQ,IAAA;YAAAD,GAAA,EAAAA,GAAA;YAAAE,IAAA,EAAAT,IAAA,CAAAhB;UAAA;QACA;UACAgB,IAAA,CAAAQ,IAAA;YAAAC,IAAA;UAAA;QACA;QAEA,OAAAT,IAAA;MACA;IACA;EACA;AACA"}]}