{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceList/ResourceLoadingIndicator.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceList/ResourceLoadingIndicator.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IENPVU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CgovKioKICogTG9hZGluZyBJbmRpY2F0b3IgZm9yIHJlc291cmNlcyAtIHVzZWQgd2hlbiB3ZSBhcmUgbG9hZGluZyByZXNvdXJjZXMgaW5jcmVtZW50YWxseSwgYnkgcGFnZQogKi8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZXNvdXJjZUxvYWRpbmdJbmRpY2F0b3InLAogIHByb3BzOiB7CiAgICByZXNvdXJjZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaW5kZXRlcm1pbmF0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBpblN0b3JlID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY3VycmVudFN0b3JlJ10odGhpcy5yZXNvdXJjZSk7CiAgICByZXR1cm4gewogICAgICBpblN0b3JlOiBpblN0b3JlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIENvdW50IG9mIHJvd3MgLSBlaXRoZXIgZnJvbSB0aGUgZGF0YSBwcm92aWRlZCBvciBmcm9tIHRoZSByb3dzIGZvciB0aGUgZmlyc3QgcmVzb3VyY2UKICAgIHJvd3NDb3VudDogZnVuY3Rpb24gcm93c0NvdW50KCkgewogICAgICBpZiAodGhpcy5yZXNvdXJjZXMubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBleGlzdGluZ0RhdGEgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWyIiLmNvbmNhdCh0aGlzLmluU3RvcmUsICIvYWxsIildKHRoaXMucmVzb3VyY2VzWzBdKSB8fCBbXTsKICAgICAgICByZXR1cm4gKGV4aXN0aW5nRGF0YSB8fCBbXSkubGVuZ3RoOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfSwKICAgIC8vIEhhdmUgd2UgbG9hZGVkIGFsbCByZXNvdXJjZXMgZm9yIHRoZSB0eXBlcyB0aGF0IGFyZSBuZWVkZWQKICAgIGhhdmVBbGw6IGZ1bmN0aW9uIGhhdmVBbGwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiB0aGlzLnJlc291cmNlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcikgewogICAgICAgIHJldHVybiBhY2MgJiYgX3RoaXMuJHN0b3JlLmdldHRlcnNbIiIuY29uY2F0KF90aGlzLmluU3RvcmUsICIvaGF2ZUFsbCIpXShyKTsKICAgICAgfSwgdHJ1ZSk7CiAgICB9LAogICAgLy8gVG90YWwgb2YgYWxsIGNvdW50cyBvZiBhbGwgcmVzb3VyY2VzIGZvciBhbGwgb2YgdGhlIHJlc291cmNlcyBiZWluZyBsb2FkZWQKICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbCgpIHsKICAgICAgdmFyIGNsdXN0ZXJDb3VudHMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWyIiLmNvbmNhdCh0aGlzLmluU3RvcmUsICIvYWxsIildKENPVU5UKTsKICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2VzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCByKSB7CiAgICAgICAgdmFyIF9jbHVzdGVyQ291bnRzJCwgX3Jlc291cmNlQ291bnRzJHN1bW1hOwogICAgICAgIHZhciByZXNvdXJjZUNvdW50cyA9IGNsdXN0ZXJDb3VudHMgPT09IG51bGwgfHwgY2x1c3RlckNvdW50cyA9PT0gdm9pZCAwIHx8IChfY2x1c3RlckNvdW50cyQgPSBjbHVzdGVyQ291bnRzWzBdKSA9PT0gbnVsbCB8fCBfY2x1c3RlckNvdW50cyQgPT09IHZvaWQgMCB8fCAoX2NsdXN0ZXJDb3VudHMkID0gX2NsdXN0ZXJDb3VudHMkLmNvdW50cykgPT09IG51bGwgfHwgX2NsdXN0ZXJDb3VudHMkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2x1c3RlckNvdW50cyRbcl07CiAgICAgICAgdmFyIHJlc291cmNlQ291bnQgPSByZXNvdXJjZUNvdW50cyA9PT0gbnVsbCB8fCByZXNvdXJjZUNvdW50cyA9PT0gdm9pZCAwIHx8IChfcmVzb3VyY2VDb3VudHMkc3VtbWEgPSByZXNvdXJjZUNvdW50cy5zdW1tYXJ5KSA9PT0gbnVsbCB8fCBfcmVzb3VyY2VDb3VudHMkc3VtbWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXNvdXJjZUNvdW50cyRzdW1tYS5jb3VudDsKICAgICAgICB2YXIgY291bnQgPSByZXNvdXJjZUNvdW50IHx8IDA7CiAgICAgICAgcmV0dXJuIGFjYyArIGNvdW50OwogICAgICB9LCAwKTsKICAgIH0sCiAgICAvLyBUb3RhbCBjb3VudCBvZiBhbGwgb2YgdGhlIHJlc291cmNlcyBmb3IgYWxsIG9mIHRoZSByZXNvdXJjZXMgYmVpbmcgbG9hZGVkCiAgICBjb3VudDogZnVuY3Rpb24gY291bnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHIpIHsKICAgICAgICByZXR1cm4gYWNjICsgKF90aGlzMi4kc3RvcmUuZ2V0dGVyc1siIi5jb25jYXQoX3RoaXMyLmluU3RvcmUsICIvYWxsIildKHIpIHx8IFtdKS5sZW5ndGg7CiAgICAgIH0sIDApOwogICAgfSwKICAgIC8vIFdpZHRoIHN0eWxlIHRvIGVuYWJsZSB0aGUgcHJvZ3Jlc3MgYmFyIHN0eWxlIHByZXNlbnRhdGlvbgogICAgd2lkdGg6IGZ1bmN0aW9uIHdpZHRoKCkgewogICAgICB2YXIgcHJvZ3Jlc3MgPSBNYXRoLmNlaWwoMTAwICogKHRoaXMuY291bnQgLyB0aGlzLnRvdGFsKSk7CiAgICAgIHJldHVybiAiIi5jb25jYXQocHJvZ3Jlc3MsICIlIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["COUNT","name","props","resources","type","Array","required","indeterminate","Boolean","default","data","inStore","$store","getters","resource","computed","rowsCount","length","existingData","concat","haveAll","_this","reduce","acc","r","total","clusterCounts","_clusterCounts$","_resourceCounts$summa","resourceCounts","counts","resourceCount","summary","count","_this2","width","progress","Math","ceil"],"sources":["node_modules/@rancher/shell/components/ResourceList/ResourceLoadingIndicator.vue"],"sourcesContent":["<script>\nimport { COUNT } from '@shell/config/types';\n\n/**\n * Loading Indicator for resources - used when we are loading resources incrementally, by page\n */\nexport default {\n\n  name: 'ResourceLoadingIndicator',\n\n  props: {\n    resources: {\n      type:     Array,\n      required: true,\n    },\n    indeterminate: {\n      type:    Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    const inStore = this.$store.getters['currentStore'](this.resource);\n\n    return { inStore };\n  },\n\n  computed: {\n    // Count of rows - either from the data provided or from the rows for the first resource\n    rowsCount() {\n      if (this.resources.length > 0) {\n        const existingData = this.$store.getters[`${ this.inStore }/all`](this.resources[0]) || [];\n\n        return (existingData || []).length;\n      }\n\n      return 0;\n    },\n\n    // Have we loaded all resources for the types that are needed\n    haveAll() {\n      return this.resources.reduce((acc, r) => {\n        return acc && this.$store.getters[`${ this.inStore }/haveAll`](r);\n      }, true);\n    },\n\n    // Total of all counts of all resources for all of the resources being loaded\n    total() {\n      const clusterCounts = this.$store.getters[`${ this.inStore }/all`](COUNT);\n\n      return this.resources.reduce((acc, r) => {\n        const resourceCounts = clusterCounts?.[0]?.counts?.[r];\n        const resourceCount = resourceCounts?.summary?.count;\n        const count = resourceCount || 0;\n\n        return acc + count;\n      }, 0);\n    },\n\n    // Total count of all of the resources for all of the resources being loaded\n    count() {\n      return this.resources.reduce((acc, r) => {\n        return acc + (this.$store.getters[`${ this.inStore }/all`](r) || []).length;\n      }, 0);\n    },\n\n    // Width style to enable the progress bar style presentation\n    width() {\n      const progress = Math.ceil(100 * (this.count / this.total));\n\n      return `${ progress }%`;\n    }\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"count && !haveAll\"\n    class=\"ml-10 resource-loading-indicator\"\n  >\n    <div class=\"inner\">\n      <div class=\"resource-loader\">\n        <div class=\"rl-bg\">\n          <i class=\"icon icon-spinner icon-spin\" /><span>{{ t( 'resourceLoadingIndicator.loading' ) }} <span v-if=\"!indeterminate\">{{ count }} / {{ total }}</span></span>\n        </div>\n      </div>\n      <div\n        class=\"resource-loader\"\n        :style=\"{width}\"\n      >\n        <div class=\"rl-fg\">\n          <i class=\"icon icon-spinner icon-spin\" /><span>{{ t( 'resourceLoadingIndicator.loading' ) }} <span v-if=\"!indeterminate\">{{ count }} / {{ total }}</span></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .resource-loading-indicator {\n    border: 1px solid var(--link);\n    border-radius: 10px;\n    position: relative;\n    width: min-content;\n    overflow: hidden;\n\n    .resource-loader:last-child {\n      position: absolute;\n      top: 0;\n\n      background-color: var(--link);\n      color: var(--link-text);\n      overflow: hidden;\n      white-space: nowrap;\n    }\n\n    .resource-loader {\n      padding: 1px 10px;\n      width: max-content;\n\n      .rl-fg, .rl-bg {\n        align-content: center;\n        display: flex;\n\n        > i {\n          font-size: 18px;\n          line-height: 18px;\n        }\n\n        > span {\n          margin-left: 5px;\n        }\n      }\n    }\n  }\n</style>\n"],"mappings":";AACA,SAAAA,KAAA;;AAEA;AACA;AACA;AACA;EAEAC,IAAA;EAEAC,KAAA;IACAC,SAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,QAAA;IACA;IACAC,aAAA;MACAH,IAAA,EAAAI,OAAA;MACAC,OAAA;IACA;EACA;EAEAC,IAAA,WAAAA,KAAA;IACA,IAAAC,OAAA,QAAAC,MAAA,CAAAC,OAAA,sBAAAC,QAAA;IAEA;MAAAH,OAAA,EAAAA;IAAA;EACA;EAEAI,QAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACA,SAAAb,SAAA,CAAAc,MAAA;QACA,IAAAC,YAAA,QAAAN,MAAA,CAAAC,OAAA,IAAAM,MAAA,MAAAR,OAAA,gBAAAR,SAAA;QAEA,QAAAe,YAAA,QAAAD,MAAA;MACA;MAEA;IACA;IAEA;IACAG,OAAA,WAAAA,QAAA;MAAA,IAAAC,KAAA;MACA,YAAAlB,SAAA,CAAAmB,MAAA,WAAAC,GAAA,EAAAC,CAAA;QACA,OAAAD,GAAA,IAAAF,KAAA,CAAAT,MAAA,CAAAC,OAAA,IAAAM,MAAA,CAAAE,KAAA,CAAAV,OAAA,eAAAa,CAAA;MACA;IACA;IAEA;IACAC,KAAA,WAAAA,MAAA;MACA,IAAAC,aAAA,QAAAd,MAAA,CAAAC,OAAA,IAAAM,MAAA,MAAAR,OAAA,WAAAX,KAAA;MAEA,YAAAG,SAAA,CAAAmB,MAAA,WAAAC,GAAA,EAAAC,CAAA;QAAA,IAAAG,eAAA,EAAAC,qBAAA;QACA,IAAAC,cAAA,GAAAH,aAAA,aAAAA,aAAA,gBAAAC,eAAA,GAAAD,aAAA,iBAAAC,eAAA,gBAAAA,eAAA,GAAAA,eAAA,CAAAG,MAAA,cAAAH,eAAA,uBAAAA,eAAA,CAAAH,CAAA;QACA,IAAAO,aAAA,GAAAF,cAAA,aAAAA,cAAA,gBAAAD,qBAAA,GAAAC,cAAA,CAAAG,OAAA,cAAAJ,qBAAA,uBAAAA,qBAAA,CAAAK,KAAA;QACA,IAAAA,KAAA,GAAAF,aAAA;QAEA,OAAAR,GAAA,GAAAU,KAAA;MACA;IACA;IAEA;IACAA,KAAA,WAAAA,MAAA;MAAA,IAAAC,MAAA;MACA,YAAA/B,SAAA,CAAAmB,MAAA,WAAAC,GAAA,EAAAC,CAAA;QACA,OAAAD,GAAA,IAAAW,MAAA,CAAAtB,MAAA,CAAAC,OAAA,IAAAM,MAAA,CAAAe,MAAA,CAAAvB,OAAA,WAAAa,CAAA,SAAAP,MAAA;MACA;IACA;IAEA;IACAkB,KAAA,WAAAA,MAAA;MACA,IAAAC,QAAA,GAAAC,IAAA,CAAAC,IAAA,aAAAL,KAAA,QAAAR,KAAA;MAEA,UAAAN,MAAA,CAAAiB,QAAA;IACA;EACA;AACA"}]}