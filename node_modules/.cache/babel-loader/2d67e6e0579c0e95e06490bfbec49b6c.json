{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/S3Config.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/S3Config.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gnOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCBTZWxlY3RPckNyZWF0ZUF1dGhTZWNyZXQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9TZWxlY3RPckNyZWF0ZUF1dGhTZWNyZXQnOwppbXBvcnQgeyBOT1JNQU4gfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExhYmVsZWRJbnB1dDogTGFiZWxlZElucHV0LAogICAgQ2hlY2tib3g6IENoZWNrYm94LAogICAgU2VsZWN0T3JDcmVhdGVBdXRoU2VjcmV0OiBTZWxlY3RPckNyZWF0ZUF1dGhTZWNyZXQKICB9LAogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBuYW1lc3BhY2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHJlZ2lzdGVyQmVmb3JlSG9vazogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgY29uZmlnID0gX29iamVjdFNwcmVhZCh7CiAgICAgIGJ1Y2tldDogJycsCiAgICAgIGNsb3VkQ3JlZGVudGlhbE5hbWU6IG51bGwsCiAgICAgIGVuZHBvaW50OiAnJywKICAgICAgZW5kcG9pbnRDQTogJycsCiAgICAgIGZvbGRlcjogJycsCiAgICAgIHJlZ2lvbjogJycsCiAgICAgIHNraXBTU0xWZXJpZnk6IGZhbHNlCiAgICB9LCB0aGlzLnZhbHVlIHx8IHt9KTsKICAgIHJldHVybiB7CiAgICAgIGNvbmZpZzogY29uZmlnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNjRGF0YTogZnVuY3Rpb24gY2NEYXRhKCkgewogICAgICBpZiAodGhpcy5jb25maWcuY2xvdWRDcmVkZW50aWFsTmFtZSkgewogICAgICAgIHZhciBjcmVkID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncmFuY2hlci9ieUlkJ10oTk9STUFOLkNMT1VEX0NSRURFTlRJQUwsIHRoaXMuY29uZmlnLmNsb3VkQ3JlZGVudGlhbE5hbWUpOwogICAgICAgIGlmIChjcmVkKSB7CiAgICAgICAgICByZXR1cm4gY3JlZC5kZWNvZGVkRGF0YTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHt9OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7CiAgICAgIHZhciBvdXQgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbmZpZyk7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0Jywgb3V0KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["Checkbox","LabeledInput","SelectOrCreateAuthSecret","NORMAN","components","props","mode","type","String","required","namespace","value","Object","default","registerBeforeHook","Function","data","config","_objectSpread","bucket","cloudCredentialName","endpoint","endpointCA","folder","region","skipSSLVerify","computed","ccData","cred","$store","getters","CLOUD_CREDENTIAL","decodedData","methods","update","out","$emit"],"sources":["node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/S3Config.vue"],"sourcesContent":["<script>\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport SelectOrCreateAuthSecret from '@shell/components/form/SelectOrCreateAuthSecret';\nimport { NORMAN } from '@shell/config/types';\n\nexport default {\n  components: {\n    LabeledInput,\n    Checkbox,\n    SelectOrCreateAuthSecret,\n  },\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    namespace: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:    Object,\n      default: null,\n    },\n\n    registerBeforeHook: {\n      type:     Function,\n      required: true,\n    },\n  },\n\n  data() {\n    const config = {\n      bucket:              '',\n      cloudCredentialName: null,\n      endpoint:            '',\n      endpointCA:          '',\n      folder:              '',\n      region:              '',\n      skipSSLVerify:       false,\n\n      ...(this.value || {}),\n    };\n\n    return { config };\n  },\n\n  computed: {\n    ccData() {\n      if ( this.config.cloudCredentialName ) {\n        const cred = this.$store.getters['rancher/byId'](NORMAN.CLOUD_CREDENTIAL, this.config.cloudCredentialName);\n\n        if ( cred ) {\n          return cred.decodedData;\n        }\n      }\n\n      return {};\n    },\n  },\n\n  methods: {\n    update() {\n      const out = { ...this.config };\n\n      this.$emit('input', out);\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <SelectOrCreateAuthSecret\n      v-model=\"config.cloudCredentialName\"\n      :register-before-hook=\"registerBeforeHook\"\n      in-store=\"management\"\n      :allow-ssh=\"false\"\n      :allow-basic=\"false\"\n      :allow-s3=\"true\"\n      :namespace=\"namespace\"\n      generate-name=\"etcd-backup-s3-\"\n      @input=\"update\"\n    />\n\n    <div class=\"row mt-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"config.bucket\"\n          label=\"Bucket\"\n          :placeholder=\"ccData.defaultBucket\"\n          :required=\"!ccData.defaultBucket\"\n          @input=\"update\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"config.folder\"\n          label=\"Folder\"\n          :placeholder=\"ccData.defaultFolder\"\n          @input=\"update\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row mt-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"config.region\"\n          label=\"Region\"\n          :placeholder=\"ccData.defaultRegion\"\n          @input=\"update\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"config.endpoint\"\n          label=\"Endpoint\"\n          :placeholder=\"ccData.defaultEndpoint\"\n          @input=\"update\"\n        />\n      </div>\n    </div>\n\n    <div\n      v-if=\"!ccData.defaultSkipSSLVerify\"\n      class=\"mt-20\"\n    >\n      <Checkbox\n        v-model=\"config.skipSSLVerify\"\n        :mode=\"mode\"\n        label=\"Accept any certificate (insecure)\"\n        @input=\"update\"\n      />\n\n      <LabeledInput\n        v-if=\"!config.skipSSLVerify\"\n        v-model=\"config.endpointCA\"\n        type=\"multiline\"\n        label=\"Endpoint CA Cert\"\n        :placeholder=\"ccData.defaultEndpointCA\"\n        @input=\"update\"\n      />\n    </div>\n  </div>\n</template>\n"],"mappings":";;;;;;;;;;AACA,SAAAA,QAAA;AACA,SAAAC,YAAA;AACA,OAAAC,wBAAA;AACA,SAAAC,MAAA;AAEA;EACAC,UAAA;IACAH,YAAA,EAAAA,YAAA;IACAD,QAAA,EAAAA,QAAA;IACAE,wBAAA,EAAAA;EACA;EAEAG,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAC,SAAA;MACAH,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;IAEAE,KAAA;MACAJ,IAAA,EAAAK,MAAA;MACAC,OAAA;IACA;IAEAC,kBAAA;MACAP,IAAA,EAAAQ,QAAA;MACAN,QAAA;IACA;EACA;EAEAO,IAAA,WAAAA,KAAA;IACA,IAAAC,MAAA,GAAAC,aAAA;MACAC,MAAA;MACAC,mBAAA;MACAC,QAAA;MACAC,UAAA;MACAC,MAAA;MACAC,MAAA;MACAC,aAAA;IAAA,GAEA,KAAAd,KAAA,OACA;IAEA;MAAAM,MAAA,EAAAA;IAAA;EACA;EAEAS,QAAA;IACAC,MAAA,WAAAA,OAAA;MACA,SAAAV,MAAA,CAAAG,mBAAA;QACA,IAAAQ,IAAA,QAAAC,MAAA,CAAAC,OAAA,iBAAA3B,MAAA,CAAA4B,gBAAA,OAAAd,MAAA,CAAAG,mBAAA;QAEA,IAAAQ,IAAA;UACA,OAAAA,IAAA,CAAAI,WAAA;QACA;MACA;MAEA;IACA;EACA;EAEAC,OAAA;IACAC,MAAA,WAAAA,OAAA;MACA,IAAAC,GAAA,GAAAjB,aAAA,UAAAD,MAAA;MAEA,KAAAmB,KAAA,UAAAD,GAAA;IACA;EACA;AACA"}]}