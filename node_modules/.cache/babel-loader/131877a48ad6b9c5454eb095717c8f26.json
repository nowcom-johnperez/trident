{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/dialog/AddCustomBadgeDialog.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/dialog/AddCustomBadgeDialog.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBDTFVTVEVSX0JBREdFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwppbXBvcnQgQXN5bmNCdXR0b24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQXN5bmNCdXR0b24nOwppbXBvcnQgeyBDYXJkIH0gZnJvbSAnQGNvbXBvbmVudHMvQ2FyZCc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBDbHVzdGVyQmFkZ2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ2x1c3RlckJhZGdlJzsKaW1wb3J0IENsdXN0ZXJQcm92aWRlckljb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ2x1c3RlclByb3ZpZGVySWNvbic7CmltcG9ydCB7IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXkgfSBmcm9tICdAc2hlbGwvdXRpbHMvZXJyb3InOwppbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vQ2hlY2tib3gnOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCBDb2xvcklucHV0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vQ29sb3JJbnB1dCc7CmltcG9ydCB7IHBhcnNlQ29sb3IsIHRleHRDb2xvciB9IGZyb20gJ0BzaGVsbC91dGlscy9jb2xvcic7CmltcG9ydCB7IE5PUk1BTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FkZEN1c3RvbUJhZGdlRGlhbG9nJywKICBjb21wb25lbnRzOiB7CiAgICBDYXJkOiBDYXJkLAogICAgQXN5bmNCdXR0b246IEFzeW5jQnV0dG9uLAogICAgQmFubmVyOiBCYW5uZXIsCiAgICBDaGVja2JveDogQ2hlY2tib3gsCiAgICBMYWJlbGVkSW5wdXQ6IExhYmVsZWRJbnB1dCwKICAgIENvbG9ySW5wdXQ6IENvbG9ySW5wdXQsCiAgICBDbHVzdGVyQmFkZ2U6IENsdXN0ZXJCYWRnZSwKICAgIENsdXN0ZXJQcm92aWRlckljb246IENsdXN0ZXJQcm92aWRlckljb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VDdXN0b21CYWRnZTogbnVsbCwKICAgICAgZXJyb3JzOiBbXSwKICAgICAgYmFkZ2VCZ0NvbG9yOiAnJywKICAgICAgYmFkZ2VEZXNjcmlwdGlvbjogJycsCiAgICAgIGJhZGdlQXNJY29uOiBudWxsLAogICAgICBsZXR0ZXI6ICcnCiAgICB9OwogIH0sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdmFyIF90aGlzJGN1cnJlbnRDbHVzdGVyJDsKICAgIGlmICgoX3RoaXMkY3VycmVudENsdXN0ZXIkID0gdGhpcy5jdXJyZW50Q2x1c3Rlci5tZXRhZGF0YSkgIT09IG51bGwgJiYgX3RoaXMkY3VycmVudENsdXN0ZXIkICE9PSB2b2lkIDAgJiYgX3RoaXMkY3VycmVudENsdXN0ZXIkLmFubm90YXRpb25zKSB7CiAgICAgIHZhciBfdGhpcyRjdXJyZW50Q2x1c3RlciQyLCBfdGhpcyRiYWRnZURlc2NyaXB0aW8sIF90aGlzJGN1cnJlbnRDbHVzdGVyJDMsIF90aGlzJGN1cnJlbnRDbHVzdGVyJDQsIF90aGlzJGN1cnJlbnRDbHVzdGVyJDU7CiAgICAgIHRoaXMuYmFkZ2VEZXNjcmlwdGlvbiA9IChfdGhpcyRjdXJyZW50Q2x1c3RlciQyID0gdGhpcy5jdXJyZW50Q2x1c3Rlci5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIkMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudENsdXN0ZXIkMi5hbm5vdGF0aW9uc1tDTFVTVEVSX0JBREdFLlRFWFRdOwogICAgICB0aGlzLnVzZUN1c3RvbUJhZGdlID0gKChfdGhpcyRiYWRnZURlc2NyaXB0aW8gPSB0aGlzLmJhZGdlRGVzY3JpcHRpb24pID09PSBudWxsIHx8IF90aGlzJGJhZGdlRGVzY3JpcHRpbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYmFkZ2VEZXNjcmlwdGlvLmxlbmd0aCkgPiAwOwogICAgICB0aGlzLmJhZGdlRGVzY3JpcHRpb24gPSB0aGlzLmJhZGdlRGVzY3JpcHRpb24gfHwgJ0V4YW1wbGUgVGV4dCc7CiAgICAgIHRoaXMuYmFkZ2VCZ0NvbG9yID0gKChfdGhpcyRjdXJyZW50Q2x1c3RlciQzID0gdGhpcy5jdXJyZW50Q2x1c3Rlci5tZXRhZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkY3VycmVudENsdXN0ZXIkMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY3VycmVudENsdXN0ZXIkMy5hbm5vdGF0aW9uc1tDTFVTVEVSX0JBREdFLkNPTE9SXSkgfHwgJyNmZjAwMDAnOwogICAgICB0aGlzLmJhZGdlQXNJY29uID0gISEoKF90aGlzJGN1cnJlbnRDbHVzdGVyJDQgPSB0aGlzLmN1cnJlbnRDbHVzdGVyLm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfdGhpcyRjdXJyZW50Q2x1c3RlciQ0ICE9PSB2b2lkIDAgJiYgX3RoaXMkY3VycmVudENsdXN0ZXIkNC5hbm5vdGF0aW9uc1tDTFVTVEVSX0JBREdFLklDT05fVEVYVF0pIHx8IGZhbHNlOwogICAgICB0aGlzLmxldHRlciA9ICgoX3RoaXMkY3VycmVudENsdXN0ZXIkNSA9IHRoaXMuY3VycmVudENsdXN0ZXIubWV0YWRhdGEpID09PSBudWxsIHx8IF90aGlzJGN1cnJlbnRDbHVzdGVyJDUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGN1cnJlbnRDbHVzdGVyJDUuYW5ub3RhdGlvbnNbQ0xVU1RFUl9CQURHRS5JQ09OX1RFWFRdKSB8fCB0aGlzLmJhZGdlRGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDIpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2N1cnJlbnRDbHVzdGVyJ10pKSwge30sIHsKICAgIHByZXZpZXdDb2xvcjogZnVuY3Rpb24gcHJldmlld0NvbG9yKCkgewogICAgICByZXR1cm4gdGV4dENvbG9yKHBhcnNlQ29sb3IodGhpcy5iYWRnZUJnQ29sb3IpKSB8fCAnI2ZmZmZmZic7CiAgICB9LAogICAgY2FuU3VibWl0OiBmdW5jdGlvbiBjYW5TdWJtaXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmJhZGdlRGVzY3JpcHRpb24ubGVuZ3RoID49IDE7CiAgICB9LAogICAgLy8gRmFrZSBjbHVzdGVyIG9iamVjdCBmb3IgdXNlIHdpdGggYmFkZ2UgY29tcG9uZW50CiAgICBwcmV2aWV3Q2x1c3RlcjogZnVuY3Rpb24gcHJldmlld0NsdXN0ZXIoKSB7CiAgICAgIC8vIE1ha2UgY2x1c3RlciBvYmplY3QgdGhhdCBpcyBlbm91Z2ggZm9yIHRoZSBiYWRnZSBjb21wb25lbnQgdG8gd29yawogICAgICByZXR1cm4gewogICAgICAgIGlzTG9jYWw6IHRoaXMuY3VycmVudENsdXN0ZXIuaXNMb2NhbCwKICAgICAgICBwcm92aWRlck5hdkxvZ286IHRoaXMuY3VycmVudENsdXN0ZXIucHJvdmlkZXJOYXZMb2dvLAogICAgICAgIGJhZGdlOiB7CiAgICAgICAgICB0ZXh0OiB0aGlzLmJhZGdlRGVzY3JpcHRpb24sCiAgICAgICAgICBjb2xvcjogdGhpcy5iYWRnZUJnQ29sb3IsCiAgICAgICAgICB0ZXh0Q29sb3I6IHRleHRDb2xvcihwYXJzZUNvbG9yKHRoaXMuYmFkZ2VCZ0NvbG9yKSksCiAgICAgICAgICBpY29uVGV4dDogdGhpcy5iYWRnZUFzSWNvbiA/IHRoaXMubGV0dGVyLnRvVXBwZXJDYXNlKCkgOiAnJwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBtb2RlOiBmdW5jdGlvbiBtb2RlKCkgewogICAgICByZXR1cm4gISF0aGlzLnVzZUN1c3RvbUJhZGdlID8gJ2VkaXQnIDogJ3ZpZXcnOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgIH0sCiAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoYnV0dG9uRG9uZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBub3JtYW47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9maW5kJywgewogICAgICAgICAgICAgICAgdHlwZTogTk9STUFOLkNMVVNURVIsCiAgICAgICAgICAgICAgICBpZDogX3RoaXMuY3VycmVudENsdXN0ZXIuaWQKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIG5vcm1hbiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgZGVsZXRlIG5vcm1hbi5hbm5vdGF0aW9uc1tDTFVTVEVSX0JBREdFLlRFWFRdOwogICAgICAgICAgICAgIGRlbGV0ZSBub3JtYW4uYW5ub3RhdGlvbnNbQ0xVU1RFUl9CQURHRS5DT0xPUl07CiAgICAgICAgICAgICAgZGVsZXRlIG5vcm1hbi5hbm5vdGF0aW9uc1tDTFVTVEVSX0JBREdFLklDT05fVEVYVF07CiAgICAgICAgICAgICAgaWYgKF90aGlzLnVzZUN1c3RvbUJhZGdlKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kc2V0KG5vcm1hbi5hbm5vdGF0aW9ucywgQ0xVU1RFUl9CQURHRS5URVhULCBfdGhpcy5iYWRnZURlc2NyaXB0aW9uKTsKICAgICAgICAgICAgICAgIF90aGlzLiRzZXQobm9ybWFuLmFubm90YXRpb25zLCBDTFVTVEVSX0JBREdFLkNPTE9SLCBfdGhpcy5iYWRnZUJnQ29sb3IpOwogICAgICAgICAgICAgICAgaWYgKF90aGlzLmJhZGdlQXNJY29uKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRzZXQobm9ybWFuLmFubm90YXRpb25zLCBDTFVTVEVSX0JBREdFLklDT05fVEVYVCwgX3RoaXMubGV0dGVyLnRvVXBwZXJDYXNlKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIG5vcm1hbi5zYXZlKCk7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgYnV0dG9uRG9uZSh0cnVlKTsKICAgICAgICAgICAgICBfdGhpcy5jbG9zZSgpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBleGNlcHRpb25Ub0Vycm9yc0FycmF5KF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICBidXR0b25Eb25lKGZhbHNlKTsKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgMTRdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapGetters","CLUSTER_BADGE","AsyncButton","Card","Banner","ClusterBadge","ClusterProviderIcon","exceptionToErrorsArray","Checkbox","LabeledInput","ColorInput","parseColor","textColor","NORMAN","name","components","data","useCustomBadge","errors","badgeBgColor","badgeDescription","badgeAsIcon","letter","fetch","_this$currentCluster$","currentCluster","metadata","annotations","_this$currentCluster$2","_this$badgeDescriptio","_this$currentCluster$3","_this$currentCluster$4","_this$currentCluster$5","TEXT","length","COLOR","ICON_TEXT","substring","computed","_objectSpread","previewColor","canSubmit","previewCluster","isLocal","providerNavLogo","badge","text","color","iconText","toUpperCase","mode","methods","close","$emit","apply","buttonDone","_this","_asyncToGenerator","regeneratorRuntime","mark","_callee","norman","wrap","_callee$","_context","prev","next","$store","dispatch","type","CLUSTER","id","sent","$set","save","t0","stop"],"sources":["node_modules/@rancher/shell/dialog/AddCustomBadgeDialog.vue"],"sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport { CLUSTER_BADGE } from '@shell/config/labels-annotations';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Card } from '@components/Card';\nimport { Banner } from '@components/Banner';\nimport ClusterBadge from '@shell/components/ClusterBadge';\nimport ClusterProviderIcon from '@shell/components/ClusterProviderIcon';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport ColorInput from '@shell/components/form/ColorInput';\nimport { parseColor, textColor } from '@shell/utils/color';\nimport { NORMAN } from '@shell/config/types';\n\nexport default {\n  name:       'AddCustomBadgeDialog',\n  components: {\n    Card,\n    AsyncButton,\n    Banner,\n    Checkbox,\n    LabeledInput,\n    ColorInput,\n    ClusterBadge,\n    ClusterProviderIcon,\n  },\n\n  data() {\n    return {\n      useCustomBadge:   null,\n      errors:           [],\n      badgeBgColor:     '',\n      badgeDescription: '',\n      badgeAsIcon:      null,\n      letter:           '',\n    };\n  },\n\n  fetch() {\n    if (this.currentCluster.metadata?.annotations) {\n      this.badgeDescription = this.currentCluster.metadata?.annotations[CLUSTER_BADGE.TEXT];\n      this.useCustomBadge = this.badgeDescription?.length > 0;\n      this.badgeDescription = this.badgeDescription || 'Example Text';\n      this.badgeBgColor = this.currentCluster.metadata?.annotations[CLUSTER_BADGE.COLOR] || '#ff0000';\n\n      this.badgeAsIcon = !!this.currentCluster.metadata?.annotations[CLUSTER_BADGE.ICON_TEXT] || false;\n\n      this.letter = this.currentCluster.metadata?.annotations[CLUSTER_BADGE.ICON_TEXT] || this.badgeDescription.substring(0, 2);\n    }\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    previewColor() {\n      return textColor(parseColor(this.badgeBgColor)) || '#ffffff';\n    },\n    canSubmit() {\n      return this.badgeDescription.length >= 1;\n    },\n    // Fake cluster object for use with badge component\n    previewCluster() {\n      // Make cluster object that is enough for the badge component to work\n      return {\n        isLocal:         this.currentCluster.isLocal,\n        providerNavLogo: this.currentCluster.providerNavLogo,\n        badge:           {\n          text:      this.badgeDescription,\n          color:     this.badgeBgColor,\n          textColor: textColor(parseColor(this.badgeBgColor)),\n          iconText:  this.badgeAsIcon ? this.letter.toUpperCase() : '',\n        }\n      };\n    },\n\n    mode() {\n      return !!this.useCustomBadge ? 'edit' : 'view';\n    },\n  },\n\n  methods: {\n    close() {\n      this.$emit('close');\n    },\n\n    async apply(buttonDone) {\n      try {\n        // Fetch the Norman cluster object\n        const norman = await this.$store.dispatch('rancher/find', { type: NORMAN.CLUSTER, id: this.currentCluster.id });\n\n        delete norman.annotations[CLUSTER_BADGE.TEXT];\n        delete norman.annotations[CLUSTER_BADGE.COLOR];\n        delete norman.annotations[CLUSTER_BADGE.ICON_TEXT];\n\n        if (this.useCustomBadge) {\n          this.$set(norman.annotations, CLUSTER_BADGE.TEXT, this.badgeDescription);\n          this.$set(norman.annotations, CLUSTER_BADGE.COLOR, this.badgeBgColor);\n          if (this.badgeAsIcon) {\n            this.$set(norman.annotations, CLUSTER_BADGE.ICON_TEXT, this.letter.toUpperCase());\n          }\n        }\n\n        await norman.save();\n\n        buttonDone(true);\n        this.close();\n      } catch (err) {\n        this.errors = exceptionToErrorsArray(err);\n        buttonDone(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Card\n    class=\"prompt-badge\"\n    :show-highlight-border=\"false\"\n  >\n    <h4\n      slot=\"title\"\n      class=\"text-default-text\"\n    >\n      {{ t('clusterBadge.modal.title') }}\n    </h4>\n\n    <div\n      slot=\"body\"\n      class=\"pl-10 pr-10 cluster-badge-body\"\n    >\n      <div>{{ t('clusterBadge.modal.previewTitle') }}</div>\n\n      <div class=\"mt-10 pl-20 row preview-row\">\n        <div class=\"badge-preview col span-12\">\n          <ClusterProviderIcon\n            v-if=\"useCustomBadge\"\n            :cluster=\"previewCluster\"\n          />\n          <ClusterProviderIcon\n            v-else\n            :cluster=\"currentCluster\"\n          />\n          <div class=\"cluster-name\">\n            {{ currentCluster.nameDisplay }}\n          </div>\n          <ClusterBadge\n            v-if=\"useCustomBadge\"\n            :cluster=\"previewCluster\"\n          />\n        </div>\n      </div>\n\n      <div class=\"row mt-10\">\n        <div class=\"col\">\n          <Checkbox\n            v-model=\"useCustomBadge\"\n            :label=\"t('clusterBadge.modal.checkbox')\"\n            class=\"mt-10\"\n          />\n        </div>\n      </div>\n\n      <div class=\"options\">\n        <div class=\"row mt-10\">\n          <div class=\"col span-12\">\n            <LabeledInput\n              v-model.trim=\"badgeDescription\"\n              :mode=\"mode\"\n              :label=\"t('clusterBadge.modal.description')\"\n              :maxlength=\"32\"\n              :required=\"true\"\n            />\n          </div>\n        </div>\n\n        <div class=\"row mt-10\">\n          <div class=\"col span-12\">\n            <ColorInput\n              v-model=\"badgeBgColor\"\n              :mode=\"mode\"\n              :default-value=\"badgeBgColor\"\n              :label=\"t('clusterBadge.modal.badgeBgColor')\"\n            />\n          </div>\n        </div>\n\n        <div class=\"row mt-10\">\n          <div class=\"col\">\n            <Checkbox\n              v-model=\"badgeAsIcon\"\n              :mode=\"mode\"\n              :label=\"t('clusterBadge.modal.badgeAsIcon')\"\n              class=\"mt-10\"\n              :tooltip=\"t('clusterBadge.modal.maxCharsTooltip')\"\n            />\n          </div>\n        </div>\n        <div class=\"row mt-10\">\n          <div class=\"col\">\n            <LabeledInput\n              v-model.trim=\"letter\"\n              :disabled=\"!badgeAsIcon\"\n              class=\"badge-icon-text\"\n              :mode=\"mode\"\n              :label=\"t('clusterBadge.modal.iconText')\"\n              :maxlength=\"2\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      slot=\"actions\"\n      class=\"bottom\"\n    >\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :label=\"err\"\n      />\n      <div class=\"buttons\">\n        <button\n          class=\"btn role-secondary mr-10\"\n          @click=\"close\"\n        >\n          {{ t('generic.cancel') }}\n        </button>\n        <AsyncButton\n          :action-label=\"t('clusterBadge.modal.buttonAction')\"\n          :disabled=\"!canSubmit\"\n          @click=\"apply\"\n        />\n      </div>\n    </div>\n  </Card>\n</template>\n<style lang='scss' scoped>\n  .prompt-badge {\n    margin: 0;\n\n    .cluster-badge-body {\n      min-height: 50px;\n      display: flex;\n      flex-direction: column;\n\n      .preview-row {\n        height: 32px;\n\n        .badge-preview {\n          align-items: center;\n          display: flex;\n          height: 32px;\n          white-space: nowrap;\n\n          .cluster-name {\n            margin: 0 10px;\n            font-size: 16px;\n          }\n\n          .cluster-badge-icon-preview {\n            width: 32px;\n            height: 32px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border-radius: 5px;\n            font-weight: bold;\n          }\n\n          .cluster-badge-preview {\n            cursor: default;\n            border-radius: 10px;\n            font-size: 12px;\n            padding: 2px 10px;\n          }\n        }\n      }\n\n      ::v-deep .badge-icon-text input {\n        text-transform: uppercase;\n      }\n    }\n  }\n\n  .bottom {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n\n    .banner {\n      margin-top: 0;\n    }\n\n    .buttons {\n      display: flex;\n      justify-content: flex-end;\n      width: 100%;\n    }\n  }\n\n</style>\n"],"mappings":"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"}]}