{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js??ref--16-1!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/rio/mesh.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/rio/mesh.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/babel.config.js","mtime":1716430386710},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1siQEBpdGVyYXRvciJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfQppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgeyBlc2NhcGVIdG1sIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CnZhciBSQURJVVMgPSA1Owp2YXIgSU5URVJWQUwgPSAxMDAwMDsKCi8qCmZ1bmN0aW9uIHJhbmRvbVN0YXRzKCkgewogIHJldHVybiB7CiAgICAncDUwbXMnOiAgICAgICBNYXRoLnJhbmRvbSgpLAogICAgJ3A5MG1zJzogICAgICAgTWF0aC5yYW5kb20oKSAqIDIsCiAgICAncDk5bXMnOiAgICAgICBNYXRoLnJhbmRvbSgpICogNSwKICAgICdycHMnOiAgICAgICAgIE1hdGgucmFuZG9tKCkgKiAxMDAsCiAgICAnc3VjY2Vzc1JhdGUnOiBNYXRoLnJhbmRvbSgpLAogIH07Cn0KCmZ1bmN0aW9uIHJhbmRvbUl0ZW0oYXJ5KSB7CiAgY29uc3QgaWR4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJ5Lmxlbmd0aCk7CgogIHJldHVybiBhcnlbaWR4XTsKfQoKZnVuY3Rpb24gcmFuZG9tRGF0YSgpIHsKICBjb25zdCBub2RlcyA9IFtdOwogIGNvbnN0IGVkZ2VzID0gW107CgogIFsnZm9vJywgJ2JhcicsICdiYXonLCAnYmF0JywgJ3F1eCddLmZvckVhY2goKG5hbWUpID0+IHsKICAgIG5vZGVzLnB1c2goewogICAgICAnbmFtZXNwYWNlJzogJ2RlZmF1bHQnLAogICAgICAnYXBwJzogICAgICAgbmFtZSwKICAgICAgJ3ZlcnNpb24nOiAgICd2MScsCiAgICAgICdzdGF0cyc6ICAgICByYW5kb21TdGF0cygpLAogICAgfSk7CiAgfSk7CgogIFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ10uZm9yRWFjaCgobmFtZSkgPT4gewogICAgbm9kZXMucHVzaCh7CiAgICAgICduYW1lc3BhY2UnOiAnYW5vdGhlcicsCiAgICAgICdhcHAnOiAgICAgICBuYW1lLAogICAgICAndmVyc2lvbic6ICAgJ3YxJywKICAgICAgJ3N0YXRzJzogICAgIHJhbmRvbVN0YXRzKCksCiAgICB9KTsKICB9KTsKCiAgZm9yICggbGV0IGkgPSAwIDsgaSA8IDEwIDsgaSsrICkgewogICAgY29uc3QgZnJvbSA9IHJhbmRvbUl0ZW0obm9kZXMpOwogICAgY29uc3QgY3Jvc3NOcyA9IE1hdGgucmFuZG9tKCkgPCAwLjI7CiAgICBjb25zdCB0b0Nob2ljZXMgPSBub2Rlcy5maWx0ZXIoKHgpID0+IHsKICAgICAgaWYgKCB4ID09PSBmcm9tICkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKCBjcm9zc05zICkgewogICAgICAgIHJldHVybiB4Lm5hbWVzcGFjZSAhPT0gZnJvbS5uYW1lc3BhY2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHgubmFtZXNwYWNlID09PSBmcm9tLm5hbWVzcGFjZTsKICAgICAgfQogICAgfSk7CiAgICBjb25zdCB0byA9IHJhbmRvbUl0ZW0odG9DaG9pY2VzKTsKCiAgICBlZGdlcy5wdXNoKHsKICAgICAgZnJvbU5hbWVzcGFjZTogZnJvbS5uYW1lc3BhY2UsCiAgICAgIGZyb21BcHA6ICAgICAgIGZyb20uYXBwLAogICAgICBmcm9tVmVyc2lvbjogICBmcm9tLnZlcnNpb24sCiAgICAgIHRvTmFtZXNwYWNlOiAgIHRvLm5hbWVzcGFjZSwKICAgICAgdG9BcHA6ICAgICAgICAgdG8uYXBwLAogICAgICB0b1ZlcnNpb246ICAgICB0by52ZXJzaW9uLAogICAgICBzdGF0czogICAgICAgICByYW5kb21TdGF0cygpLAogICAgfSk7CiAgfQoKICByZXR1cm4gewogICAgbm9kZXMsCiAgICBlZGdlcwogIH07Cn0KKi8KCmZ1bmN0aW9uIG5vZGVJZEZvcihvYmopIHsKICByZXR1cm4gIiIuY29uY2F0KG9iai5uYW1lc3BhY2UsICI6IikuY29uY2F0KG9iai5hcHAsICJAIikuY29uY2F0KG9iai52ZXJzaW9uKTsKfQpmdW5jdGlvbiBmcm9tSWQob2JqKSB7CiAgcmV0dXJuICIiLmNvbmNhdChvYmouZnJvbU5hbWVzcGFjZSwgIjoiKS5jb25jYXQob2JqLmZyb21BcHAsICJAIikuY29uY2F0KG9iai5mcm9tVmVyc2lvbik7Cn0KZnVuY3Rpb24gdG9JZChvYmopIHsKICByZXR1cm4gIiIuY29uY2F0KG9iai50b05hbWVzcGFjZSwgIjoiKS5jb25jYXQob2JqLnRvQXBwLCAiQCIpLmNvbmNhdChvYmoudG9WZXJzaW9uKTsKfQpmdW5jdGlvbiBsb2FkRGF0YShfeCkgewogIHJldHVybiBfbG9hZERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQpmdW5jdGlvbiBfbG9hZERhdGEoKSB7CiAgX2xvYWREYXRhID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShzdG9yZSkgewogICAgdmFyIGRhdGEsIGtub3duOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9yZXF1ZXN0JywgewogICAgICAgICAgICB1cmw6ICcvdjEtbWV0cmljcy9tZXNoc3VtbWFyeScKICAgICAgICAgIH0pOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIGRhdGEgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgIGtub3duID0ge307CiAgICAgICAgICBkYXRhLm5vZGVzID0gZGF0YS5ub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgcmV0dXJuICEheC5hcHAgJiYgISF4Lm5hbWVzcGFjZTsKICAgICAgICAgIH0pOwogICAgICAgICAgZGF0YS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHguaWQgPSBub2RlSWRGb3IoeCk7CiAgICAgICAgICAgIGtub3duW3guaWRdID0gdHJ1ZTsKICAgICAgICAgIH0pOwogICAgICAgICAgZGF0YS5lZGdlcyA9IGRhdGEuZWRnZXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiBrbm93bltmcm9tSWQoeCldICYmIGtub3duW3RvSWQoeCldOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CiAgICAgICAgY2FzZSA4OgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZTUpOwogIH0pKTsKICByZXR1cm4gX2xvYWREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KZnVuY3Rpb24gcm91bmQzRGlnaXRzKG51bSkgewogIGlmICghbnVtKSB7CiAgICByZXR1cm4gMDsKICB9CiAgaWYgKG51bSA+IDEwMCkgewogICAgcmV0dXJuIE1hdGgucm91bmQobnVtKTsKICB9IGVsc2UgaWYgKG51bSA+IDEwKSB7CiAgICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiAxMCkgLyAxMDsKICB9IGVsc2UgewogICAgcmV0dXJuIE1hdGgucm91bmQobnVtICogMTAwKSAvIDEwMDsKICB9Cn0KZXhwb3J0IGRlZmF1bHQgewogIC8qICgKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLi4ucmFuZG9tRGF0YSgpLAogICAgfTsKICB9LAogICovCiAgYXN5bmNEYXRhOiBmdW5jdGlvbiBhc3luY0RhdGEoX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHN0b3JlLCBkYXRhOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBzdG9yZSA9IF9yZWYuc3RvcmU7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gbG9hZERhdGEoc3RvcmUpOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBuYW1lc3BhY2VzOiBmdW5jdGlvbiBuYW1lc3BhY2VzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snbmFtZXNwYWNlcyddKCk7CiAgICB9LAogICAgZGlzcGxheU5vZGVzOiBmdW5jdGlvbiBkaXNwbGF5Tm9kZXMoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdnZXQgZGlzcGxheU5vZGVzJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICB2YXIgbmFtZXNwYWNlcyA9IHRoaXMubmFtZXNwYWNlczsKICAgICAgdmFyIG91dCA9IHRoaXMubm9kZXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIG5hbWVzcGFjZXNbeC5uYW1lc3BhY2VdOwogICAgICB9KTsKICAgICAgcmV0dXJuIG91dDsKICAgIH0sCiAgICBkaXNwbGF5RWRnZXM6IGZ1bmN0aW9uIGRpc3BsYXlFZGdlcygpIHsKICAgICAgY29uc29sZS5sb2coJ2dldCBkaXNwbGF5RWRnZXMnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgIHZhciBuYW1lc3BhY2VzID0gdGhpcy5uYW1lc3BhY2VzOwogICAgICB2YXIgb3V0ID0gdGhpcy5lZGdlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICB2YXIgbnMxID0geC5mcm9tTmFtZXNwYWNlOwogICAgICAgIHZhciBuczIgPSB4LnRvTmFtZXNwYWNlOwogICAgICAgIHJldHVybiBuYW1lc3BhY2VzW25zMV0gJiYgbmFtZXNwYWNlc1tuczJdOwogICAgICB9KTsKICAgICAgcmV0dXJuIG91dDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyBOb2RlcyBpc24ndCB3YXRjaGVkLCBidXQgZ2V0cyB1cGRhdGVkIGF0IHRoZSBzYW1lIHRpbWUuLi4KICAgIG5vZGVzOiBmdW5jdGlvbiBub2RlcygpIHsKICAgICAgY29uc29sZS5sb2coJ25vZGVzIHVwZGF0ZWQnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgIHRoaXMudXBkYXRlR3JhcGgoKTsKICAgICAgdGhpcy5yZW5kZXJHcmFwaCgpOwogICAgfSwKICAgIG5hbWVzcGFjZXM6IGZ1bmN0aW9uIG5hbWVzcGFjZXMoKSB7CiAgICAgIGNvbnNvbGUubG9nKCduYW1lc3BhY2VzIHVwZGF0ZWQnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgIHRoaXMudXBkYXRlR3JhcGgoKTsKICAgICAgdGhpcy5yZW5kZXJHcmFwaCgpOwogICAgfSwKICAgIGVkZ2VzOiBmdW5jdGlvbiBlZGdlcygpIHsKICAgICAgY29uc29sZS5sb2coJ2VkZ2VzIHVwZGF0ZWQnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgIHRoaXMudXBkYXRlR3JhcGgoKTsKICAgICAgdGhpcy5yZW5kZXJHcmFwaCgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNb3VudGVkJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICBfdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGltZXInKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgX3RoaXMucmVmcmVzaERhdGEoKTsKICAgICAgICAgICAgfSwgSU5URVJWQUwpOwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbml0R3JhcGgoKTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgX3RoaXMudXBkYXRlR3JhcGgoKTsKICAgICAgICAgICAgX3RoaXMucmVuZGVyR3JhcGgoKTsKICAgICAgICAgICAgd2luZG93Lm0gPSBfdGhpczsKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2hEYXRhOiBmdW5jdGlvbiByZWZyZXNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBuZXU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoaW5nLi4uJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gbG9hZERhdGEoX3RoaXMyLiRzdG9yZSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBuZXUgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfdGhpczIubm9kZXMgPSBuZXUubm9kZXM7CiAgICAgICAgICAgICAgX3RoaXMyLmVkZ2VzID0gbmV1LmVkZ2VzOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoZWQnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGluaXRHcmFwaDogZnVuY3Rpb24gaW5pdEdyYXBoKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGQzLCBkYWdyZUQzLCBnLCByZW5kZXIsIHN2ZywgZ3JvdXAsIHpvb207CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gaW1wb3J0KCdkMycpOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgZDMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGltcG9ydCgnZGFncmUtZDMnKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGRhZ3JlRDMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBnID0gbmV3IGRhZ3JlRDMuZ3JhcGhsaWIuR3JhcGgoewogICAgICAgICAgICAgICAgY29tcG91bmQ6IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBnLnNldEdyYXBoKHsKICAgICAgICAgICAgICAgIG1hcmdpbng6IDAsCiAgICAgICAgICAgICAgICBtYXJnaW55OiAwLAogICAgICAgICAgICAgICAgcmFua2RpcjogJ0xSJywKICAgICAgICAgICAgICAgIGFsaWduOiAnVUwnLAogICAgICAgICAgICAgICAgcmFua2VyOiAnbG9uZ2VzdC1wYXRoJyAvLyAndGlnaHQtdHJlZScsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgZy5zZXREZWZhdWx0RWRnZUxhYmVsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7fTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSByZW5kZXJlcgogICAgICAgICAgICAgIHJlbmRlciA9IG5ldyBkYWdyZUQzLnJlbmRlcigpOyAvLyBBZGQgb3VyIGN1c3RvbSBhcnJvdwogICAgICAgICAgICAgIHJlbmRlci5hcnJvd3MoKS5zbWFsbGVyID0gZnVuY3Rpb24gbm9ybWFsKHBhcmVudCwgaWQsIGVkZ2UsIHR5cGUpIHsKICAgICAgICAgICAgICAgIHZhciBtYXJrZXIgPSBwYXJlbnQuYXBwZW5kKCdtYXJrZXInKS5hdHRyKCdpZCcsIGlkKS5hdHRyKCd2aWV3Qm94JywgJzAgMCAxMiAxMicpLmF0dHIoJ3JlZlgnLCA2KS5hdHRyKCdyZWZZJywgNikuYXR0cignbWFya2VyVW5pdHMnLCAndXNlclNwYWNlT25Vc2UnKS5hdHRyKCdtYXJrZXJXaWR0aCcsIDEyKS5hdHRyKCdtYXJrZXJIZWlnaHQnLCAxMikuYXR0cignb3JpZW50JywgJ2F1dG8nKTsKICAgICAgICAgICAgICAgIHZhciBwYXRoID0gbWFya2VyLmFwcGVuZCgncGF0aCcpLmF0dHIoJ2NsYXNzJywgJ2Fycm93aGVhZCcpLmF0dHIoJ2QnLCAnTSA2IDAgTCAwIDYgTCA2IDEyIEwgMTIgNiB6Jykuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIDEpLnN0eWxlKCdzdHJva2UtZGFzaGFycmF5JywgJzEsMCcpOwogICAgICAgICAgICAgICAgZGFncmVEMy51dGlsLmFwcGx5U3R5bGUocGF0aCwgZWRnZVsiIi5jb25jYXQodHlwZSwgIlN0eWxlIildKTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAvLyBTZXQgdXAgYW4gU1ZHIGdyb3VwIHNvIHRoYXQgd2UgY2FuIHRyYW5zbGF0ZSB0aGUgZmluYWwgZ3JhcGguCiAgICAgICAgICAgICAgc3ZnID0gZDMuc2VsZWN0KF90aGlzMy4kcmVmcy5tZXNoKTsKICAgICAgICAgICAgICBncm91cCA9IHN2Zy5hcHBlbmQoJ2cnKTsKICAgICAgICAgICAgICB6b29tID0gZDMuem9vbSgpLm9uKCd6b29tJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5sYXN0Wm9vbSA9IGQzLmV2ZW50LnRyYW5zZm9ybTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGdyb3VwLmF0dHIoJ3RyYW5zZm9ybScsIGQzLmV2ZW50LnRyYW5zZm9ybSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgc3ZnLmNhbGwoem9vbSk7CiAgICAgICAgICAgICAgX3RoaXMzLmQzID0gZDM7CiAgICAgICAgICAgICAgX3RoaXMzLmRhZ3JlRDMgPSBkYWdyZUQzOwogICAgICAgICAgICAgIF90aGlzMy5ncmFwaCA9IGc7CiAgICAgICAgICAgICAgX3RoaXMzLnJlbmRlciA9IHJlbmRlcjsKICAgICAgICAgICAgICBfdGhpczMuZ3JvdXAgPSBncm91cDsKICAgICAgICAgICAgICBfdGhpczMuem9vbSA9IHpvb207CiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVHcmFwaDogZnVuY3Rpb24gdXBkYXRlR3JhcGgoKSB7CiAgICAgIC8vIEBUT0RPIGRpZmYgbm9kZXMvZWRnZXMsIHJlbW92ZSB1bmV4cGVjdGVkIGFuZCBhZGQgbWlzc2luZyBvbmVzCiAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZy4uLicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKCiAgICAgIHZhciBlID0gZXNjYXBlSHRtbDsKICAgICAgdmFyIGcgPSB0aGlzLmdyYXBoOwogICAgICB2YXIgc2Vlbk5hbWVzcGFjZXMgPSB7fTsKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZGlzcGxheU5vZGVzKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIG5vZGUgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIHZhciBuc0lkID0gZW5zdXJlTmFtZXNwYWNlKG5vZGUubmFtZXNwYWNlKTsKICAgICAgICAgIHZhciBpZCA9IG5vZGVJZEZvcihub2RlKTsKICAgICAgICAgIG5vZGUubGFiZWwgPSAiIi5jb25jYXQobm9kZS5hcHAsICJAIikuY29uY2F0KG5vZGUudmVyc2lvbik7CiAgICAgICAgICB2YXIgcDk5ID0gbm9kZS5zdGF0cy5wOTltczsKICAgICAgICAgIHZhciB1bml0ID0gJ21zJzsKICAgICAgICAgIGlmIChwOTkgPiAxMDAwKSB7CiAgICAgICAgICAgIHA5OSAvPSAxMDAwOwogICAgICAgICAgICB1bml0ID0gJ3MnOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGh0bWwgPSAiXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInZlcnNpb25cIj5cbiAgICAgICAgICAgIDxoND4iLmNvbmNhdChlKG5vZGUuYXBwKSwgIkAiKS5jb25jYXQoZShub2RlLnZlcnNpb24pLCAiPC9oND5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCBzcGFuLTQgc3JcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4iKS5jb25jYXQocm91bmQzRGlnaXRzKG5vZGUuc3RhdHMuc3VjY2Vzc1JhdGUgKiAxMDApLCAiPC9zcGFuPjxzcGFuIGNsYXNzPVwidW5pdFwiPiU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHNwYW4tNCBycHNcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4iKS5jb25jYXQocm91bmQzRGlnaXRzKG5vZGUuc3RhdHMucnBzKSwgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgc3Bhbi00IHA5OVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPiIpLmNvbmNhdChyb3VuZDNEaWdpdHMocDk5KSwgIjwvc3Bhbj48c3BhbiBjbGFzcz1cInVuaXRcIj4iKS5jb25jYXQodW5pdCwgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIik7CiAgICAgICAgICBnLnNldE5vZGUoaWQsIHsKICAgICAgICAgICAgbGFiZWxUeXBlOiAnaHRtbCcsCiAgICAgICAgICAgIGxhYmVsOiBodG1sLAogICAgICAgICAgICB3aWR0aDogMTU4LAogICAgICAgICAgICBoZWlnaHQ6IDgwLAogICAgICAgICAgICByeDogUkFESVVTLAogICAgICAgICAgICByeTogUkFESVVTCiAgICAgICAgICB9KTsKICAgICAgICAgIGcuc2V0UGFyZW50KGlkLCBuc0lkKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgICB2YXIgcnBzZXMgPSB0aGlzLmRpc3BsYXlFZGdlcy5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5zdGF0cy5ycHM7CiAgICAgIH0pOwogICAgICB2YXIgbWluID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KHJwc2VzKSk7CiAgICAgIHZhciBtYXggPSBNYXRoLm1heC5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkocnBzZXMpKTsKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmRpc3BsYXlFZGdlcyksCiAgICAgICAgX3N0ZXAyOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZWRnZSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgIGVuc3VyZU5hbWVzcGFjZShlZGdlLmZyb21OYW1lc3BhY2UpOwogICAgICAgICAgZW5zdXJlTmFtZXNwYWNlKGVkZ2UudG9OYW1lc3BhY2UpOwogICAgICAgICAgdmFyIHdlaWdodCA9IE1hdGguZmxvb3IoNCAqIChlZGdlLnN0YXRzLnJwcyAtIG1pbikgLyAobWF4IC0gbWluKSkgKyAxOwogICAgICAgICAgZy5zZXRFZGdlKGZyb21JZChlZGdlKSwgdG9JZChlZGdlKSwgewogICAgICAgICAgICBhcnJvd2hlYWQ6ICdzbWFsbGVyJywKICAgICAgICAgICAgYXJyb3doZWFkQ2xhc3M6ICdhcnJvd2hlYWQnLAogICAgICAgICAgICBjbGFzczogIndlaWdodCIuY29uY2F0KHdlaWdodCksCiAgICAgICAgICAgIGN1cnZlOiB0aGlzLmQzLmN1cnZlQmFzaXMsCiAgICAgICAgICAgIHdlaWdodDogd2VpZ2h0CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGVuc3VyZU5hbWVzcGFjZShuYW1lKSB7CiAgICAgICAgdmFyIGlkID0gIm5zOiIuY29uY2F0KG5hbWUpOwogICAgICAgIGlmICghc2Vlbk5hbWVzcGFjZXNbbmFtZV0pIHsKICAgICAgICAgIHNlZW5OYW1lc3BhY2VzW25hbWVdID0gdHJ1ZTsKICAgICAgICAgIGcuc2V0Tm9kZShpZCwgewogICAgICAgICAgICBsYWJlbDogIk5hbWVzcGFjZTogIi5jb25jYXQobmFtZSksCiAgICAgICAgICAgIGNsdXN0ZXJMYWJlbFBvczogJ3RvcCcsCiAgICAgICAgICAgIHJ4OiBSQURJVVMsCiAgICAgICAgICAgIHJ5OiBSQURJVVMKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaWQ7CiAgICAgIH0KICAgIH0sCiAgICByZW5kZXJHcmFwaDogZnVuY3Rpb24gcmVuZGVyR3JhcGgoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdSZW5kZXJpbmcuLi4nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCgogICAgICB2YXIgZDMgPSB0aGlzLmQzOwogICAgICB2YXIgc3ZnID0gdGhpcy5kMy5zZWxlY3QodGhpcy4kcmVmcy5tZXNoKTsKICAgICAgdmFyIGdyb3VwID0gdGhpcy5ncm91cDsKICAgICAgdmFyIGcgPSB0aGlzLmdyYXBoOwogICAgICB2YXIgcmVuZGVyID0gdGhpcy5yZW5kZXI7CiAgICAgIHZhciB6b29tID0gdGhpcy56b29tOwogICAgICBzdmcuY2FsbCh6b29tLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5LnRyYW5zbGF0ZSgwLCAwKS5zY2FsZSgxKSk7CgogICAgICAvLyBSdW4gdGhlIHJlbmRlcmVyLiBUaGlzIGlzIHdoYXQgZHJhd3MgdGhlIGZpbmFsIGdyYXBoLgogICAgICByZW5kZXIoZ3JvdXAsIGcpOwogICAgICB2YXIgZ3JhcGhXaWR0aCA9IGcuZ3JhcGgoKS53aWR0aDsKICAgICAgdmFyIGdyYXBoSGVpZ2h0ID0gZy5ncmFwaCgpLmhlaWdodDsKICAgICAgdmFyIHdpZHRoID0gcGFyc2VJbnQoc3ZnLnN0eWxlKCd3aWR0aCcpLnJlcGxhY2UoL3B4LywgJycpKTsKICAgICAgdmFyIGhlaWdodCA9IHBhcnNlSW50KHN2Zy5zdHlsZSgnaGVpZ2h0JykucmVwbGFjZSgvcHgvLCAnJykpOwogICAgICB2YXIgc2NhbGUgPSBNYXRoLm1pbih3aWR0aCAvIGdyYXBoV2lkdGgsIGhlaWdodCAvIGdyYXBoSGVpZ2h0KTsKICAgICAgdmFyIGRYID0gd2lkdGggLyAyIC0gZ3JhcGhXaWR0aCAqIHNjYWxlIC8gMjsKICAgICAgdmFyIGRZID0gaGVpZ2h0IC8gMiAtIGdyYXBoSGVpZ2h0ICogc2NhbGUgLyAyOwogICAgICBjb25zb2xlLmxvZygncmVuZGVyJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgICBpZiAodGhpcy5sYXN0Wm9vbSkgewogICAgICAgIHN2Zy5jYWxsKHpvb20udHJhbnNmb3JtLCBkMy56b29tSWRlbnRpdHkudHJhbnNsYXRlKHRoaXMubGFzdFpvb20ueCwgdGhpcy5sYXN0Wm9vbS55KS5zY2FsZSh0aGlzLmxhc3Rab29tLmspKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdmcuY2FsbCh6b29tLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5LnRyYW5zbGF0ZShkWCwgZFkpLnNjYWxlKHNjYWxlKSk7CiAgICAgIH0KICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgY2xpY2tlZDogZnVuY3Rpb24gY2xpY2tlZChldmVudCkgewogICAgICB2YXIgcGF0aCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuZWRnZVBhdGgnKTsKICAgICAgY29uc29sZS5sb2cocGF0aCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQogICAgfQogIH0KfTs="},{"version":3,"names":["escapeHtml","RADIUS","INTERVAL","nodeIdFor","obj","concat","namespace","app","version","fromId","fromNamespace","fromApp","fromVersion","toId","toNamespace","toApp","toVersion","loadData","_x","_loadData","apply","arguments","_asyncToGenerator","regeneratorRuntime","mark","_callee5","store","data","known","wrap","_callee5$","_context5","prev","next","dispatch","url","sent","nodes","filter","x","forEach","id","edges","abrupt","stop","round3Digits","num","Math","round","asyncData","_ref","_callee","_callee$","_context","computed","namespaces","$store","getters","displayNodes","console","log","out","displayEdges","ns1","ns2","watch","updateGraph","renderGraph","mounted","_this","_callee2","_callee2$","_context2","timer","setInterval","refreshData","initGraph","window","m","beforeDestroy","clearInterval","methods","_this2","_callee3","neu","_callee3$","_context3","_this3","_callee4","d3","dagreD3","g","render","svg","group","zoom","_callee4$","_context4","graphlib","Graph","compound","setGraph","marginx","marginy","rankdir","align","ranker","setDefaultEdgeLabel","arrows","smaller","normal","parent","edge","type","marker","append","attr","path","style","util","applyStyle","select","$refs","mesh","on","event","sourceEvent","lastZoom","transform","call","graph","e","seenNamespaces","_iterator","_createForOfIteratorHelper","_step","s","n","done","node","value","nsId","ensureNamespace","label","p99","stats","p99ms","unit","html","successRate","rps","setNode","labelType","width","height","rx","ry","setParent","err","f","rpses","map","min","_toConsumableArray","max","_iterator2","_step2","weight","floor","setEdge","arrowhead","arrowheadClass","class","curve","curveBasis","name","clusterLabelPos","zoomIdentity","translate","scale","graphWidth","graphHeight","parseInt","replace","dX","dY","y","k","loading","clicked","target","closest"],"sources":["node_modules/@rancher/shell/pages/rio/mesh.vue"],"sourcesContent":["<script>\nimport { escapeHtml } from '@shell/utils/string';\n\nconst RADIUS = 5;\n\nconst INTERVAL = 10000;\n\n/*\nfunction randomStats() {\n  return {\n    'p50ms':       Math.random(),\n    'p90ms':       Math.random() * 2,\n    'p99ms':       Math.random() * 5,\n    'rps':         Math.random() * 100,\n    'successRate': Math.random(),\n  };\n}\n\nfunction randomItem(ary) {\n  const idx = Math.floor(Math.random() * ary.length);\n\n  return ary[idx];\n}\n\nfunction randomData() {\n  const nodes = [];\n  const edges = [];\n\n  ['foo', 'bar', 'baz', 'bat', 'qux'].forEach((name) => {\n    nodes.push({\n      'namespace': 'default',\n      'app':       name,\n      'version':   'v1',\n      'stats':     randomStats(),\n    });\n  });\n\n  ['a', 'b', 'c', 'd', 'e'].forEach((name) => {\n    nodes.push({\n      'namespace': 'another',\n      'app':       name,\n      'version':   'v1',\n      'stats':     randomStats(),\n    });\n  });\n\n  for ( let i = 0 ; i < 10 ; i++ ) {\n    const from = randomItem(nodes);\n    const crossNs = Math.random() < 0.2;\n    const toChoices = nodes.filter((x) => {\n      if ( x === from ) {\n        return false;\n      }\n\n      if ( crossNs ) {\n        return x.namespace !== from.namespace;\n      } else {\n        return x.namespace === from.namespace;\n      }\n    });\n    const to = randomItem(toChoices);\n\n    edges.push({\n      fromNamespace: from.namespace,\n      fromApp:       from.app,\n      fromVersion:   from.version,\n      toNamespace:   to.namespace,\n      toApp:         to.app,\n      toVersion:     to.version,\n      stats:         randomStats(),\n    });\n  }\n\n  return {\n    nodes,\n    edges\n  };\n}\n*/\n\nfunction nodeIdFor(obj) {\n  return `${ obj.namespace }:${ obj.app }@${ obj.version }`;\n}\n\nfunction fromId(obj) {\n  return `${ obj.fromNamespace }:${ obj.fromApp }@${ obj.fromVersion }`;\n}\n\nfunction toId(obj) {\n  return `${ obj.toNamespace }:${ obj.toApp }@${ obj.toVersion }`;\n}\n\nasync function loadData(store) {\n  const data = await store.dispatch('rancher/request', { url: '/v1-metrics/meshsummary' });\n\n  const known = {};\n\n  data.nodes = data.nodes.filter((x) => !!x.app && !!x.namespace);\n  data.nodes.forEach((x) => {\n    x.id = nodeIdFor(x);\n    known[x.id] = true;\n  });\n\n  data.edges = data.edges.filter((x) => known[fromId(x)] && known[toId(x)]);\n\n  return data;\n}\n\nfunction round3Digits(num) {\n  if ( !num ) {\n    return 0;\n  }\n\n  if ( num > 100 ) {\n    return Math.round(num);\n  } else if ( num > 10 ) {\n    return Math.round(num * 10) / 10;\n  } else {\n    return Math.round(num * 100) / 100;\n  }\n}\n\nexport default {\n\n  /* (\n  data() {\n    return {\n      loading: true,\n      ...randomData(),\n    };\n  },\n  */\n\n  async asyncData({ store }) {\n    const data = await loadData(store);\n\n    return data;\n  },\n  computed: {\n    namespaces() {\n      return this.$store.getters['namespaces']();\n    },\n\n    displayNodes() {\n      console.log('get displayNodes'); // eslint-disable-line no-console\n      const namespaces = this.namespaces;\n\n      const out = this.nodes.filter((x) => {\n        return namespaces[x.namespace];\n      });\n\n      return out;\n    },\n\n    displayEdges() {\n      console.log('get displayEdges'); // eslint-disable-line no-console\n      const namespaces = this.namespaces;\n\n      const out = this.edges.filter((x) => {\n        const ns1 = x.fromNamespace;\n        const ns2 = x.toNamespace;\n\n        return namespaces[ns1] && namespaces[ns2];\n      });\n\n      return out;\n    },\n  },\n\n  watch: {\n    // Nodes isn't watched, but gets updated at the same time...\n    nodes() {\n      console.log('nodes updated'); // eslint-disable-line no-console\n      this.updateGraph();\n      this.renderGraph();\n    },\n\n    namespaces() {\n      console.log('namespaces updated'); // eslint-disable-line no-console\n      this.updateGraph();\n      this.renderGraph();\n    },\n\n    edges() {\n      console.log('edges updated'); // eslint-disable-line no-console\n      this.updateGraph();\n      this.renderGraph();\n    },\n  },\n\n  async mounted() {\n    console.log('Mounted'); // eslint-disable-line no-console\n    this.timer = setInterval(() => {\n      console.log('Timer'); // eslint-disable-line no-console\n      this.refreshData();\n    }, INTERVAL);\n\n    await this.initGraph();\n    this.updateGraph();\n    this.renderGraph();\n\n    window.m = this;\n  },\n\n  beforeDestroy() {\n    clearInterval(this.timer);\n  },\n\n  methods: {\n    async refreshData() {\n      console.log('Refreshing...'); // eslint-disable-line no-console\n      const neu = await loadData(this.$store);\n\n      this.nodes = neu.nodes;\n      this.edges = neu.edges;\n      console.log('Refreshed'); // eslint-disable-line no-console\n    },\n\n    async initGraph() {\n      const d3 = await import('d3');\n      const dagreD3 = await import('dagre-d3');\n\n      const g = new dagreD3.graphlib.Graph({ compound: true });\n\n      g.setGraph({\n        marginx: 0,\n        marginy: 0,\n        rankdir: 'LR',\n        align:   'UL',\n        ranker:  'longest-path', // 'tight-tree',\n      });\n\n      g.setDefaultEdgeLabel(() => {\n        return {};\n      });\n\n      // Create the renderer\n      const render = new dagreD3.render();\n\n      // Add our custom arrow\n      render.arrows().smaller = function normal(parent, id, edge, type) {\n        const marker = parent.append('marker')\n          .attr('id', id)\n          .attr('viewBox', '0 0 12 12')\n          .attr('refX', 6)\n          .attr('refY', 6)\n          .attr('markerUnits', 'userSpaceOnUse')\n          .attr('markerWidth', 12)\n          .attr('markerHeight', 12)\n          .attr('orient', 'auto');\n        const path = marker.append('path')\n          .attr('class', 'arrowhead')\n          .attr('d', 'M 6 0 L 0 6 L 6 12 L 12 6 z')\n          .style('stroke-width', 1)\n          .style('stroke-dasharray', '1,0');\n\n        dagreD3.util.applyStyle(path, edge[`${ type }Style`]);\n      };\n\n      // Set up an SVG group so that we can translate the final graph.\n      const svg = d3.select(this.$refs.mesh);\n      const group = svg.append('g');\n\n      const zoom = d3.zoom().on('zoom', () => {\n        if ( d3.event.sourceEvent ) {\n          this.lastZoom = d3.event.transform;\n        }\n        group.attr('transform', d3.event.transform);\n      });\n\n      svg.call(zoom);\n\n      this.d3 = d3;\n      this.dagreD3 = dagreD3;\n      this.graph = g;\n      this.render = render;\n      this.group = group;\n      this.zoom = zoom;\n    },\n\n    updateGraph() {\n      // @TODO diff nodes/edges, remove unexpected and add missing ones\n      console.log('Updating...'); // eslint-disable-line no-console\n\n      const e = escapeHtml;\n      const g = this.graph;\n\n      const seenNamespaces = {};\n\n      for ( const node of this.displayNodes ) {\n        const nsId = ensureNamespace(node.namespace);\n        const id = nodeIdFor(node);\n\n        node.label = `${ node.app }@${ node.version }`;\n\n        let p99 = node.stats.p99ms;\n        let unit = 'ms';\n\n        if ( p99 > 1000 ) {\n          p99 /= 1000;\n          unit = 's';\n        }\n\n        const html = `\n          <div class=\"version\">\n            <h4>${ e(node.app) }@${ e(node.version) }</h4>\n            <div class=\"row\">\n              <div class=\"col span-4 sr\">\n                <span>${ round3Digits(node.stats.successRate * 100) }</span><span class=\"unit\">%</span>\n              </div>\n              <div class=\"col span-4 rps\">\n                <span>${ round3Digits(node.stats.rps) }</span>\n              </div>\n              <div class=\"col span-4 p99\">\n                <span>${ round3Digits(p99) }</span><span class=\"unit\">${ unit }</span>\n              </div>\n            </div>\n          </div>\n        `;\n\n        g.setNode(id, {\n          labelType: 'html',\n          label:     html,\n          width:     158,\n          height:    80,\n          rx:        RADIUS,\n          ry:        RADIUS,\n        });\n        g.setParent(id, nsId);\n      }\n\n      const rpses = this.displayEdges.map((x) => x.stats.rps);\n      const min = Math.min(...rpses);\n      const max = Math.max(...rpses);\n\n      for ( const edge of this.displayEdges ) {\n        ensureNamespace(edge.fromNamespace);\n        ensureNamespace(edge.toNamespace);\n        const weight = Math.floor(4 * (edge.stats.rps - min) / (max - min)) + 1;\n\n        g.setEdge(fromId(edge), toId(edge), {\n          arrowhead:      'smaller',\n          arrowheadClass: 'arrowhead',\n          class:          `weight${ weight }`,\n          curve:          this.d3.curveBasis,\n          weight,\n        });\n      }\n\n      function ensureNamespace(name) {\n        const id = `ns:${ name }`;\n\n        if ( !seenNamespaces[name] ) {\n          seenNamespaces[name] = true;\n          g.setNode(id, {\n            label:           `Namespace: ${ name }`,\n            clusterLabelPos: 'top',\n            rx:              RADIUS,\n            ry:              RADIUS\n          });\n        }\n\n        return id;\n      }\n    },\n\n    renderGraph() {\n      console.log('Rendering...'); // eslint-disable-line no-console\n\n      const d3 = this.d3;\n      const svg = this.d3.select(this.$refs.mesh);\n      const group = this.group;\n      const g = this.graph;\n      const render = this.render;\n      const zoom = this.zoom;\n\n      svg.call(zoom.transform, d3.zoomIdentity.translate(0, 0).scale(1));\n\n      // Run the renderer. This is what draws the final graph.\n      render(group, g);\n\n      const graphWidth = g.graph().width;\n      const graphHeight = g.graph().height;\n      const width = parseInt(svg.style('width').replace(/px/, ''));\n      const height = parseInt(svg.style('height').replace(/px/, ''));\n      const scale = Math.min(width / graphWidth, height / graphHeight);\n      const dX = (width / 2) - ((graphWidth * scale) / 2);\n      const dY = (height / 2) - ((graphHeight * scale) / 2);\n\n      console.log('render'); // eslint-disable-line no-console\n      if ( this.lastZoom ) {\n        svg.call(zoom.transform, d3.zoomIdentity.translate(this.lastZoom.x, this.lastZoom.y).scale(this.lastZoom.k));\n      } else {\n        svg.call(zoom.transform, d3.zoomIdentity.translate(dX, dY).scale(scale));\n      }\n\n      this.loading = false;\n    },\n\n    clicked(event) {\n      const path = event.target.closest('.edgePath');\n\n      console.log(path); // eslint-disable-line no-console\n    }\n  },\n};\n</script>\n<template>\n  <div class=\"mesh\">\n    <header>\n      <h1>App Mesh</h1>\n    </header>\n\n    <svg\n      id=\"mesh\"\n      ref=\"mesh\"\n      @click=\"clicked\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\">\n  #mesh {\n    width: 100%;\n    height: calc(100vh - 165px);\n\n    .version {\n      width: 158px;\n      height: 80px;\n      color: #b6b6c2;\n      text-align: center;\n\n      .row {\n        margin: 0;\n      }\n\n      H4 {\n        color: #b6b6c2;\n        display: block;\n        border-bottom: 1px solid #555;\n        text-align: left;\n        padding-bottom: 5px;\n        margin-bottom: 5px;\n      }\n\n      .sr, .rps, .p99 {\n        font-size: 20px;\n\n        .unit {\n          font-size: 12px;\n        }\n      }\n\n      .sr:before, .rps:before, .p99:before {\n        color: white;\n        font-weight: bold;\n        font-size: 15px;\n        display: block;\n      }\n\n      .sr:before {\n        content: 'SR';\n      }\n\n      .rps:before {\n        content: 'RPS';\n      }\n\n      .p99:before {\n        content: '99%';\n      }\n\n    }\n\n    .clusters .label text {\n      fill: #b6b6c2;\n      font-weight: bold;\n    }\n\n    .clusters RECT {\n      fill: #222;\n      stroke: #555;\n    }\n\n    .arrowhead {\n      fill: #6c6c76;\n    }\n\n    .node RECT {\n      fill: #111;\n      stroke: #555;\n    }\n\n    PATH {\n      stroke: #6c6c76;\n    }\n\n    .edgePath {\n      cursor: pointer;\n    }\n\n    .weight1 { stroke-width: 2px; }\n    .weight2 { stroke-width: 3px; }\n    .weight3 { stroke-width: 4px; }\n    .weight4 { stroke-width: 5px; }\n    .weight5 { stroke-width: 6px; }\n  }\n</style>\n"],"mappings":"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"}]}