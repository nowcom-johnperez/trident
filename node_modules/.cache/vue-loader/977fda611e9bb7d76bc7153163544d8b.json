{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/ResourceQuota/Namespace.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/ResourceQuota/Namespace.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBSb3cgZnJvbSAnLi9OYW1lc3BhY2VSb3cnOwppbXBvcnQgeyBRVU9UQV9DT01QVVRFRCB9IGZyb20gJy4vc2hhcmVkJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFJvdyB9LAoKICBwcm9wczogewogICAgbW9kZTogewogICAgICB0eXBlOiAgICAgU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBwcm9qZWN0OiB7CiAgICAgIHR5cGU6ICAgICBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdHlwZXM6IHsKICAgICAgdHlwZTogICAgQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsgcm93czoge30gfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4uUVVPVEFfQ09NUFVURUQsCiAgICBwcm9qZWN0UmVzb3VyY2VRdW90YUxpbWl0cygpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvamVjdD8uc3BlYz8ucmVzb3VyY2VRdW90YT8ubGltaXQgfHwge307CiAgICB9LAogICAgbmFtZXNwYWNlUmVzb3VyY2VRdW90YUxpbWl0cygpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvamVjdC5uYW1lc3BhY2VzLm1hcCgobmFtZXNwYWNlKSA9PiAoewogICAgICAgIC4uLm5hbWVzcGFjZS5yZXNvdXJjZVF1b3RhLmxpbWl0LAogICAgICAgIGlkOiBuYW1lc3BhY2UuaWQKICAgICAgfSkpOwogICAgfSwKICAgIGVkaXRhYmxlTGltaXRzKCkgewogICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5wcm9qZWN0UmVzb3VyY2VRdW90YUxpbWl0cyk7CiAgICB9LAogICAgZGVmYXVsdFJlc291cmNlUXVvdGFMaW1pdHMoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2plY3Quc3BlYy5uYW1lc3BhY2VEZWZhdWx0UmVzb3VyY2VRdW90YS5saW1pdDsKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICByZW1haW5pbmdUeXBlcyhjdXJyZW50VHlwZSkgewogICAgICByZXR1cm4gdGhpcy5tYXBwZWRUeXBlcwogICAgICAgIC5maWx0ZXIoKHR5cGUpID0+ICF0aGlzLnR5cGVzLmluY2x1ZGVzKHR5cGUudmFsdWUpIHx8IHR5cGUudmFsdWUgPT09IGN1cnJlbnRUeXBlKTsKICAgIH0sCiAgICB1cGRhdGUoa2V5LCB2YWx1ZSkgewogICAgICBjb25zdCByZXNvdXJjZVF1b3RhID0gewogICAgICAgIGxpbWl0OiB7CiAgICAgICAgICAuLi50aGlzLnZhbHVlLnJlc291cmNlUXVvdGEubGltaXQsCiAgICAgICAgICBba2V5XTogdmFsdWUKICAgICAgICB9CiAgICAgIH07CgogICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ3Jlc291cmNlUXVvdGEnLCByZXNvdXJjZVF1b3RhKTsKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["Namespace.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Namespace.vue","sourceRoot":"node_modules/@rancher/shell/components/form/ResourceQuota","sourcesContent":["<script>\nimport Row from './NamespaceRow';\nimport { QUOTA_COMPUTED } from './shared';\n\nexport default {\n  components: { Row },\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    project: {\n      type:     Object,\n      required: true\n    },\n    types: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n\n  data() {\n    return { rows: {} };\n  },\n\n  computed: {\n    ...QUOTA_COMPUTED,\n    projectResourceQuotaLimits() {\n      return this.project?.spec?.resourceQuota?.limit || {};\n    },\n    namespaceResourceQuotaLimits() {\n      return this.project.namespaces.map((namespace) => ({\n        ...namespace.resourceQuota.limit,\n        id: namespace.id\n      }));\n    },\n    editableLimits() {\n      return Object.keys(this.projectResourceQuotaLimits);\n    },\n    defaultResourceQuotaLimits() {\n      return this.project.spec.namespaceDefaultResourceQuota.limit;\n    }\n  },\n\n  methods: {\n    remainingTypes(currentType) {\n      return this.mappedTypes\n        .filter((type) => !this.types.includes(type.value) || type.value === currentType);\n    },\n    update(key, value) {\n      const resourceQuota = {\n        limit: {\n          ...this.value.resourceQuota.limit,\n          [key]: value\n        }\n      };\n\n      this.$set(this.value, 'resourceQuota', resourceQuota);\n    }\n  },\n};\n</script>\n<template>\n  <div>\n    <div class=\"headers mb-10\">\n      <div class=\"mr-10\">\n        <label>{{ t('resourceQuota.headers.resourceType') }}</label>\n      </div>\n      <div class=\"mr-10\">\n        <label>{{ t('resourceQuota.headers.projectResourceAvailability') }}</label>\n      </div>\n      <div class=\"mr-20\">\n        <label>{{ t('resourceQuota.headers.limit') }}</label>\n      </div>\n    </div>\n    <Row\n      v-for=\"(limit, i) in editableLimits\"\n      :key=\"project.id + i\"\n      :value=\"value.resourceQuota\"\n      :namespace=\"value\"\n      :mode=\"mode\"\n      :types=\"mappedTypes\"\n      :type=\"limit\"\n      :project-resource-quota-limits=\"projectResourceQuotaLimits\"\n      :default-resource-quota-limits=\"defaultResourceQuotaLimits\"\n      :namespace-resource-quota-limits=\"namespaceResourceQuotaLimits\"\n      @input=\"update\"\n    />\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.headers {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-evenly;\n    align-items: center;\n    border-bottom: 1px solid var(--border);\n    height: 30px;\n\n    div {\n        width: 100%;\n    }\n}\n\n.row:not(:last-of-type) {\n  margin-bottom: 10px;\n}\n</style>\n"]}]}