{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/cloud-credential/s3.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/cloud-credential/s3.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgTGFiZWxlZFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVsZWRTZWxlY3QnOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmcsIENoZWNrYm94LCBMYWJlbGVkSW5wdXQsIExhYmVsZWRTZWxlY3QKICB9LAogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKCiAgYXN5bmMgZmV0Y2goKSB7CiAgICBsZXQgY3VyID0gKHRoaXMudmFsdWUuZGVjb2RlZERhdGEuZGVmYXVsdFJlZ2lvbiB8fCAnJykudG9Mb3dlckNhc2UoKTsKCiAgICBpZiAoICFjdXIgKSB7CiAgICAgIGN1ciA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2F3cy9kZWZhdWx0UmVnaW9uJ107CiAgICAgIHRoaXMudmFsdWUuc2V0RGF0YSgnZGVmYXVsdFJlZ2lvbicsIGN1cik7CiAgICB9CgogICAgdGhpcy5rbm93blJlZ2lvbnMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXdzL2RlZmF1bHRSZWdpb25zJyk7CgogICAgaWYgKCAhdGhpcy5rbm93blJlZ2lvbnMuaW5jbHVkZXMoY3VyKSApIHsKICAgICAgdGhpcy5rbm93blJlZ2lvbnMudW5zaGlmdChjdXIpOwogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4geyBrbm93blJlZ2lvbnM6IG51bGwgfTsKICB9LAoKICB3YXRjaDogewogICAgJ3ZhbHVlLmRlY29kZWREYXRhLmFjY2Vzc0tleScobmV1KSB7CiAgICAgIHRoaXMuJGVtaXQoJ3ZhbGlkYXRpb25DaGFuZ2VkJywgISFuZXUpOwogICAgfSwKICAgICd2YWx1ZS5kZWNvZGVkRGF0YS5zZWNyZXRLZXknKG5ldSkgewogICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsICEhbmV1KTsKICAgIH0sCiAgICAndmFsdWUuZGVjb2RlZERhdGEuZGVmYXVsdEJ1Y2tldCcobmV1KSB7CiAgICAgIHRoaXMuJGVtaXQoJ3ZhbGlkYXRpb25DaGFuZ2VkJywgISFuZXUpOwogICAgfSwKICAgICd2YWx1ZS5kZWNvZGVkRGF0YS5kZWZhdWx0Rm9sZGVyJyhuZXUpIHsKICAgICAgdGhpcy4kZW1pdCgndmFsaWRhdGlvbkNoYW5nZWQnLCAhIW5ldSk7CiAgICB9LAogICAgJ3ZhbHVlLmRlY29kZWREYXRhLmRlZmF1bHRSZWdpb24nKG5ldSkgewogICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsICEhbmV1KTsKICAgIH0sCiAgICAndmFsdWUuZGVjb2RlZERhdGEuZGVmYXVsdEVuZHBvaW50Q0EnKG5ldSkgewogICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsICEhbmV1KTsKICAgIH0sCiAgICAndmFsdWUuZGVjb2RlZERhdGEuZGVmYXVsdEVuZHBvaW50JyhuZXUpIHsKICAgICAgdGhpcy4kZW1pdCgndmFsaWRhdGlvbkNoYW5nZWQnLCAhIW5ldSk7CiAgICB9LAogICAgJ3ZhbHVlLmRlY29kZWREYXRhLmRlZmF1bFNraXBTU0xWZXJpZnknKG5ldSkgewogICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0aW9uQ2hhbmdlZCcsICEhbmV1KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["s3.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"s3.vue","sourceRoot":"node_modules/@rancher/shell/cloud-credential","sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nexport default {\n  components: {\n    Loading, Checkbox, LabeledInput, LabeledSelect\n  },\n  mixins: [CreateEditView],\n\n  async fetch() {\n    let cur = (this.value.decodedData.defaultRegion || '').toLowerCase();\n\n    if ( !cur ) {\n      cur = this.$store.getters['aws/defaultRegion'];\n      this.value.setData('defaultRegion', cur);\n    }\n\n    this.knownRegions = await this.$store.dispatch('aws/defaultRegions');\n\n    if ( !this.knownRegions.includes(cur) ) {\n      this.knownRegions.unshift(cur);\n    }\n  },\n\n  data() {\n    return { knownRegions: null };\n  },\n\n  watch: {\n    'value.decodedData.accessKey'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n    'value.decodedData.secretKey'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n    'value.decodedData.defaultBucket'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n    'value.decodedData.defaultFolder'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n    'value.decodedData.defaultRegion'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n    'value.decodedData.defaultEndpointCA'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n    'value.decodedData.defaultEndpoint'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n    'value.decodedData.defaulSkipSSLVerify'(neu) {\n      this.$emit('validationChanged', !!neu);\n    },\n  },\n};\n</script>\n\n<template>\n  <Loading\n    v-if=\"$fetchState.pending\"\n    :delayed=\"true\"\n  />\n  <div v-else>\n    <div class=\"row\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.accessKey\"\n          :required=\"true\"\n          label-key=\"cluster.credential.s3.accessKey.label\"\n          placeholder-key=\"cluster.credential.s3.accessKey.placeholder\"\n          type=\"text\"\n          :mode=\"mode\"\n          @input=\"value.setData('accessKey', $event);\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.secretKey\"\n          :required=\"true\"\n          label-key=\"cluster.credential.s3.secretKey.label\"\n          placeholder-key=\"cluster.credential.s3.secretKey.placeholder\"\n          type=\"password\"\n          :mode=\"mode\"\n          @input=\"value.setData('secretKey', $event);\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row mt-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.defaultBucket\"\n          :mode=\"mode\"\n          label-key=\"cluster.credential.s3.defaultBucket.label\"\n          placeholder-key=\"cluster.credential.s3.defaultBucket.placeholder\"\n          @input=\"value.setData('defaultBucket', $event)\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.defaultFolder\"\n          :mode=\"mode\"\n          label-key=\"cluster.credential.s3.defaultFolder.label\"\n          placeholder-key=\"cluster.credential.s3.defaultFolder.placeholder\"\n          @input=\"value.setData('defaultFolder', $event)\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row mt-20\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          :value=\"value.decodedData.defaultRegion\"\n          label-key=\"cluster.credential.s3.defaultRegion.label\"\n          placeholder-key=\"cluster.credential.s3.defaultRegion.placeholder\"\n          :mode=\"mode\"\n          :taggable=\"true\"\n          :options=\"knownRegions\"\n          @input=\"value.setData('defaultRegion', $event);\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          :value=\"value.decodedData.defaultEndpoint\"\n          :mode=\"mode\"\n          label-key=\"cluster.credential.s3.defaultEndpoint.label\"\n          placeholder-key=\"cluster.credential.s3.defaultEndpoint.placeholder\"\n          @input=\"value.setData('defaultEndpoint', $event)\"\n        />\n      </div>\n    </div>\n\n    <div class=\"mt-20\">\n      <Checkbox\n        :value=\"value.decodedData.defaultSkipSSLVerify\"\n        :mode=\"mode\"\n        label-key=\"cluster.credential.s3.defaultSkipSSLVerify.label\"\n        @input=\"value.setData('defaultSkipSSLVerify', $event)\"\n      />\n\n      <LabeledInput\n        v-if=\"!value.decodedData.defaultSkipSSLVerify\"\n        :value=\"value.decodedData.defaultEndpointCA\"\n        type=\"multiline\"\n        label-key=\"cluster.credential.s3.defaultEndpointCA.label\"\n        placeholder-key=\"cluster.credential.s3.defaultEndpointCA.placeholder\"\n        @input=\"value.setData('defaultEndpointCA', $event)\"\n      />\n    </div>\n  </div>\n</template>\n"]}]}