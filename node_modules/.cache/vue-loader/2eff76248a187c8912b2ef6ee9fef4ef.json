{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig/types/email.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig/types/email.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IFRMUyBmcm9tICcuLi90bHMnOwppbXBvcnQgU2ltcGxlU2VjcmV0U2VsZWN0b3IgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9TaW1wbGVTZWNyZXRTZWxlY3Rvcic7CmltcG9ydCB7IF9WSUVXIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENoZWNrYm94LCBMYWJlbGVkSW5wdXQsIFNpbXBsZVNlY3JldFNlbGVjdG9yLCBUTFMKICB9LAogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6ICAgICBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbmFtZXNwYWNlOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICB0aGlzLiRzZXQodGhpcy52YWx1ZSwgJ3NlbmRSZXNvbHZlZCcsIHRoaXMudmFsdWUuc2VuZFJlc29sdmVkIHx8IGZhbHNlKTsKICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCAncmVxdWlyZVRMUycsIHRoaXMudmFsdWUucmVxdWlyZVRMUyB8fCBmYWxzZSk7CgogICAgcmV0dXJuIHsKICAgICAgdmlldzogICAgICAgICAgICAgICAgICAgICAgICAgIF9WSUVXLAogICAgICBpbml0aWFsQXV0aFBhc3N3b3JkU2VjcmV0TmFtZTogdGhpcy52YWx1ZT8uYXV0aFBhc3N3b3JkPy5uYW1lID8gdGhpcy52YWx1ZS5hdXRoUGFzc3dvcmQubmFtZSA6ICcnLAogICAgICBpbml0aWFsQXV0aFBhc3N3b3JkU2VjcmV0S2V5OiAgdGhpcy52YWx1ZS5hdXRoUGFzc3dvcmQ/LmtleSA/IHRoaXMudmFsdWUuYXV0aFBhc3N3b3JkLmtleSA6ICcnLAogICAgICBub25lOiAgICAgICAgICAgICAgICAgICAgICAgICAgJ19fW1tOT05FXV1fXycsCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZUF1dGhQYXNzd29yZFNlY3JldE5hbWUobmFtZSkgewogICAgICBjb25zdCBleGlzdGluZ0tleSA9IHRoaXMudmFsdWUuYXV0aFBhc3N3b3JkPy5rZXkgfHwgJyc7CgogICAgICBpZiAodGhpcy52YWx1ZS5hdXRoUGFzc3dvcmQpIHsKICAgICAgICBpZiAobmFtZSA9PT0gdGhpcy5ub25lKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy52YWx1ZS5hdXRoUGFzc3dvcmQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudmFsdWUuYXV0aFBhc3N3b3JkID0gewogICAgICAgICAgICBrZXk6IGV4aXN0aW5nS2V5LAogICAgICAgICAgICBuYW1lLAogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52YWx1ZVsnYXV0aFBhc3N3b3JkJ10gPSB7CiAgICAgICAgICBrZXk6ICcnLAogICAgICAgICAgbmFtZQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVBdXRoUGFzc3dvcmRTZWNyZXRLZXkoa2V5KSB7CiAgICAgIGNvbnN0IGV4aXN0aW5nTmFtZSA9IHRoaXMudmFsdWUuYXV0aFBhc3N3b3JkPy5uYW1lIHx8ICcnOwoKICAgICAgaWYgKHRoaXMudmFsdWUuYXV0aFBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy52YWx1ZS5hdXRoUGFzc3dvcmQgPSB7CiAgICAgICAgICBuYW1lOiBleGlzdGluZ05hbWUsCiAgICAgICAgICBrZXkKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudmFsdWVbJ2F1dGhQYXNzd29yZCddID0gewogICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICBrZXkKICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["email.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"email.vue","sourceRoot":"node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig/types","sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport TLS from '../tls';\nimport SimpleSecretSelector from '@shell/components/form/SimpleSecretSelector';\nimport { _VIEW } from '@shell/config/query-params';\n\nexport default {\n  components: {\n    Checkbox, LabeledInput, SimpleSecretSelector, TLS\n  },\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n    value: {\n      type:     Object,\n      required: true\n    },\n    namespace: {\n      type:    String,\n      default: ''\n    }\n  },\n  data() {\n    this.$set(this.value, 'sendResolved', this.value.sendResolved || false);\n    this.$set(this.value, 'requireTLS', this.value.requireTLS || false);\n\n    return {\n      view:                          _VIEW,\n      initialAuthPasswordSecretName: this.value?.authPassword?.name ? this.value.authPassword.name : '',\n      initialAuthPasswordSecretKey:  this.value.authPassword?.key ? this.value.authPassword.key : '',\n      none:                          '__[[NONE]]__',\n    };\n  },\n\n  methods: {\n    updateAuthPasswordSecretName(name) {\n      const existingKey = this.value.authPassword?.key || '';\n\n      if (this.value.authPassword) {\n        if (name === this.none) {\n          delete this.value.authPassword;\n        } else {\n          this.value.authPassword = {\n            key: existingKey,\n            name,\n          };\n        }\n      } else {\n        this.value['authPassword'] = {\n          key: '',\n          name\n        };\n      }\n    },\n    updateAuthPasswordSecretKey(key) {\n      const existingName = this.value.authPassword?.name || '';\n\n      if (this.value.authPassword) {\n        this.value.authPassword = {\n          name: existingName,\n          key\n        };\n      } else {\n        this.value['authPassword'] = {\n          name: '',\n          key\n        };\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row\">\n      <div class=\"col span-12\">\n        <h3>Target</h3>\n      </div>\n    </div>\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"value.to\"\n          :mode=\"mode\"\n          label=\"Default Recipient Address\"\n          placeholder=\"e.g. admin@example.com\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <Checkbox\n          v-model=\"value.sendResolved\"\n          :mode=\"mode\"\n          class=\"mt-20\"\n          label=\"Enable send resolved alerts\"\n        />\n      </div>\n    </div>\n    <h2 class=\"mb-10\">\n      SMTP\n    </h2>\n    <div class=\"row mb-20\">\n      <div class=\"col span-12\">\n        <LabeledInput\n          v-model=\"value.from\"\n          :mode=\"mode\"\n          label=\"Sender\"\n          placeholder=\"e.g. admin@example.com\"\n        />\n      </div>\n    </div>\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"value.smarthost\"\n          :mode=\"mode\"\n          label=\"Host\"\n          placeholder=\"e.g. 192.168.1.121:587\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <Checkbox\n          v-model=\"value.requireTLS\"\n          :mode=\"mode\"\n          class=\"mt-20\"\n          label=\"Use TLS\"\n        />\n      </div>\n    </div>\n    <div\n      v-if=\"namespace\"\n      class=\"row mb-20\"\n    >\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"value.authUsername\"\n          :mode=\"mode\"\n          :label=\"t('monitoring.alertmanagerConfig.email.username')\"\n          placeholder=\"e.g. John\"\n        />\n      </div>\n    </div>\n    <div class=\"row mb-20\">\n      <SimpleSecretSelector\n        v-if=\"namespace\"\n        :initial-key=\"initialAuthPasswordSecretKey\"\n        :mode=\"mode\"\n        :initial-name=\"initialAuthPasswordSecretName\"\n        :namespace=\"namespace\"\n        :disabled=\"mode === view\"\n        :secret-name-label=\"t('monitoring.alertmanagerConfig.email.password')\"\n        @updateSecretName=\"updateAuthPasswordSecretName\"\n        @updateSecretKey=\"updateAuthPasswordSecretKey\"\n      />\n      <Banner\n        v-else\n        color=\"error\"\n      >\n        {{ t('alertmanagerConfigReceiver.namespaceWarning') }}\n      </Banner>\n    </div>\n    <TLS\n      v-model=\"value\"\n      class=\"mb-20\"\n      :mode=\"mode\"\n      :namespace=\"namespace\"\n    />\n  </div>\n</template>\n"]}]}