{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/legacy/project/_page.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/legacy/project/_page.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBFbWJlclBhZ2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvRW1iZXJQYWdlJzsKaW1wb3J0IHsgcHJvamVjdCB9IGZyb20gJ0BzaGVsbC9zdG9yZS90eXBlLW1hcCc7Cgpjb25zdCBQQUdFUyA9IHsKICBpc3RpbzogICAgICAgICAgJ2lzdGlvL3Byb2plY3QtaXN0aW8vbWV0cmljcycsCiAgbW9uaXRvcmluZzogICAgICdtb25pdG9yaW5nL3Byb2plY3Qtc2V0dGluZycsCiAgcGlwZWxpbmVDb25maWc6ICdwaXBlbGluZScsCiAgcGlwZWxpbmVzOiAgICAgICdwaXBlbGluZS9waXBlbGluZXMnCn07CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBFbWJlclBhZ2UgfSwKCiAgZGF0YSgpIHsKICAgIGNvbnN0IHBhZ2UgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucGFnZTsKICAgIGNvbnN0IHAgPSBQQUdFU1twYWdlXSB8fCBwYWdlOwoKICAgIHJldHVybiB7IHBhZ2U6IHAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgcHJvamVjdCgpIHsKICAgICAgcmV0dXJuIHByb2plY3QodGhpcy4kc3RvcmUuZ2V0dGVycyk7CiAgICB9LAoKICAgIHNyYygpIHsKICAgICAgY29uc3QgcHJqID0gcHJvamVjdCh0aGlzLiRzdG9yZS5nZXR0ZXJzKTsKCiAgICAgIGlmICghIXByaikgewogICAgICAgIGNvbnN0IGlkID0gcHJqLmlkLnJlcGxhY2UoJy8nLCAnOicpOwoKICAgICAgICByZXR1cm4gYC9wLyR7IGlkIH0vJHsgdGhpcy5wYWdlIH1gOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LAoKICB3YXRjaDogewogICAgLy8gVXNlciBjaGFuZ2VkIHByb2plY3Qgd2hpbGUgb24gdGhpcyBwYWdlCiAgICBwcm9qZWN0KGEsIGIpIHsKICAgICAgLy8gQ2hhbmdlZCB0byBubyBwcm9qZWN0LCBzbyByZWRpcmVjdAogICAgICBpZiAoIWEgJiYgYikgewogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgbmFtZTogJ2MtY2x1c3Rlci1sZWdhY3ktcHJvamVjdCcgfSApOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["_page.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_page.vue","sourceRoot":"node_modules/@rancher/shell/pages/c/_cluster/legacy/project","sourcesContent":["<script>\nimport EmberPage from '@shell/components/EmberPage';\nimport { project } from '@shell/store/type-map';\n\nconst PAGES = {\n  istio:          'istio/project-istio/metrics',\n  monitoring:     'monitoring/project-setting',\n  pipelineConfig: 'pipeline',\n  pipelines:      'pipeline/pipelines'\n};\n\nexport default {\n  components: { EmberPage },\n\n  data() {\n    const page = this.$route.params.page;\n    const p = PAGES[page] || page;\n\n    return { page: p };\n  },\n\n  computed: {\n    project() {\n      return project(this.$store.getters);\n    },\n\n    src() {\n      const prj = project(this.$store.getters);\n\n      if (!!prj) {\n        const id = prj.id.replace('/', ':');\n\n        return `/p/${ id }/${ this.page }`;\n      }\n\n      return null;\n    }\n  },\n\n  watch: {\n    // User changed project while on this page\n    project(a, b) {\n      // Changed to no project, so redirect\n      if (!a && b) {\n        this.$router.replace({ name: 'c-cluster-legacy-project' } );\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <EmberPage\n    v-if=\"src\"\n    :src=\"src\"\n  />\n</template>\n"]}]}