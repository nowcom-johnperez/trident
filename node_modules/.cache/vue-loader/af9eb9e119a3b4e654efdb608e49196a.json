{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/nav/Type.vue?vue&type=style&index=0&id=4c933e29&lang=scss&scoped=true","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/nav/Type.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":1716430467357},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1716430467929},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/postcss-loader/src/index.js","mtime":1716430467882},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/sass-loader/dist/cjs.js","mtime":1716430453705},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5uYW1lc3BhY2VkIHsKICBtYXJnaW4tcmlnaHQ6IDRweDsKfQoKLmNoaWxkIHsKICBtYXJnaW46IDAgdmFyKC0tb3V0bGluZSkgMCAwOwoKICAubGFiZWwgewogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGdyaWQtYXJlYTogbGFiZWw7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CgogICAgJjpub3QoLm5hdi10eXBlKSAmLm5vLWljb24gewogICAgICBwYWRkaW5nLWxlZnQ6IDNweDsKICAgIH0KCiAgICA6OnYtZGVlcCAuaGlnaGxpZ2h0IHsKICAgICAgYmFja2dyb3VuZDogdmFyKC0tZGlmZi1pbnMtYmcpOwogICAgICBjb2xvcjogdmFyKC0tYm9keS10ZXh0KTsKICAgICAgcGFkZGluZzogMnB4OwogICAgfQoKICAgIDo6di1kZWVwIC5pY29uIHsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICBjb2xvcjogdmFyKC0tbXV0ZWQpOwogICAgfQogIH0KCiAgQSB7CiAgICBkaXNwbGF5OiBncmlkOwogICAgZ3JpZC10ZW1wbGF0ZS1hcmVhczogImxhYmVsIGNvdW50IjsKICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byBhdXRvOwogICAgZ3JpZC1jb2x1bW4tZ2FwOiA1cHg7CiAgICBmb250LXNpemU6IDE0cHg7CiAgICBsaW5lLWhlaWdodDogMjRweDsKICAgIHBhZGRpbmc6IDcuNXB4IDdweCA3LjVweCAxMHB4OwogICAgbWFyZ2luOiAwIDAgMCAtM3B4OwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIGNvbG9yOiB2YXIoLS1ib2R5LXRleHQpOwogICAgaGVpZ2h0OiAzM3B4OwoKICAgICY6aG92ZXIgewogICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1uYXYtaG92ZXIpOwogICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CgogICAgICA6OnYtZGVlcCAuaWNvbiB7CiAgICAgICAgY29sb3I6IHZhcigtLWJvZHktdGV4dCk7CiAgICAgIH0KICAgIH0KICB9CgogIC5mYXZvcml0ZSB7CiAgICBncmlkLWFyZWE6IGZhdm9yaXRlOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIG1hcmdpbi1yaWdodDogNHB4OwogIH0KCiAgLmNvdW50IHsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjsKICAgIHBhZGRpbmctcmlnaHQ6IDRweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogIH0KCiAgJi5uYXYtdHlwZTpub3QoLmRlcHRoLTApIHsKICAgIEEgewogICAgICBwYWRkaW5nLWxlZnQ6IDE2cHg7CiAgICB9CgogICAgOjp2LWRlZXAgLmxhYmVsIEkgewogICAgICBwYWRkaW5nLXJpZ2h0OiAycHg7CiAgICB9CiAgfQoKICAmLm5hdi10eXBlOmlzKC5kZXB0aC0xKSB7CiAgICBBIHsKICAgICAgZm9udC1zaXplOiAxM3B4OwogICAgICBwYWRkaW5nLWxlZnQ6IDIzcHg7CiAgICB9CiAgfQoKICAmLm5hdi10eXBlOm5vdCguZGVwdGgtMCk6bm90KC5kZXB0aC0xKSB7CiAgICBBIHsKICAgICAgcGFkZGluZy1sZWZ0OiAxNHB4OwogICAgfQogIH0KfQoK"},{"version":3,"sources":["Type.vue"],"names":[],"mappings":";AA+RA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Type.vue","sourceRoot":"node_modules/@rancher/shell/components/nav","sourcesContent":["<script>\nimport Favorite from '@shell/components/nav/Favorite';\nimport { FAVORITE, USED } from '@shell/store/type-map';\nimport { linkActiveClass } from '@shell/config/router';\n\nconst showFavoritesFor = [FAVORITE, USED];\n\nexport default {\n\n  components: { Favorite },\n\n  props: {\n    type: {\n      type:     Object,\n      required: true\n    },\n\n    isRoot: {\n      type:    Boolean,\n      default: false,\n    },\n\n    depth: {\n      type:    Number,\n      default: 0,\n    },\n  },\n\n  data() {\n    return {\n      near:     false,\n      over:     false,\n      menuPath: this.type.route ? this.$router.resolve(this.type.route)?.route?.path : undefined,\n      linkActiveClass\n    };\n  },\n\n  computed: {\n    isCurrent() {\n      // This is required to avoid scenarios where fragments break vue routers location matching\n      // For example, the following fails\n      // Curruent Path /c/c-m-hzqf4tqt/explorer/members#project-membership\n      // Menu Path /c/c-m-hzqf4tqt/explorer/members\n      // vue-router exact-path=\"true\" fixes this (https://v3.router.vuejs.org/api/#exact-path),\n      // but fails when the the current path is a child (for instance a resource detail page)\n\n      // Scenarios to consider\n      // - Fragement world\n      //   Curruent Path /c/c-m-hzqf4tqt/explorer/members#project-membership\n      //   Menu Path /c/c-m-hzqf4tqt/explorer/members\n      // - Similar current paths\n      //   /c/c-m-hzqf4tqt/fleet/fleet.cattle.io.bundlenamespacemapping\n      //   /c/c-m-hzqf4tqt/fleet/fleet.cattle.io.bundle\n      // - Other menu items that appear in current menu item\n      //   /c/c-m-hzqf4tqt/fleet\n      //   /c/c-m-hzqf4tqt/fleet/management.cattle.io.fleetworkspace\n\n      // If there's no hash the n-link will determine it's linkActiveClass correctly, so avoid this faff\n      const invalidHash = !this.$route.hash;\n      // Lets be super safe\n      const invalidProps = !this.menuPath || !this.$route.path;\n\n      if (invalidHash || invalidProps) {\n        return false;\n      }\n\n      // We're kind of, but in a fixing way, copying n-link --> vue-router link see vue-router/src/components/link.js & vue-router/src/util/route.js\n      // We're only going to compare the path and ignore query and fragment\n\n      if (this.type.exact) {\n        return this.$route.path === this.menuPath;\n      }\n\n      const currentPath = this.$route.path.split('/');\n      const menuPath = this.menuPath.split('/');\n\n      if (menuPath.length > currentPath.length) {\n        return false;\n      }\n\n      for (let i = 0; i < menuPath.length; i++) {\n        if (menuPath[i] !== currentPath[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    showFavorite() {\n      return ( this.type.mode && this.near && showFavoritesFor.includes(this.type.mode) );\n    },\n\n    showCount() {\n      return typeof this.type.count !== 'undefined';\n    },\n\n    namespaceIcon() {\n      return this.type.namespaced;\n    },\n  },\n\n  methods: {\n    setNear(val) {\n      this.near = val;\n    },\n\n    setOver(val) {\n      this.over = val;\n    },\n\n    removeFavorite() {\n      this.$store.dispatch('type-map/removeFavorite', this.type.name);\n    },\n\n    selectType() {\n      // Prevent issues if custom NavLink is used #5047\n      if (this.type?.route) {\n        const typePath = this.$router.resolve(this.type.route)?.route?.fullPath;\n\n        if (typePath !== this.$route.fullPath) {\n          this.$emit('selected');\n        }\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <n-link\n    v-if=\"type.route\"\n    :key=\"type.name\"\n    :to=\"type.route\"\n    tag=\"li\"\n    class=\"child nav-type\"\n    :class=\"{'root': isRoot, [`depth-${depth}`]: true, [linkActiveClass]: isCurrent}\"\n    :exact=\"type.exact\"\n  >\n    <a\n      @click=\"selectType\"\n      @mouseenter=\"setNear(true)\"\n      @mouseleave=\"setNear(false)\"\n    >\n      <span\n        v-if=\"type.labelKey\"\n        class=\"label\"\n      ><t :k=\"type.labelKey\" /></span>\n      <span\n        v-else\n        v-clean-html=\"type.labelDisplay || type.label\"\n        class=\"label\"\n        :class=\"{'no-icon': !type.icon}\"\n      />\n      <span\n        v-if=\"showFavorite || showCount\"\n        class=\"count\"\n      >\n        <Favorite\n          v-if=\"showFavorite\"\n          :resource=\"type.name\"\n        />\n        <i\n          v-if=\"namespaceIcon\"\n          class=\"icon icon-namespace namespaced\"\n        />\n        {{ type.count }}\n      </span>\n    </a>\n  </n-link>\n  <li\n    v-else-if=\"type.link\"\n    class=\"child nav-type\"\n  >\n    <a\n      :href=\"type.link\"\n      :target=\"type.target\"\n      rel=\"noopener noreferrer nofollow\"\n      @click=\"selectType\"\n      @mouseenter=\"setNear(true)\"\n      @mouseleave=\"setNear(false)\"\n    >\n      <span class=\"label\">{{ type.label }}&nbsp;<i class=\"icon icon-external-link\" /></span>\n    </a>\n  </li>\n  <li v-else>\n    {{ type }}?\n  </li>\n</template>\n\n<style lang=\"scss\" scoped>\n  .namespaced {\n    margin-right: 4px;\n  }\n\n  .child {\n    margin: 0 var(--outline) 0 0;\n\n    .label {\n      align-items: center;\n      grid-area: label;\n      overflow: hidden;\n      text-overflow: ellipsis;\n\n      &:not(.nav-type) &.no-icon {\n        padding-left: 3px;\n      }\n\n      ::v-deep .highlight {\n        background: var(--diff-ins-bg);\n        color: var(--body-text);\n        padding: 2px;\n      }\n\n      ::v-deep .icon {\n        position: relative;\n        color: var(--muted);\n      }\n    }\n\n    A {\n      display: grid;\n      grid-template-areas: \"label count\";\n      grid-template-columns: auto auto;\n      grid-column-gap: 5px;\n      font-size: 14px;\n      line-height: 24px;\n      padding: 7.5px 7px 7.5px 10px;\n      margin: 0 0 0 -3px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      color: var(--body-text);\n      height: 33px;\n\n      &:hover {\n        background: var(--nav-hover);\n        text-decoration: none;\n\n        ::v-deep .icon {\n          color: var(--body-text);\n        }\n      }\n    }\n\n    .favorite {\n      grid-area: favorite;\n      font-size: 12px;\n      position: relative;\n      vertical-align: middle;\n      margin-right: 4px;\n    }\n\n    .count {\n      font-size: 12px;\n      justify-items: center;\n      padding-right: 4px;\n      display: flex;\n      align-items: center;\n    }\n\n    &.nav-type:not(.depth-0) {\n      A {\n        padding-left: 16px;\n      }\n\n      ::v-deep .label I {\n        padding-right: 2px;\n      }\n    }\n\n    &.nav-type:is(.depth-1) {\n      A {\n        font-size: 13px;\n        padding-left: 23px;\n      }\n    }\n\n    &.nav-type:not(.depth-0):not(.depth-1) {\n      A {\n        padding-left: 14px;\n      }\n    }\n  }\n\n</style>\n"]}]}