{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/management.cattle.io.clusterroletemplatebinding.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/management.cattle.io.clusterroletemplatebinding.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsNCmltcG9ydCBDcnVSZXNvdXJjZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DcnVSZXNvdXJjZSc7DQppbXBvcnQgeyBNQU5BR0VNRU5UIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7DQppbXBvcnQgTG9hZGluZyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Mb2FkaW5nJzsNCmltcG9ydCBDbHVzdGVyUGVybWlzc2lvbnNFZGl0b3IgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9NZW1iZXJzL0NsdXN0ZXJQZXJtaXNzaW9uc0VkaXRvcic7DQppbXBvcnQgeyBleGNlcHRpb25Ub0Vycm9yc0FycmF5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2Vycm9yJzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgQ2x1c3RlclBlcm1pc3Npb25zRWRpdG9yLA0KICAgIENydVJlc291cmNlLA0KICAgIExvYWRpbmcsDQogIH0sDQoNCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLA0KICBhc3luYyBmZXRjaCgpIHsNCiAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgeyB0eXBlOiBNQU5BR0VNRU5ULlVTRVIgfSk7DQogICAgdGhpcy5yb2xlVGVtcGxhdGVzID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvZmluZEFsbCcsIHsgdHlwZTogTUFOQUdFTUVOVC5ST0xFX1RFTVBMQVRFIH0pOw0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7IGJpbmRpbmdzOiBbXSwgZXJyb3JzOiBbXSB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGRvbmVMb2NhdGlvbk92ZXJyaWRlKCkgew0KICAgICAgcmV0dXJuIHRoaXMudmFsdWUubGlzdExvY2F0aW9uOw0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBzYXZlT3ZlcnJpZGUoYnRuQ2IpIHsNCiAgICAgIHRoaXMuZXJyb3JzID0gW107DQogICAgICB0cnkgew0KICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmJpbmRpbmdzLm1hcCgoYmluZGluZykgPT4gYmluZGluZy5zYXZlKCkpKTsNCg0KICAgICAgICBidG5DYih0cnVlKTsNCiAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICB0aGlzLmVycm9ycyA9IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXkoZXJyKTsNCiAgICAgICAgYnRuQ2IoZmFsc2UpOw0KDQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UodGhpcy52YWx1ZS5saXN0TG9jYXRpb24pOw0KICAgIH0NCiAgfQ0KfTsNCg0K"},{"version":3,"sources":["management.cattle.io.clusterroletemplatebinding.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"management.cattle.io.clusterroletemplatebinding.vue","sourceRoot":"node_modules/@rancher/shell/edit","sourcesContent":["<script>\r\nimport CreateEditView from '@shell/mixins/create-edit-view';\r\nimport CruResource from '@shell/components/CruResource';\r\nimport { MANAGEMENT } from '@shell/config/types';\r\nimport Loading from '@shell/components/Loading';\r\nimport ClusterPermissionsEditor from '@shell/components/form/Members/ClusterPermissionsEditor';\r\nimport { exceptionToErrorsArray } from '@shell/utils/error';\r\n\r\nexport default {\r\n  components: {\r\n    ClusterPermissionsEditor,\r\n    CruResource,\r\n    Loading,\r\n  },\r\n\r\n  mixins: [CreateEditView],\r\n  async fetch() {\r\n    await this.$store.dispatch('management/findAll', { type: MANAGEMENT.USER });\r\n    this.roleTemplates = await this.$store.dispatch('management/findAll', { type: MANAGEMENT.ROLE_TEMPLATE });\r\n  },\r\n  data() {\r\n    return { bindings: [], errors: [] };\r\n  },\r\n  computed: {\r\n    doneLocationOverride() {\r\n      return this.value.listLocation;\r\n    },\r\n  },\r\n  methods: {\r\n    async saveOverride(btnCb) {\r\n      this.errors = [];\r\n      try {\r\n        await Promise.all(this.bindings.map((binding) => binding.save()));\r\n\r\n        btnCb(true);\r\n      } catch (err) {\r\n        this.errors = exceptionToErrorsArray(err);\r\n        btnCb(false);\r\n\r\n        return;\r\n      }\r\n\r\n      this.$router.replace(this.value.listLocation);\r\n    }\r\n  }\r\n};\r\n\r\n</script>\r\n\r\n<template>\r\n  <Loading v-if=\"$fetchState.pending\" />\r\n  <CruResource\r\n    v-else\r\n    class=\"cluster-role-template-binding\"\r\n    :errors=\"errors\"\r\n    :mode=\"mode\"\r\n    :resource=\"value\"\r\n    :subtypes=\"[]\"\r\n    :can-yaml=\"false\"\r\n    :validation-passed=\"bindings.length > 0\"\r\n    @error=\"e=>errors = e\"\r\n    @finish=\"saveOverride\"\r\n    @cancel=\"done\"\r\n  >\r\n    <ClusterPermissionsEditor\r\n      v-model=\"bindings\"\r\n      :cluster-name=\"$store.getters['currentCluster'].id\"\r\n    />\r\n  </CruResource>\r\n</template>\r\n"]}]}