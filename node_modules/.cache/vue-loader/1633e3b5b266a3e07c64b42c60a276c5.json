{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/list/helm.cattle.io.projecthelmchart.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/list/helm.cattle.io.projecthelmchart.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBSZXNvdXJjZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlVGFibGUnOwppbXBvcnQgTWFzdGhlYWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VMaXN0L01hc3RoZWFkJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IHsgSEVMTSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgUmVzb3VyY2VGZXRjaCBmcm9tICdAc2hlbGwvbWl4aW5zL3Jlc291cmNlLWZldGNoJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBSZXNvdXJjZVRhYmxlLCBNYXN0aGVhZCwgQmFubmVyCiAgfSwKICBtaXhpbnM6IFtSZXNvdXJjZUZldGNoXSwKICBwcm9wczogIHsKICAgIHJlc291cmNlOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICBsb2FkSW5kZXRlcm1pbmF0ZTogewogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKCiAgICBpbmNyZW1lbnRhbExvYWRpbmdJbmRpY2F0b3I6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCgogICAgdXNlUXVlcnlQYXJhbXNGb3JTaW1wbGVGaWx0ZXJpbmc6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGFzeW5jIGZldGNoKCkgewogICAgdGhpcy5wcm9qZWN0SGVsbUNoYXJ0U2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXShIRUxNLlBST0pFQ1RIRUxNQ0hBUlQpOwogICAgYXdhaXQgdGhpcy4kZmV0Y2hUeXBlKEhFTE0uUFJPSkVDVEhFTE1DSEFSVCk7CgogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3R5cGUtbWFwL2NvbmZpZ3VyZVR5cGUnLCB7IG1hdGNoOiBIRUxNLlBST0pFQ1RIRUxNQ0hBUlQsIGlzQ3JlYXRhYmxlOiB0cnVlIH0pOwogICAgdGhpcy5oZWFkZXJzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaGVhZGVyc0ZvciddKHRoaXMucHJvamVjdEhlbG1DaGFydFNjaGVtYSkubWFwKChoZWFkZXIpID0+IHsKICAgICAgaWYgKGhlYWRlci5uYW1lID09PSAnbmFtZScpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgLi4uaGVhZGVyLCB2YWx1ZTogJ3Byb2plY3REaXNwbGF5TmFtZScsIGxhYmVsS2V5OiAndGFibGVIZWFkZXJzLnByb2plY3QnCiAgICAgICAgfTsKICAgICAgfQogICAgICBpZiAoaGVhZGVyLm5hbWUgPT09ICduYW1lc3BhY2UnKSB7CiAgICAgICAgcmV0dXJuIHsgLi4uaGVhZGVyLCBsYWJlbEtleTogJ3RhYmxlSGVhZGVycy5yZWdpc3RyYXRpb25OYW1lc3BhY2UnIH07CiAgICAgIH0KCiAgICAgIHJldHVybiB7IC4uLmhlYWRlciB9OwogICAgfSkuZmlsdGVyKChoZWFkZXIpID0+IGhlYWRlci5uYW1lICE9PSAnc3lzdGVtIG5hbWVzcGFjZScpOwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2plY3RIZWxtQ2hhcnRTY2hlbWE6IG51bGwsCiAgICAgIGhlYWRlcnM6ICAgICAgICAgICAgICAgIG51bGwsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhbkNyZWF0ZVByb2plY3RIZWxtQ2hhcnQoKSB7CiAgICAgIHJldHVybiAhISh0aGlzPy5wcm9qZWN0SGVsbUNoYXJ0U2NoZW1hPy5jb2xsZWN0aW9uTWV0aG9kcyB8fCBbXSkuZmluZCgobWV0aG9kKSA9PiBtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gJ3Bvc3QnKTsKICAgIH0KCiAgfQp9Owo="},{"version":3,"sources":["helm.cattle.io.projecthelmchart.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"helm.cattle.io.projecthelmchart.vue","sourceRoot":"node_modules/@rancher/shell/list","sourcesContent":["<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Masthead from '@shell/components/ResourceList/Masthead';\nimport { Banner } from '@components/Banner';\nimport { HELM } from '@shell/config/types';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\n\nexport default {\n  components: {\n    ResourceTable, Masthead, Banner\n  },\n  mixins: [ResourceFetch],\n  props:  {\n    resource: {\n      type:     String,\n      required: true,\n    },\n\n    loadIndeterminate: {\n      type:    Boolean,\n      default: false\n    },\n\n    incrementalLoadingIndicator: {\n      type:    Boolean,\n      default: false\n    },\n\n    useQueryParamsForSimpleFiltering: {\n      type:    Boolean,\n      default: false\n    }\n  },\n  async fetch() {\n    this.projectHelmChartSchema = this.$store.getters['cluster/schemaFor'](HELM.PROJECTHELMCHART);\n    await this.$fetchType(HELM.PROJECTHELMCHART);\n\n    this.$store.dispatch('type-map/configureType', { match: HELM.PROJECTHELMCHART, isCreatable: true });\n    this.headers = this.$store.getters['type-map/headersFor'](this.projectHelmChartSchema).map((header) => {\n      if (header.name === 'name') {\n        return {\n          ...header, value: 'projectDisplayName', labelKey: 'tableHeaders.project'\n        };\n      }\n      if (header.name === 'namespace') {\n        return { ...header, labelKey: 'tableHeaders.registrationNamespace' };\n      }\n\n      return { ...header };\n    }).filter((header) => header.name !== 'system namespace');\n  },\n  data() {\n    return {\n      projectHelmChartSchema: null,\n      headers:                null,\n    };\n  },\n  computed: {\n    canCreateProjectHelmChart() {\n      return !!(this?.projectHelmChartSchema?.collectionMethods || []).find((method) => method.toLowerCase() === 'post');\n    }\n\n  }\n};\n</script>\n\n<template>\n  <div>\n    <Masthead\n      :schema=\"projectHelmChartSchema\"\n      :resource=\"resource\"\n      :show-incremental-loading-indicator=\"incrementalLoadingIndicator\"\n      :load-resources=\"loadResources\"\n      :load-indeterminate=\"loadIndeterminate\"\n      :is-creatable=\"canCreateProjectHelmChart\"\n    />\n    <Banner\n      color=\"info\"\n      :label=\"t('monitoring.projectMonitoring.list.banner')\"\n    />\n    <!-- ToDo: figure out how to get this centered in the empty space -->\n    <div\n      v-if=\"rows.length === 0 && !loading\"\n      class=\"empty-list\"\n    >\n      <div class=\"message\">\n        <i class=\"icon icon-monitoring icon-10x icon-grey\" />\n        <div class=\"text-large\">\n          {{ t('monitoring.projectMonitoring.list.empty.message') }}\n        </div>\n        <div\n          v-if=\"canCreateProjectHelmChart\"\n          class=\"text-large\"\n        >\n          {{ t('monitoring.projectMonitoring.list.empty.canCreate') }}\n        </div>\n        <div\n          v-else\n          class=\"text-large\"\n        >\n          {{ t('monitoring.projectMonitoring.list.empty.cannotCreate') }}\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <ResourceTable\n        :rows=\"rows\"\n        :headers=\"headers\"\n        :schema=\"projectHelmChartSchema\"\n        :loading=\"loading\"\n        :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n        key-field=\"_key\"\n        :groupable=\"false\"\n        :force-update-live-and-delayed=\"forceUpdateLiveAndDelayed\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.header{\n  display: flex;\n  H1{\n    flex: 1;\n  }\n}\n\n.empty-list {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 6em;\n  min-height: 100%;\n\n  .message {\n    display:flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: -5em;\n\n    .icon-10x {\n      font-size: 10em;\n    }\n\n    .icon-grey {\n      color: var(--darker);\n    }\n\n    .text-large {\n      font-size: 1.2em;\n      padding: 0.5em;\n    }\n  }\n}\n</style>\n"]}]}