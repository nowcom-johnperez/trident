{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/ClusterLink.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/ClusterLink.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGdldCB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgeyBpc0NvbmRpdGlvblJlYWR5QW5kV2FpdGluZyB9IGZyb20gJ0BzaGVsbC9wbHVnaW5zL2Rhc2hib2FyZC1zdG9yZS9yZXNvdXJjZS1jbGFzcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICByb3c6IHsKICAgICAgdHlwZTogICAgIE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICByZWZlcmVuY2U6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsLAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvKCkgewogICAgICBpZiAoIHRoaXMucm93ICYmIHRoaXMucmVmZXJlbmNlICkgewogICAgICAgIHJldHVybiBnZXQodGhpcy5yb3csIHRoaXMucmVmZXJlbmNlKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMucm93Py5kZXRhaWxMb2NhdGlvbjsKICAgIH0sCgogICAgc3RhdHVzRXJyb3JDb25kaXRpb25zKCkgewogICAgICBpZiAodGhpcy5yb3cuaGFzRXJyb3IpIHsKICAgICAgICByZXR1cm4gdGhpcy5yb3c/LnN0YXR1cy5jb25kaXRpb25zLmZpbHRlcigoY29uZCkgPT4gY29uZC5lcnJvciA9PT0gdHJ1ZSAmJiAhaXNDb25kaXRpb25SZWFkeUFuZFdhaXRpbmcoY29uZCkpOwogICAgICB9CgogICAgICByZXR1cm4gW107CiAgICB9LAoKICAgIGZvcm1hdHRlZENvbmRpdGlvbnMoKSB7CiAgICAgIGlmICh0aGlzLnJvdy5oYXNFcnJvcikgewogICAgICAgIGNvbnN0IGZpbHRlcmVkQ29uZGl0aW9ucyA9IHRoaXMuc3RhdHVzRXJyb3JDb25kaXRpb25zOwogICAgICAgIGNvbnN0IGZvcm1hdHRlZFRvb2x0aXAgPSBbXTsKCiAgICAgICAgZmlsdGVyZWRDb25kaXRpb25zCiAgICAgICAgICAuZm9yRWFjaCgoYykgPT4gewogICAgICAgICAgICBmb3JtYXR0ZWRUb29sdGlwLnB1c2goYDxwPiR7IFtjLnR5cGVdIH0gKCR7IGMuc3RhdHVzIH0pPC9wPmApOwogICAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBmb3JtYXR0ZWRUb29sdGlwLnRvU3RyaW5nKCkucmVwbGFjZUFsbCgnLCcsICcnKTsKICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfSwKICB9LAoKfTsKCg=="},{"version":3,"sources":["ClusterLink.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA","file":"ClusterLink.vue","sourceRoot":"node_modules/@rancher/shell/components/formatter","sourcesContent":["<script>\nimport { get } from '@shell/utils/object';\nimport { isConditionReadyAndWaiting } from '@shell/plugins/dashboard-store/resource-class';\n\nexport default {\n  props: {\n    value: {\n      type:    String,\n      default: ''\n    },\n    row: {\n      type:     Object,\n      required: true\n    },\n    reference: {\n      type:    String,\n      default: null,\n    }\n  },\n  computed: {\n    to() {\n      if ( this.row && this.reference ) {\n        return get(this.row, this.reference);\n      }\n\n      return this.row?.detailLocation;\n    },\n\n    statusErrorConditions() {\n      if (this.row.hasError) {\n        return this.row?.status.conditions.filter((cond) => cond.error === true && !isConditionReadyAndWaiting(cond));\n      }\n\n      return [];\n    },\n\n    formattedConditions() {\n      if (this.row.hasError) {\n        const filteredConditions = this.statusErrorConditions;\n        const formattedTooltip = [];\n\n        filteredConditions\n          .forEach((c) => {\n            formattedTooltip.push(`<p>${ [c.type] } (${ c.status })</p>`);\n          });\n\n        return formattedTooltip.toString().replaceAll(',', '');\n      }\n\n      return '';\n    },\n  },\n\n};\n\n</script>\n<template>\n  <span class=\"cluster-link\">\n    <n-link\n      v-if=\"to\"\n      :to=\"to\"\n    >\n      {{ value }}\n    </n-link>\n    <span v-else>{{ value }}</span>\n    <i\n      v-if=\"row.unavailableMachines\"\n      v-clean-tooltip=\"row.unavailableMachines\"\n      class=\"conditions-alert-icon icon-alert icon\"\n      data-testid=\"unavailable-machines-alert-icon\"\n    />\n    <i\n      v-if=\"row.rkeTemplateUpgrade\"\n      v-clean-tooltip=\"t('cluster.rkeTemplateUpgrade', { name: row.rkeTemplateUpgrade })\"\n      class=\"template-upgrade-icon icon-alert icon\"\n      data-testid=\"rke-template-upgrade-alert-icon\"\n    />\n    <i\n      v-if=\"row.hasError && statusErrorConditions.length > 0\"\n      v-clean-tooltip=\"{ content: `<div>${formattedConditions}</div>`, html: true }\"\n      class=\"conditions-alert-icon icon-error icon-lg\"\n      data-testid=\"conditions-has-error-icon\"\n    />\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n  .cluster-link {\n    display: flex;\n    align-items: center;\n  }\n  .conditions-alert-icon {\n    color: var(--error);\n    margin-left: 4px;\n  }\n  ::v-deep {\n    .labeled-tooltip, .status-icon {\n      position: relative;\n      display: inline;\n      left: auto;\n      right: auto;\n      top: 2px;\n      bottom: auto;\n    }\n  }\n  .mytooltip ul {\n    outline: 1px dashed red;\n  }\n  .template-upgrade-icon {\n    border: 1px solid var(--warning);\n    border-radius: 50%;\n    color: var(--warning);\n    margin-left: 4px;\n    font-size: 14px;\n    padding: 2px;\n  }\n</style>\n"]}]}