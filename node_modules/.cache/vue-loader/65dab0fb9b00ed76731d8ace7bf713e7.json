{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceList/Masthead.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/ResourceList/Masthead.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IEZhdm9yaXRlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL25hdi9GYXZvcml0ZSc7CmltcG9ydCBUeXBlRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVHlwZURlc2NyaXB0aW9uJzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IEFTLCBfWUFNTCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IFJlc291cmNlTG9hZGluZ0luZGljYXRvciBmcm9tICcuL1Jlc291cmNlTG9hZGluZ0luZGljYXRvcic7CgovKioKICogUmVzb3VyY2UgTGlzdCBNYXN0aGVhZCBjb21wb25lbnQuCiAqLwpleHBvcnQgZGVmYXVsdCB7CgogIG5hbWU6ICdNYXN0aGVhZFJlc291cmNlTGlzdCcsCgogIGNvbXBvbmVudHM6IHsKICAgIEZhdm9yaXRlLAogICAgVHlwZURlc2NyaXB0aW9uLAogICAgUmVzb3VyY2VMb2FkaW5nSW5kaWNhdG9yLAogIH0sCiAgcHJvcHM6IHsKICAgIHJlc291cmNlOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICAgIGZhdm9yaXRlUmVzb3VyY2U6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgc2NoZW1hOiB7CiAgICAgIHR5cGU6ICAgIE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCiAgICB0eXBlRGlzcGxheTogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogICAgaXNDcmVhdGFibGU6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCiAgICBpc1lhbWxDcmVhdGFibGU6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCiAgICBjcmVhdGVMb2NhdGlvbjogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogICAgeWFtbENyZWF0ZUxvY2F0aW9uOiB7CiAgICAgIHR5cGU6ICAgIE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCiAgICBjcmVhdGVCdXR0b25MYWJlbDogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBsb2FkUmVzb3VyY2VzOiB7CiAgICAgIHR5cGU6ICAgIEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfSwKCiAgICBsb2FkSW5kZXRlcm1pbmF0ZTogewogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKCiAgICBzaG93SW5jcmVtZW50YWxMb2FkaW5nSW5kaWNhdG9yOiB7CiAgICAgIHR5cGU6ICAgIEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAoKICAgIC8qKgogICAgICogSW5oZXJpdGVkIGdsb2JhbCBpZGVudGlmaWVyIHByZWZpeCBmb3IgdGVzdHMKICAgICAqIERlZmluZSBhIHRlcm0gYmFzZWQgb24gdGhlIHBhcmVudCBjb21wb25lbnQgdG8gYXZvaWQgY29uZmxpY3RzIG9uIG11bHRpcGxlIGNvbXBvbmVudHMKICAgICAqLwogICAgY29tcG9uZW50VGVzdGlkOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogJ21hc3RoZWFkJwogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICBjb25zdCBwYXJhbXMgPSB7IC4uLnRoaXMuJHJvdXRlLnBhcmFtcyB9OwoKICAgIGNvbnN0IGZvcm1Sb3V0ZSA9IHsgbmFtZTogYCR7IHRoaXMuJHJvdXRlLm5hbWUgfS1jcmVhdGVgLCBwYXJhbXMgfTsKCiAgICBjb25zdCBoYXNFZGl0Q29tcG9uZW50ID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaGFzQ3VzdG9tRWRpdCddKHRoaXMucmVzb3VyY2UpOwoKICAgIGNvbnN0IHlhbWxSb3V0ZSA9IHsKICAgICAgbmFtZTogIGAkeyB0aGlzLiRyb3V0ZS5uYW1lIH0tY3JlYXRlYCwKICAgICAgcGFyYW1zLAogICAgICBxdWVyeTogeyBbQVNdOiBfWUFNTCB9LAogICAgfTsKCiAgICByZXR1cm4gewogICAgICBmb3JtUm91dGUsCiAgICAgIHlhbWxSb3V0ZSwKICAgICAgaGFzRWRpdENvbXBvbmVudCwKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGdldCwKICAgIC4uLm1hcEdldHRlcnMoWydpc0V4cGxvcmVyJ10pLAoKICAgIHJlc291cmNlTmFtZSgpIHsKICAgICAgaWYgKHRoaXMuc2NoZW1hKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2xhYmVsRm9yJ10odGhpcy5zY2hlbWEpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZTsKICAgIH0sCgogICAgX3R5cGVEaXNwbGF5KCkgewogICAgICBpZiAoIHRoaXMudHlwZURpc3BsYXkgIT09IG51bGwpIHsKICAgICAgICByZXR1cm4gdGhpcy50eXBlRGlzcGxheTsKICAgICAgfQoKICAgICAgaWYgKCAhdGhpcy5zY2hlbWEgKSB7CiAgICAgICAgcmV0dXJuICc/JzsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2xhYmVsRm9yJ10odGhpcy5zY2hlbWEsIDk5KTsKICAgIH0sCgogICAgX2lzWWFtbENyZWF0YWJsZSgpIHsKICAgICAgaWYgKCB0aGlzLmlzWWFtbENyZWF0YWJsZSAhPT0gbnVsbCkgewogICAgICAgIHJldHVybiB0aGlzLmlzWWFtbENyZWF0YWJsZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hICYmIHRoaXMuX2lzQ3JlYXRhYmxlICYmIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL29wdGlvbnNGb3InXSh0aGlzLnJlc291cmNlKS5jYW5ZYW1sOwogICAgfSwKCiAgICBfaXNDcmVhdGFibGUoKSB7CiAgICAgIC8vIERvZXMgbm90IHRha2UgaW50byBhY2NvdW50IGhhc0VkaXRDb21wb25lbnQsIHN1Y2ggdGhhdCBfaXNZYW1sQ3JlYXRhYmxlIHdvcmtzCiAgICAgIGlmICggdGhpcy5pc0NyZWF0YWJsZSAhPT0gbnVsbCkgewogICAgICAgIHJldHVybiB0aGlzLmlzQ3JlYXRhYmxlOwogICAgICB9CgogICAgICAvLyBibG9ja2VkLXBvc3QgbWVhbnMgeW91IGNhbiBwb3N0IHRocm91Z2ggbm9ybWFuLCBidXQgbm90IHRocm91Z2ggc3RldmUuCiAgICAgIGlmICggdGhpcy5zY2hlbWEgJiYgIXRoaXMuc2NoZW1hPy5jb2xsZWN0aW9uTWV0aG9kcy5maW5kKCh4KSA9PiBbJ2Jsb2NrZWQtcG9zdCcsICdwb3N0J10uaW5jbHVkZXMoeC50b0xvd2VyQ2FzZSgpKSkgKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvb3B0aW9uc0ZvciddKHRoaXMucmVzb3VyY2UpLmlzQ3JlYXRhYmxlOwogICAgfSwKCiAgICBfY3JlYXRlTG9jYXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUxvY2F0aW9uIHx8IHRoaXMuZm9ybVJvdXRlOwogICAgfSwKCiAgICBfeWFtbENyZWF0ZUxvY2F0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy55YW1sQ3JlYXRlTG9jYXRpb24gfHwgdGhpcy55YW1sUm91dGU7CiAgICB9LAoKICAgIF9jcmVhdGVCdXR0b25sYWJlbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQnV0dG9uTGFiZWwgfHwgdGhpcy50KCdyZXNvdXJjZUxpc3QuaGVhZC5jcmVhdGUnKTsKICAgIH0KCiAgfSwKfTsK"},{"version":3,"sources":["Masthead.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"Masthead.vue","sourceRoot":"node_modules/@rancher/shell/components/ResourceList","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport Favorite from '@shell/components/nav/Favorite';\nimport TypeDescription from '@shell/components/TypeDescription';\nimport { get } from '@shell/utils/object';\nimport { AS, _YAML } from '@shell/config/query-params';\nimport ResourceLoadingIndicator from './ResourceLoadingIndicator';\n\n/**\n * Resource List Masthead component.\n */\nexport default {\n\n  name: 'MastheadResourceList',\n\n  components: {\n    Favorite,\n    TypeDescription,\n    ResourceLoadingIndicator,\n  },\n  props: {\n    resource: {\n      type:     String,\n      required: true,\n    },\n    favoriteResource: {\n      type:    String,\n      default: null\n    },\n    schema: {\n      type:    Object,\n      default: null,\n    },\n    typeDisplay: {\n      type:    String,\n      default: null,\n    },\n    isCreatable: {\n      type:    Boolean,\n      default: null,\n    },\n    isYamlCreatable: {\n      type:    Boolean,\n      default: null,\n    },\n    createLocation: {\n      type:    Object,\n      default: null,\n    },\n    yamlCreateLocation: {\n      type:    Object,\n      default: null,\n    },\n    createButtonLabel: {\n      type:    String,\n      default: null\n    },\n    loadResources: {\n      type:    Array,\n      default: () => []\n    },\n\n    loadIndeterminate: {\n      type:    Boolean,\n      default: false\n    },\n\n    showIncrementalLoadingIndicator: {\n      type:    Boolean,\n      default: false\n    },\n\n    /**\n     * Inherited global identifier prefix for tests\n     * Define a term based on the parent component to avoid conflicts on multiple components\n     */\n    componentTestid: {\n      type:    String,\n      default: 'masthead'\n    }\n  },\n\n  data() {\n    const params = { ...this.$route.params };\n\n    const formRoute = { name: `${ this.$route.name }-create`, params };\n\n    const hasEditComponent = this.$store.getters['type-map/hasCustomEdit'](this.resource);\n\n    const yamlRoute = {\n      name:  `${ this.$route.name }-create`,\n      params,\n      query: { [AS]: _YAML },\n    };\n\n    return {\n      formRoute,\n      yamlRoute,\n      hasEditComponent,\n    };\n  },\n\n  computed: {\n    get,\n    ...mapGetters(['isExplorer']),\n\n    resourceName() {\n      if (this.schema) {\n        return this.$store.getters['type-map/labelFor'](this.schema);\n      }\n\n      return this.resource;\n    },\n\n    _typeDisplay() {\n      if ( this.typeDisplay !== null) {\n        return this.typeDisplay;\n      }\n\n      if ( !this.schema ) {\n        return '?';\n      }\n\n      return this.$store.getters['type-map/labelFor'](this.schema, 99);\n    },\n\n    _isYamlCreatable() {\n      if ( this.isYamlCreatable !== null) {\n        return this.isYamlCreatable;\n      }\n\n      return this.schema && this._isCreatable && this.$store.getters['type-map/optionsFor'](this.resource).canYaml;\n    },\n\n    _isCreatable() {\n      // Does not take into account hasEditComponent, such that _isYamlCreatable works\n      if ( this.isCreatable !== null) {\n        return this.isCreatable;\n      }\n\n      // blocked-post means you can post through norman, but not through steve.\n      if ( this.schema && !this.schema?.collectionMethods.find((x) => ['blocked-post', 'post'].includes(x.toLowerCase())) ) {\n        return false;\n      }\n\n      return this.$store.getters['type-map/optionsFor'](this.resource).isCreatable;\n    },\n\n    _createLocation() {\n      return this.createLocation || this.formRoute;\n    },\n\n    _yamlCreateLocation() {\n      return this.yamlCreateLocation || this.yamlRoute;\n    },\n\n    _createButtonlabel() {\n      return this.createButtonLabel || this.t('resourceList.head.create');\n    }\n\n  },\n};\n</script>\n\n<template>\n  <header>\n    <slot name=\"typeDescription\">\n      <TypeDescription :resource=\"resource\" />\n    </slot>\n    <div class=\"title\">\n      <h1 class=\"m-0\">\n        {{ _typeDisplay }} <Favorite\n          v-if=\"isExplorer\"\n          :resource=\"favoriteResource || resource\"\n        />\n      </h1>\n      <ResourceLoadingIndicator\n        v-if=\"showIncrementalLoadingIndicator\"\n        :resources=\"loadResources\"\n        :indeterminate=\"loadIndeterminate\"\n      />\n    </div>\n    <div class=\"actions-container\">\n      <slot name=\"actions\">\n        <div class=\"actions\">\n          <slot name=\"extraActions\" />\n\n          <slot name=\"createButton\">\n            <n-link\n              v-if=\"hasEditComponent && _isCreatable\"\n              :to=\"_createLocation\"\n              class=\"btn role-primary\"\n              :data-testid=\"componentTestid+'-create'\"\n            >\n              {{ _createButtonlabel }}\n            </n-link>\n            <n-link\n              v-else-if=\"_isYamlCreatable\"\n              :to=\"_yamlCreateLocation\"\n              class=\"btn role-primary\"\n              :data-testid=\"componentTestid+'-create-yaml'\"\n            >\n              {{ t(\"resourceList.head.createFromYaml\") }}\n            </n-link>\n          </slot>\n        </div>\n      </slot>\n    </div>\n  </header>\n</template>\n\n<style lang=\"scss\" scoped>\n  .title {\n    align-items: center;\n    display: flex;\n    h1 {\n      margin: 0;\n    }\n  }\n\n  header {\n    margin-bottom: 20px;\n  }\n</style>\n"]}]}