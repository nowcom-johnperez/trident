{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/ShellInput.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/ShellInput.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IExhYmVsZWRJbnB1dCB9LAoKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9CiAgfSwKICAvKgogICAgICB1c2VyVmFsdWUgaXMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYXJncyBhcnJheSwgd2l0aCBzcGFjZXMgYmV0d2VlbiBlYWNoIGFycmF5IGl0ZW0gYW5kIHNpbmdsZSBxdW90ZXMgYXJvdW5kIGFueSBpdGVtcyB3aXRoIHdoaXRlc3BhY2UKICAgICAgdmFsdWUgaW5wdXQgb2YgWyItYyIsICJzbGVlcCA2MDAiXQogICAgICBpcyBkaXNwbGF5ZWQgYXM6ICItYyAnc2xlZXAgNjAwJyIKCiAgICAgIHVzZXIgaW5wdXQgb2YgIi1jICJzbGVlcCA2MDAiIiBvciAiLWMgJ3NsZWVwIDYwMCciCiAgICAgIGNhdXNlcyAkZW1pdCAnaW5wdXQnIG9mIFsiLWMiLCAic2xlZXAgNjAwIl0KICAqLwogIGRhdGEoKSB7CiAgICBsZXQgdXNlclZhbHVlID0gJyc7CgogICAgaWYgKCB0aGlzLnZhbHVlICkgewogICAgICB1c2VyVmFsdWUgPSB0aGlzLnZhbHVlLnJlZHVjZSgoc3RyLCBlYWNoKSA9PiB7CiAgICAgICAgaWYgKGVhY2guaW5jbHVkZXMoJyAnKSkgewogICAgICAgICAgc3RyICs9IGAnJHsgZWFjaCB9J2A7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0ciArPSBlYWNoOwogICAgICAgIH0KICAgICAgICBzdHIgKz0gJyAnOwoKICAgICAgICByZXR1cm4gc3RyOwogICAgICB9LCAnJykudHJpbSgpOwogICAgfQoKICAgIHJldHVybiB7IHVzZXJWYWx1ZSB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZSh1c2VyVmFsdWUpIHsKICAgICAgbGV0IG91dCA9IG51bGw7CgogICAgICBpZiAoIHVzZXJWYWx1ZSApIHsKICAgICAgICBvdXQgPSB1c2VyVmFsdWUubWF0Y2goLygnW14nXSsnKXwoIlteIl0rIil8XFMrL2cpLm1hcCgoc3RyaW5nKSA9PiBzdHJpbmcucmVwbGFjZSgvXid8JyR8XiJ8IiQvZywgJycpKTsKICAgICAgfQogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIG91dCk7CiAgICB9LAogIH0KfTsKCmV4cG9ydCBjb25zdCBPUFMgPSBbJ3x8JywgJyYmJywgJzs7JywgJ3wmJywgJyYnLCAnOycsICcoJywgJyknLCAnfCcsICc8JywgJz4nXTsKZXhwb3J0IGZ1bmN0aW9uIHJlb3AoeHMpIHsKICByZXR1cm4geHMubWFwKChzKSA9PiB7CiAgICBpZiAoIE9QUy5pbmNsdWRlcyhzKSApIHsKICAgICAgcmV0dXJuIHsgb3A6IHMgfTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBzOwogICAgfQogIH0pOwp9CgpleHBvcnQgZnVuY3Rpb24gdW5wYXJzZSh4cykgewogIHJldHVybiB4cy5tYXAoKHMpID0+IHsKICAgIGlmICggcyAmJiB0eXBlb2YgcyA9PT0gJ29iamVjdCcgKSB7CiAgICAgIGlmICggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsICdwYXR0ZXJuJykgKSB7CiAgICAgICAgcmV0dXJuIGAiJHsgcy5wYXR0ZXJuIH0iYDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gcy5vcDsKICAgICAgfQogICAgfSBlbHNlIGlmICggL1siXHNdLy50ZXN0KHMpICYmICEvJy8udGVzdChzKSApIHsKICAgICAgcmV0dXJuIGAnJHsgcy5yZXBsYWNlKC8oWydcXF0pL2csICdcXCQxJykgfSdgOwogICAgfSBlbHNlIGlmICggL1siJ1xzXS8udGVzdChzKSApIHsKICAgICAgcmV0dXJuIGAiJHsgcy5yZXBsYWNlKC8oWyJcXCRgIV0pL2csICdcXCQxJykgfSJgOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIFN0cmluZyhzKS5yZXBsYWNlKC8oW1xcJGAoKSEjJip8XSkvZywgJ1xcJDEnKTsKICAgIH0KICB9KS5qb2luKCcgJyk7Cn0KCg=="},{"version":3,"sources":["ShellInput.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShellInput.vue","sourceRoot":"node_modules/@rancher/shell/components/form","sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\n\nexport default {\n  components: { LabeledInput },\n\n  props: {\n    value: {\n      type:    Array,\n      default: null,\n    }\n  },\n  /*\n      userValue is a string representation of args array, with spaces between each array item and single quotes around any items with whitespace\n      value input of [\"-c\", \"sleep 600\"]\n      is displayed as: \"-c 'sleep 600'\"\n\n      user input of \"-c \"sleep 600\"\" or \"-c 'sleep 600'\"\n      causes $emit 'input' of [\"-c\", \"sleep 600\"]\n  */\n  data() {\n    let userValue = '';\n\n    if ( this.value ) {\n      userValue = this.value.reduce((str, each) => {\n        if (each.includes(' ')) {\n          str += `'${ each }'`;\n        } else {\n          str += each;\n        }\n        str += ' ';\n\n        return str;\n      }, '').trim();\n    }\n\n    return { userValue };\n  },\n\n  methods: {\n    update(userValue) {\n      let out = null;\n\n      if ( userValue ) {\n        out = userValue.match(/('[^']+')|(\"[^\"]+\")|\\S+/g).map((string) => string.replace(/^'|'$|^\"|\"$/g, ''));\n      }\n      this.$emit('input', out);\n    },\n  }\n};\n\nexport const OPS = ['||', '&&', ';;', '|&', '&', ';', '(', ')', '|', '<', '>'];\nexport function reop(xs) {\n  return xs.map((s) => {\n    if ( OPS.includes(s) ) {\n      return { op: s };\n    } else {\n      return s;\n    }\n  });\n}\n\nexport function unparse(xs) {\n  return xs.map((s) => {\n    if ( s && typeof s === 'object' ) {\n      if ( Object.prototype.hasOwnProperty.call(s, 'pattern') ) {\n        return `\"${ s.pattern }\"`;\n      } else {\n        return s.op;\n      }\n    } else if ( /[\"\\s]/.test(s) && !/'/.test(s) ) {\n      return `'${ s.replace(/(['\\\\])/g, '\\\\$1') }'`;\n    } else if ( /[\"'\\s]/.test(s) ) {\n      return `\"${ s.replace(/([\"\\\\$`!])/g, '\\\\$1') }\"`;\n    } else {\n      return String(s).replace(/([\\\\$`()!#&*|])/g, '\\\\$1');\n    }\n  }).join(' ');\n}\n\n</script>\n\n<template>\n  <LabeledInput\n    v-model=\"userValue\"\n    v-bind=\"$attrs\"\n    @input=\"update($event)\"\n  />\n</template>\n"]}]}