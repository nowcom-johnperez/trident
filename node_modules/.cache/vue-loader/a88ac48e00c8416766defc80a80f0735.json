{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/networking.k8s.io.networkpolicy/PolicyRules.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/networking.k8s.io.networkpolicy/PolicyRules.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgppbXBvcnQgUG9saWN5UnVsZSBmcm9tICdAc2hlbGwvZWRpdC9uZXR3b3JraW5nLms4cy5pby5uZXR3b3JrcG9saWN5L1BvbGljeVJ1bGUnOwppbXBvcnQgeyBfRURJVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IFRhYiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQvVGFiJzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgeyByZW1vdmVBdCB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUG9saWN5UnVsZSwgVGFiYmVkLCBUYWIKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgfQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBfRURJVAogICAgfSwKICAgIHR5cGU6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiAnaW5ncmVzcycKICAgIH0sCiAgICBhbGxQb2RzOiB7CiAgICAgIHR5cGU6ICAgIEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9LAogICAgfSwKICAgIGFsbE5hbWVzcGFjZXM6IHsKICAgICAgdHlwZTogICAgQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0sCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIGlmICghdGhpcy52YWx1ZS5zcGVjW3RoaXMudHlwZV0pIHsKICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYywgdGhpcy50eXBlLCBbXSk7CiAgICB9CgogICAgcmV0dXJuIHt9OwogIH0sCiAgbWV0aG9kczogewogICAgYWRkUG9saWN5UnVsZSgpIHsKICAgICAgdGhpcy52YWx1ZS5zcGVjW3RoaXMudHlwZV0ucHVzaCh7fSk7CiAgICB9LAogICAgcmVtb3ZlUG9saWN5UnVsZShpZHgpIHsKICAgICAgcmVtb3ZlQXQodGhpcy52YWx1ZS5zcGVjW3RoaXMudHlwZV0sIGlkeCk7CiAgICB9LAogICAgcG9saWN5Um91bGVMYWJlbChpZHgpIHsKICAgICAgcmV0dXJuIHRoaXMudCgnbmV0d29ya3BvbGljeS5ydWxlcy5ydWxlTGFiZWwnLCB7IGluZGV4OiBpZHggKyAxIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["PolicyRules.vue"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PolicyRules.vue","sourceRoot":"node_modules/@rancher/shell/edit/networking.k8s.io.networkpolicy","sourcesContent":["<script>\n\nimport PolicyRule from '@shell/edit/networking.k8s.io.networkpolicy/PolicyRule';\nimport { _EDIT } from '@shell/config/query-params';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Tabbed from '@shell/components/Tabbed';\nimport { removeAt } from '@shell/utils/array';\n\nexport default {\n  components: {\n    PolicyRule, Tabbed, Tab\n  },\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n      }\n    },\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n    type: {\n      type:    String,\n      default: 'ingress'\n    },\n    allPods: {\n      type:    Array,\n      default: () => {\n        return [];\n      },\n    },\n    allNamespaces: {\n      type:    Array,\n      default: () => {\n        return [];\n      },\n    },\n  },\n  data() {\n    if (!this.value.spec[this.type]) {\n      this.$set(this.value.spec, this.type, []);\n    }\n\n    return {};\n  },\n  methods: {\n    addPolicyRule() {\n      this.value.spec[this.type].push({});\n    },\n    removePolicyRule(idx) {\n      removeAt(this.value.spec[this.type], idx);\n    },\n    policyRouleLabel(idx) {\n      return this.t('networkpolicy.rules.ruleLabel', { index: idx + 1 });\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-40\">\n      <div class=\"col span-12\">\n        <Tabbed\n          :side-tabs=\"true\"\n          :show-tabs-add-remove=\"mode !== 'view'\"\n          @addTab=\"addPolicyRule\"\n          @removeTab=\"removePolicyRule\"\n        >\n          <Tab\n            v-for=\"(policyRule, idx) in value.spec[type]\"\n            :key=\"'filtered-rule-' + type + idx\"\n            :name=\"'rule-' + type + idx\"\n            :label=\"policyRouleLabel(idx)\"\n            :show-header=\"false\"\n            class=\"container-group\"\n          >\n            <PolicyRule\n              ref=\"lastRule\"\n              v-model=\"value.spec[type][idx]\"\n              :mode=\"mode\"\n              :type=\"type\"\n              :namespace=\"value.metadata.namespace\"\n              :all-namespaces=\"allNamespaces\"\n              :all-pods=\"allPods\"\n            />\n          </Tab>\n        </Tabbed>\n      </div>\n    </div>\n  </div>\n</template>\n"]}]}