{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/Command.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/Command.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKCmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IFNoZWxsSW5wdXQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9TaGVsbElucHV0JzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IEVudlZhcnMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9FbnZWYXJzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMYWJlbGVkSW5wdXQsCiAgICBTaGVsbElucHV0LAogICAgTGFiZWxlZFNlbGVjdCwKICAgIENoZWNrYm94LAogICAgRW52VmFycywKICB9LAoKICBwcm9wczogewogICAgbW9kZTogewogICAgICB0eXBlOiAgICAgU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgICBjb25maWdNYXBzOiB7CiAgICAgIHR5cGU6ICAgIEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXSwKICAgIH0sCiAgICBzZWNyZXRzOiB7CiAgICAgIHR5cGU6ICAgIEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXSwKICAgIH0sCiAgICAvLyBjb250YWluZXIgc3BlYwogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9LAogICAgfSwKICAgIGxvYWRpbmc6IHsKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgIHR5cGU6ICAgIEJvb2xlYW4KICAgIH0sCiAgfSwKCiAgZGF0YSgpIHsKICAgIGNvbnN0IHsKICAgICAgY29tbWFuZCwKICAgICAgYXJncywKICAgICAgd29ya2luZ0RpciwKICAgICAgc3RkaW4gPSBmYWxzZSwKICAgICAgc3RkaW5PbmNlID0gZmFsc2UsCiAgICAgIHR0eSA9IGZhbHNlLAogICAgfSA9IHRoaXMudmFsdWU7CgogICAgcmV0dXJuIHsKICAgICAgYXJncywKICAgICAgY29tbWFuZCwKICAgICAgY29tbWFuZE9wdGlvbnM6IFsnTm8nLCAnT25jZScsICdZZXMnXSwKICAgICAgc3RkaW4sCiAgICAgIHN0ZGluT25jZSwKICAgICAgdHR5LAogICAgICB3b3JraW5nRGlyLAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgc3RkaW5TZWxlY3Q6IHsKICAgICAgZ2V0KCkgewogICAgICAgIGlmICh0aGlzLnN0ZGluKSB7CiAgICAgICAgICBpZiAodGhpcy5zdGRpbk9uY2UpIHsKICAgICAgICAgICAgcmV0dXJuICdPbmNlJzsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gJ1llcyc7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJ05vJzsKICAgICAgfSwKICAgICAgc2V0KG5ldSkgewogICAgICAgIHN3aXRjaCAobmV1KSB7CiAgICAgICAgY2FzZSAnWWVzJzoKICAgICAgICAgIHRoaXMuc3RkaW4gPSB0cnVlOwogICAgICAgICAgdGhpcy5zdGRpbk9uY2UgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ09uY2UnOgogICAgICAgICAgdGhpcy5zdGRpbiA9IHRydWU7CiAgICAgICAgICB0aGlzLnN0ZGluT25jZSA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhpcy5zdGRpbiA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zdGRpbk9uY2UgPSBmYWxzZTsKICAgICAgICAgIHRoaXMudHR5ID0gZmFsc2U7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZSgpIHsKICAgICAgY29uc3Qgb3V0ID0gewogICAgICAgIHN0ZGluOiAgICAgIHRoaXMuc3RkaW4sCiAgICAgICAgc3RkaW5PbmNlOiAgdGhpcy5zdGRpbk9uY2UsCiAgICAgICAgY29tbWFuZDogICAgdGhpcy5jb21tYW5kLAogICAgICAgIGFyZ3M6ICAgICAgIHRoaXMuYXJncywKICAgICAgICB3b3JraW5nRGlyOiB0aGlzLndvcmtpbmdEaXIsCiAgICAgICAgdHR5OiAgICAgICAgdGhpcy50dHksCiAgICAgIH07CgogICAgICBmb3IgKGNvbnN0IHByb3AgaW4gb3V0KSB7CiAgICAgICAgY29uc3QgdmFsID0gb3V0W3Byb3BdOwoKICAgICAgICBpZiAodmFsID09PSAnJyB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJyB8fCB2YWwgPT09IG51bGwpIHsKICAgICAgICAgIFZ1ZS5kZWxldGUodGhpcy52YWx1ZSwgcHJvcCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFZ1ZS5zZXQodGhpcy52YWx1ZSwgcHJvcCwgdmFsKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy52YWx1ZSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Command.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Command.vue","sourceRoot":"node_modules/@rancher/shell/components/form","sourcesContent":["<script>\nimport Vue from 'vue';\n\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport ShellInput from '@shell/components/form/ShellInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport EnvVars from '@shell/components/form/EnvVars';\n\nexport default {\n  components: {\n    LabeledInput,\n    ShellInput,\n    LabeledSelect,\n    Checkbox,\n    EnvVars,\n  },\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n    configMaps: {\n      type:    Array,\n      default: () => [],\n    },\n    secrets: {\n      type:    Array,\n      default: () => [],\n    },\n    // container spec\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      },\n    },\n    loading: {\n      default: false,\n      type:    Boolean\n    },\n  },\n\n  data() {\n    const {\n      command,\n      args,\n      workingDir,\n      stdin = false,\n      stdinOnce = false,\n      tty = false,\n    } = this.value;\n\n    return {\n      args,\n      command,\n      commandOptions: ['No', 'Once', 'Yes'],\n      stdin,\n      stdinOnce,\n      tty,\n      workingDir,\n    };\n  },\n\n  computed: {\n    stdinSelect: {\n      get() {\n        if (this.stdin) {\n          if (this.stdinOnce) {\n            return 'Once';\n          }\n\n          return 'Yes';\n        }\n\n        return 'No';\n      },\n      set(neu) {\n        switch (neu) {\n        case 'Yes':\n          this.stdin = true;\n          this.stdinOnce = false;\n          break;\n        case 'Once':\n          this.stdin = true;\n          this.stdinOnce = true;\n          break;\n        default:\n          this.stdin = false;\n          this.stdinOnce = false;\n          this.tty = false;\n          break;\n        }\n      },\n    },\n  },\n\n  methods: {\n    update() {\n      const out = {\n        stdin:      this.stdin,\n        stdinOnce:  this.stdinOnce,\n        command:    this.command,\n        args:       this.args,\n        workingDir: this.workingDir,\n        tty:        this.tty,\n      };\n\n      for (const prop in out) {\n        const val = out[prop];\n\n        if (val === '' || typeof val === 'undefined' || val === null) {\n          Vue.delete(this.value, prop);\n        } else {\n          Vue.set(this.value, prop, val);\n        }\n      }\n\n      this.$emit('input', this.value);\n    },\n  },\n};\n</script>\n<template>\n  <div>\n    <div class=\"row\">\n      <div\n        class=\"col span-6\"\n        data-testid=\"input-command-command\"\n      >\n        <slot name=\"entrypoint\">\n          <ShellInput\n            v-model=\"command\"\n            :mode=\"mode\"\n            :label=\"t('workload.container.command.command')\"\n            :placeholder=\"t('generic.placeholder', {text: '/bin/sh'}, true)\"\n            @input=\"update\"\n          />\n        </slot>\n      </div>\n      <div\n        class=\"col span-6\"\n        data-testid=\"input-command-args\"\n      >\n        <slot name=\"command\">\n          <ShellInput\n            v-model=\"args\"\n            :mode=\"mode\"\n            :label=\"t('workload.container.command.args')\"\n            :placeholder=\"t('generic.placeholder', {text: '/usr/sbin/httpd -f httpd.conf'}, true)\"\n            @input=\"update\"\n          />\n        </slot>\n      </div>\n    </div>\n\n    <div class=\"row mt-20\">\n      <div\n        class=\"col span-6\"\n        data-testid=\"input-command-workingDir\"\n      >\n        <LabeledInput\n          v-model=\"workingDir\"\n          :mode=\"mode\"\n          :label=\"t('workload.container.command.workingDir')\"\n          :placeholder=\"t('generic.placeholder', {text: '/myapp'}, true)\"\n          @input=\"update\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <div\n          :style=\"{ 'align-items': 'center' }\"\n          class=\"row\"\n        >\n          <div\n            class=\"col span-6\"\n            data-testid=\"input-command-stdin\"\n          >\n            <LabeledSelect\n              v-model=\"stdinSelect\"\n              :label=\"t('workload.container.command.stdin')\"\n              :options=\"commandOptions\"\n              :mode=\"mode\"\n              @input=\"update\"\n            />\n          </div>\n          <div\n            v-if=\"stdin\"\n            class=\"col span-6\"\n            data-testid=\"input-command-tty\"\n          >\n            <Checkbox\n              v-model=\"tty\"\n              :mode=\"mode\"\n              :label=\"t('workload.container.command.tty')\"\n              @input=\"update\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"spacer\" />\n    <h3>{{ t('workload.container.titles.env') }}</h3>\n    <EnvVars\n      :mode=\"mode\"\n      :config-maps=\"configMaps\"\n      :secrets=\"secrets\"\n      :value=\"value\"\n      :loading=\"loading\"\n    />\n  </div>\n</template>\n"]}]}