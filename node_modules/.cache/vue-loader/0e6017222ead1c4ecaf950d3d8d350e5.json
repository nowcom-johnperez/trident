{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SideNav.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SideNav.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnOwppbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7CiAgbWFwUHJlZiwKICBGQVZPUklURV9UWVBFUwp9IGZyb20gJ0BzaGVsbC9zdG9yZS9wcmVmcyc7CmltcG9ydCB7IGdldFZlcnNpb25JbmZvIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3ZlcnNpb24nOwppbXBvcnQgeyBhZGRPYmplY3RzLCByZXBsYWNlV2l0aCwgY2xlYXIsIGFkZE9iamVjdCB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7CmltcG9ydCB7IHNvcnRCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9zb3J0JzsKaW1wb3J0IHsgdWNGaXJzdCB9IGZyb20gJ0BzaGVsbC91dGlscy9zdHJpbmcnOwoKaW1wb3J0IHsKICBIQ0ksIENBVEFMT0csIFVJLCBTQ0hFTUEsIENPVU5UCn0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IEhBUlZFU1RFUl9OQU1FIGFzIEhBUlZFU1RFUiB9IGZyb20gJ0BzaGVsbC9jb25maWcvZmVhdHVyZXMnOwppbXBvcnQgeyBOQU1FIGFzIEVYUExPUkVSIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9wcm9kdWN0L2V4cGxvcmVyJzsKaW1wb3J0IHsgQkFTSUMsIEZBVk9SSVRFLCBVU0VEIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3R5cGUtbWFwJzsKaW1wb3J0IHsgTkFNRSBhcyBOQVZMSU5LUyB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJvZHVjdC9uYXZsaW5rcyc7CmltcG9ydCBHcm91cCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9uYXYvR3JvdXAnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICAgICAgICdTaWRlTmF2JywKICBjb21wb25lbnRzOiB7IEdyb3VwIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGdyb3VwczogICAgICAgIFtdLAogICAgICBnZXR0aW5nR3JvdXBzOiBmYWxzZQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5xdWV1ZVVwZGF0ZSA9IGRlYm91bmNlKHRoaXMuZ2V0R3JvdXBzLCA1MDApOwoKICAgIHRoaXMuZ2V0R3JvdXBzKCk7CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIC8vIFN5bmMgdGhlIG5hdmlnYXRpb24gdHJlZSBvbiBmcmVzaCBsb2FkCiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB0aGlzLnN5bmNOYXYoKSk7CiAgfSwKCiAgd2F0Y2g6IHsKICAgIGNvdW50cyhhLCBiKSB7CiAgICAgIGlmICggYSAhPT0gYiApIHsKICAgICAgICB0aGlzLnF1ZXVlVXBkYXRlKCk7CiAgICAgIH0KICAgIH0sCgogICAgYWxsU2NoZW1hcyhhLCBiKSB7CiAgICAgIGlmICggYSAhPT0gYiApIHsKICAgICAgICB0aGlzLnF1ZXVlVXBkYXRlKCk7CiAgICAgIH0KICAgIH0sCgogICAgYWxsTmF2TGlua3MoYSwgYikgewogICAgICBpZiAoIGEgIT09IGIgKSB7CiAgICAgICAgdGhpcy5xdWV1ZVVwZGF0ZSgpOwogICAgICB9CiAgICB9LAoKICAgIGZhdm9yaXRlVHlwZXMoYSwgYikgewogICAgICBpZiAoICFpc0VxdWFsKGEsIGIpICkgewogICAgICAgIHRoaXMucXVldWVVcGRhdGUoKTsKICAgICAgfQogICAgfSwKCiAgICBsb2NhbGUoYSwgYikgewogICAgICBpZiAoICFpc0VxdWFsKGEsIGIpICkgewogICAgICAgIHRoaXMuZ2V0R3JvdXBzKCk7CiAgICAgIH0KICAgIH0sCgogICAgcHJvZHVjdElkKGEsIGIpIHsKICAgICAgaWYgKCAhaXNFcXVhbChhLCBiKSApIHsKICAgICAgICAvLyBJbW1lZGlhdGVseSB1cGRhdGUgYmVjYXVzZSB5b3UnbGwgc2VlIGl0IGNvbWUgaW4gbGF0ZXIKICAgICAgICB0aGlzLmdldEdyb3VwcygpOwogICAgICB9CiAgICB9LAoKICAgIG5hbWVzcGFjZU1vZGUoYSwgYikgewogICAgICBpZiAoICFpc0VxdWFsKGEsIGIpICkgewogICAgICAgIC8vIEltbWVkaWF0ZWx5IHVwZGF0ZSBiZWNhdXNlIHlvdSdsbCBzZWUgaXQgY29tZSBpbiBsYXRlcgogICAgICAgIHRoaXMuZ2V0R3JvdXBzKCk7CiAgICAgIH0KICAgIH0sCgogICAgbmFtZXNwYWNlcyhhLCBiKSB7CiAgICAgIGlmICggIWlzRXF1YWwoYSwgYikgKSB7CiAgICAgICAgLy8gSW1tZWRpYXRlbHkgdXBkYXRlIGJlY2F1c2UgeW91J2xsIHNlZSBpdCBjb21lIGluIGxhdGVyCiAgICAgICAgdGhpcy5nZXRHcm91cHMoKTsKICAgICAgfQogICAgfSwKCiAgICBjbHVzdGVyUmVhZHkoYSwgYikgewogICAgICBpZiAoICFpc0VxdWFsKGEsIGIpICkgewogICAgICAgIC8vIEltbWVkaWF0ZWx5IHVwZGF0ZSBiZWNhdXNlIHlvdSdsbCBzZWUgaXQgY29tZSBpbiBsYXRlcgogICAgICAgIHRoaXMuZ2V0R3JvdXBzKCk7CiAgICAgIH0KICAgIH0sCgogICAgcHJvZHVjdChhLCBiKSB7CiAgICAgIGlmICggIWlzRXF1YWwoYSwgYikgKSB7CiAgICAgICAgLy8gSW1tZWRpYXRlbHkgdXBkYXRlIGJlY2F1c2UgeW91J2xsIHNlZSBpdCBjb21lIGluIGxhdGVyCiAgICAgICAgdGhpcy5nZXRHcm91cHMoKTsKICAgICAgfQogICAgfSwKCiAgICAkcm91dGUoYSwgYikgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB0aGlzLnN5bmNOYXYoKSk7CiAgICB9LAoKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWydtYW5hZ2VtZW50UmVhZHknLCAnY2x1c3RlclJlYWR5J10pLAogICAgLi4ubWFwR2V0dGVycyhbJ3Byb2R1Y3RJZCcsICdjbHVzdGVySWQnLCAnY3VycmVudFByb2R1Y3QnLCAnaXNTaW5nbGVQcm9kdWN0JywgJ25hbWVzcGFjZU1vZGUnLCAnaXNFeHBsb3JlcicsICdpc1ZpcnR1YWxDbHVzdGVyJ10pLAogICAgLi4ubWFwR2V0dGVycyh7IGxvY2FsZTogJ2kxOG4vc2VsZWN0ZWRMb2NhbGVMYWJlbCcsIGF2YWlsYWJsZUxvY2FsZXM6ICdpMThuL2F2YWlsYWJsZUxvY2FsZXMnIH0pLAogICAgLi4ubWFwR2V0dGVycygndHlwZS1tYXAnLCBbJ2FjdGl2ZVByb2R1Y3RzJ10pLAoKICAgIGZhdm9yaXRlVHlwZXM6IG1hcFByZWYoRkFWT1JJVEVfVFlQRVMpLAoKICAgIHNob3dDbHVzdGVyVG9vbHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzRXhwbG9yZXIgJiYKICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvY2FuTGlzdCddKENBVEFMT0cuQ0xVU1RFUl9SRVBPKSAmJgogICAgICAgICAgICAgdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9jYW5MaXN0J10oQ0FUQUxPRy5BUFApOwogICAgfSwKCiAgICBzdXBwb3J0TGluaygpIHsKICAgICAgY29uc3QgcHJvZHVjdCA9IHRoaXMuY3VycmVudFByb2R1Y3Q7CgogICAgICBpZiAocHJvZHVjdD8uc3VwcG9ydFJvdXRlKSB7CiAgICAgICAgcmV0dXJuIHsgLi4ucHJvZHVjdC5zdXBwb3J0Um91dGUsIHBhcmFtczogeyAuLi5wcm9kdWN0LnN1cHBvcnRSb3V0ZS5wYXJhbXMsIGNsdXN0ZXI6IHRoaXMuY2x1c3RlcklkIH0gfTsKICAgICAgfQoKICAgICAgcmV0dXJuIHsgbmFtZTogYGMtY2x1c3Rlci0keyBwcm9kdWN0Py5uYW1lIH0tc3VwcG9ydGAgfTsKICAgIH0sCgogICAgZGlzcGxheVZlcnNpb24oKSB7CiAgICAgIGlmICh0aGlzLmlzU2luZ2xlUHJvZHVjdD8uZ2V0VmVyc2lvbkluZm8pIHsKICAgICAgICByZXR1cm4gdGhpcy5pc1NpbmdsZVByb2R1Y3Q/LmdldFZlcnNpb25JbmZvKHRoaXMuJHN0b3JlKTsKICAgICAgfQogICAgICBjb25zdCB7IGRpc3BsYXlWZXJzaW9uIH0gPSBnZXRWZXJzaW9uSW5mbyh0aGlzLiRzdG9yZSk7CgogICAgICByZXR1cm4gZGlzcGxheVZlcnNpb247CiAgICB9LAoKICAgIHNpbmdsZVByb2R1Y3RBYm91dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNTaW5nbGVQcm9kdWN0Py5hYm91dFBhZ2U7CiAgICB9LAoKICAgIGhhcnZlc3RlclZlcnNpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL2J5SWQnXShIQ0kuU0VUVElORywgJ3NlcnZlci12ZXJzaW9uJyk/LnZhbHVlIHx8ICd1bmtub3duJzsKICAgIH0sCgogICAgc2hvd1Byb2R1Y3RGb290ZXIoKSB7CiAgICAgIGlmICh0aGlzLmlzVmlydHVhbFByb2R1Y3QpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgaXNWaXJ0dWFsUHJvZHVjdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFByb2R1Y3QubmFtZSA9PT0gSEFSVkVTVEVSOwogICAgfSwKCiAgICBhbGxOYXZMaW5rcygpIHsKICAgICAgaWYgKCAhdGhpcy5jbHVzdGVySWQgfHwgIXRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvc2NoZW1hRm9yJ10oVUkuTkFWX0xJTkspICkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvYWxsJ10oVUkuTkFWX0xJTkspOwogICAgfSwKCiAgICBhbGxTY2hlbWFzKCkgewogICAgICBjb25zdCBtYW5hZ2VtZW50UmVhZHkgPSB0aGlzLm1hbmFnZW1lbnRSZWFkeTsKICAgICAgY29uc3QgcHJvZHVjdCA9IHRoaXMuY3VycmVudFByb2R1Y3Q7CgogICAgICBpZiAoICFtYW5hZ2VtZW50UmVhZHkgfHwgIXByb2R1Y3QgKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1tgJHsgcHJvZHVjdC5pblN0b3JlIH0vYWxsYF0oU0NIRU1BKTsKICAgIH0sCgogICAgY291bnRzKCkgewogICAgICBjb25zdCBtYW5hZ2VtZW50UmVhZHkgPSB0aGlzLm1hbmFnZW1lbnRSZWFkeTsKICAgICAgY29uc3QgcHJvZHVjdCA9IHRoaXMuY3VycmVudFByb2R1Y3Q7CgogICAgICBpZiAoICFtYW5hZ2VtZW50UmVhZHkgfHwgIXByb2R1Y3QgKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CgogICAgICBjb25zdCBpblN0b3JlID0gcHJvZHVjdC5pblN0b3JlOwoKICAgICAgLy8gU28gdGhhdCB0aGVyZSdzIHNvbWV0aGluZyB0byB3YXRjaCBmb3IgdXBkYXRlcwogICAgICBpZiAoIHRoaXMuJHN0b3JlLmdldHRlcnNbYCR7IGluU3RvcmUgfS9oYXZlQWxsYF0oQ09VTlQpICkgewogICAgICAgIGNvbnN0IGNvdW50cyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbYCR7IGluU3RvcmUgfS9hbGxgXShDT1VOVClbMF0uY291bnRzOwoKICAgICAgICByZXR1cm4gY291bnRzOwogICAgICB9CgogICAgICByZXR1cm4ge307CiAgICB9LAoKICAgIG5hbWVzcGFjZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydhY3RpdmVOYW1lc3BhY2VDYWNoZSddOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICogRmV0Y2ggbmF2aWdhdGlvbiBieSBjcmVhdGluZyBncm91cHMgZnJvbSBwcm9kdWN0IHNjaGVtYXMKICAgICAqLwogICAgZ2V0R3JvdXBzKCkgewogICAgICBpZiAoIHRoaXMuZ2V0dGluZ0dyb3VwcyApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5nZXR0aW5nR3JvdXBzID0gdHJ1ZTsKCiAgICAgIGlmICggIXRoaXMuY2x1c3RlclJlYWR5ICkgewogICAgICAgIGNsZWFyKHRoaXMuZ3JvdXBzKTsKICAgICAgICB0aGlzLmdldHRpbmdHcm91cHMgPSBmYWxzZTsKCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCBjdXJyZW50UHJvZHVjdCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3Byb2R1Y3RJZCddOwogICAgICBsZXQgbmFtZXNwYWNlcyA9IG51bGw7CgogICAgICBpZiAoICF0aGlzLiRzdG9yZS5nZXR0ZXJzWydpc0FsbE5hbWVzcGFjZXMnXSApIHsKICAgICAgICBjb25zdCBuYW1lc3BhY2VzT2JqZWN0ID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snbmFtZXNwYWNlcyddKCk7CgogICAgICAgIG5hbWVzcGFjZXMgPSBPYmplY3Qua2V5cyhuYW1lc3BhY2VzT2JqZWN0KTsKICAgICAgfQoKICAgICAgLy8gQWx3YXlzIHNob3cgY2x1c3Rlci1sZXZlbCB0eXBlcywgcmVnYXJkbGVzcyBvZiB0aGUgbmFtZXNwYWNlIGZpbHRlcgogICAgICBjb25zdCBuYW1lc3BhY2VNb2RlID0gJ2JvdGgnOwogICAgICBjb25zdCBvdXQgPSBbXTsKICAgICAgY29uc3QgbG9hZFByb2R1Y3RzID0gdGhpcy5pc0V4cGxvcmVyID8gW0VYUExPUkVSXSA6IFtdOwoKICAgICAgY29uc3QgcHJvZHVjdE1hcCA9IHRoaXMuYWN0aXZlUHJvZHVjdHMucmVkdWNlKChhY2MsIHApID0+IHsKICAgICAgICByZXR1cm4geyAuLi5hY2MsIFtwLm5hbWVdOiBwIH07CiAgICAgIH0sIHt9KTsKCiAgICAgIGlmICggdGhpcy5pc0V4cGxvcmVyICkgewogICAgICAgIGZvciAoIGNvbnN0IHByb2R1Y3Qgb2YgdGhpcy5hY3RpdmVQcm9kdWN0cyApIHsKICAgICAgICAgIGlmICggcHJvZHVjdC5pblN0b3JlID09PSAnY2x1c3RlcicgKSB7CiAgICAgICAgICAgIGFkZE9iamVjdChsb2FkUHJvZHVjdHMsIHByb2R1Y3QubmFtZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBUaGlzIHNob3VsZCBhbHJlYWR5IGhhdmUgY29tZSBpbnRvIHRoZSBsaXN0IGZyb20gYWJvdmUsIGJ1dCBpbiBjYXNlIGl0IGhhc24ndC4uLgogICAgICBhZGRPYmplY3QobG9hZFByb2R1Y3RzLCBjdXJyZW50UHJvZHVjdCk7CgogICAgICB0aGlzLmdldFByb2R1Y3RzR3JvdXBzKG91dCwgbG9hZFByb2R1Y3RzLCBuYW1lc3BhY2VNb2RlLCBuYW1lc3BhY2VzLCBwcm9kdWN0TWFwKTsKICAgICAgdGhpcy5nZXRFeHBsb3Jlckdyb3VwcyhvdXQpOwoKICAgICAgcmVwbGFjZVdpdGgodGhpcy5ncm91cHMsIC4uLnNvcnRCeShvdXQsIFsnd2VpZ2h0OmRlc2MnLCAnbGFiZWwnXSkpOwoKICAgICAgdGhpcy5nZXR0aW5nR3JvdXBzID0gZmFsc2U7CiAgICB9LAoKICAgIGdldFByb2R1Y3RzR3JvdXBzKG91dCwgbG9hZFByb2R1Y3RzLCBuYW1lc3BhY2VNb2RlLCBuYW1lc3BhY2VzLCBwcm9kdWN0TWFwKSB7CiAgICAgIGNvbnN0IGNsdXN0ZXJJZCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXJJZCddOwogICAgICBjb25zdCBjdXJyZW50VHlwZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5yZXNvdXJjZSB8fCAnJzsKCiAgICAgIGZvciAoIGNvbnN0IHByb2R1Y3RJZCBvZiBsb2FkUHJvZHVjdHMgKSB7CiAgICAgICAgY29uc3QgbW9kZXMgPSBbQkFTSUNdOwoKICAgICAgICBpZiAoIHByb2R1Y3RJZCA9PT0gTkFWTElOS1MgKSB7CiAgICAgICAgICAvLyBOYXZsaW5rcyBwcm9kdWNlIHRoZWlyIG93biB0b3AtbGV2ZWwgbmF2IGl0ZW1zIHNvIGRvbid0IG5lZWQgdG8gc2hvdyBpdCBhcyBhIHByb2R1Y3QuCiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIGlmICggcHJvZHVjdElkID09PSBFWFBMT1JFUiApIHsKICAgICAgICAgIG1vZGVzLnB1c2goRkFWT1JJVEUpOwogICAgICAgICAgbW9kZXMucHVzaChVU0VEKTsKICAgICAgICB9CgogICAgICAgIGZvciAoIGNvbnN0IG1vZGUgb2YgbW9kZXMgKSB7CiAgICAgICAgICBjb25zdCB0eXBlcyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2FsbFR5cGVzJ10ocHJvZHVjdElkLCBtb2RlKSB8fCB7fTsKCiAgICAgICAgICBjb25zdCBtb3JlID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvZ2V0VHJlZSddKHByb2R1Y3RJZCwgbW9kZSwgdHlwZXMsIGNsdXN0ZXJJZCwgbmFtZXNwYWNlTW9kZSwgbmFtZXNwYWNlcywgY3VycmVudFR5cGUpOwoKICAgICAgICAgIGlmICggcHJvZHVjdElkID09PSBFWFBMT1JFUiB8fCAhdGhpcy5pc0V4cGxvcmVyICkgewogICAgICAgICAgICBhZGRPYmplY3RzKG91dCwgbW9yZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCByb290ID0gbW9yZS5maW5kKCh4KSA9PiB4Lm5hbWUgPT09ICdyb290Jyk7CiAgICAgICAgICAgIGNvbnN0IG90aGVyID0gbW9yZS5maWx0ZXIoKHgpID0+IHgubmFtZSAhPT0gJ3Jvb3QnKTsKCiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gewogICAgICAgICAgICAgIG5hbWU6ICAgICBwcm9kdWN0SWQsCiAgICAgICAgICAgICAgbGFiZWw6ICAgIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2kxOG4vd2l0aEZhbGxiYWNrJ10oYHByb2R1Y3QuJHsgcHJvZHVjdElkIH1gLCBudWxsLCB1Y0ZpcnN0KHByb2R1Y3RJZCkpLAogICAgICAgICAgICAgIGNoaWxkcmVuOiBbLi4uKHJvb3Q/LmNoaWxkcmVuIHx8IFtdKSwgLi4ub3RoZXJdLAogICAgICAgICAgICAgIHdlaWdodDogICBwcm9kdWN0TWFwW3Byb2R1Y3RJZF0/LndlaWdodCB8fCAwLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgYWRkT2JqZWN0KG91dCwgZ3JvdXApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBnZXRFeHBsb3Jlckdyb3VwcyhvdXQpIHsKICAgICAgaWYgKCB0aGlzLmlzRXhwbG9yZXIgKSB7CiAgICAgICAgY29uc3QgYWxsTmF2TGlua3MgPSB0aGlzLmFsbE5hdkxpbmtzOwogICAgICAgIGNvbnN0IHRvQWRkID0gW107CiAgICAgICAgY29uc3QgaGF2ZUdyb3VwID0ge307CgogICAgICAgIGZvciAoIGNvbnN0IG9iaiBvZiBhbGxOYXZMaW5rcyApIHsKICAgICAgICAgIGlmICggIW9iai5saW5rICkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCBncm91cExhYmVsID0gb2JqLnNwZWMuZ3JvdXA7CiAgICAgICAgICBjb25zdCBncm91cFNsdWcgPSBvYmoubm9ybWFsaXplZEdyb3VwOwoKICAgICAgICAgIGNvbnN0IGVudHJ5ID0gewogICAgICAgICAgICBuYW1lOiAgICAgICAgYGxpbmstJHsgb2JqLl9rZXkgfWAsCiAgICAgICAgICAgIGxpbms6ICAgICAgICBvYmoubGluaywKICAgICAgICAgICAgdGFyZ2V0OiAgICAgIG9iai5hY3R1YWxUYXJnZXQsCiAgICAgICAgICAgIGxhYmVsOiAgICAgICBvYmoubGFiZWxEaXNwbGF5LAogICAgICAgICAgICBzaWRlTGFiZWw6ICAgb2JqLnNwZWMuc2lkZUxhYmVsLAogICAgICAgICAgICBpY29uU3JjOiAgICAgb2JqLnNwZWMuaWNvblNyYywKICAgICAgICAgICAgZGVzY3JpcHRpb246IG9iai5zcGVjLmRlc2NyaXB0aW9uLAogICAgICAgICAgfTsKCiAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgc3BlYy5ncm91cCAoZ3JvdXBMYWJlbCksIGFsbCBlbnRyaWVzIHdpdGggdGhhdCBuYW1lIGdvIHVuZGVyIG9uZSBuYXYgZ3JvdXAKICAgICAgICAgIGlmICggZ3JvdXBTbHVnICkgewogICAgICAgICAgICBpZiAoIGhhdmVHcm91cFtncm91cFNsdWddICkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoYXZlR3JvdXBbZ3JvdXBTbHVnXSA9IHRydWU7CgogICAgICAgICAgICB0b0FkZC5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiAgICAgYG5hdmxpbmstZ3JvdXAtJHsgZ3JvdXBTbHVnIH1gLAogICAgICAgICAgICAgIGxhYmVsOiAgICBncm91cExhYmVsLAogICAgICAgICAgICAgIGlzUm9vdDogICB0cnVlLAogICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGl0ZW0gdGhhdCBhY3R1YWxseSBzaG93cyB1cCBpbiB0aGUgbmF2LCBzaW5jZSB0aGlzIG91dGVyIGdyb3VwIHdpbGwgYmUgaW52aXNpYmxlCiAgICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgbmFtZTogIGBuYXZsaW5rLWNoaWxkLSR7IGdyb3VwU2x1ZyB9YCwKICAgICAgICAgICAgICAgICAgbGFiZWw6IGdyb3VwTGFiZWwsCiAgICAgICAgICAgICAgICAgIHJvdXRlOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogICAnYy1jbHVzdGVyLW5hdmxpbmtzLWdyb3VwJywKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuY2x1c3RlcklkLAogICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICAgZ3JvdXBTbHVnLAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgIHdlaWdodDogLTEwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0b0FkZC5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiAgICAgYG5hdmxpbmstJHsgZW50cnkubmFtZSB9YCwKICAgICAgICAgICAgICBsYWJlbDogICAgZW50cnkubGFiZWwsCiAgICAgICAgICAgICAgaXNSb290OiAgIHRydWUsCiAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgaXRlbSB0aGF0IGFjdHVhbGx5IHNob3dzIHVwIGluIHRoZSBuYXYsIHNpbmNlIHRoaXMgb3V0ZXIgZ3JvdXAgd2lsbCBiZSBpbnZpc2libGUKICAgICAgICAgICAgICBjaGlsZHJlbjogW2VudHJ5XSwKICAgICAgICAgICAgICB3ZWlnaHQ6ICAgLTEwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBhZGRPYmplY3RzKG91dCwgdG9BZGQpOwogICAgICB9CiAgICB9LAoKICAgIGdyb3VwU2VsZWN0ZWQoc2VsZWN0ZWQpIHsKICAgICAgdGhpcy4kcmVmcy5ncm91cHMuZm9yRWFjaCgoZ3JwKSA9PiB7CiAgICAgICAgaWYgKGdycC5jYW5Db2xsYXBzZSkgewogICAgICAgICAgZ3JwLmlzRXhwYW5kZWQgPSAoZ3JwLmdyb3VwLm5hbWUgPT09IHNlbGVjdGVkLm5hbWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGNvbGxhcHNlQWxsKCkgewogICAgICB0aGlzLiRyZWZzLmdyb3Vwcy5mb3JFYWNoKChncnApID0+IHsKICAgICAgICBncnAuaXNFeHBhbmRlZCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCgogICAgc3dpdGNoTG9jYWxlKGxvY2FsZSkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnaTE4bi9zd2l0Y2hUbycsIGxvY2FsZSk7CiAgICB9LAoKICAgIHN5bmNOYXYoKSB7CiAgICAgIGNvbnN0IHJlZnMgPSB0aGlzLiRyZWZzLmdyb3VwczsKCiAgICAgIGlmIChyZWZzKSB7CiAgICAgICAgLy8gT25seSBleHBhbmQgb25lIGdyb3VwIC0gc28gYWZ0ZXIgdGhlIGZpcnN0IGhhcyBiZWVuIGV4cGFuZGVkLCBubyBtb3JlIHdpbGwKICAgICAgICAvLyBUaGlzIHByZXZlbnRzIHRoZSAnTW9yZSBSZXNvdXJjZXMnIGdyb3VwIGJlaW5nIGV4cGFuZGVkIGluIGFkZGl0aW9uIHRvIHRoZSBub3JtYWwgZ3JvdXAKICAgICAgICBsZXQgY2FuRXhwYW5kID0gdHJ1ZTsKICAgICAgICBjb25zdCBleHBhbmRlZCA9IHJlZnMuZmlsdGVyKChncnApID0+IGdycC5pc0V4cGFuZGVkKVswXTsKCiAgICAgICAgaWYgKGV4cGFuZGVkICYmIGV4cGFuZGVkLmhhc0FjdGl2ZVJvdXRlKCkpIHsKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IGV4cGFuZGVkLnN5bmNOYXYoKSk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICByZWZzLmZvckVhY2goKGdycCkgPT4gewogICAgICAgICAgaWYgKCFncnAuZ3JvdXAuaXNSb290KSB7CiAgICAgICAgICAgIGdycC5pc0V4cGFuZGVkID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChjYW5FeHBhbmQpIHsKICAgICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGdycC5oYXNBY3RpdmVSb3V0ZSgpOwoKICAgICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHsKICAgICAgICAgICAgICAgIGdycC5pc0V4cGFuZGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNhbkV4cGFuZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gZ3JwLnN5bmNOYXYoKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["SideNav.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SideNav.vue","sourceRoot":"node_modules/@rancher/shell/components","sourcesContent":["<script>\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport { mapGetters, mapState } from 'vuex';\nimport {\n  mapPref,\n  FAVORITE_TYPES\n} from '@shell/store/prefs';\nimport { getVersionInfo } from '@shell/utils/version';\nimport { addObjects, replaceWith, clear, addObject } from '@shell/utils/array';\nimport { sortBy } from '@shell/utils/sort';\nimport { ucFirst } from '@shell/utils/string';\n\nimport {\n  HCI, CATALOG, UI, SCHEMA, COUNT\n} from '@shell/config/types';\nimport { HARVESTER_NAME as HARVESTER } from '@shell/config/features';\nimport { NAME as EXPLORER } from '@shell/config/product/explorer';\nimport { BASIC, FAVORITE, USED } from '@shell/store/type-map';\nimport { NAME as NAVLINKS } from '@shell/config/product/navlinks';\nimport Group from '@shell/components/nav/Group';\n\nexport default {\n  name:       'SideNav',\n  components: { Group },\n  data() {\n    return {\n      groups:        [],\n      gettingGroups: false\n    };\n  },\n\n  created() {\n    this.queueUpdate = debounce(this.getGroups, 500);\n\n    this.getGroups();\n  },\n\n  mounted() {\n    // Sync the navigation tree on fresh load\n    this.$nextTick(() => this.syncNav());\n  },\n\n  watch: {\n    counts(a, b) {\n      if ( a !== b ) {\n        this.queueUpdate();\n      }\n    },\n\n    allSchemas(a, b) {\n      if ( a !== b ) {\n        this.queueUpdate();\n      }\n    },\n\n    allNavLinks(a, b) {\n      if ( a !== b ) {\n        this.queueUpdate();\n      }\n    },\n\n    favoriteTypes(a, b) {\n      if ( !isEqual(a, b) ) {\n        this.queueUpdate();\n      }\n    },\n\n    locale(a, b) {\n      if ( !isEqual(a, b) ) {\n        this.getGroups();\n      }\n    },\n\n    productId(a, b) {\n      if ( !isEqual(a, b) ) {\n        // Immediately update because you'll see it come in later\n        this.getGroups();\n      }\n    },\n\n    namespaceMode(a, b) {\n      if ( !isEqual(a, b) ) {\n        // Immediately update because you'll see it come in later\n        this.getGroups();\n      }\n    },\n\n    namespaces(a, b) {\n      if ( !isEqual(a, b) ) {\n        // Immediately update because you'll see it come in later\n        this.getGroups();\n      }\n    },\n\n    clusterReady(a, b) {\n      if ( !isEqual(a, b) ) {\n        // Immediately update because you'll see it come in later\n        this.getGroups();\n      }\n    },\n\n    product(a, b) {\n      if ( !isEqual(a, b) ) {\n        // Immediately update because you'll see it come in later\n        this.getGroups();\n      }\n    },\n\n    $route(a, b) {\n      this.$nextTick(() => this.syncNav());\n    },\n\n  },\n\n  computed: {\n    ...mapState(['managementReady', 'clusterReady']),\n    ...mapGetters(['productId', 'clusterId', 'currentProduct', 'isSingleProduct', 'namespaceMode', 'isExplorer', 'isVirtualCluster']),\n    ...mapGetters({ locale: 'i18n/selectedLocaleLabel', availableLocales: 'i18n/availableLocales' }),\n    ...mapGetters('type-map', ['activeProducts']),\n\n    favoriteTypes: mapPref(FAVORITE_TYPES),\n\n    showClusterTools() {\n      return this.isExplorer &&\n             this.$store.getters['cluster/canList'](CATALOG.CLUSTER_REPO) &&\n             this.$store.getters['cluster/canList'](CATALOG.APP);\n    },\n\n    supportLink() {\n      const product = this.currentProduct;\n\n      if (product?.supportRoute) {\n        return { ...product.supportRoute, params: { ...product.supportRoute.params, cluster: this.clusterId } };\n      }\n\n      return { name: `c-cluster-${ product?.name }-support` };\n    },\n\n    displayVersion() {\n      if (this.isSingleProduct?.getVersionInfo) {\n        return this.isSingleProduct?.getVersionInfo(this.$store);\n      }\n      const { displayVersion } = getVersionInfo(this.$store);\n\n      return displayVersion;\n    },\n\n    singleProductAbout() {\n      return this.isSingleProduct?.aboutPage;\n    },\n\n    harvesterVersion() {\n      return this.$store.getters['cluster/byId'](HCI.SETTING, 'server-version')?.value || 'unknown';\n    },\n\n    showProductFooter() {\n      if (this.isVirtualProduct) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    isVirtualProduct() {\n      return this.currentProduct.name === HARVESTER;\n    },\n\n    allNavLinks() {\n      if ( !this.clusterId || !this.$store.getters['cluster/schemaFor'](UI.NAV_LINK) ) {\n        return [];\n      }\n\n      return this.$store.getters['cluster/all'](UI.NAV_LINK);\n    },\n\n    allSchemas() {\n      const managementReady = this.managementReady;\n      const product = this.currentProduct;\n\n      if ( !managementReady || !product ) {\n        return [];\n      }\n\n      return this.$store.getters[`${ product.inStore }/all`](SCHEMA);\n    },\n\n    counts() {\n      const managementReady = this.managementReady;\n      const product = this.currentProduct;\n\n      if ( !managementReady || !product ) {\n        return {};\n      }\n\n      const inStore = product.inStore;\n\n      // So that there's something to watch for updates\n      if ( this.$store.getters[`${ inStore }/haveAll`](COUNT) ) {\n        const counts = this.$store.getters[`${ inStore }/all`](COUNT)[0].counts;\n\n        return counts;\n      }\n\n      return {};\n    },\n\n    namespaces() {\n      return this.$store.getters['activeNamespaceCache'];\n    },\n  },\n  methods: {\n    /**\n     * Fetch navigation by creating groups from product schemas\n     */\n    getGroups() {\n      if ( this.gettingGroups ) {\n        return;\n      }\n      this.gettingGroups = true;\n\n      if ( !this.clusterReady ) {\n        clear(this.groups);\n        this.gettingGroups = false;\n\n        return;\n      }\n\n      const currentProduct = this.$store.getters['productId'];\n      let namespaces = null;\n\n      if ( !this.$store.getters['isAllNamespaces'] ) {\n        const namespacesObject = this.$store.getters['namespaces']();\n\n        namespaces = Object.keys(namespacesObject);\n      }\n\n      // Always show cluster-level types, regardless of the namespace filter\n      const namespaceMode = 'both';\n      const out = [];\n      const loadProducts = this.isExplorer ? [EXPLORER] : [];\n\n      const productMap = this.activeProducts.reduce((acc, p) => {\n        return { ...acc, [p.name]: p };\n      }, {});\n\n      if ( this.isExplorer ) {\n        for ( const product of this.activeProducts ) {\n          if ( product.inStore === 'cluster' ) {\n            addObject(loadProducts, product.name);\n          }\n        }\n      }\n\n      // This should already have come into the list from above, but in case it hasn't...\n      addObject(loadProducts, currentProduct);\n\n      this.getProductsGroups(out, loadProducts, namespaceMode, namespaces, productMap);\n      this.getExplorerGroups(out);\n\n      replaceWith(this.groups, ...sortBy(out, ['weight:desc', 'label']));\n\n      this.gettingGroups = false;\n    },\n\n    getProductsGroups(out, loadProducts, namespaceMode, namespaces, productMap) {\n      const clusterId = this.$store.getters['clusterId'];\n      const currentType = this.$route.params.resource || '';\n\n      for ( const productId of loadProducts ) {\n        const modes = [BASIC];\n\n        if ( productId === NAVLINKS ) {\n          // Navlinks produce their own top-level nav items so don't need to show it as a product.\n          continue;\n        }\n\n        if ( productId === EXPLORER ) {\n          modes.push(FAVORITE);\n          modes.push(USED);\n        }\n\n        for ( const mode of modes ) {\n          const types = this.$store.getters['type-map/allTypes'](productId, mode) || {};\n\n          const more = this.$store.getters['type-map/getTree'](productId, mode, types, clusterId, namespaceMode, namespaces, currentType);\n\n          if ( productId === EXPLORER || !this.isExplorer ) {\n            addObjects(out, more);\n          } else {\n            const root = more.find((x) => x.name === 'root');\n            const other = more.filter((x) => x.name !== 'root');\n\n            const group = {\n              name:     productId,\n              label:    this.$store.getters['i18n/withFallback'](`product.${ productId }`, null, ucFirst(productId)),\n              children: [...(root?.children || []), ...other],\n              weight:   productMap[productId]?.weight || 0,\n            };\n\n            addObject(out, group);\n          }\n        }\n      }\n    },\n\n    getExplorerGroups(out) {\n      if ( this.isExplorer ) {\n        const allNavLinks = this.allNavLinks;\n        const toAdd = [];\n        const haveGroup = {};\n\n        for ( const obj of allNavLinks ) {\n          if ( !obj.link ) {\n            continue;\n          }\n\n          const groupLabel = obj.spec.group;\n          const groupSlug = obj.normalizedGroup;\n\n          const entry = {\n            name:        `link-${ obj._key }`,\n            link:        obj.link,\n            target:      obj.actualTarget,\n            label:       obj.labelDisplay,\n            sideLabel:   obj.spec.sideLabel,\n            iconSrc:     obj.spec.iconSrc,\n            description: obj.spec.description,\n          };\n\n          // If there's a spec.group (groupLabel), all entries with that name go under one nav group\n          if ( groupSlug ) {\n            if ( haveGroup[groupSlug] ) {\n              continue;\n            }\n\n            haveGroup[groupSlug] = true;\n\n            toAdd.push({\n              name:     `navlink-group-${ groupSlug }`,\n              label:    groupLabel,\n              isRoot:   true,\n              // This is the item that actually shows up in the nav, since this outer group will be invisible\n              children: [\n                {\n                  name:  `navlink-child-${ groupSlug }`,\n                  label: groupLabel,\n                  route: {\n                    name:   'c-cluster-navlinks-group',\n                    params: {\n                      cluster: this.clusterId,\n                      group:   groupSlug,\n                    }\n                  },\n                }\n              ],\n              weight: -100,\n            });\n          } else {\n            toAdd.push({\n              name:     `navlink-${ entry.name }`,\n              label:    entry.label,\n              isRoot:   true,\n              // This is the item that actually shows up in the nav, since this outer group will be invisible\n              children: [entry],\n              weight:   -100,\n            });\n          }\n        }\n\n        addObjects(out, toAdd);\n      }\n    },\n\n    groupSelected(selected) {\n      this.$refs.groups.forEach((grp) => {\n        if (grp.canCollapse) {\n          grp.isExpanded = (grp.group.name === selected.name);\n        }\n      });\n    },\n\n    collapseAll() {\n      this.$refs.groups.forEach((grp) => {\n        grp.isExpanded = false;\n      });\n    },\n\n    switchLocale(locale) {\n      this.$store.dispatch('i18n/switchTo', locale);\n    },\n\n    syncNav() {\n      const refs = this.$refs.groups;\n\n      if (refs) {\n        // Only expand one group - so after the first has been expanded, no more will\n        // This prevents the 'More Resources' group being expanded in addition to the normal group\n        let canExpand = true;\n        const expanded = refs.filter((grp) => grp.isExpanded)[0];\n\n        if (expanded && expanded.hasActiveRoute()) {\n          this.$nextTick(() => expanded.syncNav());\n\n          return;\n        }\n        refs.forEach((grp) => {\n          if (!grp.group.isRoot) {\n            grp.isExpanded = false;\n            if (canExpand) {\n              const isActive = grp.hasActiveRoute();\n\n              if (isActive) {\n                grp.isExpanded = true;\n                canExpand = false;\n                this.$nextTick(() => grp.syncNav());\n              }\n            }\n          }\n        });\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <nav class=\"side-nav\">\n    <!-- Actual nav -->\n    <div class=\"nav\">\n      <template v-for=\"(g) in groups\">\n        <Group\n          ref=\"groups\"\n          :key=\"g.name\"\n          id-prefix=\"\"\n          class=\"package\"\n          :group=\"g\"\n          :can-collapse=\"!g.isRoot\"\n          :show-header=\"!g.isRoot\"\n          @selected=\"groupSelected($event)\"\n          @expand=\"groupSelected($event)\"\n        />\n      </template>\n    </div>\n    <!-- Cluster tools -->\n    <n-link\n      v-if=\"showClusterTools\"\n      tag=\"div\"\n      class=\"tools\"\n      :to=\"{name: 'c-cluster-explorer-tools', params: {cluster: clusterId}}\"\n    >\n      <a\n        class=\"tools-button\"\n        @click=\"collapseAll()\"\n      >\n        <i class=\"icon icon-gear\" />\n        <span>{{ t('nav.clusterTools') }}</span>\n      </a>\n    </n-link>\n    <!-- SideNav footer area (seems to be tied to harvester) -->\n    <div\n      v-if=\"showProductFooter\"\n      class=\"footer\"\n    >\n      <!-- support link -->\n      <nuxt-link\n        :to=\"supportLink\"\n        class=\"pull-right\"\n      >\n        {{ t('nav.support', {hasSupport: true}) }}\n      </nuxt-link>\n      <!-- version number -->\n      <span\n        v-clean-tooltip=\"{content: displayVersion, placement: 'top'}\"\n        class=\"clip version text-muted\"\n      >\n        {{ displayVersion }}\n      </span>\n\n      <!-- locale selector -->\n      <span v-if=\"isSingleProduct\">\n        <v-popover\n          popover-class=\"localeSelector\"\n          placement=\"top\"\n          trigger=\"click\"\n        >\n          <a\n            data-testid=\"locale-selector\"\n            class=\"locale-chooser\"\n          >\n            {{ locale }}\n          </a>\n\n          <template slot=\"popover\">\n            <ul\n              class=\"list-unstyled dropdown\"\n              style=\"margin: -1px;\"\n            >\n              <li\n                v-for=\"(label, name) in availableLocales\"\n                :key=\"name\"\n                class=\"hand\"\n                @click=\"switchLocale(name)\"\n              >\n                {{ label }}\n              </li>\n            </ul>\n          </template>\n        </v-popover>\n      </span>\n    </div>\n    <!-- SideNav footer alternative -->\n    <div\n      v-else\n      class=\"version text-muted flex\"\n    >\n      <nuxt-link\n        v-if=\"singleProductAbout\"\n        :to=\"singleProductAbout\"\n      >\n        {{ displayVersion }}\n      </nuxt-link>\n      <template v-else>\n        <span>{{ displayVersion }}</span>\n        <span\n          v-if=\"isVirtualCluster && isExplorer\"\n          v-tooltip=\"{content: harvesterVersion, placement: 'top'}\"\n          class=\"clip text-muted ml-5\"\n        >\n          (Harvester-{{ harvesterVersion }})\n        </span>\n      </template>\n    </div>\n  </nav>\n</template>\n\n<style lang=\"scss\" scoped>\n  .side-nav {\n    display: flex;\n    flex-direction: column;\n    .nav {\n      flex: 1;\n      overflow-y: auto;\n    }\n\n    position: relative;\n    background-color: var(--nav-bg);\n    border-right: var(--nav-border-size) solid var(--nav-border);\n    overflow-y: auto;\n\n    // h6 is used in Group element\n    ::v-deep h6 {\n      margin: 0;\n      letter-spacing: normal;\n      line-height: 15px;\n\n      A { padding-left: 0; }\n    }\n\n    .tools {\n      display: flex;\n      margin: 10px;\n      text-align: center;\n\n      A {\n        align-items: center;\n        border: 1px solid var(--border);\n        border-radius: 5px;\n        color: var(--body-text);\n        display: flex;\n        justify-content: center;\n        outline: 0;\n        flex: 1;\n        padding: 10px;\n\n        &:hover {\n          background: var(--nav-hover);\n          text-decoration: none;\n        }\n\n        > I {\n          margin-right: 4px;\n        }\n      }\n\n      &.nuxt-link-active:not(:hover) {\n        A {\n          background-color: var(--nav-active);\n        }\n      }\n    }\n\n    .version {\n      cursor: default;\n      margin: 0 10px 10px 10px;\n    }\n\n    .footer {\n      margin: 20px;\n\n      display: flex;\n      flex: 0;\n      flex-direction: row;\n      > * {\n        flex: 1;\n        color: var(--link);\n\n        &:last-child {\n          text-align: right;\n        }\n\n        &:first-child {\n          text-align: left;\n        }\n\n        text-align: center;\n      }\n\n      .version {\n        cursor: default;\n        margin: 0px;\n      }\n\n      .locale-chooser {\n        cursor: pointer;\n      }\n    }\n  }\n\n  .flex {\n    display: flex;\n  }\n\n</style>\n"]}]}