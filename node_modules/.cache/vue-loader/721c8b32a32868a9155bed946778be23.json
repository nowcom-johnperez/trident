{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/catalog.cattle.io.clusterrepo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/catalog.cattle.io.clusterrepo.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgRm9vdGVyIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vRm9vdGVyJzsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgeyBSYWRpb0dyb3VwIH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9SYWRpbyc7CmltcG9ydCBOYW1lTnNEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL05hbWVOc0Rlc2NyaXB0aW9uJzsKaW1wb3J0IExhYmVscyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVscyc7CmltcG9ydCBTZWxlY3RPckNyZWF0ZUF1dGhTZWNyZXQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9TZWxlY3RPckNyZWF0ZUF1dGhTZWNyZXQnOwppbXBvcnQgeyBOQU1FU1BBQ0UgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ3J1Q2F0YWxvZ1JlcG8nLAoKICBjb21wb25lbnRzOiB7CiAgICBGb290ZXIsCiAgICBSYWRpb0dyb3VwLAogICAgTGFiZWxlZElucHV0LAogICAgTmFtZU5zRGVzY3JpcHRpb24sCiAgICBMYWJlbHMsCiAgICBTZWxlY3RPckNyZWF0ZUF1dGhTZWNyZXQsCiAgfSwKCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsgaXNHaXQ6ICEhdGhpcy52YWx1ZS5zcGVjLmdpdFJlcG8gfTsKICB9LAoKICBjb21wdXRlZDogewogICAgc2VjcmV0TmFtZXNwYWNlKCkgewogICAgICBjb25zdCB0cnlOYW1lcyA9IFsnY2F0dGxlLXN5c3RlbScsICdkZWZhdWx0J107CgogICAgICBmb3IgKCBjb25zdCBuYW1lIG9mIHRyeU5hbWVzICkgewogICAgICAgIGlmICggdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9ieUlkJ10oTkFNRVNQQUNFLCBuYW1lKSApIHsKICAgICAgICAgIHJldHVybiBuYW1lOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvYWxsJ10oTkFNRVNQQUNFKVswXT8uaWQ7CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["catalog.cattle.io.clusterrepo.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"catalog.cattle.io.clusterrepo.vue","sourceRoot":"node_modules/@rancher/shell/edit","sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Footer from '@shell/components/form/Footer';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { RadioGroup } from '@components/Form/Radio';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport Labels from '@shell/components/form/Labels';\nimport SelectOrCreateAuthSecret from '@shell/components/form/SelectOrCreateAuthSecret';\nimport { NAMESPACE } from '@shell/config/types';\n\nexport default {\n  name: 'CruCatalogRepo',\n\n  components: {\n    Footer,\n    RadioGroup,\n    LabeledInput,\n    NameNsDescription,\n    Labels,\n    SelectOrCreateAuthSecret,\n  },\n\n  mixins: [CreateEditView],\n\n  data() {\n    return { isGit: !!this.value.spec.gitRepo };\n  },\n\n  computed: {\n    secretNamespace() {\n      const tryNames = ['cattle-system', 'default'];\n\n      for ( const name of tryNames ) {\n        if ( this.$store.getters['cluster/byId'](NAMESPACE, name) ) {\n          return name;\n        }\n      }\n\n      return this.$store.getters['cluster/all'](NAMESPACE)[0]?.id;\n    }\n  },\n};\n</script>\n\n<template>\n  <form>\n    <NameNsDescription\n      v-model=\"value\"\n      :mode=\"mode\"\n      :namespaced=\"isNamespaced\"\n    />\n\n    <h2>{{ t('catalog.repo.target.label') }}</h2>\n    <div class=\"row mb-10\">\n      <div class=\"col span-6\">\n        <RadioGroup\n          v-model=\"isGit\"\n          name=\"isGit\"\n          :options=\"[false, true]\"\n          :labels=\"[t('catalog.repo.target.http'), t('catalog.repo.target.git')]\"\n          :mode=\"mode\"\n          data-testid=\"clusterrepo-radio-input\"\n        />\n      </div>\n    </div>\n\n    <div\n      v-if=\"isGit\"\n      class=\"row mb-10\"\n    >\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model.trim=\"value.spec.gitRepo\"\n          :required=\"true\"\n          :label=\"t('catalog.repo.gitRepo.label')\"\n          :placeholder=\"t('catalog.repo.gitRepo.placeholder', null, true)\"\n          :mode=\"mode\"\n          data-testid=\"clusterrepo-git-repo-input\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model.trim=\"value.spec.gitBranch\"\n          :sub-label=\"!value.spec.gitBranch ? t('catalog.repo.gitBranch.defaultMessage', null, true) : undefined\"\n          :label=\"t('catalog.repo.gitBranch.label')\"\n          :placeholder=\"t('catalog.repo.gitBranch.placeholder', null, true)\"\n          :mode=\"mode\"\n          data-testid=\"clusterrepo-git-branch-input\"\n        />\n      </div>\n    </div>\n\n    <LabeledInput\n      v-else\n      v-model.trim=\"value.spec.url\"\n      :required=\"true\"\n      :label=\"t('catalog.repo.url.label')\"\n      :placeholder=\"t('catalog.repo.url.placeholder', null, true)\"\n      :mode=\"mode\"\n    />\n\n    <SelectOrCreateAuthSecret\n      v-model=\"value.spec.clientSecret\"\n      :register-before-hook=\"registerBeforeHook\"\n      :namespace=\"secretNamespace\"\n      :limit-to-namespace=\"false\"\n      generate-name=\"clusterrepo-auth-\"\n    />\n\n    <Labels\n      default-section-class=\"mt-20\"\n      :value=\"value\"\n      :mode=\"mode\"\n      :display-side-by-side=\"false\"\n    />\n\n    <Footer\n      :mode=\"mode\"\n      :errors=\"errors\"\n      @save=\"save\"\n      @done=\"done\"\n    />\n  </form>\n</template>\n"]}]}