{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/Weight.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/formatter/Weight.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IExhYmVsZWRJbnB1dCB9LAoKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgTnVtYmVyLAogICAgICBkZWZhdWx0OiAwLAogICAgfSwKICAgIHJvdzogewogICAgICB0eXBlOiAgICAgT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGNvbDogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9CiAgICB9LAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4geyBuZXdQZXJjZW50OiBudWxsIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsRm9yQXBwKCkgewogICAgICByZXR1cm4gdGhpcy5yb3cud2VpZ2h0c09mQXBwOwogICAgfSwKCiAgICBkZXNpcmVkKCkgewogICAgICBjb25zdCBkZXNpcmVkID0gdGhpcy5yb3cud2VpZ2h0cy5kZXNpcmVkOwogICAgICBjb25zdCB0b3RhbCA9IHRoaXMudG90YWxGb3JBcHAuZGVzaXJlZDsKCiAgICAgIGlmICggdG90YWwgPT09IDAgKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KCiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGRlc2lyZWQgLyB0b3RhbCAqIDEwMDApIC8gMTA7CiAgICB9LAoKICAgIGN1cnJlbnQoKSB7CiAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLnJvdy53ZWlnaHRzLmN1cnJlbnQ7CiAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy50b3RhbEZvckFwcC5jdXJyZW50OwoKICAgICAgaWYgKCB0b3RhbCA9PT0gMCApIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQoKICAgICAgcmV0dXJuIE1hdGgucm91bmQoY3VycmVudCAvIHRvdGFsICogMTAwMCkgLyAxMDsKICAgIH0sCgogICAgc2hvd0Rlc2lyZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQgIT09IHRoaXMuZGVzaXJlZDsKICAgIH0sCgogICAgY2FuQWRqdXN0KCkgewogICAgICByZXR1cm4gdGhpcy50b3RhbEZvckFwcC5jb3VudCA+IDEgJiYgdGhpcy5jdXJyZW50ICE9PSAxMDA7CiAgICB9LAoKICAgIG5ld1dlaWdodFZhbGlkKCkgewogICAgICBjb25zdCBwZXJjZW50ID0gdGhpcy5uZXdQZXJjZW50OwoKICAgICAgcmV0dXJuIHBlcmNlbnQgPj0gMCAmJiBwZXJjZW50IDw9IDEwMDsKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBvblNob3duKCkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLm5ld1BlcmNlbnQuZm9jdXMoKTsKICAgICAgfSwgMjUwKTsKICAgIH0sCgogICAgc2V0V2VpZ2h0KCkgewogICAgICBjb25zdCBuZXdQZXJjZW50ID0gdGhpcy5uZXdQZXJjZW50IHx8IDA7CgogICAgICB0aGlzLnJvdy5zYXZlV2VpZ2h0UGVyY2VudChuZXdQZXJjZW50KTsKICAgIH0sCiAgfQp9Owo="},{"version":3,"sources":["Weight.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"Weight.vue","sourceRoot":"node_modules/@rancher/shell/components/formatter","sourcesContent":["<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\n\nexport default {\n  components: { LabeledInput },\n\n  props: {\n    value: {\n      type:    Number,\n      default: 0,\n    },\n    row: {\n      type:     Object,\n      required: true\n    },\n    col: {\n      type:    Object,\n      default: () => {}\n    },\n  },\n\n  data() {\n    return { newPercent: null };\n  },\n\n  computed: {\n    totalForApp() {\n      return this.row.weightsOfApp;\n    },\n\n    desired() {\n      const desired = this.row.weights.desired;\n      const total = this.totalForApp.desired;\n\n      if ( total === 0 ) {\n        return 0;\n      }\n\n      return Math.round(desired / total * 1000) / 10;\n    },\n\n    current() {\n      const current = this.row.weights.current;\n      const total = this.totalForApp.current;\n\n      if ( total === 0 ) {\n        return 0;\n      }\n\n      return Math.round(current / total * 1000) / 10;\n    },\n\n    showDesired() {\n      return this.current !== this.desired;\n    },\n\n    canAdjust() {\n      return this.totalForApp.count > 1 && this.current !== 100;\n    },\n\n    newWeightValid() {\n      const percent = this.newPercent;\n\n      return percent >= 0 && percent <= 100;\n    }\n  },\n\n  methods: {\n    onShown() {\n      setTimeout(() => {\n        this.$refs.newPercent.focus();\n      }, 250);\n    },\n\n    setWeight() {\n      const newPercent = this.newPercent || 0;\n\n      this.row.saveWeightPercent(newPercent);\n    },\n  }\n};\n</script>\n\n<template>\n  <v-popover\n    :class=\"{'hand': canAdjust}\"\n    placement=\"top\"\n    :open-group=\"row.id\"\n    :trigger=\"canAdjust ? 'click' : 'manual'\"\n    offset=\"1\"\n    @apply-show=\"onShown\"\n  >\n    <div>\n      <span\n        v-if=\"totalForApp.count === 1\"\n        class=\"text-muted\"\n      >\n        &mdash;\n      </span>\n      <span\n        v-else\n        v-trim-whitespace\n        :class=\"{'text-muted': current === 0 && desired === 0}\"\n      >\n        {{ current }}%\n      </span>\n      <div v-if=\"showDesired\">\n        <i class=\"icon icon-chevron-right\" />\n        {{ desired }}%\n      </div>\n    </div>\n\n    <template #popover>\n      <div\n        v-if=\"canAdjust\"\n        class=\"text-center pb-5\"\n      >\n        <form>\n          <LabeledInput\n            ref=\"newPercent\"\n            v-model.number=\"newPercent\"\n            label=\"Target\"\n            size=\"4\"\n            min=\"0\"\n            max=\"100\"\n            class=\"text-left\"\n            style=\"width: 100px;\"\n          >\n            <template #suffix>\n              <div class=\"addon\">\n                %\n              </div>\n            </template>\n          </LabeledInput>\n          <button\n            type=\"submit\"\n            class=\"btn bg-primary btn-sm mt-20\"\n            :disabled=\"!newWeightValid\"\n            @click.stop.prevent=\"setWeight\"\n          >\n            Set\n          </button>\n        </form>\n      </div>\n    </template>\n  </v-popover>\n</template>\n"]}]}