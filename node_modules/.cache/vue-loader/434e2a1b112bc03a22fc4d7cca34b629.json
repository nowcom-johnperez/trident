{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/storage/ephemeralVolume/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/storage/ephemeralVolume/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IE1vdW50IGZyb20gJ0BzaGVsbC9lZGl0L3dvcmtsb2FkL3N0b3JhZ2UvTW91bnQnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTGFiZWxlZFNlbGVjdCwgTGFiZWxlZElucHV0LCBDaGVja2JveCwgTW91bnQKICB9LAoKICBwcm9wczogewogICAgcG9kU3BlYzogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NyZWF0ZScKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkcml2ZXJDb21wb25lbnQoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoYEBzaGVsbC9lZGl0L3dvcmtsb2FkL3N0b3JhZ2UvZXBoZW1lcmFsVm9sdW1lLyR7IHRoaXMudmFsdWUuY3NpLmRyaXZlciB9YCkuZGVmYXVsdDsKICAgICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCgogICAgZHJpdmVyT3B0cygpIHsKICAgICAgcmV0dXJuIHJlcXVpcmUuY29udGV4dCgnQHNoZWxsL2VkaXQvd29ya2xvYWQvc3RvcmFnZS9lcGhlbWVyYWxWb2x1bWUnLCB0cnVlLCAvXi4qXC52dWUkLykua2V5cygpLm1hcCgocGF0aCkgPT4gcGF0aC5yZXBsYWNlKC8oXC5cLyl8KC52dWUpL2csICcnKSkuZmlsdGVyKChmaWxlKSA9PiBmaWxlICE9PSAnaW5kZXgnKTsKICAgIH0sCgogICAgLi4ubWFwR2V0dGVycyh7IHQ6ICdpMThuL3QnIH0pCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/edit/workload/storage/ephemeralVolume","sourcesContent":["<script>\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport Mount from '@shell/edit/workload/storage/Mount';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: {\n    LabeledSelect, LabeledInput, Checkbox, Mount\n  },\n\n  props: {\n    podSpec: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    mode: {\n      type:    String,\n      default: 'create'\n    }\n  },\n  computed: {\n    driverComponent() {\n      try {\n        return require(`@shell/edit/workload/storage/ephemeralVolume/${ this.value.csi.driver }`).default;\n      } catch {\n        return null;\n      }\n    },\n\n    driverOpts() {\n      return require.context('@shell/edit/workload/storage/ephemeralVolume', true, /^.*\\.vue$/).keys().map((path) => path.replace(/(\\.\\/)|(.vue)/g, '')).filter((file) => file !== 'index');\n    },\n\n    ...mapGetters({ t: 'i18n/t' })\n  },\n};\n</script>\n\n<template>\n  <div>\n    <button\n      v-if=\"mode!=='view'\"\n      type=\"button\"\n      class=\"role-link btn btn-lg remove-vol\"\n      @click=\"$emit('remove')\"\n    >\n      <i class=\"icon icon-x\" />\n    </button>\n    <div>\n      <h3>{{ t('workload.storage.subtypes.csi') }}</h3>\n      <div class=\"row mb-10\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"value.csi.driver\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.driver')\"\n            :options=\"driverOpts\"\n            :get-option-label=\"opt=>t(`workload.storage.csi.drivers.'${opt}'`)\"\n          />\n        </div>\n      </div>\n      <div\n        v-if=\"value.csi.driver && driverComponent\"\n        class=\"mb-10\"\n      >\n        <component\n          :is=\"driverComponent\"\n          :value=\"value.csi.volumeAttributes\"\n          :mode=\"mode\"\n        />\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.csi.fsType\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.csi.fsType')\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <Checkbox\n            v-model=\"value.csi.readOnly\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.readOnly')\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"spacer\" />\n    <Mount\n      :pod-spec=\"podSpec\"\n      :name=\"value.name\"\n      :mode=\"mode\"\n    />\n  </div>\n</template>\n"]}]}