{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/settings/performance.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/settings/performance.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgQXN5bmNCdXR0b24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQXN5bmNCdXR0b24nOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgeyBMYWJlbGVkSW5wdXQgfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0xhYmVsZWRJbnB1dCc7CmltcG9ydCB7IE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgREVGQVVMVF9QRVJGX1NFVFRJTkcsIFNFVFRJTkcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NldHRpbmdzJzsKaW1wb3J0IHsgX0VESVQsIF9WSUVXIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgVW5pdElucHV0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vVW5pdElucHV0JzsKCmNvbnN0IGluY29tcGF0aWJsZSA9IHsKICBpbmNyZW1lbnRhbExvYWRpbmc6IFsnZm9yY2VOc0ZpbHRlclYyJ10sCiAgbWFudWFsUmVmcmVzaDogICAgICBbJ2ZvcmNlTnNGaWx0ZXJWMiddLAogIGZvcmNlTnNGaWx0ZXJWMjogICAgWydpbmNyZW1lbnRhbExvYWRpbmcnLCAnbWFudWFsUmVmcmVzaCddLAp9OwoKY29uc3QgbDEwbiA9IHsKICBpbmNyZW1lbnRhbExvYWRpbmc6ICdpbmNyZW1lbnRhbExvYWQnLAogIG1hbnVhbFJlZnJlc2g6ICAgICAgJ21hbnVhbFJlZnJlc2gnLAogIGZvcmNlTnNGaWx0ZXJWMjogICAgJ25zRmlsdGVyaW5nJywKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBsYXlvdXQ6ICAgICAnYXV0aGVudGljYXRlZCcsCiAgY29tcG9uZW50czogewogICAgQ2hlY2tib3gsCiAgICBMb2FkaW5nLAogICAgQXN5bmNCdXR0b24sCiAgICBCYW5uZXIsCiAgICBMYWJlbGVkSW5wdXQsCiAgICBVbml0SW5wdXQKICB9LAoKICBhc3luYyBmZXRjaCgpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMudWlQZXJmU2V0dGluZyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdtYW5hZ2VtZW50L2ZpbmQnLCB7IHR5cGU6IE1BTkFHRU1FTlQuU0VUVElORywgaWQ6IFNFVFRJTkcuVUlfUEVSRk9STUFOQ0UgfSk7CiAgICB9IGNhdGNoIHsKICAgICAgdGhpcy51aVBlcmZTZXR0aW5nID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvY3JlYXRlJywgeyB0eXBlOiBNQU5BR0VNRU5ULlNFVFRJTkcgfSwgeyByb290OiB0cnVlIH0pOwogICAgICAvLyBTZXR0aW5nIGRvZXMgbm90IGV4aXN0IC0gY3JlYXRlIGEgbmV3IG9uZQogICAgICB0aGlzLnVpUGVyZlNldHRpbmcudmFsdWUgPSBKU09OLnN0cmluZ2lmeShERUZBVUxUX1BFUkZfU0VUVElORyk7CiAgICAgIHRoaXMudWlQZXJmU2V0dGluZy5tZXRhZGF0YSA9IHsgbmFtZTogU0VUVElORy5VSV9QRVJGT1JNQU5DRSB9OwogICAgfQoKICAgIHRyeSB7CiAgICAgIHRoaXMuYXV0aFVzZXJUVEwgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaChgbWFuYWdlbWVudC9maW5kYCwgeyB0eXBlOiBNQU5BR0VNRU5ULlNFVFRJTkcsIGlkOiBTRVRUSU5HLkFVVEhfVVNFUl9TRVNTSU9OX1RUTF9NSU5VVEVTIH0pOwogICAgfSBjYXRjaCB7fQoKICAgIGNvbnN0IHNWYWx1ZSA9IHRoaXMudWlQZXJmU2V0dGluZz8udmFsdWUgfHwgSlNPTi5zdHJpbmdpZnkoREVGQVVMVF9QRVJGX1NFVFRJTkcpOwoKICAgIHRoaXMudmFsdWUgPSB7CiAgICAgIC4uLkRFRkFVTFRfUEVSRl9TRVRUSU5HLAogICAgICAuLi5KU09OLnBhcnNlKHNWYWx1ZSksCiAgICB9OwoKICAgIHRoaXMuZ2NTdGFydGVkRW5hYmxlZCA9IHRoaXMudmFsdWUuZ2FyYmFnZUNvbGxlY3Rpb24uZW5hYmxlZDsKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdWlQZXJmU2V0dGluZzogICAgICAgICAgICAgIERFRkFVTFRfUEVSRl9TRVRUSU5HLAogICAgICBhdXRoVXNlclRUTDogICAgICAgICAgICAgICAgbnVsbCwKICAgICAgYmFubmVyVmFsOiAgICAgICAgICAgICAgICAgIHt9LAogICAgICB2YWx1ZTogICAgICAgICAgICAgICAgICAgICAge30sCiAgICAgIGVycm9yczogICAgICAgICAgICAgICAgICAgICBbXSwKICAgICAgZ2NTdGFydGVkRW5hYmxlZDogICAgICAgICAgIG51bGwsCiAgICAgIGlzSW5hY3Rpdml0eVRocmVzaG9sZFZhbGlkOiBmYWxzZSwKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIG1vZGUoKSB7CiAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbYG1hbmFnZW1lbnQvc2NoZW1hRm9yYF0oTUFOQUdFTUVOVC5TRVRUSU5HKTsKCiAgICAgIHJldHVybiBzY2hlbWE/LnJlc291cmNlTWV0aG9kcz8uaW5jbHVkZXMoJ1BVVCcpID8gX0VESVQgOiBfVklFVzsKICAgIH0sCgogICAgY2FuU2F2ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUuaW5hY3Rpdml0eS5lbmFibGVkID8gdGhpcy5pc0luYWN0aXZpdHlUaHJlc2hvbGRWYWxpZCA6IHRydWU7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVJbmFjdGl2aXR5VGhyZXNob2xkKHZhbHVlKSB7CiAgICAgIGlmICghdGhpcy5hdXRoVXNlclRUTD8udmFsdWUpIHsKICAgICAgICB0aGlzLmlzSW5hY3Rpdml0eVRocmVzaG9sZFZhbGlkID0gdHJ1ZTsKCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAocGFyc2VJbnQodmFsdWUpID4gcGFyc2VJbnQodGhpcy5hdXRoVXNlclRUTD8udmFsdWUpKSB7CiAgICAgICAgdGhpcy5pc0luYWN0aXZpdHlUaHJlc2hvbGRWYWxpZCA9IGZhbHNlOwoKICAgICAgICByZXR1cm4gdGhpcy50KCdwZXJmb3JtYW5jZS5pbmFjdGl2aXR5LmF1dGhVc2VyVFRMJywgeyBjdXJyZW50OiB0aGlzLmF1dGhVc2VyVFRMLnZhbHVlIH0pOwogICAgICB9CiAgICAgIHRoaXMuaXNJbmFjdGl2aXR5VGhyZXNob2xkVmFsaWQgPSB0cnVlOwogICAgfSwKCiAgICBhc3luYyBzYXZlKGJ0bkNCKSB7CiAgICAgIHRoaXMudWlQZXJmU2V0dGluZy52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUpOwogICAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCB0aGlzLnVpUGVyZlNldHRpbmcuc2F2ZSgpOwoKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2NQcmVmZXJlbmNlc1VwZGF0ZWQnLCB7CiAgICAgICAgICBwcmV2aW91c2x5RW5hYmxlZDogdGhpcy5nY1N0YXJ0ZWRFbmFibGVkLAogICAgICAgICAgbmV3UHJlZmVyZW5jZXM6ICAgIHRoaXMudmFsdWUuZ2FyYmFnZUNvbGxlY3Rpb24KICAgICAgICB9LCB7IHJvb3Q6IHRydWUgfSk7CgogICAgICAgIHRoaXMuZ2NTdGFydGVkRW5hYmxlZCA9IHRoaXMudmFsdWUuZ2FyYmFnZUNvbGxlY3Rpb24uZW5hYmxlZDsKICAgICAgICBidG5DQih0cnVlKTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlcnIpOwogICAgICAgIGJ0bkNCKGZhbHNlKTsKICAgICAgfQogICAgfSwKCiAgICBjb21wYXRpYmxlV2FybmluZyhwcm9wZXJ0eSwgZW5hYmxlZCkgewogICAgICBpZiAoIWVuYWJsZWQpIHsKICAgICAgICAvLyBEaXNhYmxpbmcgYSBwcmVmZXJlbmNlIHdvbid0IGF1dG9tYXRpY2FsbHkgdHVybiBvbiBhbiBpbmNvbXBhdGlibGUgb25lLCBzbyBqdXN0IHNldCBhbmQgZXhpdAogICAgICAgIHRoaXMudmFsdWVbcHJvcGVydHldLmVuYWJsZWQgPSBmYWxzZTsKCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyBXZSdyZSBlbmFibGluZyBhIHByZWZlcmVuY2UuIEFyZSB0aGVyZSBhbnkgaW5jb21hcHRpYmxlIHByZWZlcmVuY2VzPwogICAgICBpZiAoKGluY29tcGF0aWJsZVtwcm9wZXJ0eV0gfHwgW10pLmV2ZXJ5KChwKSA9PiAhdGhpcy52YWx1ZVtwXS5lbmFibGVkKSkgewogICAgICAgIC8vIE5vLCBqdXN0IHNldCBhbmQgZXhpdAogICAgICAgIHRoaXMudmFsdWVbcHJvcGVydHldLmVuYWJsZWQgPSB0cnVlOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIEluY29tcGF0aWJsZSBwcmVmZXJlbmNlcyBmb3VuZCwgc28gY29uZmlybSB3aXRoIHVzZXIgYmVmb3JlIGFwcGx5aW5nCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL3Byb21wdE1vZGFsJywgewogICAgICAgIGNvbXBvbmVudDogICAgICAnR2VuZXJpY1Byb21wdCcsCiAgICAgICAgY29tcG9uZW50UHJvcHM6IHsKICAgICAgICAgIGFwcGx5TW9kZTogICAnZW5hYmxlJywKICAgICAgICAgIGFwcGx5QWN0aW9uOiAoYnV0dG9uRG9uZSkgPT4gewogICAgICAgICAgICB0aGlzLnZhbHVlW3Byb3BlcnR5XS5lbmFibGVkID0gdHJ1ZTsKICAgICAgICAgICAgKGluY29tcGF0aWJsZVtwcm9wZXJ0eV0gfHwgW10pLmZvckVhY2goKGluY29tcGF0aWJsZSkgPT4gewogICAgICAgICAgICAgIHRoaXMudmFsdWVbaW5jb21wYXRpYmxlXS5lbmFibGVkID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBidXR0b25Eb25lKHRydWUpOwogICAgICAgICAgfSwKICAgICAgICAgIHRpdGxlOiB0aGlzLnQoJ3Byb21wdFJlbW92ZS50aXRsZScsIHt9LCB0cnVlKSwKICAgICAgICAgIGJvZHk6ICB0aGlzLnQoYHBlcmZvcm1hbmNlLiR7IGwxMG5bcHJvcGVydHldIH0uaW5jb21wYXRpYmxlRGVzY3JpcHRpb25gLCB7fSwgdHJ1ZSksCiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["performance.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"performance.vue","sourceRoot":"node_modules/@rancher/shell/pages/c/_cluster/settings","sourcesContent":["<script>\nimport { Checkbox } from '@components/Form/Checkbox';\nimport Loading from '@shell/components/Loading';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Banner } from '@components/Banner';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { DEFAULT_PERF_SETTING, SETTING } from '@shell/config/settings';\nimport { _EDIT, _VIEW } from '@shell/config/query-params';\nimport UnitInput from '@shell/components/form/UnitInput';\n\nconst incompatible = {\n  incrementalLoading: ['forceNsFilterV2'],\n  manualRefresh:      ['forceNsFilterV2'],\n  forceNsFilterV2:    ['incrementalLoading', 'manualRefresh'],\n};\n\nconst l10n = {\n  incrementalLoading: 'incrementalLoad',\n  manualRefresh:      'manualRefresh',\n  forceNsFilterV2:    'nsFiltering',\n};\n\nexport default {\n  layout:     'authenticated',\n  components: {\n    Checkbox,\n    Loading,\n    AsyncButton,\n    Banner,\n    LabeledInput,\n    UnitInput\n  },\n\n  async fetch() {\n    try {\n      this.uiPerfSetting = await this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.UI_PERFORMANCE });\n    } catch {\n      this.uiPerfSetting = await this.$store.dispatch('management/create', { type: MANAGEMENT.SETTING }, { root: true });\n      // Setting does not exist - create a new one\n      this.uiPerfSetting.value = JSON.stringify(DEFAULT_PERF_SETTING);\n      this.uiPerfSetting.metadata = { name: SETTING.UI_PERFORMANCE };\n    }\n\n    try {\n      this.authUserTTL = await this.$store.dispatch(`management/find`, { type: MANAGEMENT.SETTING, id: SETTING.AUTH_USER_SESSION_TTL_MINUTES });\n    } catch {}\n\n    const sValue = this.uiPerfSetting?.value || JSON.stringify(DEFAULT_PERF_SETTING);\n\n    this.value = {\n      ...DEFAULT_PERF_SETTING,\n      ...JSON.parse(sValue),\n    };\n\n    this.gcStartedEnabled = this.value.garbageCollection.enabled;\n  },\n\n  data() {\n    return {\n      uiPerfSetting:              DEFAULT_PERF_SETTING,\n      authUserTTL:                null,\n      bannerVal:                  {},\n      value:                      {},\n      errors:                     [],\n      gcStartedEnabled:           null,\n      isInactivityThresholdValid: false,\n    };\n  },\n\n  computed: {\n    mode() {\n      const schema = this.$store.getters[`management/schemaFor`](MANAGEMENT.SETTING);\n\n      return schema?.resourceMethods?.includes('PUT') ? _EDIT : _VIEW;\n    },\n\n    canSave() {\n      return this.value.inactivity.enabled ? this.isInactivityThresholdValid : true;\n    }\n  },\n\n  methods: {\n    validateInactivityThreshold(value) {\n      if (!this.authUserTTL?.value) {\n        this.isInactivityThresholdValid = true;\n\n        return;\n      }\n\n      if (parseInt(value) > parseInt(this.authUserTTL?.value)) {\n        this.isInactivityThresholdValid = false;\n\n        return this.t('performance.inactivity.authUserTTL', { current: this.authUserTTL.value });\n      }\n      this.isInactivityThresholdValid = true;\n    },\n\n    async save(btnCB) {\n      this.uiPerfSetting.value = JSON.stringify(this.value);\n      this.errors = [];\n\n      try {\n        await this.uiPerfSetting.save();\n\n        this.$store.dispatch('gcPreferencesUpdated', {\n          previouslyEnabled: this.gcStartedEnabled,\n          newPreferences:    this.value.garbageCollection\n        }, { root: true });\n\n        this.gcStartedEnabled = this.value.garbageCollection.enabled;\n        btnCB(true);\n      } catch (err) {\n        this.errors.push(err);\n        btnCB(false);\n      }\n    },\n\n    compatibleWarning(property, enabled) {\n      if (!enabled) {\n        // Disabling a preference won't automatically turn on an incompatible one, so just set and exit\n        this.value[property].enabled = false;\n\n        return;\n      }\n\n      // We're enabling a preference. Are there any incomaptible preferences?\n      if ((incompatible[property] || []).every((p) => !this.value[p].enabled)) {\n        // No, just set and exit\n        this.value[property].enabled = true;\n\n        return;\n      }\n\n      // Incompatible preferences found, so confirm with user before applying\n      this.$store.dispatch('cluster/promptModal', {\n        component:      'GenericPrompt',\n        componentProps: {\n          applyMode:   'enable',\n          applyAction: (buttonDone) => {\n            this.value[property].enabled = true;\n            (incompatible[property] || []).forEach((incompatible) => {\n              this.value[incompatible].enabled = false;\n            });\n            buttonDone(true);\n          },\n          title: this.t('promptRemove.title', {}, true),\n          body:  this.t(`performance.${ l10n[property] }.incompatibleDescription`, {}, true),\n        },\n      });\n    }\n  },\n};\n</script>\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <h1 class=\"mb-20\">\n      {{ t('performance.label') }}\n    </h1>\n    <div>\n      <div class=\"ui-perf-setting\">\n        <!-- Inactivity -->\n        <div class=\"mt-20\">\n          <h2>{{ t('performance.inactivity.title') }}</h2>\n          <p>{{ t('performance.inactivity.description') }}</p>\n          <Checkbox\n            v-model=\"value.inactivity.enabled\"\n            :mode=\"mode\"\n            :label=\"t('performance.inactivity.checkboxLabel')\"\n            class=\"mt-10 mb-20\"\n            :primary=\"true\"\n          />\n          <div class=\"ml-20\">\n            <LabeledInput\n              v-model=\"value.inactivity.threshold\"\n              data-testid=\"inactivity-threshold\"\n              :mode=\"mode\"\n              :label=\"t('performance.inactivity.inputLabel')\"\n              :disabled=\"!value.inactivity.enabled\"\n              class=\"input mb-10\"\n              type=\"number\"\n              min=\"0\"\n              :rules=\"[validateInactivityThreshold]\"\n            />\n            <span\n              v-clean-html=\"t('performance.inactivity.information', {}, true)\"\n              :class=\"{ 'text-muted': !value.incrementalLoading.enabled }\"\n            />\n          </div>\n        </div>\n        <!-- Websocket Notifications -->\n        <div class=\"mt-40\">\n          <h2>{{ t('performance.websocketNotification.label') }}</h2>\n          <p>{{ t('performance.websocketNotification.description') }}</p>\n          <Checkbox\n            v-model=\"value.disableWebsocketNotification\"\n            :mode=\"mode\"\n            :label=\"t('performance.websocketNotification.checkboxLabel')\"\n            class=\"mt-10 mb-20\"\n            :primary=\"true\"\n          />\n        </div>\n        <!-- Incremental Loading -->\n        <div class=\"mt-40\">\n          <h2>{{ t('performance.incrementalLoad.label') }}</h2>\n          <p>{{ t('performance.incrementalLoad.description') }}</p>\n          <Checkbox\n            :value=\"value.incrementalLoading.enabled\"\n            :mode=\"mode\"\n            :label=\"t('performance.incrementalLoad.checkboxLabel')\"\n            class=\"mt-10 mb-20\"\n            :primary=\"true\"\n            @input=\"compatibleWarning('incrementalLoading', $event)\"\n          />\n          <div class=\"ml-20\">\n            <p :class=\"{ 'text-muted': !value.incrementalLoading.enabled }\">\n              {{ t('performance.incrementalLoad.setting') }}\n            </p>\n            <LabeledInput\n              v-model=\"value.incrementalLoading.threshold\"\n              :mode=\"mode\"\n              :label=\"t('performance.incrementalLoad.inputLabel')\"\n              :disabled=\"!value.incrementalLoading.enabled\"\n              class=\"input\"\n              type=\"number\"\n              min=\"0\"\n            />\n          </div>\n        </div>\n        <!-- Enable manual refresh list views -->\n        <div class=\"mt-40\">\n          <h2 v-t=\"'performance.manualRefresh.label'\" />\n          <p>{{ t('performance.manualRefresh.description') }}</p>\n          <Banner\n            color=\"error\"\n            label-key=\"performance.experimental\"\n          />\n          <Checkbox\n            :value=\"value.manualRefresh.enabled\"\n            :mode=\"mode\"\n            :label=\"t('performance.manualRefresh.checkboxLabel')\"\n            class=\"mt-10 mb-20\"\n            :primary=\"true\"\n            @input=\"compatibleWarning('manualRefresh', $event)\"\n          />\n          <div class=\"ml-20\">\n            <p :class=\"{ 'text-muted': !value.manualRefresh.enabled }\">\n              {{ t('performance.manualRefresh.setting') }}\n            </p>\n            <LabeledInput\n              v-model.number=\"value.manualRefresh.threshold\"\n              :mode=\"mode\"\n              :label=\"t('performance.manualRefresh.inputLabel')\"\n              :disabled=\"!value.manualRefresh.enabled\"\n              class=\"input\"\n              type=\"number\"\n              min=\"0\"\n            />\n          </div>\n        </div>\n        <!-- Enable GC of resources from store -->\n        <div class=\"mt-40\">\n          <h2 v-t=\"'performance.gc.label'\" />\n          <p>{{ t('performance.gc.description') }}</p>\n          <Banner\n            color=\"error\"\n            label-key=\"performance.experimental\"\n          />\n          <Checkbox\n            v-model=\"value.garbageCollection.enabled\"\n            :mode=\"mode\"\n            :label=\"t('performance.gc.checkboxLabel')\"\n            class=\"mt-10 mb-20\"\n            :primary=\"true\"\n          />\n          <div class=\"ml-20\">\n            <h3>{{ t('performance.gc.whenRun.description') }}</h3>\n            <div class=\"ml-20 mb-10\">\n              <Checkbox\n                v-model=\"value.garbageCollection.enabledInterval\"\n                :mode=\"mode\"\n                :class=\"{ 'text-muted': !value.garbageCollection.enabled }\"\n                :label=\"t('performance.gc.whenRun.intervalCheckBox.label')\"\n                class=\"mt-10 mb-10\"\n                :disabled=\"!value.garbageCollection.enabled\"\n                :primary=\"true\"\n              />\n              <div class=\"ml-20\">\n                <UnitInput\n                  v-model=\"value.garbageCollection.interval\"\n                  :mode=\"mode\"\n                  :suffix=\"t('suffix.seconds', { count: value.garbageCollection.interval })\"\n                  :label=\"t('performance.gc.whenRun.interval.inputLabel')\"\n                  :disabled=\"!value.garbageCollection.enabled || !value.garbageCollection.enabledInterval\"\n                  min=\"30\"\n                  class=\"input\"\n                />\n              </div>\n              <Checkbox\n                v-model=\"value.garbageCollection.enabledOnNavigate\"\n                :mode=\"mode\"\n                :class=\"{ 'text-muted': !value.garbageCollection.enabled }\"\n                :label=\"t('performance.gc.whenRun.route.description')\"\n                class=\"mt-20 mb-10\"\n                :disabled=\"!value.garbageCollection.enabled\"\n                :primary=\"true\"\n              />\n            </div>\n            <h3>{{ t('performance.gc.howRun.description') }}</h3>\n            <div class=\"ml-20\">\n              <p :class=\"{ 'text-muted': !value.garbageCollection.enabled }\">\n                {{ t('performance.gc.howRun.age.description', {}, true) }}\n              </p>\n              <UnitInput\n                v-model=\"value.garbageCollection.ageThreshold\"\n                :mode=\"mode\"\n                :suffix=\"t('suffix.seconds', { count: value.garbageCollection.ageThreshold })\"\n                :label=\"t('performance.gc.howRun.age.inputLabel')\"\n                :disabled=\"!value.garbageCollection.enabled\"\n                min=\"30\"\n                class=\"input\"\n              />\n              <p\n                class=\"mt-20\"\n                :class=\"{ 'text-muted': !value.garbageCollection.enabled }\"\n              >\n                {{ t('performance.gc.howRun.count.description') }}\n              </p>\n              <LabeledInput\n                v-model.number=\"value.garbageCollection.countThreshold\"\n                :mode=\"mode\"\n                :label=\"t('performance.gc.howRun.count.inputLabel')\"\n                :disabled=\"!value.garbageCollection.enabled\"\n                class=\"input\"\n                type=\"number\"\n                min=\"0\"\n              />\n            </div>\n          </div>\n        </div>\n        <!-- Force NS filter -->\n        <div class=\"mt-40\">\n          <h2>{{ t('performance.nsFiltering.label') }}</h2>\n          <p>{{ t('performance.nsFiltering.description') }}</p>\n          <Banner\n            color=\"error\"\n            label-key=\"performance.experimental\"\n          />\n          <Checkbox\n            :value=\"value.forceNsFilterV2.enabled\"\n            :mode=\"mode\"\n            :label=\"t('performance.nsFiltering.checkboxLabel')\"\n            class=\"mt-10 mb-20\"\n            :primary=\"true\"\n            @input=\"compatibleWarning('forceNsFilterV2', $event)\"\n          />\n        </div>\n        <!-- Advanced Websocket Worker -->\n        <div class=\"mt-40\">\n          <h2>{{ t('performance.advancedWorker.label') }}</h2>\n          <p>{{ t('performance.advancedWorker.description') }}</p>\n          <Banner\n            color=\"error\"\n            label-key=\"performance.experimental\"\n          />\n          <Checkbox\n            v-model=\"value.advancedWorker.enabled\"\n            :mode=\"mode\"\n            :label=\"t('performance.advancedWorker.checkboxLabel')\"\n            class=\"mt-10 mb-20\"\n            :primary=\"true\"\n          />\n        </div>\n      </div>\n    </div>\n    <template v-for=\"err in errors\">\n      <Banner\n        :key=\"err\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </template>\n    <div v-if=\"mode === 'edit'\">\n      <AsyncButton\n        data-testid=\"performance__save-btn\"\n        class=\"pull-right mt-20\"\n        mode=\"apply\"\n        :disabled=\"!canSave\"\n        @click=\"save\"\n      />\n    </div>\n  </div>\n</template>\n<style scoped lang='scss'>\n.overlay {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: var(--overlay-bg);\n  z-index: 1;\n}\n  .ui-perf-setting {\n    P {\n      line-height: 1.25;\n      margin-bottom: 10px;\n    }\n\n    .underline {\n      text-decoration: underline;\n    }\n  }\n  .input {\n    max-width: 25%;\n  }\n</style>\n"]}]}