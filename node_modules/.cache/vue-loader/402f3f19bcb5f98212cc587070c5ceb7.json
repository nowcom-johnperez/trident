{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/PodAffinity.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/PodAffinity.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgX1ZJRVcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IGdldCwgc2V0LCBpc0VtcHR5LCBjbG9uZSB9IGZyb20gJ0BzaGVsbC91dGlscy9vYmplY3QnOwppbXBvcnQgeyBQT0QsIE5PREUsIE5BTUVTUEFDRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgTWF0Y2hFeHByZXNzaW9ucyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL01hdGNoRXhwcmVzc2lvbnMnOwppbXBvcnQgTGFiZWxlZFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVsZWRTZWxlY3QnOwppbXBvcnQgeyBSYWRpb0dyb3VwIH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9SYWRpbyc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IHsgcmFuZG9tU3RyIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCB7IHNvcnRCeSB9IGZyb20gJ0BzaGVsbC91dGlscy9zb3J0JzsKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7CmltcG9ydCBBcnJheUxpc3RHcm91cGVkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vQXJyYXlMaXN0R3JvdXBlZCc7CmltcG9ydCB7IGdldFVuaXF1ZUxhYmVsS2V5cyB9IGZyb20gJ0BzaGVsbC91dGlscy9hcnJheSc7Cgpjb25zdCBOQU1FU1BBQ0VfU0VMRUNUSU9OX09QVElPTl9WQUxVRVMgPSB7CiAgUE9EOiAgICAgICdwb2QnLAogIEFMTDogICAgICAnYWxsJywKICBTRUxFQ1RFRDogJ3NlbGVjdGVkJywKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBBcnJheUxpc3RHcm91cGVkLCBNYXRjaEV4cHJlc3Npb25zLCBMYWJlbGVkU2VsZWN0LCBSYWRpb0dyb3VwLCBMYWJlbGVkSW5wdXQKICB9LAoKICBwcm9wczogewogICAgLy8gcG9kIHRlbXBsYXRlIHNwZWMKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6ICAgIE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKCiAgICAvLyBGaWVsZCBrZXkgb24gdGhlIHZhbHVlIG9iamVjdCB0byBzdG9yZSB0aGUgcG9kIGFmZmluaXR5IC0gdHlwaWNhbGx5IHRoaXMgaXMgJ2FmZmluaXR5JwogICAgLy8gQ2x1c3RlciBBZ2VudCBDb25maWd1cmF0aW9uIHVzZXMgYSBkaWZmZXJlbnQgZmllbGQKICAgIGZpZWxkOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogJ2FmZmluaXR5JwogICAgfSwKCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NyZWF0ZScKICAgIH0sCgogICAgbm9kZXM6IHsKICAgICAgdHlwZTogICAgQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9LAoKICAgIG5hbWVzcGFjZXM6IHsKICAgICAgdHlwZTogICAgQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCgogICAgYWxsTmFtZXNwYWNlc09wdGlvbkF2YWlsYWJsZTogewogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgdHlwZTogICAgQm9vbGVhbgogICAgfSwKCiAgICBmb3JjZUlucHV0TmFtZXNwYWNlU2VsZWN0aW9uOiB7CiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB0eXBlOiAgICBCb29sZWFuCiAgICB9LAoKICAgIHJlbW92ZUxhYmVsZWRJbnB1dE5hbWVzcGFjZUxhYmVsOiB7CiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICB0eXBlOiAgICBCb29sZWFuCiAgICB9LAoKICAgIG92ZXJ3cml0ZUxhYmVsczogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCgogICAgbG9hZGluZzogewogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgdHlwZTogICAgQm9vbGVhbgogICAgfSwKICB9LAoKICBkYXRhKCkgewogICAgaWYgKCF0aGlzLnZhbHVlW3RoaXMuZmllbGRdKSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLCB0aGlzLmZpZWxkLCB7fSk7CiAgICB9CiAgICBjb25zdCB7IHBvZEFmZmluaXR5ID0ge30sIHBvZEFudGlBZmZpbml0eSA9IHt9IH0gPSB0aGlzLnZhbHVlW3RoaXMuZmllbGRdOwogICAgY29uc3QgYWxsQWZmaW5pdHlUZXJtcyA9IFsuLi4ocG9kQWZmaW5pdHkucHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24gfHwgW10pLCAuLi4ocG9kQWZmaW5pdHkucmVxdWlyZWREdXJpbmdTY2hlZHVsaW5nSWdub3JlZER1cmluZ0V4ZWN1dGlvbiB8fCBbXSldLm1hcCgodGVybSkgPT4gewogICAgICBsZXQgb3V0ID0gY2xvbmUodGVybSk7CgogICAgICBvdXQuX2lkID0gcmFuZG9tU3RyKDQpOwogICAgICBvdXQuX2FudGkgPSBmYWxzZTsKICAgICAgaWYgKHRlcm0ucG9kQWZmaW5pdHlUZXJtKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbihvdXQsIHRlcm0ucG9kQWZmaW5pdHlUZXJtKTsKICAgICAgICBvdXQgPSB0aGlzLnBhcnNlUG9kQWZmaW5pdHlUZXJtKG91dCk7CgogICAgICAgIGRlbGV0ZSBvdXQucG9kQWZmaW5pdHlUZXJtOwogICAgICB9IGVsc2UgewogICAgICAgIG91dCA9IHRoaXMucGFyc2VQb2RBZmZpbml0eVRlcm0ob3V0KTsKICAgICAgfQoKICAgICAgcmV0dXJuIG91dDsKICAgIH0pOwogICAgY29uc3QgYWxsQW50aVRlcm1zID0gWy4uLihwb2RBbnRpQWZmaW5pdHkucHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24gfHwgW10pLCAuLi4ocG9kQW50aUFmZmluaXR5LnJlcXVpcmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24gfHwgW10pXS5tYXAoKHRlcm0pID0+IHsKICAgICAgbGV0IG91dCA9IGNsb25lKHRlcm0pOwoKICAgICAgb3V0Ll9pZCA9IHJhbmRvbVN0cig0KTsKICAgICAgb3V0Ll9hbnRpID0gdHJ1ZTsKICAgICAgaWYgKHRlcm0ucG9kQWZmaW5pdHlUZXJtKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbihvdXQsIHRlcm0ucG9kQWZmaW5pdHlUZXJtKTsKICAgICAgICBvdXQgPSB0aGlzLnBhcnNlUG9kQWZmaW5pdHlUZXJtKG91dCk7CgogICAgICAgIGRlbGV0ZSBvdXQucG9kQWZmaW5pdHlUZXJtOwogICAgICB9IGVsc2UgewogICAgICAgIG91dCA9IHRoaXMucGFyc2VQb2RBZmZpbml0eVRlcm0ob3V0KTsKICAgICAgfQoKICAgICAgcmV0dXJuIG91dDsKICAgIH0pOwoKICAgIGNvbnN0IGFsbFNlbGVjdG9yVGVybXMgPSBbLi4uYWxsQWZmaW5pdHlUZXJtcywgLi4uYWxsQW50aVRlcm1zXTsKCiAgICByZXR1cm4gewogICAgICBhbGxTZWxlY3RvclRlcm1zLAogICAgICBkZWZhdWx0V2VpZ2h0OiAgIDEsCiAgICAgIC8vIHJ1bGVzIGluIE1hdGNoRXhwcmVzc2lvbnMudnVlIGNhbiBub3QgY2F0Y2ggY2hhbmdlcyB3aGF0IGhhcHBlbnMgb24gcGFyZW50IGNvbXBvbmVudAogICAgICAvLyB3ZSBuZWVkIHJlLXJlbmRlciBpdCB2aWEga2V5IGNoYW5naW5nCiAgICAgIHJlcmVuZGVyTnVtczogICAgcmFuZG9tU3RyKDQpLAogICAgICBOQU1FU1BBQ0VfU0VMRUNUSU9OX09QVElPTl9WQUxVRVMsCiAgICAgIGRlZmF1bHRBZGRWYWx1ZTogewogICAgICAgIF9uYW1lc3BhY2VPcHRpb246IE5BTUVTUEFDRV9TRUxFQ1RJT05fT1BUSU9OX1ZBTFVFUy5QT0QsCiAgICAgICAgbWF0Y2hFeHByZXNzaW9uczogW10sCiAgICAgICAgbmFtZXNwYWNlczogICAgICAgbnVsbCwKICAgICAgICBfbmFtZXNwYWNlczogICAgICBudWxsLAogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoeyB0OiAnaTE4bi90JyB9KSwKICAgIGlzVmlldygpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gX1ZJRVc7CiAgICB9LAoKICAgIHBvZCgpIHsKICAgICAgcmV0dXJuIFBPRDsKICAgIH0sCgogICAgbm9kZSgpIHsKICAgICAgcmV0dXJuIE5PREU7CiAgICB9LAoKICAgIGxhYmVsZWRJbnB1dE5hbWVzcGFjZUxhYmVsKCkgewogICAgICByZXR1cm4gdGhpcy5yZW1vdmVMYWJlbGVkSW5wdXROYW1lc3BhY2VMYWJlbCA/ICcnIDogdGhpcy5vdmVyd3JpdGVMYWJlbHM/Lm5hbWVzcGFjZUlucHV0TGFiZWwgfHwgdGhpcy50KCd3b3JrbG9hZC5zY2hlZHVsaW5nLmFmZmluaXR5Lm1hdGNoRXhwcmVzc2lvbnMuaW5OYW1lc3BhY2VzJyk7CiAgICB9LAoKICAgIGFsbE5hbWVzcGFjZXNPcHRpb25zKCkgewogICAgICBjb25zdCBpblN0b3JlID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY3VycmVudFN0b3JlJ10oTkFNRVNQQUNFKTsKICAgICAgY29uc3QgY2hvaWNlcyA9IHRoaXMubmFtZXNwYWNlcyB8fCB0aGlzLiRzdG9yZS5nZXR0ZXJzW2AkeyBpblN0b3JlIH0vYWxsYF0oTkFNRVNQQUNFKTsKCiAgICAgIGNvbnN0IG91dCA9IHNvcnRCeShjaG9pY2VzLm1hcCgob2JqKSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxhYmVsOiBvYmoubmFtZURpc3BsYXksCiAgICAgICAgICB2YWx1ZTogb2JqLmlkLAogICAgICAgIH07CiAgICAgIH0pLCAnbGFiZWwnKTsKCiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAoKICAgIGV4aXN0aW5nTm9kZUxhYmVscygpIHsKICAgICAgcmV0dXJuIGdldFVuaXF1ZUxhYmVsS2V5cyh0aGlzLm5vZGVzKTsKICAgIH0sCgogICAgaGFzTm9kZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLm5vZGVzLmxlbmd0aDsKICAgIH0sCgogICAgbmFtZXNwYWNlU2VsZWN0aW9uT3B0aW9ucygpIHsKICAgICAgaWYgKHRoaXMuYWxsTmFtZXNwYWNlc09wdGlvbkF2YWlsYWJsZSkgewogICAgICAgIHJldHVybiBbCiAgICAgICAgICBOQU1FU1BBQ0VfU0VMRUNUSU9OX09QVElPTl9WQUxVRVMuUE9ELAogICAgICAgICAgTkFNRVNQQUNFX1NFTEVDVElPTl9PUFRJT05fVkFMVUVTLkFMTCwKICAgICAgICAgIE5BTUVTUEFDRV9TRUxFQ1RJT05fT1BUSU9OX1ZBTFVFUy5TRUxFQ1RFRAogICAgICAgIF07CiAgICAgIH0KCiAgICAgIHJldHVybiBbCiAgICAgICAgTkFNRVNQQUNFX1NFTEVDVElPTl9PUFRJT05fVkFMVUVTLlBPRCwKICAgICAgICBOQU1FU1BBQ0VfU0VMRUNUSU9OX09QVElPTl9WQUxVRVMuU0VMRUNURUQKICAgICAgXTsKICAgIH0sCgogICAgbmFtZXNwYWNlU2VsZWN0aW9uTGFiZWxzKCkgewogICAgICBpZiAodGhpcy5vdmVyd3JpdGVMYWJlbHM/Lm5hbWVzcGFjZVNlbGVjdGlvbkxhYmVscykgewogICAgICAgIHJldHVybiB0aGlzLm92ZXJ3cml0ZUxhYmVscz8ubmFtZXNwYWNlU2VsZWN0aW9uTGFiZWxzOwogICAgICB9CgogICAgICBpZiAodGhpcy5hbGxOYW1lc3BhY2VzT3B0aW9uQXZhaWxhYmxlKSB7CiAgICAgICAgcmV0dXJuIFsKICAgICAgICAgIHRoaXMudCgnd29ya2xvYWQuc2NoZWR1bGluZy5hZmZpbml0eS50aGlzUG9kTmFtZXNwYWNlJyksCiAgICAgICAgICB0aGlzLnQoJ3dvcmtsb2FkLnNjaGVkdWxpbmcuYWZmaW5pdHkuYWxsTmFtZXNwYWNlcycpLAogICAgICAgICAgdGhpcy50KCd3b3JrbG9hZC5zY2hlZHVsaW5nLmFmZmluaXR5Lm1hdGNoRXhwcmVzc2lvbnMuaW5OYW1lc3BhY2VzJykKICAgICAgICBdOwogICAgICB9CgogICAgICByZXR1cm4gWwogICAgICAgIHRoaXMudCgnd29ya2xvYWQuc2NoZWR1bGluZy5hZmZpbml0eS50aGlzUG9kTmFtZXNwYWNlJyksCiAgICAgICAgdGhpcy50KCd3b3JrbG9hZC5zY2hlZHVsaW5nLmFmZmluaXR5Lm1hdGNoRXhwcmVzc2lvbnMuaW5OYW1lc3BhY2VzJykKICAgICAgXTsKICAgIH0sCgogICAgYWRkTGFiZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLm92ZXJ3cml0ZUxhYmVscz8uYWRkTGFiZWwgfHwgdGhpcy50KCdwb2RBZmZpbml0eS5hZGRMYWJlbCcpOwogICAgfSwKCiAgICB0b3BvbG9neUtleVBsYWNlaG9sZGVyKCkgewogICAgICByZXR1cm4gdGhpcy5vdmVyd3JpdGVMYWJlbHM/LnRvcG9sb2d5S2V5UGxhY2Vob2xkZXIgfHwgdGhpcy50KCd3b3JrbG9hZC5zY2hlZHVsaW5nLmFmZmluaXR5LnRvcG9sb2d5S2V5LnBsYWNlaG9sZGVyJyk7CiAgICB9LAoKICAgIGhhc05hbWVzcGFjZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmFsbE5hbWVzcGFjZXNPcHRpb25zLmxlbmd0aDsKICAgIH0sCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMucXVldWVVcGRhdGUgPSBkZWJvdW5jZSh0aGlzLnVwZGF0ZSwgNTAwKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBwYXJzZVBvZEFmZmluaXR5VGVybShvdXQpIHsKICAgICAgaWYgKG91dC5uYW1lc3BhY2VTZWxlY3RvciAmJiB0eXBlb2Ygb3V0Lm5hbWVzcGFjZVNlbGVjdG9yID09PSAnb2JqZWN0JyAmJiAhT2JqZWN0LmtleXMob3V0Lm5hbWVzcGFjZVNlbGVjdG9yKS5sZW5ndGggJiYgdGhpcy5hbGxOYW1lc3BhY2VzT3B0aW9uQXZhaWxhYmxlKSB7CiAgICAgICAgb3V0Ll9uYW1lc3BhY2VPcHRpb24gPSBOQU1FU1BBQ0VfU0VMRUNUSU9OX09QVElPTl9WQUxVRVMuQUxMOwogICAgICB9IGVsc2UgaWYgKG91dC5uYW1lc3BhY2VzPy5sZW5ndGgpIHsKICAgICAgICBvdXQuX25hbWVzcGFjZU9wdGlvbiA9IE5BTUVTUEFDRV9TRUxFQ1RJT05fT1BUSU9OX1ZBTFVFUy5TRUxFQ1RFRDsKICAgICAgfSBlbHNlIHsKICAgICAgICBvdXQuX25hbWVzcGFjZU9wdGlvbiA9IE5BTUVTUEFDRV9TRUxFQ1RJT05fT1BUSU9OX1ZBTFVFUy5QT0Q7CiAgICAgIH0KCiAgICAgIG91dC5fbmFtZXNwYWNlcyA9IChvdXQubmFtZXNwYWNlcyB8fCBbXSkudG9TdHJpbmcoKTsKCiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAoKICAgIHVwZGF0ZSgpIHsKICAgICAgY29uc3QgcG9kQWZmaW5pdHkgPSB7IHJlcXVpcmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb246IFtdLCBwcmVmZXJyZWREdXJpbmdTY2hlZHVsaW5nSWdub3JlZER1cmluZ0V4ZWN1dGlvbjogW10gfTsKICAgICAgY29uc3QgcG9kQW50aUFmZmluaXR5ID0geyByZXF1aXJlZER1cmluZ1NjaGVkdWxpbmdJZ25vcmVkRHVyaW5nRXhlY3V0aW9uOiBbXSwgcHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb246IFtdIH07CgogICAgICB0aGlzLmFsbFNlbGVjdG9yVGVybXMuZm9yRWFjaCgodGVybSkgPT4gewogICAgICAgIGlmICh0ZXJtLl9hbnRpKSB7CiAgICAgICAgICBpZiAodGVybS53ZWlnaHQpIHsKICAgICAgICAgICAgY29uc3QgbmV1ID0geyBwb2RBZmZpbml0eVRlcm06IHsgLi4udGVybSB9LCB3ZWlnaHQ6IHRlcm0ud2VpZ2h0IHx8IHRoaXMuZGVmYXVsdFdlaWdodCB9OwoKICAgICAgICAgICAgZGVsZXRlIG5ldS5wb2RBZmZpbml0eVRlcm0ud2VpZ2h0OwogICAgICAgICAgICBwb2RBbnRpQWZmaW5pdHkucHJlZmVycmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24ucHVzaChuZXUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcG9kQW50aUFmZmluaXR5LnJlcXVpcmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24ucHVzaCh0ZXJtKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHRlcm0ud2VpZ2h0KSB7CiAgICAgICAgICBjb25zdCBuZXUgPSB7IHBvZEFmZmluaXR5VGVybTogdGVybSwgd2VpZ2h0OiB0ZXJtLndlaWdodCB8fCB0aGlzLmRlZmF1bHRXZWlnaHQgfTsKCiAgICAgICAgICBwb2RBZmZpbml0eS5wcmVmZXJyZWREdXJpbmdTY2hlZHVsaW5nSWdub3JlZER1cmluZ0V4ZWN1dGlvbi5wdXNoKG5ldSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBvZEFmZmluaXR5LnJlcXVpcmVkRHVyaW5nU2NoZWR1bGluZ0lnbm9yZWREdXJpbmdFeGVjdXRpb24ucHVzaCh0ZXJtKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnZhbHVlW3RoaXMuZmllbGRdLCB7IHBvZEFmZmluaXR5LCBwb2RBbnRpQWZmaW5pdHkgfSk7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZScsIHRoaXMudmFsdWUpOwogICAgfSwKCiAgICByZW1vdmUoKSB7CiAgICAgIHRoaXMucmVyZW5kZXJOdW1zID0gcmFuZG9tU3RyKDQpOwogICAgICB0aGlzLnF1ZXVlVXBkYXRlKCk7CiAgICB9LAoKICAgIGNoYW5nZVByaW9yaXR5KHRlcm0sIGlkeCkgewogICAgICBpZiAodGVybS53ZWlnaHQpIHsKICAgICAgICBkZWxldGUgdGVybS53ZWlnaHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVybS53ZWlnaHQgPSB0aGlzLmRlZmF1bHRXZWlnaHQ7CiAgICAgIH0KCiAgICAgIHRoaXMuJHNldCh0aGlzLmFsbFNlbGVjdG9yVGVybXMsIGlkeCwgY2xvbmUodGVybSkpOwogICAgICB0aGlzLnF1ZXVlVXBkYXRlKCk7CiAgICB9LAoKICAgIHByaW9yaXR5RGlzcGxheSh0ZXJtKSB7CiAgICAgIHJldHVybiAnd2VpZ2h0JyBpbiB0ZXJtID8gdGhpcy50KCd3b3JrbG9hZC5zY2hlZHVsaW5nLmFmZmluaXR5LnByZWZlcnJlZCcpIDogdGhpcy50KCd3b3JrbG9hZC5zY2hlZHVsaW5nLmFmZmluaXR5LnJlcXVpcmVkJyk7CiAgICB9LAoKICAgIGNoYW5nZU5hbWVzcGFjZU1vZGUodmFsLCB0ZXJtLCBpZHgpIHsKICAgICAgdGhpcy4kc2V0KHRlcm0sICdfbmFtZXNwYWNlT3B0aW9uJywgdmFsKTsKCiAgICAgIHN3aXRjaCAodmFsKSB7CiAgICAgIGNhc2UgTkFNRVNQQUNFX1NFTEVDVElPTl9PUFRJT05fVkFMVUVTLlBPRDoKICAgICAgICB0ZXJtLm5hbWVzcGFjZXMgPSBudWxsOwogICAgICAgIHRlcm0uX25hbWVzcGFjZXMgPSBudWxsOwoKICAgICAgICBpZiAodGVybS5uYW1lc3BhY2VTZWxlY3RvciB8fCB0ZXJtLm5hbWVzcGFjZVNlbGVjdG9yID09PSBudWxsKSB7CiAgICAgICAgICBkZWxldGUgdGVybS5uYW1lc3BhY2VTZWxlY3RvcjsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgTkFNRVNQQUNFX1NFTEVDVElPTl9PUFRJT05fVkFMVUVTLkFMTDoKICAgICAgICB0ZXJtLm5hbWVzcGFjZVNlbGVjdG9yID0ge307CgogICAgICAgIGlmICh0ZXJtLm5hbWVzcGFjZXMgfHwgdGVybS5uYW1lc3BhY2VzID09PSBudWxsKSB7CiAgICAgICAgICBkZWxldGUgdGVybS5uYW1lc3BhY2VzOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRlcm0uX25hbWVzcGFjZXMgfHwgdGVybS5fbmFtZXNwYWNlcyA9PT0gbnVsbCkgewogICAgICAgICAgZGVsZXRlIHRlcm0uX25hbWVzcGFjZXM7CiAgICAgICAgfQogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICB0aGlzLiRzZXQodGVybSwgJ25hbWVzcGFjZXMnLCBbXSk7CiAgICAgICAgdGhpcy4kc2V0KHRlcm0sICdfbmFtZXNwYWNlcycsICcnKTsKCiAgICAgICAgaWYgKHRlcm0ubmFtZXNwYWNlU2VsZWN0b3IgfHwgdGVybS5uYW1lc3BhY2VTZWxlY3RvciA9PT0gbnVsbCkgewogICAgICAgICAgZGVsZXRlIHRlcm0ubmFtZXNwYWNlU2VsZWN0b3I7CiAgICAgICAgfQoKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgdGhpcy4kc2V0KHRoaXMuYWxsU2VsZWN0b3JUZXJtcywgaWR4LCB0ZXJtKTsKICAgICAgdGhpcy5xdWV1ZVVwZGF0ZSgpOwogICAgfSwKCiAgICB1cGRhdGVOYW1lc3BhY2VzKHRlcm0sIG5hbWVzcGFjZXMpIHsKICAgICAgbGV0IG5zQXJyYXkgPSBuYW1lc3BhY2VzOwoKICAgICAgLy8gbmFtZXNwYWNlcyB3b3VsZCBiZSBTdHJpbmcgaWYgdGhlcmUgaXMgbm8gbmFtZXNwYWNlCiAgICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycpIHsKICAgICAgICBuc0FycmF5ID0gbmFtZXNwYWNlcy5zcGxpdCgnLCcpLm1hcCgobnMpID0+IG5zLnRyaW0oKSkuZmlsdGVyKChucykgPT4gbnM/Lmxlbmd0aCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJHNldCh0ZXJtLCAnbmFtZXNwYWNlcycsIG5zQXJyYXkpOwogICAgICB0aGlzLnF1ZXVlVXBkYXRlKCk7CiAgICB9LAoKICAgIHVwZGF0ZUxhYmVsU2VsZWN0b3IoZSwgcHJvcHMpIHsKICAgICAgdGhpcy5zZXQocHJvcHMucm93LnZhbHVlLCAnbGFiZWxTZWxlY3Rvci5tYXRjaEV4cHJlc3Npb25zJywgZSk7CiAgICAgIHRoaXMucXVldWVVcGRhdGUoKTsKICAgIH0sCgogICAgaXNFbXB0eSwKICAgIGdldCwKICAgIHNldAogIH0KCn07Cg=="},{"version":3,"sources":["PodAffinity.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"PodAffinity.vue","sourceRoot":"node_modules/@rancher/shell/components/form","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport { _VIEW } from '@shell/config/query-params';\nimport { get, set, isEmpty, clone } from '@shell/utils/object';\nimport { POD, NODE, NAMESPACE } from '@shell/config/types';\nimport MatchExpressions from '@shell/components/form/MatchExpressions';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { RadioGroup } from '@components/Form/Radio';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { randomStr } from '@shell/utils/string';\nimport { sortBy } from '@shell/utils/sort';\nimport debounce from 'lodash/debounce';\nimport ArrayListGrouped from '@shell/components/form/ArrayListGrouped';\nimport { getUniqueLabelKeys } from '@shell/utils/array';\n\nconst NAMESPACE_SELECTION_OPTION_VALUES = {\n  POD:      'pod',\n  ALL:      'all',\n  SELECTED: 'selected',\n};\n\nexport default {\n  components: {\n    ArrayListGrouped, MatchExpressions, LabeledSelect, RadioGroup, LabeledInput\n  },\n\n  props: {\n    // pod template spec\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    // Field key on the value object to store the pod affinity - typically this is 'affinity'\n    // Cluster Agent Configuration uses a different field\n    field: {\n      type:    String,\n      default: 'affinity'\n    },\n\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    nodes: {\n      type:    Array,\n      default: () => []\n    },\n\n    namespaces: {\n      type:    Array,\n      default: null\n    },\n\n    allNamespacesOptionAvailable: {\n      default: false,\n      type:    Boolean\n    },\n\n    forceInputNamespaceSelection: {\n      default: false,\n      type:    Boolean\n    },\n\n    removeLabeledInputNamespaceLabel: {\n      default: false,\n      type:    Boolean\n    },\n\n    overwriteLabels: {\n      type:    Object,\n      default: null\n    },\n\n    loading: {\n      default: false,\n      type:    Boolean\n    },\n  },\n\n  data() {\n    if (!this.value[this.field]) {\n      this.$set(this.value, this.field, {});\n    }\n    const { podAffinity = {}, podAntiAffinity = {} } = this.value[this.field];\n    const allAffinityTerms = [...(podAffinity.preferredDuringSchedulingIgnoredDuringExecution || []), ...(podAffinity.requiredDuringSchedulingIgnoredDuringExecution || [])].map((term) => {\n      let out = clone(term);\n\n      out._id = randomStr(4);\n      out._anti = false;\n      if (term.podAffinityTerm) {\n        Object.assign(out, term.podAffinityTerm);\n        out = this.parsePodAffinityTerm(out);\n\n        delete out.podAffinityTerm;\n      } else {\n        out = this.parsePodAffinityTerm(out);\n      }\n\n      return out;\n    });\n    const allAntiTerms = [...(podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution || []), ...(podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution || [])].map((term) => {\n      let out = clone(term);\n\n      out._id = randomStr(4);\n      out._anti = true;\n      if (term.podAffinityTerm) {\n        Object.assign(out, term.podAffinityTerm);\n        out = this.parsePodAffinityTerm(out);\n\n        delete out.podAffinityTerm;\n      } else {\n        out = this.parsePodAffinityTerm(out);\n      }\n\n      return out;\n    });\n\n    const allSelectorTerms = [...allAffinityTerms, ...allAntiTerms];\n\n    return {\n      allSelectorTerms,\n      defaultWeight:   1,\n      // rules in MatchExpressions.vue can not catch changes what happens on parent component\n      // we need re-render it via key changing\n      rerenderNums:    randomStr(4),\n      NAMESPACE_SELECTION_OPTION_VALUES,\n      defaultAddValue: {\n        _namespaceOption: NAMESPACE_SELECTION_OPTION_VALUES.POD,\n        matchExpressions: [],\n        namespaces:       null,\n        _namespaces:      null,\n      }\n    };\n  },\n  computed: {\n    ...mapGetters({ t: 'i18n/t' }),\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    pod() {\n      return POD;\n    },\n\n    node() {\n      return NODE;\n    },\n\n    labeledInputNamespaceLabel() {\n      return this.removeLabeledInputNamespaceLabel ? '' : this.overwriteLabels?.namespaceInputLabel || this.t('workload.scheduling.affinity.matchExpressions.inNamespaces');\n    },\n\n    allNamespacesOptions() {\n      const inStore = this.$store.getters['currentStore'](NAMESPACE);\n      const choices = this.namespaces || this.$store.getters[`${ inStore }/all`](NAMESPACE);\n\n      const out = sortBy(choices.map((obj) => {\n        return {\n          label: obj.nameDisplay,\n          value: obj.id,\n        };\n      }), 'label');\n\n      return out;\n    },\n\n    existingNodeLabels() {\n      return getUniqueLabelKeys(this.nodes);\n    },\n\n    hasNodes() {\n      return this.nodes.length;\n    },\n\n    namespaceSelectionOptions() {\n      if (this.allNamespacesOptionAvailable) {\n        return [\n          NAMESPACE_SELECTION_OPTION_VALUES.POD,\n          NAMESPACE_SELECTION_OPTION_VALUES.ALL,\n          NAMESPACE_SELECTION_OPTION_VALUES.SELECTED\n        ];\n      }\n\n      return [\n        NAMESPACE_SELECTION_OPTION_VALUES.POD,\n        NAMESPACE_SELECTION_OPTION_VALUES.SELECTED\n      ];\n    },\n\n    namespaceSelectionLabels() {\n      if (this.overwriteLabels?.namespaceSelectionLabels) {\n        return this.overwriteLabels?.namespaceSelectionLabels;\n      }\n\n      if (this.allNamespacesOptionAvailable) {\n        return [\n          this.t('workload.scheduling.affinity.thisPodNamespace'),\n          this.t('workload.scheduling.affinity.allNamespaces'),\n          this.t('workload.scheduling.affinity.matchExpressions.inNamespaces')\n        ];\n      }\n\n      return [\n        this.t('workload.scheduling.affinity.thisPodNamespace'),\n        this.t('workload.scheduling.affinity.matchExpressions.inNamespaces')\n      ];\n    },\n\n    addLabel() {\n      return this.overwriteLabels?.addLabel || this.t('podAffinity.addLabel');\n    },\n\n    topologyKeyPlaceholder() {\n      return this.overwriteLabels?.topologyKeyPlaceholder || this.t('workload.scheduling.affinity.topologyKey.placeholder');\n    },\n\n    hasNamespaces() {\n      return this.allNamespacesOptions.length;\n    },\n  },\n\n  created() {\n    this.queueUpdate = debounce(this.update, 500);\n  },\n\n  methods: {\n    parsePodAffinityTerm(out) {\n      if (out.namespaceSelector && typeof out.namespaceSelector === 'object' && !Object.keys(out.namespaceSelector).length && this.allNamespacesOptionAvailable) {\n        out._namespaceOption = NAMESPACE_SELECTION_OPTION_VALUES.ALL;\n      } else if (out.namespaces?.length) {\n        out._namespaceOption = NAMESPACE_SELECTION_OPTION_VALUES.SELECTED;\n      } else {\n        out._namespaceOption = NAMESPACE_SELECTION_OPTION_VALUES.POD;\n      }\n\n      out._namespaces = (out.namespaces || []).toString();\n\n      return out;\n    },\n\n    update() {\n      const podAffinity = { requiredDuringSchedulingIgnoredDuringExecution: [], preferredDuringSchedulingIgnoredDuringExecution: [] };\n      const podAntiAffinity = { requiredDuringSchedulingIgnoredDuringExecution: [], preferredDuringSchedulingIgnoredDuringExecution: [] };\n\n      this.allSelectorTerms.forEach((term) => {\n        if (term._anti) {\n          if (term.weight) {\n            const neu = { podAffinityTerm: { ...term }, weight: term.weight || this.defaultWeight };\n\n            delete neu.podAffinityTerm.weight;\n            podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution.push(neu);\n          } else {\n            podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution.push(term);\n          }\n        } else if (term.weight) {\n          const neu = { podAffinityTerm: term, weight: term.weight || this.defaultWeight };\n\n          podAffinity.preferredDuringSchedulingIgnoredDuringExecution.push(neu);\n        } else {\n          podAffinity.requiredDuringSchedulingIgnoredDuringExecution.push(term);\n        }\n      });\n\n      Object.assign(this.value[this.field], { podAffinity, podAntiAffinity });\n      this.$emit('update', this.value);\n    },\n\n    remove() {\n      this.rerenderNums = randomStr(4);\n      this.queueUpdate();\n    },\n\n    changePriority(term, idx) {\n      if (term.weight) {\n        delete term.weight;\n      } else {\n        term.weight = this.defaultWeight;\n      }\n\n      this.$set(this.allSelectorTerms, idx, clone(term));\n      this.queueUpdate();\n    },\n\n    priorityDisplay(term) {\n      return 'weight' in term ? this.t('workload.scheduling.affinity.preferred') : this.t('workload.scheduling.affinity.required');\n    },\n\n    changeNamespaceMode(val, term, idx) {\n      this.$set(term, '_namespaceOption', val);\n\n      switch (val) {\n      case NAMESPACE_SELECTION_OPTION_VALUES.POD:\n        term.namespaces = null;\n        term._namespaces = null;\n\n        if (term.namespaceSelector || term.namespaceSelector === null) {\n          delete term.namespaceSelector;\n        }\n        break;\n      case NAMESPACE_SELECTION_OPTION_VALUES.ALL:\n        term.namespaceSelector = {};\n\n        if (term.namespaces || term.namespaces === null) {\n          delete term.namespaces;\n        }\n\n        if (term._namespaces || term._namespaces === null) {\n          delete term._namespaces;\n        }\n        break;\n\n      default:\n        this.$set(term, 'namespaces', []);\n        this.$set(term, '_namespaces', '');\n\n        if (term.namespaceSelector || term.namespaceSelector === null) {\n          delete term.namespaceSelector;\n        }\n\n        break;\n      }\n\n      this.$set(this.allSelectorTerms, idx, term);\n      this.queueUpdate();\n    },\n\n    updateNamespaces(term, namespaces) {\n      let nsArray = namespaces;\n\n      // namespaces would be String if there is no namespace\n      if (typeof namespaces === 'string') {\n        nsArray = namespaces.split(',').map((ns) => ns.trim()).filter((ns) => ns?.length);\n      }\n\n      this.$set(term, 'namespaces', nsArray);\n      this.queueUpdate();\n    },\n\n    updateLabelSelector(e, props) {\n      this.set(props.row.value, 'labelSelector.matchExpressions', e);\n      this.queueUpdate();\n    },\n\n    isEmpty,\n    get,\n    set\n  }\n\n};\n</script>\n\n<template>\n  <div\n    :style=\"{'width':'100%'}\"\n    class=\"row\"\n    @input=\"queueUpdate\"\n  >\n    <div class=\"col span-12\">\n      <ArrayListGrouped\n        v-model=\"allSelectorTerms\"\n        class=\"mt-20\"\n        :default-add-value=\"defaultAddValue\"\n        :mode=\"mode\"\n        :add-label=\"addLabel\"\n        @remove=\"remove\"\n      >\n        <template #default=\"props\">\n          <div class=\"row mt-20 mb-20\">\n            <div class=\"col span-6\">\n              <LabeledSelect\n                :mode=\"mode\"\n                :options=\"[t('workload.scheduling.affinity.affinityOption'),t('workload.scheduling.affinity.antiAffinityOption')]\"\n                :value=\"props.row.value._anti ?t('workload.scheduling.affinity.antiAffinityOption') :t('workload.scheduling.affinity.affinityOption') \"\n                :label=\"t('workload.scheduling.affinity.type')\"\n                :data-testid=\"`pod-affinity-type-index${props.i}`\"\n                @input=\"$set(props.row.value, '_anti',!props.row.value._anti)\"\n              />\n            </div>\n            <div class=\"col span-6\">\n              <LabeledSelect\n                :key=\"priorityDisplay(props.row.value)\"\n                :mode=\"mode\"\n                :options=\"[t('workload.scheduling.affinity.preferred'),t('workload.scheduling.affinity.required')]\"\n                :value=\"priorityDisplay(props.row.value)\"\n                :label=\"t('workload.scheduling.affinity.priority')\"\n                :data-testid=\"`pod-affinity-priority-index${props.i}`\"\n                @input=\"changePriority(props.row.value, props.i)\"\n              />\n            </div>\n          </div>\n          <div class=\"row\">\n            <RadioGroup\n              :options=\"namespaceSelectionOptions\"\n              :labels=\"namespaceSelectionLabels\"\n              :name=\"`namespaces-${props.row.value._id}`\"\n              :mode=\"mode\"\n              :value=\"props.row.value._namespaceOption\"\n              :data-testid=\"`pod-affinity-namespacetype-index${props.i}`\"\n              @input=\"changeNamespaceMode($event, props.row.value, props.i)\"\n            />\n          </div>\n          <div\n            v-if=\"props.row.value._namespaceOption === NAMESPACE_SELECTION_OPTION_VALUES.SELECTED\"\n            class=\"row mt-10 mb-20\"\n          >\n            <LabeledSelect\n              v-if=\"hasNamespaces && !forceInputNamespaceSelection\"\n              v-model=\"props.row.value.namespaces\"\n              :mode=\"mode\"\n              :multiple=\"true\"\n              :taggable=\"true\"\n              :options=\"allNamespacesOptions\"\n              :label=\"labeledInputNamespaceLabel\"\n              :data-testid=\"`pod-affinity-namespace-select-index${props.i}`\"\n              @input=\"updateNamespaces(props.row.value, props.row.value.namespaces)\"\n            />\n            <LabeledInput\n              v-else\n              v-model=\"props.row.value._namespaces\"\n              :mode=\"mode\"\n              :label=\"labeledInputNamespaceLabel\"\n              :placeholder=\"t('harvesterManager.affinity.namespaces.placeholder')\"\n              :data-testid=\"`pod-affinity-namespace-input-index${props.i}`\"\n              @input=\"updateNamespaces(props.row.value, props.row.value._namespaces)\"\n            />\n          </div>\n          <MatchExpressions\n            :key=\"rerenderNums\"\n            :mode=\"mode\"\n            class=\" col span-12 mt-20\"\n            :type=\"pod\"\n            :value=\"get(props.row.value, 'labelSelector.matchExpressions')\"\n            :show-remove=\"false\"\n            :data-testid=\"`pod-affinity-expressions-index${props.i}`\"\n            @input=\"e=>updateLabelSelector(e, props)\"\n          />\n          <div class=\"row mt-20\">\n            <div class=\"col span-9\">\n              <LabeledSelect\n                v-if=\"hasNodes\"\n                v-model=\"props.row.value.topologyKey\"\n                :taggable=\"true\"\n                :searchable=\"true\"\n                :close-on-select=\"false\"\n                :mode=\"mode\"\n                required\n                :label=\"t('workload.scheduling.affinity.topologyKey.label')\"\n                :placeholder=\"topologyKeyPlaceholder\"\n                :options=\"existingNodeLabels\"\n                :disabled=\"mode==='view'\"\n                :loading=\"loading\"\n                :data-testid=\"`pod-affinity-topology-select-index${props.i}`\"\n                @input=\"update\"\n              />\n              <LabeledInput\n                v-else\n                v-model=\"props.row.value.topologyKey\"\n                :mode=\"mode\"\n                :label=\"t('workload.scheduling.affinity.topologyKey.label')\"\n                :placeholder=\"topologyKeyPlaceholder\"\n                required\n                :data-testid=\"`pod-affinity-topology-input-index${props.i}`\"\n                @input=\"update\"\n              />\n            </div>\n            <div\n              v-if=\"'weight' in props.row.value\"\n              class=\"col span-3\"\n            >\n              <LabeledInput\n                v-model.number=\"props.row.value.weight\"\n                :mode=\"mode\"\n                type=\"number\"\n                min=\"1\"\n                max=\"100\"\n                :label=\"t('workload.scheduling.affinity.weight.label')\"\n                :placeholder=\"t('workload.scheduling.affinity.weight.placeholder')\"\n                :data-testid=\"`pod-affinity-weight-index${props.i}`\"\n              />\n            </div>\n          </div>\n        </template>\n      </ArrayListGrouped>\n    </div>\n  </div>\n</template>\n\n<style>\n.node-selector{\n  position: relative;\n}\n</style>\n"]}]}