{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/uiplugins/index.vue?vue&type=style&index=0&id=62f26ef8&lang=scss&scoped=true","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/uiplugins/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":1716430467357},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1716430467929},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/postcss-loader/src/index.js","mtime":1716430467882},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/sass-loader/dist/cjs.js","mtime":1716430453705},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cgouc2V0dXAtbWVzc2FnZSB7CiAgbWFyZ2luLXRvcDogMTAwcHg7Cn0KCi5kYXRhLWxvYWRpbmcgewogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKCiAgPiBJIHsKICAgIG1hcmdpbi1yaWdodDogNXB4OwogIH0KfQoKLnBsdWdpbi1yZWxvYWQtYmFubmVyIHsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN1Y2Nlc3MtYmFubmVyLWJnKTsKICBkaXNwbGF5OiBmbGV4OwogIHBhZGRpbmc6IDAgMTBweDsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgbWluLWhlaWdodDogMzZweDsKCiAgPiBpIHsKICAgIGNvbG9yOiB2YXIoLS1zdWNjZXNzKTsKICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogIH0KCiAgPiBidXR0b24gewogICAgbGluZS1oZWlnaHQ6IDMwcHg7CiAgICBtaW4taGVpZ2h0OiAzMHB4OwogIH0KfQoKLnBsdWdpbi1jb21wbGV0ZSB7CiAgZm9udC1zaXplOiAxOHB4Owp9CgoucGx1Z2luLWxpc3QgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC13cmFwOiB3cmFwOwoKICA+IC5wbHVnaW46bm90KDpsYXN0LWNoaWxkKSB7CiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7CiAgfQoKICAmLnYtbWFyZ2luIHsKICAgIG1hcmdpbi10b3A6IDQwcHg7CiAgfQp9Ci5wbHVnaW5zIHsKICBkaXNwbGF5OiBpbmhlcml0Owp9CgoucGx1Z2luLWhlYWRlciB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBtYXJnaW4tYm90dG9tOiAxMHB4OwoKICAuY2F0YWxvZy10aXRsZSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IHJvdzsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgfQoKICA+IGgyIHsKICAgIGZsZXg6IDE7CiAgICBtYXJnaW4tYm90dG9tOiAwOwogIH0KCiAgLmxpbmsgewogICAgY3Vyc29yOiBwb2ludGVyOwogIH0KCiAgLmFjdGlvbnMtY29udGFpbmVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogcm93OwogICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKICB9CgogIC5idG4uYWN0aW9ucyB7CiAgICBsaW5lLWhlaWdodDogMzZweDsKICAgIG1pbi1oZWlnaHQ6IDM2cHg7CiAgICBwYWRkaW5nOiAwIDEwcHg7CiAgfQp9CgoucGx1Z2luIHsKICBkaXNwbGF5OiBmbGV4OwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7CiAgcGFkZGluZzogMTBweDsKICB3aWR0aDogY2FsYygzMyUgLSAyMHB4KTsKICBtYXgtd2lkdGg6IDU0MHB4OwogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwoKICAucGx1Z2luLWljb24gewogICAgZm9udC1zaXplOiA0MHB4OwogICAgbWFyZ2luLXJpZ2h0OjEwcHg7CiAgICBjb2xvcjogIzg4ODsKICAgIHdpZHRoOiA0NHB4OwogICAgaGVpZ2h0OiA0NHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKCiAgICAmLmRhcmstbW9kZSB7CiAgICAgIGJvcmRlci1yYWRpdXM6IGNhbGMoMiAqIHZhcigtLWJvcmRlci1yYWRpdXMpKTsKICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICB9CgogICAgLnBsdWdpbi1pY29uLWltZyB7CiAgICAgIGhlaWdodDogNDBweDsKICAgICAgd2lkdGg6IDQwcHg7CiAgICAgIC1vLW9iamVjdC1maXQ6IGNvbnRhaW47CiAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW47CiAgICAgIHRvcDogMnB4OwogICAgICBsZWZ0OiAycHg7CiAgICB9CiAgfQoKICAucGx1Z2luLXNwYWNlciB7CiAgICBmbGV4OiAxOwogIH0KCiAgLnBsdWdpbi1tZXRhZGF0YSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleDogMTsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CgogICAgLnBsdWdpbi1idXR0b25zIHsKICAgICAgPiBidXR0b246bm90KDpmaXJzdC1jaGlsZCkgewogICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7CiAgICAgIH0KICAgIH0KICB9CgogIC5wbHVnaW4tYnVpbHRpbiB7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHBhZGRpbmc6IDJweCAwOwogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICB9CgogIC5wbHVnaW4tbmFtZSB7CiAgICBmb250LXNpemU6IDE2cHg7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIG1hcmdpbi1ib3R0b206IDVweDsKICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplOwogIH0KCiAgLnBsdWdpbi1iYWRnZXMgewogICAgZGlzcGxheTogZmxleDsKCiAgICA+IGRpdiB7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7CiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgcGFkZGluZzogMnB4IDhweDsKICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgICBmb250LXNpemU6IDEycHg7CiAgICB9CiAgfQoKICAucGx1Z2luLXZlcnNpb24gewogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgbWFyZ2luOiA1cHggMDsKCiAgICBpLmljb24tc3Bpbm5lciB7CiAgICAgIHBhZGRpbmctcmlnaHQ6IDVweDsKICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICBoZWlnaHQ6IDE2cHg7CiAgICAgIHdpZHRoOiAxNnB4OwogICAgfQoKICAgIC5pbmNvbXBhdGlibGUgewogICAgICBtYXJnaW46IDEwcHggMDsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICB9CiAgfQoKICAucGx1Z2luLWluc3RhbGxpbmcgewogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGRpc3BsYXk6IGZsZXg7CgogICAgPiBkaXYgewogICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7CiAgICB9CiAgfQoKICAucGx1Z2luLWFjdGlvbnMgewogICAgYWxpZ24taXRlbXM6Y2VudGVyOwogICAgZGlzcGxheTogZmxleDsKCiAgICAkZXJyb3ItaWNvbi1zaXplOiAyMnB4OwoKICAgIC5wbHVnaW4tZXJyb3IgewogICAgICBkaXNwbGF5OiBpbmxpbmU7CiAgICAgIGN1cnNvcjogaGVscDsKCiAgICAgID4gaSB7CiAgICAgICAgY29sb3I6IHZhcigtLWVycm9yKTsKICAgICAgICBoZWlnaHQ6ICRlcnJvci1pY29uLXNpemU7CiAgICAgICAgZm9udC1zaXplOiAkZXJyb3ItaWNvbi1zaXplOwogICAgICAgIHdpZHRoOiAkZXJyb3ItaWNvbi1zaXplOwogICAgICB9CiAgICB9CgogICAgLmJ0biB7CiAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogICAgICBtaW4taGVpZ2h0OiAyMHB4OwogICAgICBwYWRkaW5nOiAwIDVweDsKICAgIH0KICB9Cn0KOjp2LWRlZXAgLmNoZWNrYm94LWxhYmVsIHsKICBmb250LXdlaWdodDogbm9ybWFsICFpbXBvcnRhbnQ7Cn0KCjo6di1kZWVwIC5hZGQtcmVwb3MtYmFubmVyIC5iYW5uZXJfX2NvbnRlbnQgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEyMDBweCkgewogIC5wbHVnaW4tbGlzdCB7CiAgICAucGx1Z2luIHsKICAgICAgd2lkdGg6IGNhbGMoNTAlIC0gMjBweCk7CiAgICB9CiAgfQp9CgpAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA5NjBweCkgewogIC5wbHVnaW4tbGlzdCB7CiAgICAucGx1Z2luIHsKICAgICAgbWFyZ2luLXJpZ2h0OiAwICFpbXBvcnRhbnQ7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgfQogIH0KfQoK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;AAqvCA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/pages/c/_cluster/uiplugins","sourcesContent":["<script>\nimport Vue from 'vue';\nimport { mapGetters } from 'vuex';\nimport { mapPref, PLUGIN_DEVELOPER } from '@shell/store/prefs';\nimport { sortBy } from '@shell/utils/sort';\nimport { allHash } from '@shell/utils/promise';\nimport { CATALOG, UI_PLUGIN, SERVICE, MANAGEMENT } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\nimport { fetchOrCreateSetting } from '@shell/utils/settings';\nimport { getVersionData } from '@shell/config/version';\nimport { CATALOG as CATALOG_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport { NAME as APP_PRODUCT } from '@shell/config/product/apps';\nimport ActionMenu from '@shell/components/ActionMenu';\nimport Tabbed from '@shell/components/Tabbed/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport IconMessage from '@shell/components/IconMessage.vue';\nimport LazyImage from '@shell/components/LazyImage';\nimport { BadgeState } from '@components/BadgeState';\nimport UninstallDialog from './UninstallDialog.vue';\nimport InstallDialog from './InstallDialog.vue';\nimport CatalogLoadDialog from './CatalogList/CatalogLoadDialog.vue';\nimport CatalogUninstallDialog from './CatalogList/CatalogUninstallDialog.vue';\nimport DeveloperInstallDialog from './DeveloperInstallDialog.vue';\nimport PluginInfoPanel from './PluginInfoPanel.vue';\nimport SetupUIPlugins from './SetupUIPlugins';\nimport RemoveUIPlugins from './RemoveUIPlugins';\nimport AddExtensionRepos from './AddExtensionRepos';\nimport CatalogList from './CatalogList/index.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport {\n  isUIPlugin,\n  uiPluginAnnotation,\n  uiPluginHasAnnotation,\n  isSupportedChartVersion,\n  isChartVersionAvailableForInstall,\n  isChartVersionHigher,\n  UI_PLUGIN_NAMESPACE,\n  UI_PLUGIN_CHART_ANNOTATIONS,\n  UI_PLUGINS_REPO_URL,\n  UI_PLUGINS_PARTNERS_REPO_URL\n} from '@shell/config/uiplugins';\n\nconst MAX_DESCRIPTION_LENGTH = 200;\n\nconst TABS_VALUES = {\n  INSTALLED: 'installed',\n  UPDATES:   'updates',\n  AVAILABLE: 'available',\n  ALL:       'all'\n};\n\nexport default {\n  components: {\n    ActionMenu,\n    BadgeState,\n    DeveloperInstallDialog,\n    IconMessage,\n    CatalogList,\n    Banner,\n    CatalogLoadDialog,\n    CatalogUninstallDialog,\n    InstallDialog,\n    LazyImage,\n    PluginInfoPanel,\n    Tab,\n    Tabbed,\n    UninstallDialog,\n    SetupUIPlugins,\n    RemoveUIPlugins,\n    AddExtensionRepos,\n  },\n\n  data() {\n    return {\n      TABS_VALUES,\n      kubeVersion:                    null,\n      view:                           '',\n      charts:                         [],\n      installing:                     {},\n      errors:                         {},\n      plugins:                        [], // The installed plugins\n      helmOps:                        [], // Helm operations\n      addExtensionReposBannerSetting: undefined,\n      loading:                        true,\n      menuTargetElement:              null,\n      menuTargetEvent:                null,\n      menuOpen:                       false,\n      hasService:                     false,\n      defaultIcon:                    require('~shell/assets/images/generic-plugin.svg'),\n      reloadRequired:                 false,\n      rancherVersion:                 getVersionData()?.Version,\n      showCatalogList:                false\n    };\n  },\n\n  layout: 'plain',\n\n  async fetch() {\n    const hash = {};\n\n    const isSetup = await this.updateInstallStatus(true);\n\n    if (isSetup) {\n      if (this.$store.getters['management/schemaFor'](UI_PLUGIN)) {\n        hash.plugins = this.$store.dispatch('management/findAll', { type: UI_PLUGIN });\n      }\n    }\n\n    hash.load = await this.$store.dispatch('catalog/load', { reset: true });\n\n    if (this.$store.getters['management/schemaFor'](MANAGEMENT.CLUSTER)) {\n      hash.localCluster = await this.$store.dispatch('management/find', { type: MANAGEMENT.CLUSTER, id: 'local' });\n    }\n\n    if (this.$store.getters['management/schemaFor'](CATALOG.OPERATION)) {\n      hash.helmOps = await this.$store.dispatch('management/findAll', { type: CATALOG.OPERATION });\n    }\n\n    if (this.$store.getters['management/schemaFor'](CATALOG.CLUSTER_REPO)) {\n      hash.repos = await this.$store.dispatch('management/findAll', { type: CATALOG.CLUSTER_REPO });\n    }\n\n    const res = await allHash(hash);\n\n    this.plugins = res.plugins || [];\n    this.repos = res.repos || [];\n    this.helmOps = res.helmOps || [];\n    this.kubeVersion = res.localCluster?.kubernetesVersionBase || [];\n\n    this.addExtensionReposBannerSetting = await fetchOrCreateSetting(this.$store, SETTING.ADD_EXTENSION_REPOS_BANNER_DISPLAY, 'true', true) || {};\n\n    const c = this.$store.getters['catalog/rawCharts'];\n\n    this.charts = Object.values(c);\n\n    // If there are no plugins installed, default to the catalog view\n    if (this.plugins.length === 0) {\n      this.$refs.tabs?.select(TABS_VALUES.AVAILABLE);\n    }\n\n    this.loading = false;\n  },\n\n  computed: {\n    pluginDeveloper: mapPref(PLUGIN_DEVELOPER),\n\n    ...mapGetters({ uiplugins: 'uiplugins/plugins' }),\n    ...mapGetters({ uiErrors: 'uiplugins/errors' }),\n    ...mapGetters({ theme: 'prefs/theme' }),\n\n    showAddReposBanner() {\n      return this.addExtensionReposBannerSetting?.value === 'true' && (!this.repos.find((r) => r.urlDisplay === UI_PLUGINS_REPO_URL) || !this.repos.find((r) => r.urlDisplay === UI_PLUGINS_PARTNERS_REPO_URL));\n    },\n\n    applyDarkModeBg() {\n      if (this.theme === 'dark') {\n        return { 'dark-mode': true };\n      }\n\n      return {};\n    },\n\n    menuActions() {\n      const menuActions = [];\n\n      // Add link to go to the Repos view of the local cluster\n      menuActions.push({\n        action:  'manageRepos',\n        label:   this.t('plugins.manageRepos'),\n        enabled: true\n      });\n\n      // Add link to add extensions repositories (Official, Partners, etc)\n      menuActions.push({\n        action:  'addRancherRepos',\n        label:   this.t('plugins.addRancherRepos'),\n        enabled: true\n      });\n\n      // Only show Manage Extension Catalogs when on main charts view\n      if (!this.showCatalogList) {\n        menuActions.push({\n          action:  'manageExtensionView',\n          label:   this.t('plugins.manageCatalog.label'),\n          enabled: true\n        });\n      }\n\n      // Only show Developer Load action if the user has this enabled in preferences\n      if (this.pluginDeveloper) {\n        menuActions.push( { divider: true });\n        menuActions.push({\n          action:  'devLoad',\n          label:   this.t('plugins.developer.label'),\n          enabled: true\n        });\n      }\n\n      if (this.hasService) {\n        menuActions.push( { divider: true });\n        menuActions.push({\n          action:  'removePluginSupport',\n          label:   this.t('plugins.setup.remove.label'),\n          enabled: true\n        });\n      }\n\n      return menuActions;\n    },\n\n    list() {\n      const all = this.available;\n\n      switch (this.view) {\n      case TABS_VALUES.INSTALLED:\n        return all.filter((p) => !!p.installed || !!p.installing);\n      case TABS_VALUES.UPDATES:\n        return this.updates;\n      case TABS_VALUES.AVAILABLE:\n        return all.filter((p) => !p.installed);\n      default:\n        return all;\n      }\n    },\n\n    hasMenuActions() {\n      return this.menuActions?.length > 0;\n    },\n\n    // Message to display when the tab view is empty (depends on the tab)\n    emptyMessage() {\n      return this.t(`plugins.empty.${ this.view }`);\n    },\n\n    updates() {\n      return this.available.filter((plugin) => !!plugin.upgrade);\n    },\n\n    available() {\n      let all = this.charts.filter((c) => isUIPlugin(c));\n\n      // Filter out hidden charts\n      all = all.filter((c) => !uiPluginHasAnnotation(c, CATALOG_ANNOTATIONS.HIDDEN, 'true'));\n\n      all = all.map((chart) => {\n        // Label can be overridden by chart annotation\n        const label = uiPluginAnnotation(chart, UI_PLUGIN_CHART_ANNOTATIONS.DISPLAY_NAME) || chart.chartNameDisplay;\n        const item = {\n          name:         chart.chartName,\n          label,\n          description:  chart.chartDescription,\n          id:           chart.id,\n          versions:     [],\n          installed:    false,\n          builtin:      false,\n          experimental: uiPluginHasAnnotation(chart, CATALOG_ANNOTATIONS.EXPERIMENTAL, 'true'),\n          certified:    uiPluginHasAnnotation(chart, CATALOG_ANNOTATIONS.CERTIFIED, CATALOG_ANNOTATIONS._RANCHER)\n        };\n\n        item.versions = [...chart.versions];\n        item.chart = chart;\n\n        // Filter the versions available to install (plugins-api version and current dashboard version)\n        item.installableVersions = item.versions.filter((version) => isSupportedChartVersion({ version, kubeVersion: this.kubeVersion }) && isChartVersionAvailableForInstall({\n          version, rancherVersion: this.rancherVersion, kubeVersion: this.kubeVersion\n        }));\n\n        // add prop to version object if version is compatible with the current dashboard version\n        item.versions = item.versions.map((version) => isChartVersionAvailableForInstall({\n          version, rancherVersion: this.rancherVersion, kubeVersion: this.kubeVersion\n        }, true));\n\n        const latestCompatible = item.installableVersions?.[0];\n        const latestNotCompatible = item.versions.find((version) => !version.isCompatibleWithUi || !version.isCompatibleWithKubeVersion);\n\n        if (latestCompatible) {\n          item.displayVersion = latestCompatible.version;\n          item.icon = latestCompatible.icon;\n        } else {\n          item.displayVersion = item.versions?.[0]?.version;\n          item.icon = chart.icon || latestCompatible?.annotations?.['catalog.cattle.io/ui-icon'];\n        }\n\n        if (latestNotCompatible && item.installableVersions.length && isChartVersionHigher(latestNotCompatible.version, item.installableVersions?.[0].version)) {\n          if (!item.isCompatibleWithUi) {\n            item.incompatibleRancherVersion = this.t('plugins.incompatibleRancherVersion', { version: latestNotCompatible.version, rancherVersion: latestNotCompatible.requiredUiVersion }, true);\n          } else if (!item.isCompatibleWithKubeVersion) {\n            item.incompatibleKubeVersion = this.t('plugins.incompatibleKubeVersion', { version: latestNotCompatible.version, kubeVersion: latestNotCompatible.requiredKubeVersion }, true);\n          }\n        }\n\n        if (this.installing[item.name]) {\n          item.installing = this.installing[item.name];\n        }\n\n        return item;\n      });\n\n      // Remove charts with no installable versions\n      all = all.filter((c) => c.versions.length > 0);\n\n      // Check that all of the loaded plugins are represented\n      this.uiplugins.forEach((p) => {\n        const chart = all.find((c) => c.name === p.name);\n\n        if (!chart) {\n          // A plugin is loaded, but there is no chart, so add an item so that it shows up\n          const rancher = typeof p.metadata?.rancher === 'object' ? p.metadata.rancher : {};\n          const label = rancher.annotations?.[UI_PLUGIN_CHART_ANNOTATIONS.DISPLAY_NAME] || p.name;\n          const item = {\n            name:           p.name,\n            label,\n            description:    p.metadata?.description,\n            icon:           p.metadata?.icon,\n            id:             p.id,\n            versions:       [],\n            displayVersion: p.metadata?.version || '-',\n            installed:      true,\n            builtin:        !!p.builtin,\n          };\n\n          // Built-in plugins can chose to be hidden - used where we implement as extensions\n          // but don't want to shows them individually on the extensions page\n          if (!(item.builtin && rancher[UI_PLUGIN_CHART_ANNOTATIONS.HIDDEN_BUILTIN])) {\n            all.push(item);\n          }\n        }\n      });\n\n      // Go through the CRs for the plugins and wire them into the catalog\n      this.plugins.forEach((p) => {\n        const chart = all.find((c) => c.name === p.name);\n\n        if (chart) {\n          chart.installed = true;\n          chart.uiplugin = p;\n          chart.displayVersion = p.version;\n\n          // Can't do this here\n          chart.installing = this.installing[chart.name];\n\n          // Check for upgrade\n          if (chart.installableVersions?.length && p.version !== chart.installableVersions?.[0]?.version) {\n            chart.upgrade = chart.installableVersions[0].version;\n          }\n        } else {\n          // No chart, so add a card for the plugin based on its Custom resource being present\n          const item = {\n            name:           p.name,\n            label:          p.name,\n            description:    p.description || '-',\n            id:             `${ p.name }-${ p.version }`,\n            versions:       [],\n            displayVersion: p.version || '-',\n            installed:      true,\n            installing:     false,\n            builtin:        false,\n            uiplugin:       p,\n          };\n\n          all.push(item);\n        }\n      });\n\n      // Merge in the plugin load errors\n      Object.keys(this.uiErrors).forEach((e) => {\n        const chart = all.find((c) => c.name === e);\n\n        if (chart) {\n          const error = this.uiErrors[e];\n\n          if (error && typeof error === 'string') {\n            chart.error = this.t(this.uiErrors[e]);\n          } else {\n            chart.error = false;\n          }\n        }\n      });\n\n      // Merge in the plugin load errors from help ops\n      Object.keys(this.errors).forEach((e) => {\n        const chart = all.find((c) => c.name === e);\n\n        if (chart) {\n          chart.helmError = !!this.errors[e];\n        }\n      });\n\n      all.forEach((plugin) => {\n        // Clamp the lengths of the descriptions\n        if (plugin.description && plugin.description.length > MAX_DESCRIPTION_LENGTH) {\n          plugin.description = `${ plugin.description.substr(0, MAX_DESCRIPTION_LENGTH) } ...`;\n        }\n\n        // check if kube version compatibility is met for installed extension\n        if (plugin.uiplugin) {\n          const versionInstalled = plugin.uiplugin.spec?.plugin?.version;\n          const versionInstalledData = plugin.versions.find((v) => v.version === versionInstalled);\n\n          if (versionInstalledData) {\n            const kubeVersionToCheck = versionInstalledData.annotations?.[UI_PLUGIN_CHART_ANNOTATIONS.KUBE_VERSION];\n\n            if (this.kubeVersion && !isSupportedChartVersion({ version: versionInstalledData, kubeVersion: this.kubeVersion })) {\n              plugin.installedError = this.t('plugins.currentInstalledVersionBlockedByKubeVersion', { kubeVersion: this.kubeVersion, kubeVersionToCheck }, true);\n            }\n          }\n        }\n      });\n\n      // Sort by name\n      return sortBy(all, 'name', false);\n    }\n  },\n\n  watch: {\n    helmOps(neu) {\n      // Get Helm operations for UI plugins and order by date\n      let pluginOps = neu.filter((op) => {\n        return op.namespace === UI_PLUGIN_NAMESPACE;\n      });\n\n      pluginOps = sortBy(pluginOps, 'metadata.creationTimestamp', true);\n\n      // Go through the installed plugins\n      (this.available || []).forEach((plugin) => {\n        const op = pluginOps.find((o) => o.status?.releaseName === plugin.name);\n\n        if (op) {\n          const active = op.metadata.state?.transitioning;\n          const error = op.metadata.state?.error;\n\n          Vue.set(this.errors, plugin.name, error);\n\n          if (active) {\n            // Can use the status directly, apart from upgrade, which maps to install\n            const status = op.status.action === 'upgrade' ? 'install' : op.status.action;\n\n            this.updatePluginInstallStatus(plugin.name, status);\n          } else if (op.status.action === 'uninstall') {\n            // Uninstall has finished\n            this.updatePluginInstallStatus(plugin.name, false);\n          } else if (error) {\n            this.updatePluginInstallStatus(plugin.name, false);\n          }\n        } else {\n          this.updatePluginInstallStatus(plugin.name, false);\n        }\n      });\n    },\n\n    plugins(neu, old) {\n      const installed = this.$store.getters['uiplugins/plugins'];\n      const shouldHaveLoaded = (installed || []).filter((p) => !this.uiErrors[p.name] && !p.builtin);\n      let changes = 0;\n\n      // Did the user remove an extension\n      if (neu?.length < shouldHaveLoaded.length) {\n        changes++;\n      }\n\n      neu.forEach((plugin) => {\n        const existing = installed.find((p) => !p.removed && p.name === plugin.name && p.version === plugin.version);\n\n        if (!existing && plugin.isCached) {\n          if (!this.uiErrors[plugin.name]) {\n            changes++;\n          }\n\n          this.updatePluginInstallStatus(plugin.name, false);\n        }\n      });\n\n      if (changes > 0) {\n        Vue.set(this, 'reloadRequired', true);\n      }\n    }\n  },\n\n  // Forget the types when we leave the page\n  beforeDestroy() {\n    this.$store.dispatch('management/forgetType', UI_PLUGIN);\n    this.$store.dispatch('management/forgetType', CATALOG.OPERATION);\n    this.$store.dispatch('management/forgetType', CATALOG.APP);\n    this.$store.dispatch('management/forgetType', CATALOG.CLUSTER_REPO);\n  },\n\n  methods: {\n    async refreshCharts(forceChartsUpdate = false) {\n      // we might need to force the request, so that we know at all times if what's the status of the offical and partners repos (installed or not)\n      // tied to the SetupUIPlugins, AddExtensionRepos and RemoveUIPlugins checkboxes\n      await this.$store.dispatch('catalog/load', { reset: true, force: forceChartsUpdate });\n      const c = this.$store.getters['catalog/rawCharts'];\n\n      this.charts = Object.values(c);\n    },\n\n    async updateInstallStatus(forceChartsUpdate = false) {\n      let hasService;\n\n      try {\n        const service = await this.$store.dispatch('management/find', {\n          type: SERVICE,\n          id:   `${ UI_PLUGIN_NAMESPACE }/ui-plugin-operator`,\n          opt:  { force: true },\n        });\n\n        hasService = !!service;\n      } catch (e) {\n        hasService = false;\n      }\n\n      if (hasService || forceChartsUpdate) {\n        this.refreshCharts(forceChartsUpdate);\n      }\n\n      Vue.set(this, 'hasService', hasService);\n\n      return hasService;\n    },\n\n    filterChanged(f) {\n      this.view = f.selectedName;\n    },\n\n    removePluginSupport() {\n      this.refreshCharts(true);\n      this.$refs.removeUIPlugins.showDialog();\n    },\n\n    // Developer Load is in the action menu\n    showDeveloperLoadDialog() {\n      this.$refs.developerInstallDialog.showDialog();\n    },\n\n    showAddExtensionReposDialog() {\n      this.updateAddReposSetting();\n      this.refreshCharts(true);\n      this.$refs.addExtensionReposDialog.showDialog();\n    },\n\n    showCatalogLoadDialog() {\n      this.$refs.catalogLoadDialog.showDialog();\n    },\n\n    showCatalogUninstallDialog(ev) {\n      this.$refs.catalogUninstallDialog.showDialog(ev);\n    },\n\n    showInstallDialog(plugin, mode, ev) {\n      ev.target?.blur();\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      this.$refs.installDialog.showDialog(plugin, mode);\n    },\n\n    showUninstallDialog(plugin, ev) {\n      ev.target?.blur();\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      this.$refs.uninstallDialog.showDialog(plugin);\n    },\n\n    didUninstall(plugin) {\n      if (plugin) {\n        this.updatePluginInstallStatus(plugin.name, 'uninstall');\n\n        if (plugin.catalog) {\n          this.refreshCharts();\n        }\n\n        // Clear the load error, if there was one\n        this.$store.dispatch('uiplugins/setError', { name: plugin.name, error: false });\n      }\n    },\n\n    didInstall(plugin) {\n      if (plugin) {\n        // Change the view to installed if we started installing a plugin\n        this.$refs.tabs?.select(TABS_VALUES.INSTALLED);\n\n        // Clear the load error, if there was one previously\n        this.$store.dispatch('uiplugins/setError', { name: plugin.name, error: false });\n      }\n    },\n\n    showPluginDetail(plugin) {\n      this.$refs.infoPanel.show(plugin);\n    },\n\n    updatePluginInstallStatus(name, status) {\n      Vue.set(this.installing, name, status);\n    },\n\n    setMenu(event) {\n      this.menuOpen = !!event;\n\n      if (event) {\n        this.menuTargetElement = this.$refs.actions;\n        this.menuTargetEvent = event;\n      } else {\n        this.menuTargetElement = undefined;\n        this.menuTargetEvent = undefined;\n      }\n    },\n\n    reload() {\n      this.$router.go();\n    },\n\n    manageRepos() {\n      this.$router.push({\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  'local',\n          product:  APP_PRODUCT,\n          resource: CATALOG.CLUSTER_REPO\n        }\n      });\n    },\n\n    manageExtensionView() {\n      this.showCatalogList = !this.showCatalogList;\n    },\n\n    updateAddReposSetting() {\n      if (this.addExtensionReposBannerSetting?.value === 'true') {\n        this.addExtensionReposBannerSetting.value = 'false';\n        this.addExtensionReposBannerSetting.save();\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"plugins\">\n    <div class=\"plugin-header\">\n      <template v-if=\"showCatalogList\">\n        <div class=\"catalog-title\">\n          <h2\n            class=\"mb-0 mr-10\"\n            data-testid=\"extensions-catalog-title\"\n          >\n            <a\n              class=\"link\"\n              @click=\"manageExtensionView()\"\n            >\n              {{ t('plugins.manageCatalog.title') }}:\n            </a>\n            <t k=\"plugins.manageCatalog.subtitle\" />\n          </h2>\n          <BadgeState\n            color=\"bg-warning\"\n            :label=\"t('generic.experimental')\"\n            class=\"badge\"\n          />\n        </div>\n      </template>\n      <template v-else>\n        <h2 data-testid=\"extensions-page-title\">\n          {{ t('plugins.title') }}\n        </h2>\n      </template>\n      <div class=\"actions-container\">\n        <div\n          v-if=\"reloadRequired\"\n          class=\"plugin-reload-banner mr-20\"\n          data-testid=\"extension-reload-banner\"\n        >\n          <i class=\"icon icon-checkmark mr-10\" />\n          <span>\n            {{ t('plugins.reload') }}\n          </span>\n          <button\n            class=\"ml-10 btn btn-sm role-primary\"\n            data-testid=\"extension-reload-banner-reload-btn\"\n            @click=\"reload()\"\n          >\n            {{ t('generic.reload') }}\n          </button>\n        </div>\n        <div v-if=\"hasService && hasMenuActions\">\n          <button\n            ref=\"actions\"\n            aria-haspopup=\"true\"\n            type=\"button\"\n            class=\"btn role-multi-action actions\"\n            data-testid=\"extensions-page-menu\"\n            @click=\"setMenu\"\n          >\n            <i class=\"icon icon-actions\" />\n          </button>\n          <ActionMenu\n            :custom-actions=\"menuActions\"\n            :open=\"menuOpen\"\n            :use-custom-target-element=\"true\"\n            :custom-target-element=\"menuTargetElement\"\n            :custom-target-event=\"menuTargetEvent\"\n            @close=\"setMenu(false)\"\n            @devLoad=\"showDeveloperLoadDialog\"\n            @removePluginSupport=\"removePluginSupport\"\n            @manageRepos=\"manageRepos\"\n            @addRancherRepos=\"showAddExtensionReposDialog\"\n            @manageExtensionView=\"manageExtensionView\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <PluginInfoPanel ref=\"infoPanel\" />\n\n    <div v-if=\"!hasService\">\n      <div\n        v-if=\"loading\"\n        class=\"data-loading\"\n      >\n        <i class=\"icon-spin icon icon-spinner\" />\n        <t\n          k=\"generic.loading\"\n          :raw=\"true\"\n        />\n      </div>\n      <SetupUIPlugins\n        v-else\n        class=\"setup-message\"\n        @done=\"updateInstallStatus(true)\"\n        @refreshCharts=\"refreshCharts(true)\"\n      />\n    </div>\n    <div v-else>\n      <template v-if=\"showCatalogList\">\n        <CatalogList\n          @showCatalogLoadDialog=\"showCatalogLoadDialog\"\n          @showCatalogUninstallDialog=\"showCatalogUninstallDialog($event)\"\n        />\n      </template>\n      <template v-else>\n        <Banner\n          v-if=\"showAddReposBanner\"\n          color=\"warning\"\n          class=\"add-repos-banner mb-20\"\n          data-testid=\"extensions-new-repos-banner\"\n        >\n          <span>{{ t('plugins.addRepos.banner', {}, true) }}</span>\n          <button\n            class=\"ml-10 btn btn-sm role-primary\"\n            data-testid=\"extensions-new-repos-banner-action-btn\"\n            @click=\"showAddExtensionReposDialog()\"\n          >\n            {{ t('plugins.addRepos.bannerBtn') }}\n          </button>\n        </Banner>\n\n        <Tabbed\n          ref=\"tabs\"\n          :tabs-only=\"true\"\n          data-testid=\"extension-tabs\"\n          @changed=\"filterChanged\"\n        >\n          <Tab\n            :name=\"TABS_VALUES.INSTALLED\"\n            data-testid=\"extension-tab-installed\"\n            label-key=\"plugins.tabs.installed\"\n            :weight=\"20\"\n          />\n          <Tab\n            :name=\"TABS_VALUES.AVAILABLE\"\n            data-testid=\"extension-tab-available\"\n            label-key=\"plugins.tabs.available\"\n            :weight=\"19\"\n          />\n          <Tab\n            :name=\"TABS_VALUES.UPDATES\"\n            label-key=\"plugins.tabs.updates\"\n            :weight=\"18\"\n            :badge=\"updates.length\"\n          />\n          <Tab\n            :name=\"TABS_VALUES.ALL\"\n            label-key=\"plugins.tabs.all\"\n            :weight=\"17\"\n          />\n        </Tabbed>\n        <template>\n          <div\n            v-if=\"loading\"\n            class=\"data-loading\"\n          >\n            <i class=\"icon-spin icon icon-spinner\" />\n            <t\n              k=\"generic.loading\"\n              :raw=\"true\"\n            />\n          </div>\n          <div\n            v-else\n            class=\"plugin-list\"\n            :class=\"{'v-margin': !list.length}\"\n          >\n            <IconMessage\n              v-if=\"list.length === 0\"\n              :vertical=\"true\"\n              :subtle=\"true\"\n              icon=\"icon-extension\"\n              :message=\"emptyMessage\"\n            />\n            <template v-else>\n              <div\n                v-for=\"(plugin, i) in list\"\n                :key=\"plugin.name + i\"\n                class=\"plugin\"\n                :data-testid=\"`extension-card-${plugin.name}`\"\n                @click=\"showPluginDetail(plugin)\"\n              >\n                <!-- plugin icon -->\n                <div\n                  class=\"plugin-icon\"\n                  :class=\"applyDarkModeBg\"\n                >\n                  <LazyImage\n                    v-if=\"plugin.icon\"\n                    :initial-src=\"defaultIcon\"\n                    :error-src=\"defaultIcon\"\n                    :src=\"plugin.icon\"\n                    class=\"icon plugin-icon-img\"\n                  />\n                  <img\n                    v-else\n                    :src=\"defaultIcon\"\n                    class=\"icon plugin-icon-img\"\n                  >\n                </div>\n                <!-- plugin card -->\n                <div class=\"plugin-metadata\">\n                  <!-- plugin basic info -->\n                  <div class=\"plugin-name\">\n                    {{ plugin.label }}\n                  </div>\n                  <div>{{ plugin.description }}</div>\n                  <div class=\"plugin-version\">\n                    <span\n                      v-if=\"plugin.installing\"\n                      class=\"plugin-installing\"\n                    >\n                      -\n                    </span>\n                    <span v-else>\n                      <span>{{ plugin.displayVersion }}</span>\n                      <span\n                        v-if=\"plugin.upgrade\"\n                        v-clean-tooltip=\"t('plugins.upgradeAvailable')\"\n                      > -> {{ plugin.upgrade }}</span>\n                      <p\n                        v-if=\"plugin.installedError\"\n                        class=\"incompatible\"\n                      >\n                        <i class=\"icon icon-warning icon-lg text-warning\" />\n                        <span>{{ plugin.installedError }}</span>\n                      </p>\n                      <p\n                        v-else-if=\"plugin.incompatibleRancherVersion\"\n                        class=\"incompatible\"\n                      >{{ plugin.incompatibleRancherVersion }}</p>\n                      <p\n                        v-else-if=\"plugin.incompatibleKubeVersion\"\n                        class=\"incompatible\"\n                      >{{ plugin.incompatibleKubeVersion }}</p>\n                    </span>\n                  </div>\n                  <!-- plugin badges -->\n                  <div\n                    v-if=\"plugin.builtin\"\n                    class=\"plugin-badges\"\n                  >\n                    <div class=\"plugin-builtin\">\n                      {{ t('plugins.labels.builtin') }}\n                    </div>\n                  </div>\n                  <div\n                    v-else\n                    class=\"plugin-badges\"\n                  >\n                    <div\n                      v-if=\"!plugin.certified\"\n                      v-clean-tooltip=\"t('plugins.descriptions.third-party')\"\n                    >\n                      {{ t('plugins.labels.third-party') }}\n                    </div>\n                    <div\n                      v-if=\"plugin.experimental\"\n                      v-clean-tooltip=\"t('plugins.descriptions.experimental')\"\n                    >\n                      {{ t('plugins.labels.experimental') }}\n                    </div>\n                  </div>\n                  <div class=\"plugin-spacer\" />\n                  <!-- plugin badges -->\n                  <div class=\"plugin-actions\">\n                    <template v-if=\"plugin.error\">\n                      <div\n                        v-clean-tooltip=\"plugin.error\"\n                        class=\"plugin-error\"\n                      >\n                        <i class=\"icon icon-warning\" />\n                      </div>\n                    </template>\n                    <!-- plugin status -->\n                    <div\n                      v-if=\"plugin.helmError\"\n                      v-clean-tooltip=\"t('plugins.helmError')\"\n                      class=\"plugin-error\"\n                    >\n                      <i class=\"icon icon-warning\" />\n                    </div>\n\n                    <div class=\"plugin-spacer\" />\n\n                    <div\n                      v-if=\"plugin.installing\"\n                      class=\"plugin-installing\"\n                    >\n                      <i class=\"version-busy icon icon-spin icon-spinner\" />\n                      <div v-if=\"plugin.installing ==='install'\">\n                        {{ t('plugins.labels.installing') }}\n                      </div>\n                      <div v-else>\n                        {{ t('plugins.labels.uninstalling') }}\n                      </div>\n                    </div>\n                    <!-- plugin buttons -->\n                    <div\n                      v-else-if=\"plugin.installed\"\n                      class=\"plugin-buttons\"\n                    >\n                      <button\n                        v-if=\"!plugin.builtin\"\n                        class=\"btn role-secondary\"\n                        :data-testid=\"`extension-card-uninstall-btn-${plugin.name}`\"\n                        @click=\"showUninstallDialog(plugin, $event)\"\n                      >\n                        {{ t('plugins.uninstall.label') }}\n                      </button>\n                      <button\n                        v-if=\"plugin.upgrade\"\n                        class=\"btn role-secondary\"\n                        :data-testid=\"`extension-card-update-btn-${plugin.name}`\"\n                        @click=\"showInstallDialog(plugin, 'update', $event)\"\n                      >\n                        {{ t('plugins.update.label') }}\n                      </button>\n                      <button\n                        v-if=\"!plugin.upgrade && plugin.installableVersions && plugin.installableVersions.length > 1\"\n                        class=\"btn role-secondary\"\n                        :data-testid=\"`extension-card-rollback-btn-${plugin.name}`\"\n                        @click=\"showInstallDialog(plugin, 'rollback', $event)\"\n                      >\n                        {{ t('plugins.rollback.label') }}\n                      </button>\n                    </div>\n                    <div\n                      v-else-if=\"plugin.installableVersions && plugin.installableVersions.length\"\n                      class=\"plugin-buttons\"\n                    >\n                      <button\n                        class=\"btn role-secondary\"\n                        :data-testid=\"`extension-card-install-btn-${plugin.name}`\"\n                        @click=\"showInstallDialog(plugin, 'install', $event)\"\n                      >\n                        {{ t('plugins.install.label') }}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </div>\n        </template>\n      </template>\n    </div>\n\n    <InstallDialog\n      ref=\"installDialog\"\n      @closed=\"didInstall\"\n      @update=\"updatePluginInstallStatus\"\n    />\n    <UninstallDialog\n      ref=\"uninstallDialog\"\n      @closed=\"didUninstall\"\n      @update=\"updatePluginInstallStatus\"\n    />\n    <CatalogLoadDialog\n      ref=\"catalogLoadDialog\"\n      @closed=\"didInstall\"\n      @refresh=\"() => reloadRequired = true\"\n    />\n    <CatalogUninstallDialog\n      ref=\"catalogUninstallDialog\"\n      @closed=\"didUninstall\"\n      @refresh=\"() => reloadRequired = true\"\n    />\n    <DeveloperInstallDialog\n      ref=\"developerInstallDialog\"\n      @closed=\"didInstall\"\n    />\n    <RemoveUIPlugins\n      ref=\"removeUIPlugins\"\n      @done=\"updateInstallStatus\"\n    />\n    <AddExtensionRepos\n      ref=\"addExtensionReposDialog\"\n      @done=\"updateInstallStatus(true)\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n\n  .setup-message {\n    margin-top: 100px;\n  }\n\n  .data-loading {\n    align-items: center;\n    display: flex;\n    justify-content: center;\n\n    > I {\n      margin-right: 5px;\n    }\n  }\n\n  .plugin-reload-banner {\n    align-items: center;\n    background-color: var(--success-banner-bg);\n    display: flex;\n    padding: 0 10px;\n    border-radius: 5px;\n    min-height: 36px;\n\n    > i {\n      color: var(--success);\n      font-size: 14px;\n      font-weight: bold;\n    }\n\n    > button {\n      line-height: 30px;\n      min-height: 30px;\n    }\n  }\n\n  .plugin-complete {\n    font-size: 18px;\n  }\n\n  .plugin-list {\n    display: flex;\n    flex-wrap: wrap;\n\n    > .plugin:not(:last-child) {\n      margin-right: 20px;\n    }\n\n    &.v-margin {\n      margin-top: 40px;\n    }\n  }\n  .plugins {\n    display: inherit;\n  }\n\n  .plugin-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 10px;\n\n    .catalog-title {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    > h2 {\n      flex: 1;\n      margin-bottom: 0;\n    }\n\n    .link {\n      cursor: pointer;\n    }\n\n    .actions-container {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-end;\n    }\n\n    .btn.actions {\n      line-height: 36px;\n      min-height: 36px;\n      padding: 0 10px;\n    }\n  }\n\n  .plugin {\n    display: flex;\n    border: 1px solid var(--border);\n    padding: 10px;\n    width: calc(33% - 20px);\n    max-width: 540px;\n    margin-bottom: 20px;\n    cursor: pointer;\n\n    .plugin-icon {\n      font-size: 40px;\n      margin-right:10px;\n      color: #888;\n      width: 44px;\n      height: 44px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      &.dark-mode {\n        border-radius: calc(2 * var(--border-radius));\n        overflow: hidden;\n        background-color: white;\n      }\n\n      .plugin-icon-img {\n        height: 40px;\n        width: 40px;\n        -o-object-fit: contain;\n        object-fit: contain;\n        top: 2px;\n        left: 2px;\n      }\n    }\n\n    .plugin-spacer {\n      flex: 1;\n    }\n\n    .plugin-metadata {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n\n      .plugin-buttons {\n        > button:not(:first-child) {\n          margin-left: 5px;\n        }\n      }\n    }\n\n    .plugin-builtin {\n      color: var(--primary);\n      display: block;\n      padding: 2px 0;\n      text-transform: uppercase;\n    }\n\n    .plugin-name {\n      font-size: 16px;\n      font-weight: bold;\n      margin-bottom: 5px;\n      text-transform: capitalize;\n    }\n\n    .plugin-badges {\n      display: flex;\n\n      > div {\n        border: 1px solid var(--border);\n        border-radius: 4px;\n        padding: 2px 8px;\n        margin-right: 10px;\n        font-size: 12px;\n      }\n    }\n\n    .plugin-version {\n      align-items: center;\n      display: inline-flex;\n      font-size: 12px;\n      border-radius: 4px;\n      margin: 5px 0;\n\n      i.icon-spinner {\n        padding-right: 5px;\n        font-size: 16px;\n        height: 16px;\n        width: 16px;\n      }\n\n      .incompatible {\n        margin: 10px 0;\n        font-weight: bold;\n      }\n    }\n\n    .plugin-installing {\n      align-items: center;\n      display: flex;\n\n      > div {\n        font-size: 14px;\n        margin-left: 5px;\n      }\n    }\n\n    .plugin-actions {\n      align-items:center;\n      display: flex;\n\n      $error-icon-size: 22px;\n\n      .plugin-error {\n        display: inline;\n        cursor: help;\n\n        > i {\n          color: var(--error);\n          height: $error-icon-size;\n          font-size: $error-icon-size;\n          width: $error-icon-size;\n        }\n      }\n\n      .btn {\n        line-height: 20px;\n        min-height: 20px;\n        padding: 0 5px;\n      }\n    }\n  }\n  ::v-deep .checkbox-label {\n    font-weight: normal !important;\n  }\n\n  ::v-deep .add-repos-banner .banner__content {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  @media screen and (max-width: 1200px) {\n    .plugin-list {\n      .plugin {\n        width: calc(50% - 20px);\n      }\n    }\n  }\n\n  @media screen and (max-width: 960px) {\n    .plugin-list {\n      .plugin {\n        margin-right: 0 !important;\n        width: 100%;\n      }\n    }\n  }\n\n</style>\n"]}]}