{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/storage/csi/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/workload/storage/csi/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMYWJlbGVkU2VsZWN0LCBDaGVja2JveCwgTGFiZWxlZElucHV0CiAgfSwKCiAgcHJvcHM6IHsKICAgIHBvZFNwZWM6IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgbW9kZTogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjcmVhdGUnCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGRyaXZlckNvbXBvbmVudCgpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gcmVxdWlyZShgQHNoZWxsL2VkaXQvd29ya2xvYWQvc3RvcmFnZS9jc2kvJHsgdGhpcy52YWx1ZS5jc2kuZHJpdmVyIH1gKS5kZWZhdWx0OwogICAgICB9IGNhdGNoIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKCiAgICBkcml2ZXJPcHRzKCkgewogICAgICByZXR1cm4gcmVxdWlyZS5jb250ZXh0KCdAc2hlbGwvZWRpdC93b3JrbG9hZC9zdG9yYWdlL2NzaScsIHRydWUsIC9eLipcLnZ1ZSQvKS5rZXlzKCkubWFwKChwYXRoKSA9PiBwYXRoLnJlcGxhY2UoLyhcLlwvKXwoLnZ1ZSkvZywgJycpKS5maWx0ZXIoKGZpbGUpID0+IGZpbGUgIT09ICdpbmRleCcpOwogICAgfSwKCiAgICAuLi5tYXBHZXR0ZXJzKHsgdDogJ2kxOG4vdCcgfSkKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/edit/workload/storage/csi","sourcesContent":["<script>\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\n\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: {\n    LabeledSelect, Checkbox, LabeledInput\n  },\n\n  props: {\n    podSpec: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    mode: {\n      type:    String,\n      default: 'create'\n    }\n  },\n\n  computed: {\n    driverComponent() {\n      try {\n        return require(`@shell/edit/workload/storage/csi/${ this.value.csi.driver }`).default;\n      } catch {\n        return null;\n      }\n    },\n\n    driverOpts() {\n      return require.context('@shell/edit/workload/storage/csi', true, /^.*\\.vue$/).keys().map((path) => path.replace(/(\\.\\/)|(.vue)/g, '')).filter((file) => file !== 'index');\n    },\n\n    ...mapGetters({ t: 'i18n/t' })\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div>\n      <div class=\"row mb-10\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.name\"\n            :required=\"true\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.volumeName')\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <Checkbox\n            v-model=\"value.csi.readOnly\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.readOnly')\"\n          />\n        </div>\n      </div>\n      <div class=\"row mb-10\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"value.csi.driver\"\n            :mode=\"mode\"\n            :label=\"t('workload.storage.driver')\"\n            :options=\"driverOpts\"\n            :get-option-label=\"opt=>t(`workload.storage.csi.drivers.'${opt}'`)\"\n            :required=\"true\"\n          />\n        </div>\n      </div>\n      <div\n        v-if=\"driverComponent\"\n        class=\"mb-10\"\n      >\n        <component\n          :is=\"driverComponent\"\n          v-model=\"value.csi.volumeAttributes\"\n          :mode=\"mode\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n"]}]}