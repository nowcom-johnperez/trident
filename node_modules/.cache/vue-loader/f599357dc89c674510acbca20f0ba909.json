{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/nav/WorkspaceSwitcher.vue?vue&type=style&index=0&id=656b2637&lang=scss&scoped=true","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/nav/WorkspaceSwitcher.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":1716430467357},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1716430467929},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/postcss-loader/src/index.js","mtime":1716430467882},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/sass-loader/dist/cjs.js","mtime":1716430453705},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5maWx0ZXIgewogIG1pbi13aWR0aDogMjIwcHg7CiAgbWF4LXdpZHRoOiAxMDAlOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoKLmZpbHRlci5zaG93LW1hc2tlZCA6OnYtZGVlcCAudW5sYWJlbGVkLXNlbGVjdDpub3QoLm1hc2tlZC1kcm9wZG93bikgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwOwogIHRvcDogMDsKICBoZWlnaHQ6IDA7CiAgb3BhY2l0eTogMDsKICB2aXNpYmlsaXR5OiBoaWRkZW47Cn0KCi5maWx0ZXI6bm90KC5zaG93LW1hc2tlZCkgOjp2LWRlZXAgLnVubGFiZWxlZC1zZWxlY3QubWFza2VkLWRyb3Bkb3duIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogMDsKICB0b3A6IDA7CiAgaGVpZ2h0OiAwOwogIG9wYWNpdHk6IDA7CiAgdmlzaWJpbGl0eTogaGlkZGVuOwp9CgouZmlsdGVyIDo6di1kZWVwIC51bmxhYmVsZWQtc2VsZWN0Lmhhcy1tb3JlIC52LXNlbGVjdDpub3QoLnZzLS1vcGVuKSAudnNfX2Ryb3Bkb3duLXRvZ2dsZSB7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLmZpbHRlciA6OnYtZGVlcCAudW5sYWJlbGVkLXNlbGVjdC5oYXMtbW9yZSAudi1zZWxlY3QudnMtLW9wZW4gLnZzX19kcm9wZG93bi10b2dnbGUgewogIGhlaWdodDogbWF4LWNvbnRlbnQ7CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taGVhZGVyLWJnKTsKfQoKLmZpbHRlciA6OnYtZGVlcCAudW5sYWJlbGVkLXNlbGVjdCB7CiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgYm9yZGVyOiAwOwp9CgouZmlsdGVyIDo6di1kZWVwIC51bmxhYmVsZWQtc2VsZWN0Om5vdCguZm9jdXNlZCkgewogIG1pbi1oZWlnaHQ6IDA7Cn0KCi5maWx0ZXIgOjp2LWRlZXAgLnVubGFiZWxlZC1zZWxlY3Q6bm90KC52aWV3KTpob3ZlciAudnNfX2Ryb3Bkb3duLW1lbnUgewogIGJhY2tncm91bmQ6IHZhcigtLWRyb3Bkb3duLWJnKTsKfQoKLmZpbHRlciA6OnYtZGVlcCAudW5sYWJlbGVkLXNlbGVjdCAudi1zZWxlY3QuaW5saW5lIHsKICBtYXJnaW46IDA7Cn0KCi5maWx0ZXIgOjp2LWRlZXAgLnVubGFiZWxlZC1zZWxlY3QgLnYtc2VsZWN0IC52c19fc2VsZWN0ZWQgewogIG1hcmdpbjogJGlucHV0LXBhZGRpbmctc207CiAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgY29sb3I6IHZhcigtLWhlYWRlci1idG4tdGV4dCk7Cn0KCi5maWx0ZXIgOjp2LWRlZXAgLnVubGFiZWxlZC1zZWxlY3QgLnZzX19zZWFyY2g6OnBsYWNlaG9sZGVyIHsKICBjb2xvcjogdmFyKC0taGVhZGVyLWJ0bi10ZXh0KTsKfQoKLmZpbHRlciA6OnYtZGVlcCAudW5sYWJlbGVkLXNlbGVjdCBJTlBVVDpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7Cn0KCi5maWx0ZXIgOjp2LWRlZXAgLnVubGFiZWxlZC1zZWxlY3QgLnZzX19kcm9wZG93bi10b2dnbGUgewogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wNSk7CiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taGVhZGVyLWJ0bi1iZyk7CiAgY29sb3I6IHZhcigtLWhlYWRlci1idG4tdGV4dCk7CiAgaGVpZ2h0OiA0MHB4OwogIG1heC13aWR0aDogMTAwJTsKICBwYWRkaW5nLXRvcDogMDsKfQoKLmZpbHRlciA6OnYtZGVlcCAudW5sYWJlbGVkLXNlbGVjdCAudnNfX2Rlc2VsZWN0OmFmdGVyIHsKICBjb2xvcjogdmFyKC0taGVhZGVyLWJ0bi10ZXh0KTsKfQoKLmZpbHRlciA6OnYtZGVlcCAudW5sYWJlbGVkLXNlbGVjdCAudi1zZWxlY3QgLnZzX19hY3Rpb25zOmFmdGVyIHsKICBmaWxsOiB2YXIoLS1oZWFkZXItYnRuLXRleHQpICFpbXBvcnRhbnQ7CiAgY29sb3I6IHZhcigtLWhlYWRlci1idG4tdGV4dCkgIWltcG9ydGFudDsKfQoKLmZpbHRlciA6OnYtZGVlcCAudW5sYWJlbGVkLXNlbGVjdCBJTlBVVFt0eXBlPSdzZWFyY2gnXSB7CiAgcGFkZGluZzogN3B4Owp9Cg=="},{"version":3,"sources":["WorkspaceSwitcher.vue"],"names":[],"mappings":";AAwGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"WorkspaceSwitcher.vue","sourceRoot":"node_modules/@rancher/shell/components/nav","sourcesContent":["<script>\nimport { LAST_NAMESPACE, WORKSPACE } from '@shell/store/prefs';\nimport { mapState } from 'vuex';\nimport Select from '@shell/components/form/Select';\nimport { WORKSPACE_ANNOTATION } from '@shell/config/labels-annotations';\n\nexport default {\n  name:       'WorkspaceSwitcher',\n  components: { Select },\n\n  computed: {\n    ...mapState(['allWorkspaces', 'workspace', 'allNamespaces', 'defaultNamespace', 'getActiveNamespaces']),\n\n    value: {\n      get() {\n        return this.workspace || this.namespace || this.options[0]?.value;\n      },\n\n      set(value) {\n        if (value !== this.value) {\n          this.$store.commit('updateWorkspace', { value, getters: this.$store.getters });\n          this.$store.dispatch('prefs/set', { key: WORKSPACE, value });\n        }\n      },\n    },\n\n    options() {\n      if (this.allWorkspaces.length) {\n        const out = this.allWorkspaces.map((obj) => {\n          return {\n            label: obj.nameDisplay,\n            value: obj.id,\n          };\n        });\n\n        return out;\n      }\n\n      // If doesn't have workspaces (e.g. no permissions)\n      // Then find the workspaces from the annotation.\n      return this.allNamespaces.filter((item) => {\n        return item.metadata.annotations[WORKSPACE_ANNOTATION] === WORKSPACE;\n      }).map((obj) => {\n        return {\n          label: obj.nameDisplay,\n          value: obj.id,\n        };\n      });\n    },\n  },\n\n  watch: {\n    options(curr, prev) {\n      if (curr.length === 0) {\n        this.value = '';\n      }\n\n      const currentExists = curr.find((item) => item.value === this.value);\n\n      if (curr.length && !currentExists) {\n        this.value = curr[0]?.value;\n      }\n    },\n  },\n\n  created() {\n    // in fleet standard user with just the project owner and global git repo permissions\n    // returns 'default'\n    const initValue = !this.workspace ? this.$store.getters['prefs/get'](LAST_NAMESPACE) : '';\n\n    this.value = (initValue === 'default' || initValue === '') && this.options.length ? this.options[0].value : initValue;\n  },\n\n  data() {\n    return { namespace: this.$store.getters['prefs/get'](LAST_NAMESPACE) };\n  },\n\n  methods: {\n    focus() {\n      this.$refs.select.$refs.search.focus();\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"filter\"\n    data-testid=\"workspace-switcher\"\n  >\n    <Select\n      ref=\"select\"\n      v-model=\"value\"\n      label=\"label\"\n      :append-to-body=\"false\"\n      :options=\"options\"\n      :clearable=\"false\"\n      :reduce=\"(opt) => opt.value\"\n    />\n    <!--button v-shortkey.once=\"['w']\" class=\"hide\" @shortkey=\"focus()\" /-->\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.filter {\n  min-width: 220px;\n  max-width: 100%;\n  display: inline-block;\n}\n\n.filter.show-masked ::v-deep .unlabeled-select:not(.masked-dropdown) {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 0;\n  opacity: 0;\n  visibility: hidden;\n}\n\n.filter:not(.show-masked) ::v-deep .unlabeled-select.masked-dropdown {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 0;\n  opacity: 0;\n  visibility: hidden;\n}\n\n.filter ::v-deep .unlabeled-select.has-more .v-select:not(.vs--open) .vs__dropdown-toggle {\n  overflow: hidden;\n}\n\n.filter ::v-deep .unlabeled-select.has-more .v-select.vs--open .vs__dropdown-toggle {\n  height: max-content;\n  background-color: var(--header-bg);\n}\n\n.filter ::v-deep .unlabeled-select {\n  background-color: transparent;\n  border: 0;\n}\n\n.filter ::v-deep .unlabeled-select:not(.focused) {\n  min-height: 0;\n}\n\n.filter ::v-deep .unlabeled-select:not(.view):hover .vs__dropdown-menu {\n  background: var(--dropdown-bg);\n}\n\n.filter ::v-deep .unlabeled-select .v-select.inline {\n  margin: 0;\n}\n\n.filter ::v-deep .unlabeled-select .v-select .vs__selected {\n  margin: $input-padding-sm;\n  user-select: none;\n  color: var(--header-btn-text);\n}\n\n.filter ::v-deep .unlabeled-select .vs__search::placeholder {\n  color: var(--header-btn-text);\n}\n\n.filter ::v-deep .unlabeled-select INPUT:hover {\n  background-color: transparent;\n}\n\n.filter ::v-deep .unlabeled-select .vs__dropdown-toggle {\n  background: rgba(0, 0, 0, 0.05);\n  border-radius: var(--border-radius);\n  border: 1px solid var(--header-btn-bg);\n  color: var(--header-btn-text);\n  height: 40px;\n  max-width: 100%;\n  padding-top: 0;\n}\n\n.filter ::v-deep .unlabeled-select .vs__deselect:after {\n  color: var(--header-btn-text);\n}\n\n.filter ::v-deep .unlabeled-select .v-select .vs__actions:after {\n  fill: var(--header-btn-text) !important;\n  color: var(--header-btn-text) !important;\n}\n\n.filter ::v-deep .unlabeled-select INPUT[type='search'] {\n  padding: 7px;\n}\n</style>\n"]}]}