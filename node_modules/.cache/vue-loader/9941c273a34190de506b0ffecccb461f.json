{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/autoscaling.horizontalpodautoscaler/hpa-scaling-rule.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/autoscaling.horizontalpodautoscaler/hpa-scaling-rule.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgppbXBvcnQgeyBfRURJVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0LnZ1ZSc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IEFycmF5TGlzdEdyb3VwZWQgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9BcnJheUxpc3RHcm91cGVkLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXJyYXlMaXN0R3JvdXBlZCwKICAgIExhYmVsZWRJbnB1dCwKICAgIExhYmVsZWRTZWxlY3QKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgfQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBfRURJVAogICAgfSwKICAgIHR5cGU6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiAnc2NhbGVVcCcKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgaWYgKCF0aGlzLnZhbHVlLnNwZWMuYmVoYXZpb3JbdGhpcy50eXBlXS5wb2xpY2llcykgewogICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5zcGVjLmJlaGF2aW9yW3RoaXMudHlwZV0sICdwb2xpY2llcycsIFtdKTsKICAgIH0KICAgIGlmICghdGhpcy52YWx1ZS5zcGVjLmJlaGF2aW9yW3RoaXMudHlwZV0uc2VsZWN0UG9saWN5KSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMuYmVoYXZpb3JbdGhpcy50eXBlXSwgJ3NlbGVjdFBvbGljeScsICdNYXgnKTsKICAgIH0KICAgIGlmICh0aGlzLnZhbHVlLnNwZWMuYmVoYXZpb3JbdGhpcy50eXBlXS5zdGFiaWxpemF0aW9uV2luZG93U2Vjb25kcyA9PT0gbnVsbCB8fCB0eXBlb2YgdGhpcy52YWx1ZS5zcGVjLmJlaGF2aW9yW3RoaXMudHlwZV0uc3RhYmlsaXphdGlvbldpbmRvd1NlY29uZHMgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdzY2FsZVVwJykgewogICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMuYmVoYXZpb3JbdGhpcy50eXBlXSwgJ3N0YWJpbGl6YXRpb25XaW5kb3dTZWNvbmRzJywgMCk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3NjYWxlRG93bicpIHsKICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5zcGVjLmJlaGF2aW9yW3RoaXMudHlwZV0sICdzdGFiaWxpemF0aW9uV2luZG93U2Vjb25kcycsIDMwMCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4geyBzZWxlY3RQb2xpY3lPcHRpb25zOiBbJ01heCcsICdNaW4nLCAnRGlzYWJsZWQnXSwgcG9saWN5VHlwZU9wdGlvbnM6IFsnUG9kcycsICdQZXJjZW50J10gfTsKICB9LAp9Owo="},{"version":3,"sources":["hpa-scaling-rule.vue"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"hpa-scaling-rule.vue","sourceRoot":"node_modules/@rancher/shell/edit/autoscaling.horizontalpodautoscaler","sourcesContent":["<script>\n\nimport { _EDIT } from '@shell/config/query-params';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport ArrayListGrouped from '@shell/components/form/ArrayListGrouped.vue';\n\nexport default {\n  components: {\n    ArrayListGrouped,\n    LabeledInput,\n    LabeledSelect\n  },\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n      }\n    },\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n    type: {\n      type:    String,\n      default: 'scaleUp'\n    },\n  },\n  data() {\n    if (!this.value.spec.behavior[this.type].policies) {\n      this.$set(this.value.spec.behavior[this.type], 'policies', []);\n    }\n    if (!this.value.spec.behavior[this.type].selectPolicy) {\n      this.$set(this.value.spec.behavior[this.type], 'selectPolicy', 'Max');\n    }\n    if (this.value.spec.behavior[this.type].stabilizationWindowSeconds === null || typeof this.value.spec.behavior[this.type].stabilizationWindowSeconds === 'undefined') {\n      if (this.type === 'scaleUp') {\n        this.$set(this.value.spec.behavior[this.type], 'stabilizationWindowSeconds', 0);\n      }\n      if (this.type === 'scaleDown') {\n        this.$set(this.value.spec.behavior[this.type], 'stabilizationWindowSeconds', 300);\n      }\n    }\n\n    return { selectPolicyOptions: ['Max', 'Min', 'Disabled'], policyTypeOptions: ['Pods', 'Percent'] };\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"row mb-20\">\n      <div class=\"col span-12\">\n        <ArrayListGrouped\n          v-model=\"value.spec.behavior[type].policies\"\n          :add-label=\"t('hpa.scalingRule.addPolicy')\"\n          :default-add-value=\"{}\"\n          :mode=\"mode\"\n        >\n          <template #default=\"props\">\n            <div class=\"row\">\n              <div class=\"col span-4\">\n                <LabeledSelect\n                  v-model=\"props.row.value.type\"\n                  :mode=\"mode\"\n                  :options=\"policyTypeOptions\"\n                  :multiple=\"false\"\n                  :taggable=\"true\"\n                  :searchable=\"true\"\n                  :required=\"true\"\n                  :tooltip=\"t('hpa.scalingRule.policy.typeTooltip')\"\n                  :label=\"t('hpa.scalingRule.policy.type')\"\n                />\n              </div>\n              <div class=\"col span-4\">\n                <LabeledInput\n                  v-model.number=\"props.row.value.value\"\n                  :mode=\"mode\"\n                  type=\"number\"\n                  min=\"1\"\n                  :required=\"true\"\n                  :tooltip=\"t('hpa.scalingRule.policy.valueTooltip')\"\n                  :label=\"t('hpa.scalingRule.policy.value')\"\n                />\n              </div>\n              <div class=\"col span-4\">\n                <LabeledInput\n                  v-model.number=\"props.row.value.periodSeconds\"\n                  :mode=\"mode\"\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"1800\"\n                  :required=\"true\"\n                  :tooltip=\"t('hpa.scalingRule.policy.periodSecondsTooltip')\"\n                  :label=\"t('hpa.scalingRule.policy.periodSeconds')\"\n                />\n              </div>\n            </div>\n          </template>\n        </ArrayListGrouped>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col span-6\">\n        <LabeledSelect\n          v-model=\"value.spec.behavior[type].selectPolicy\"\n          :mode=\"mode\"\n          :options=\"selectPolicyOptions\"\n          :multiple=\"false\"\n          :taggable=\"true\"\n          :searchable=\"true\"\n          :label=\"t('hpa.scalingRule.selectPolicy')\"\n          :tooltip=\"t('hpa.scalingRule.selectPolicyTooltip')\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model.number=\"value.spec.behavior[type].stabilizationWindowSeconds\"\n          :mode=\"mode\"\n          type=\"number\"\n          min=\"0\"\n          max=\"3600\"\n          :label=\"t('hpa.scalingRule.stabilizationWindowSeconds')\"\n          :tooltip=\"t('hpa.scalingRule.stabilizationWindowSecondsTooltip')\"\n        />\n      </div>\n    </div>\n    <div class=\"row mb-40\" />\n  </div>\n</template>\n"]}]}