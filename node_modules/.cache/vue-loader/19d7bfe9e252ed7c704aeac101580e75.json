{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/SortableTable/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGRheSBmcm9tICdkYXlqcyc7CmltcG9ydCBpc0VtcHR5IGZyb20gJ2xvZGFzaC9pc0VtcHR5JzsKaW1wb3J0IHsgZGFzaGVyaXplLCB1Y0ZpcnN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3N0cmluZyc7CmltcG9ydCB7IGdldCwgY2xvbmUgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgcmVtb3ZlT2JqZWN0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IEFzeW5jQnV0dG9uLCB7IEFTWU5DX0JVVFRPTl9TVEFURVMgfSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9Bc3luY0J1dHRvbic7CmltcG9ydCBBY3Rpb25Ecm9wZG93biBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9BY3Rpb25Ecm9wZG93bic7CmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gvdGhyb3R0bGUnOwppbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJzsKaW1wb3J0IFRIZWFkIGZyb20gJy4vVEhlYWQnOwppbXBvcnQgZmlsdGVyaW5nIGZyb20gJy4vZmlsdGVyaW5nJzsKaW1wb3J0IHNlbGVjdGlvbiBmcm9tICcuL3NlbGVjdGlvbic7CmltcG9ydCBzb3J0aW5nIGZyb20gJy4vc29ydGluZyc7CmltcG9ydCBwYWdpbmcgZnJvbSAnLi9wYWdpbmcnOwppbXBvcnQgZ3JvdXBpbmcgZnJvbSAnLi9ncm91cGluZyc7CmltcG9ydCBhY3Rpb25zIGZyb20gJy4vYWN0aW9ucyc7CmltcG9ydCBBZHZhbmNlZEZpbHRlcmluZyBmcm9tICcuL2FkdmFuY2VkLWZpbHRlcmluZyc7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCB7IGdldFBhcmVudCB9IGZyb20gJ0BzaGVsbC91dGlscy9kb20nOwoKLy8gVW5jb21tZW50IGZvciB0YWJsZSBwZXJmb3JtYW5jZSBkZWJ1Z2dpbmcKLy8gaW1wb3J0IHRhYmxlRGVidWcgZnJvbSAnLi9kZWJ1Zyc7CgovLyBJdHMgcXVpY2tlciB0byByZW5kZXIgaWYgd2UgZGlyZWN0bHkgc3VwcGx5IHRoZSBjb21wb25lbnRzIGZvciB0aGUgZm9ybWF0dGVycwovLyByYXRoZXIgdGhhbiBqdXN0IHRoZSBuYW1lIG9mIGEgZ2xvYmFsIGNvbXBvbmVudCAtIHNvIGNyZWF0ZSBhIG1hcCBvZiB0aGUgZm9ybWF0dGVyIGNvbW9wb25lbnRzCi8vIE5PVEU6IFRoaXMgaXMgcG9wdWxhdGVkIGJ5IGEgcGx1Z2luIChmb3JtYXR0ZXJzLmpzKSB0byBhdm9pZCBpc3N1ZXMgd2l0aCBwbHVnaW5zCmV4cG9ydCBjb25zdCBGT1JNQVRURVJTID0ge307CgpleHBvcnQgY29uc3QgQ09MVU1OX0JSRUFLUE9JTlRTID0gewogIC8qKgogICAqIE9ubHkgc2hvdyBjb2x1bW4gaWYgYXQgdGFibGV0IHdpZHRoIG9yIHdpZGVyCiAgICovCiAgVEFCTEVUOiAgJ3RhYmxldCcsCiAgLyoqCiAgICogT25seSBzaG93IGNvbHVtbiBpZiBhdCBsYXB0b3Agd2lkdGggb3Igd2lkZXIKICAgKi8KICBMQVBUT1A6ICAnbGFwdG9wJywKICAvKioKICAgKiBPbmx5IHNob3cgY29sdW1uIGlmIGF0IGRlc2t0b3Agd2lkdGggb3Igd2lkZXIKICAgKi8KICBERVNLVE9QOiAnZGVza3RvcCcKfTsKCi8vIEBUT0RPOgovLyBGaXhlZCBoZWFkZXIvc2Nyb2xsaW5nCgovLyBEYXRhIEZsb3c6Ci8vIHJvd3MgcHJvcAovLyAtPiBhcnJhbmdlZFJvd3MgKHNvcnRpbmcuanMpCi8vIC0+IGZpbHRlcmVkUm93cyAoZmlsdGVyaW5nLmpzKQovLyAtPiBwYWdlZFJvd3MgICAgKHBhZ2luZy5qcykKLy8gLT4gZ3JvdXBlZFJvd3MgIChncm91cGluZy5qcykKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAgICAgICAnU29ydGFibGVUYWJsZScsCiAgY29tcG9uZW50czogewogICAgVEhlYWQsIENoZWNrYm94LCBBc3luY0J1dHRvbiwgQWN0aW9uRHJvcGRvd24sIExhYmVsZWRTZWxlY3QKICB9LAogIG1peGluczogWwogICAgZmlsdGVyaW5nLAogICAgc29ydGluZywKICAgIHBhZ2luZywKICAgIGdyb3VwaW5nLAogICAgc2VsZWN0aW9uLAogICAgYWN0aW9ucywKICAgIEFkdmFuY2VkRmlsdGVyaW5nLAogICAgLy8gRm9yIHRhYmxlIHBlcmZvcm1hbmNlIGRlYnVnZ2luZyAtIHVuY29tbWVudCBhbmQgdW5jb21tZW50IHRoZSBjb3JyZXNwb25kaW5nIGltcG9ydAogICAgLy8gdGFibGVEZWJ1ZywKICBdLAoKICBwcm9wczogewogICAgaGVhZGVyczogewogICAgICAvLyB7CiAgICAgIC8vICAgIG5hbWU6ICAgTmFtZSBmb3IgdGhlIGNvbHVtbiAoZ29lcyBpbiBxdWVyeSBwYXJhbSkgYW5kIGZvciBkZWZhdWx0U29ydEJ5CiAgICAgIC8vICAgIGxhYmVsOiAgRGlzcGxheWVkIGNvbHVtbiBoZWFkZXIKICAgICAgLy8gICAgc29ydDogICBzdHJpbmd8YXJyYXlbc3RyaW5nXSBGaWVsZCBuYW1lKHMpIHRvIHNvcnQgYnksIGRlZmF1bHQ6IFtuYW1lLCBrZXlGaWVsZF0KICAgICAgLy8gICAgICAgICAgICAgIGZpZWxkcyBjYW4gYmUgc3VmZml4ZWQgd2l0aCAnOmRlc2MnIHRvIGZsaXAgdGhlIG5vcm1hbCBzb3J0IG9yZGVyCiAgICAgIC8vICAgIHNlYXJjaDogc3RyaW5nfGFycmF5W3N0cmluZ10gRmllbGQgbmFtZShzKSB0byBzZWFyY2ggaW4sIGRlZmF1bHQ6IFtuYW1lXQogICAgICAvLyAgICB3aWR0aDogIG51bWJlcgogICAgICAvLyB9CiAgICAgIHR5cGU6ICAgICBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICByb3dzOiB7CiAgICAgIC8vIFRoZSBhcnJheSBvZiBvYmplY3RzIHRvIHNob3cKICAgICAgdHlwZTogICAgIEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGtleUZpZWxkOiB7CiAgICAgIC8vIEZpZWxkIHRoYXQgaXMgdW5pcXVlIGZvciBlYWNoIHJvdy4KICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiAnX2tleScsCiAgICB9LAoKICAgIGxvYWRpbmc6IHsKICAgICAgdHlwZTogICAgIEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfSwKCiAgICBncm91cEJ5OiB7CiAgICAgIC8vIEZpZWxkIHRvIGdyb3VwIHJvd3MgYnksIHJvd1tncm91cEJ5XSBtdXN0IGJlIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBhIG1hcCBrZXkKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZ3JvdXBSZWY6IHsKICAgICAgLy8gT2JqZWN0IHRvIHByb3ZpZGUgYXMgdGhlIHJlZmVyZW5jZSBmb3IgcmVuZGVyaW5nIHRoZSBncm91cGluZyByb3cKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsLAogICAgfSwKICAgIGdyb3VwU29ydDogewogICAgICAvLyBGaWVsZCB0byBvcmRlciBncm91cHMgYnksIGRlZmF1bHRzIHRvIGdyb3VwQnkKICAgICAgdHlwZTogICAgQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCgogICAgZGVmYXVsdFNvcnRCeTogewogICAgICAvLyBEZWZhdWx0IGZpZWxkIHRvIHNvcnQgYnkgaWYgbm9uZSBpcyBzcGVjaWZpZWQKICAgICAgLy8gdXNlcyBuYW1lIG9uIGhlYWRlcnMKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAoKICAgIHRhYmxlQWN0aW9uczogewogICAgICAvLyBTaG93IGJ1bGsgdGFibGUgYWN0aW9ucwogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAoKICAgIHJvd0FjdGlvbnM6IHsKICAgICAgLy8gU2hvdyBhY3Rpb24gZHJvcGRvd24gb24gdGhlIGVuZCBvZiBlYWNoIHJvdwogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAoKICAgIG1hbmdsZUFjdGlvblJlc291cmNlczogewogICAgICB0eXBlOiAgICBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCgogICAgcm93QWN0aW9uc1dpZHRoOiB7CiAgICAgIC8vIEhvdyB3aWRlIHRoZSBhY3Rpb24gZHJvcGRvd24gY29sdW1uIHNob3VsZCBiZQogICAgICB0eXBlOiAgICBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDQwCiAgICB9LAoKICAgIHNlYXJjaDogewogICAgICAvLyBTaG93IHNlYXJjaCBpbnB1dCB0byBmaWx0ZXIgcm93cwogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAoKICAgIGV4dHJhU2VhcmNoRmllbGRzOiB7CiAgICAgIC8vIEFkZGl0aW9uYWwgZmllbGRzIHRoYXQgYXJlbid0IGRlZmluZWQgaW4gdGhlIGhlYWRlcnMgdG8gc2VhcmNoIGluIG9uIGVhY2ggcm93CiAgICAgIHR5cGU6ICAgIEFycmF5LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAoKICAgIHN1YlJvd3M6IHsKICAgICAgLy8gSWYgdGhlcmUgYXJlIHN1Yi1yb3dzLCB5b3VyIG1haW4gcm93IG11c3QgaGF2ZSA8dHIgY2xhc3M9Im1haW4tcm93Ij4gdG8gaWRlbnRpZnkgaXQKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAoKICAgIHN1YkV4cGFuZGFibGU6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAoKICAgIHN1YkV4cGFuZENvbHVtbjogewogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCgogICAgc3ViU2VhcmNoOiB7CiAgICAgIC8vIEEgZmllbGQgY29udGFpbmluZyBhbiBhcnJheSBvZiBzdWItaXRlbXMgdG8gYWxzbyBzZWFyY2ggaW4gZm9yIGVhY2ggcm93CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCgogICAgc3ViRmllbGRzOiB7CiAgICAgIC8vIFNlYXJjaCB0aGlzIGxpc3Qgb2YgZmllbGRzIHdpdGhpbiB0aGUgaXRlbXMgaW4gInN1YlNlYXJjaCIgb2YgZWFjaCByb3cKICAgICAgdHlwZTogICAgQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAoKICAgIC8qKgogICAgICogU2hvdyB0aGUgZGl2aWRlciBiZXR3ZWVuIHRoZSB0aGVhZCBhbmQgdGJvZHkuCiAgICAgKi8KICAgIHRvcERpdmlkZXI6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKCiAgICAvKioKICAgICAqIFNob3cgdGhlIGRpdmlkZXJzIGJldHdlZW4gcm93cwogICAgICovCiAgICBib2R5RGl2aWRlcnM6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCgogICAgb3ZlcmZsb3dYOiB7CiAgICAgIHR5cGU6ICAgIEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgb3ZlcmZsb3dZOiB7CiAgICAgIHR5cGU6ICAgIEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAoKICAgIC8qKgogICAgICogSWYgcGFnaW5hdGlvbiBvZiB0aGUgZGF0YSBpcyBlbmFibGVkIG9yIG5vdAogICAgICovCiAgICBwYWdpbmc6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAoKICAgIC8qKgogICAgICogV2hhdCB0cmFuc2xhdGlvbiBrZXkgdG8gdXNlIGZvciBkaXNwbGF5aW5nIHRoZSAnMSAtIDEwIG9mIDEwMCBUaGluZ3MnIHBhZ2luYXRpb24gaW5mbwogICAgICovCiAgICBwYWdpbmdMYWJlbDogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdzb3J0YWJsZVRhYmxlLnBhZ2luZy5nZW5lcmljJwogICAgfSwKCiAgICAvKioKICAgICAqIEFkZGl0aW9uYWwgcGFyYW1zIHRvIHBhc3MgdG8gdGhlIHBhZ2luZ0xhYmVsIHRyYW5zbGF0aW9uCiAgICAgKi8KICAgIHBhZ2luZ1BhcmFtczogewogICAgICB0eXBlOiAgICBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAoKICAgIC8qKgogICAgICogQWxsb3dzIHlvdSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBwcmVmZXJlbmNlIG9mIHRoZSBudW1iZXIgb2YKICAgICAqIGl0ZW1zIHRvIGRpc3BsYXkgcGVyIHBhZ2UuIFRoaXMgaXMgdXNlZCBieSAuL3BhZ2luZy5qcyBpZiB5b3UncmUKICAgICAqIGxvb2tpbmcgZm9yIGEgcmVmZXJlbmNlLgogICAgICovCiAgICByb3dzUGVyUGFnZTogewogICAgICB0eXBlOiAgICBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IG51bGwsIC8vIERlZmF1bHQgY29tZXMgZnJvbSB0aGUgdXNlciBwcmVmZXJlbmNlCiAgICB9LAoKICAgIC8qKgogICAgICogQWxsb3dzIHlvdSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCB0cmFuc2xhdGlvbiB0ZXh0IG9mIG5vIHJvd3MgdmlldwogICAgICovCiAgICBub1Jvd3NLZXk6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiAnc29ydGFibGVUYWJsZS5ub1Jvd3MnCiAgICB9LAoKICAgIC8qKgogICAgICogQWxsb3dzIHlvdSB0byBoaWRlIHRoZSBubyByb3dzIG1lc3NhZ2luZy4KICAgICAqLwogICAgc2hvd05vUm93czogewogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAoKICAgIC8qKgogICAgICogQWxsb3dzIHlvdSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCB0cmFuc2xhdGlvbiB0ZXh0IG9mIG5vIHNlYXJjaCBkYXRhIHZpZXcKICAgICAqLwogICAgbm9EYXRhS2V5OiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogJ3NvcnRhYmxlVGFibGUubm9EYXRhJwogICAgfSwKCiAgICAvKioKICAgICAqIEFsbG93cyB5b3UgdG8gb3ZlcnJpZGUgc2hvd2luZyB0aGUgVEhFQUQgc2VjdGlvbi4KICAgICAqLwogICAgc2hvd0hlYWRlcnM6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKCiAgICBzb3J0R2VuZXJhdGlvbkZuOiB7CiAgICAgIHR5cGU6ICAgIEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiBudWxsLAogICAgfSwKCiAgICAvKioKICAgICAqIEFsbG93cyB5b3UgdG8gbGluayB0byBhIGN1c3RvbSBkZXRhaWwgcGFnZSBmb3IgZGF0YSB0aGF0CiAgICAgKiBkb2Vzbid0IGhhdmUgYSBjbGFzcyBtb2RlbC4gRm9yIGV4YW1wbGUsIGEgcmVjZWl2ZXIgY29uZmlndXJhdGlvbgogICAgICogYmxvY2sgd2l0aGluIGFuIEFsZXJ0bWFuYWdlckNvbmZpZyByZXNvdXJjZS4KICAgICAqLwogICAgZ2V0Q3VzdG9tRGV0YWlsTGluazogewogICAgICB0eXBlOiAgICBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKCiAgICAvKioKICAgICAqIEluaGVyaXRlZCBnbG9iYWwgaWRlbnRpZmllciBwcmVmaXggZm9yIHRlc3RzCiAgICAgKiBEZWZpbmUgYSB0ZXJtIGJhc2VkIG9uIHRoZSBwYXJlbnQgY29tcG9uZW50IHRvIGF2b2lkIGNvbmZsaWN0cyBvbiBtdWx0aXBsZSBjb21wb25lbnRzCiAgICAgKi8KICAgIGNvbXBvbmVudFRlc3RpZDogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdzb3J0YWJsZS10YWJsZScKICAgIH0sCiAgICAvKioKICAgICAqIEFsbG93cyBmb3IgdGhlIHVzYWdlIG9mIGEgcXVlcnkgcGFyYW0gdG8gd29yayBmb3Igc2ltcGxlIGZpbHRlcmluZyAocSkKICAgICAqLwogICAgdXNlUXVlcnlQYXJhbXNGb3JTaW1wbGVGaWx0ZXJpbmc6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvKioKICAgICAqIE1hbmF1bCBmb3JjZSB0aGUgdXBkYXRlIG9mIGxpdmUgYW5kIGRlbGF5ZWQgY2VsbHMuIENoYW5nZSB0aGlzIG51bWJlciB0byBraWNrIG9mZiB0aGUgdXBkYXRlCiAgICAgKi8KICAgIGZvcmNlVXBkYXRlTGl2ZUFuZERlbGF5ZWQ6IHsKICAgICAgdHlwZTogICAgTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIGxldCBzZWFyY2hRdWVyeSA9ICcnOwogICAgbGV0IGV2ZW50dWFsU2VhcmNoUXVlcnkgPSAnJzsKCiAgICAvLyBvbmx5IGFsbG93IGZvciBmaWx0ZXIgcXVlcnkgcGFyYW0gZm9yIHNpbXBsZSBmaWx0ZXJpbmcgZm9yIG5vdy4uLgogICAgaWYgKCF0aGlzLmhhc0FkdmFuY2VkRmlsdGVyaW5nICYmIHRoaXMudXNlUXVlcnlQYXJhbXNGb3JTaW1wbGVGaWx0ZXJpbmcgJiYgdGhpcy4kcm91dGUucXVlcnk/LnEpIHsKICAgICAgc2VhcmNoUXVlcnkgPSB0aGlzLiRyb3V0ZS5xdWVyeT8ucTsKICAgICAgZXZlbnR1YWxTZWFyY2hRdWVyeSA9IHRoaXMuJHJvdXRlLnF1ZXJ5Py5xOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRQaGFzZTogICAgIEFTWU5DX0JVVFRPTl9TVEFURVMuV0FJVElORywKICAgICAgZXhwYW5kZWQ6ICAgICAgICAge30sCiAgICAgIHNlYXJjaFF1ZXJ5LAogICAgICBldmVudHVhbFNlYXJjaFF1ZXJ5LAogICAgICBhY3Rpb25PZkludGVyZXN0OiBudWxsLAogICAgICBsb2FkaW5nRGVsYXk6ICAgICBmYWxzZSwKICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuX2xvYWRpbmdEZWxheVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMubG9hZGluZ0RlbGF5ID0gdHJ1ZTsKICAgIH0sIDIwMCk7CgogICAgLy8gQWRkIHNjcm9sbCBsaXN0ZW5lciB0byB0aGUgbWFpbiBlbGVtZW50CiAgICBjb25zdCAkbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKTsKCiAgICB0aGlzLl9vblNjcm9sbCA9IHRoaXMub25TY3JvbGwuYmluZCh0aGlzKTsKICAgICRtYWluPy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vblNjcm9sbCk7CiAgfSwKCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGNsZWFyVGltZW91dCh0aGlzLmxvYWRpbmdEZWxheVRpbWVyKTsKICAgIGNsZWFyVGltZW91dCh0aGlzLl9zY3JvbGxUaW1lcik7CiAgICBjbGVhclRpbWVvdXQodGhpcy5fbG9hZGluZ0RlbGF5VGltZXIpOwogICAgY2xlYXJUaW1lb3V0KHRoaXMuX2xpdmVDb2x1bW5zVGltZXIpOwogICAgY2xlYXJUaW1lb3V0KHRoaXMuX2RlbGF5ZWRDb2x1bW5zVGltZXIpOwogICAgY2xlYXJUaW1lb3V0KHRoaXMubWFudWFsUmVmcmVzaFRpbWVyKTsKCiAgICBjb25zdCAkbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKTsKCiAgICAkbWFpbj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwpOwogIH0sCgogIHdhdGNoOiB7CiAgICBldmVudHVhbFNlYXJjaFF1ZXJ5OiBkZWJvdW5jZShmdW5jdGlvbihxKSB7CiAgICAgIHRoaXMuc2VhcmNoUXVlcnkgPSBxOwoKICAgICAgaWYgKCF0aGlzLmhhc0FkdmFuY2VkRmlsdGVyaW5nICYmIHRoaXMudXNlUXVlcnlQYXJhbXNGb3JTaW1wbGVGaWx0ZXJpbmcpIHsKICAgICAgICBjb25zdCByb3V0ZSA9IHsKICAgICAgICAgIG5hbWU6ICAgdGhpcy4kcm91dGUubmFtZSwKICAgICAgICAgIHBhcmFtczogeyAuLi50aGlzLiRyb3V0ZS5wYXJhbXMgfSwKICAgICAgICAgIHF1ZXJ5OiAgeyAuLi50aGlzLiRyb3V0ZS5xdWVyeSwgcSB9CiAgICAgICAgfTsKCiAgICAgICAgaWYgKCFxICYmIHRoaXMuJHJvdXRlLnF1ZXJ5Py5xKSB7CiAgICAgICAgICByb3V0ZS5xdWVyeSA9IHt9OwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2Uocm91dGUpOwogICAgICB9CiAgICB9LCAyMDApLAoKICAgIGRlc2NlbmRpbmcobmV1LCBvbGQpIHsKICAgICAgdGhpcy53YXRjaGVyVXBkYXRlTGl2ZUFuZERlbGF5ZWQobmV1LCBvbGQpOwogICAgfSwKICAgIHNlYXJjaFF1ZXJ5KG5ldSwgb2xkKSB7CiAgICAgIHRoaXMud2F0Y2hlclVwZGF0ZUxpdmVBbmREZWxheWVkKG5ldSwgb2xkKTsKICAgIH0sCiAgICBzb3J0RmllbGRzKG5ldSwgb2xkKSB7CiAgICAgIHRoaXMud2F0Y2hlclVwZGF0ZUxpdmVBbmREZWxheWVkKG5ldSwgb2xkKTsKICAgIH0sCiAgICBncm91cEJ5KG5ldSwgb2xkKSB7CiAgICAgIHRoaXMud2F0Y2hlclVwZGF0ZUxpdmVBbmREZWxheWVkKG5ldSwgb2xkKTsKICAgIH0sCiAgICBuYW1lc3BhY2VzKG5ldSwgb2xkKSB7CiAgICAgIHRoaXMud2F0Y2hlclVwZGF0ZUxpdmVBbmREZWxheWVkKG5ldSwgb2xkKTsKICAgIH0sCiAgICBwYWdlKG5ldSwgb2xkKSB7CiAgICAgIHRoaXMud2F0Y2hlclVwZGF0ZUxpdmVBbmREZWxheWVkKG5ldSwgb2xkKTsKICAgIH0sCiAgICBmb3JjZVVwZGF0ZUxpdmVBbmREZWxheWVkKG5ldSwgb2xkKSB7CiAgICAgIHRoaXMud2F0Y2hlclVwZGF0ZUxpdmVBbmREZWxheWVkKG5ldSwgb2xkKTsKICAgIH0sCgogICAgLy8gRW5zdXJlIHdlIHVwZGF0ZSBsaXZlIGFuZCBkZWxheWVkIGNvbHVtbnMgb24gZmlyc3QgbG9hZAogICAgaW5pdGFsTG9hZDogewogICAgICBoYW5kbGVyKG5ldSkgewogICAgICAgIGlmIChuZXUpIHsKICAgICAgICAgIHRoaXMuX2RpZGluaXQgPSB0cnVlOwogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gdGhpcy51cGRhdGVMaXZlQW5kRGVsYXllZCgpKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKCiAgICAvLyB0aGlzIGlzIHRoZSBmbGFnIHRoYXQgaW5kaWNhdGVzIHRoYXQgbWFudWFsIHJlZnJlc2ggZGF0YSBoYXMgYmVlbiBsb2FkZWQKICAgIC8vIGFuZCB3ZSBzaG91bGQgdXBkYXRlIHRoZSBkZWZlcnJlZCBjb2xzCiAgICBtYW51YWxSZWZyZXNoTG9hZGluZ0ZpbmlzaGVkOiB7CiAgICAgIGhhbmRsZXIobmV1LCBvbGQpIHsKICAgICAgICAvLyB0aGlzIGlzIG1lcmVseSB0byB1cGRhdGUgdGhlIG1hbnVhbCByZWZyZXNoIGJ1dHRvbiBzdGF0dXMKICAgICAgICB0aGlzLmN1cnJlbnRQaGFzZSA9ICFuZXUgPyBBU1lOQ19CVVRUT05fU1RBVEVTLldBSVRJTkcgOiBBU1lOQ19CVVRUT05fU1RBVEVTLkFDVElPTjsKICAgICAgICBpZiAobmV1ICYmIG5ldSAhPT0gb2xkKSB7CiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB0aGlzLnVwZGF0ZUxpdmVBbmREZWxheWVkKCkpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZGVib3VuY2VkUmVmcmVzaFRhYmxlRGF0YSA9IGRlYm91bmNlKHRoaXMucmVmcmVzaFRhYmxlRGF0YSwgNTAwKTsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7IGlzVG9vTWFueUl0ZW1zVG9BdXRvVXBkYXRlOiAncmVzb3VyY2UtZmV0Y2gvaXNUb29NYW55SXRlbXNUb0F1dG9VcGRhdGUnIH0pLAogICAgLi4ubWFwR2V0dGVycyh7IGlzTWFudWFsUmVmcmVzaExvYWRpbmc6ICdyZXNvdXJjZS1mZXRjaC9tYW51YWxSZWZyZXNoSXNMb2FkaW5nJyB9KSwKICAgIG5hbWVzcGFjZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydhY3RpdmVOYW1lc3BhY2VDYWNoZSddOwogICAgfSwKCiAgICBpbml0YWxMb2FkKCkgewogICAgICByZXR1cm4gISEoIXRoaXMubG9hZGluZyAmJiAhdGhpcy5fZGlkaW5pdCAmJiB0aGlzLnJvd3M/Lmxlbmd0aCk7CiAgICB9LAoKICAgIG1hbnVhbFJlZnJlc2hMb2FkaW5nRmluaXNoZWQoKSB7CiAgICAgIHJldHVybiAhISghdGhpcy5sb2FkaW5nICYmIHRoaXMuX2RpZGluaXQgJiYgdGhpcy5yb3dzPy5sZW5ndGggJiYgIXRoaXMuaXNNYW51YWxSZWZyZXNoTG9hZGluZyk7CiAgICB9LAoKICAgIGZ1bGxDb2xzcGFuKCkgewogICAgICBsZXQgc3BhbiA9IDA7CgogICAgICBmb3IgKCBsZXQgaSA9IDAgOyBpIDwgdGhpcy5jb2x1bW5zLmxlbmd0aCA7IGkrKyApIHsKICAgICAgICBpZiAoIXRoaXMuY29sdW1uc1tpXS5oaWRlKSB7CiAgICAgICAgICBzcGFuKys7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoIHRoaXMudGFibGVBY3Rpb25zICkgewogICAgICAgIHNwYW4rKzsKICAgICAgfQoKICAgICAgaWYgKCB0aGlzLnN1YkV4cGFuZENvbHVtbiApIHsKICAgICAgICBzcGFuKys7CiAgICAgIH0KCiAgICAgIGlmICggdGhpcy5yb3dBY3Rpb25zICkgewogICAgICAgIHNwYW4rKzsKICAgICAgfQoKICAgICAgcmV0dXJuIHNwYW47CiAgICB9LAoKICAgIG5vUmVzdWx0cygpIHsKICAgICAgcmV0dXJuICEhdGhpcy5zZWFyY2hRdWVyeSAmJiB0aGlzLnBhZ2VkUm93cy5sZW5ndGggPT09IDA7CiAgICB9LAoKICAgIG5vUm93cygpIHsKICAgICAgcmV0dXJuICF0aGlzLm5vUmVzdWx0cyAmJiAodGhpcy5yb3dzIHx8IFtdKS5sZW5ndGggPT09IDA7CiAgICB9LAoKICAgIHNob3dIZWFkZXJSb3coKSB7CiAgICAgIHJldHVybiB0aGlzLnNlYXJjaCB8fAogICAgICAgIHRoaXMudGFibGVBY3Rpb25zIHx8CiAgICAgICAgdGhpcy4kc2xvdHNbJ2hlYWRlci1sZWZ0J10/Lmxlbmd0aCB8fAogICAgICAgIHRoaXMuJHNsb3RzWydoZWFkZXItbWlkZGxlJ10/Lmxlbmd0aCB8fAogICAgICAgIHRoaXMuJHNsb3RzWydoZWFkZXItcmlnaHQnXT8ubGVuZ3RoOwogICAgfSwKCiAgICBjb2x1bW5zKCkgewogICAgICAvLyBGaWx0ZXIgb3V0IGFueSBjb2x1bW5zIHRoYXQgYXJlIHRvbyBoZWF2eSB0byBzaG93IGZvciBsYXJnZSBwYWdlIHNpemVzCiAgICAgIGNvbnN0IG91dCA9IHRoaXMuaGVhZGVycy5zbGljZSgpLmZpbHRlcigoYykgPT4gIWMubWF4UGFnZVNpemUgfHwgKGMubWF4UGFnZVNpemUgJiYgYy5tYXhQYWdlU2l6ZSA+PSB0aGlzLnBlclBhZ2UpKTsKCiAgICAgIGlmICggdGhpcy5ncm91cEJ5ICkgewogICAgICAgIGNvbnN0IGVudHJ5ID0gb3V0LmZpbmQoKHgpID0+IHgubmFtZSA9PT0gdGhpcy5ncm91cEJ5KTsKCiAgICAgICAgaWYgKCBlbnRyeSApIHsKICAgICAgICAgIHJlbW92ZU9iamVjdChvdXQsIGVudHJ5KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIElmIGFsbCBjb2x1bW5zIGhhdmUgYSB3aWR0aCwgdHJ5IHRvIHJlbW92ZSBpdCBmcm9tIGEgY29sdW1uIHRoYXQgY2FuIGJlIHZhcmlhYmxlIChuYW1lKQogICAgICBjb25zdCBtaXNzaW5nV2lkdGggPSBvdXQuZmluZCgoeCkgPT4gIXgud2lkdGgpOwoKICAgICAgaWYgKCAhbWlzc2luZ1dpZHRoICkgewogICAgICAgIGNvbnN0IHZhcmlhYmxlID0gb3V0LmZpbmQoKHgpID0+IHguY2FuQmVWYXJpYWJsZSk7CgogICAgICAgIGlmICggdmFyaWFibGUgKSB7CiAgICAgICAgICBjb25zdCBuZXUgPSBjbG9uZSh2YXJpYWJsZSk7CgogICAgICAgICAgZGVsZXRlIG5ldS53aWR0aDsKCiAgICAgICAgICBvdXQuc3BsaWNlKG91dC5pbmRleE9mKHZhcmlhYmxlKSwgMSwgbmV1KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIGhhbmRsZSBjb2xzIHZpc2liaWxpdHkgYW5kIGZpbHRlcmluZyBpZiB0aGVyZSBpcyBhZHZhbmNlZCBmaWx0ZXJpbmcKICAgICAgaWYgKHRoaXMuaGFzQWR2YW5jZWRGaWx0ZXJpbmcpIHsKICAgICAgICBjb25zdCBjb2xzID0gdGhpcy5oYW5kbGVDb2xzVmlzaWJpbHlBbmRGaWx0ZXJpbmcob3V0KTsKCiAgICAgICAgcmV0dXJuIGNvbHM7CiAgICAgIH0KCiAgICAgIHJldHVybiBvdXQ7CiAgICB9LAoKICAgIC8vIEZvciBkYXRhLXRpdGxlIHByb3BlcnRpZXMgb24gPHRkPnMKICAgIGR0KCkgewogICAgICBjb25zdCBvdXQgPSB7CiAgICAgICAgY2hlY2s6ICAgYFNlbGVjdDogYCwKICAgICAgICBhY3Rpb25zOiBgQWN0aW9uczogYCwKICAgICAgfTsKCiAgICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKChjb2wpID0+IHsKICAgICAgICBvdXRbY29sLm5hbWVdID0gYCR7IChjb2wubGFiZWwgfHwgY29sLm5hbWUpIH06YDsKICAgICAgfSk7CgogICAgICByZXR1cm4gb3V0OwogICAgfSwKCiAgICBjbGFzc09iamVjdCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAndG9wLWRpdmlkZXInOiAgIHRoaXMudG9wRGl2aWRlciwKICAgICAgICAnYm9keS1kaXZpZGVycyc6IHRoaXMuYm9keURpdmlkZXJzLAogICAgICAgICdvdmVyZmxvdy15JzogICAgdGhpcy5vdmVyZmxvd1ksCiAgICAgICAgJ292ZXJmbG93LXgnOiAgICB0aGlzLm92ZXJmbG93WCwKICAgICAgfTsKICAgIH0sCgogICAgLy8gRG8gd2UgaGF2ZSBhbnkgbGl2ZSBjb2x1bW5zPwogICAgaGFzTGl2ZUNvbHVtbnMoKSB7CiAgICAgIGNvbnN0IGxpdmVDb2x1bW5zID0gdGhpcy5jb2x1bW5zLmZpbmQoKGMpID0+IGMuZm9ybWF0dGVyPy5zdGFydHNXaXRoKCdMaXZlJykgfHwgYy5saXZlVXBkYXRlcyk7CgogICAgICByZXR1cm4gISFsaXZlQ29sdW1uczsKICAgIH0sCgogICAgaGFzRGVsYXllZENvbHVtbnMoKSB7CiAgICAgIGNvbnN0IGRlbGFleWRDb2x1bW5zID0gdGhpcy5jb2x1bW5zLmZpbmQoKGMpID0+IGMuZGVsYXlMb2FkaW5nKTsKCiAgICAgIHJldHVybiAhIWRlbGFleWRDb2x1bW5zOwogICAgfSwKCiAgICBjb2x1bW5Gb3JtbWF0dGVySURzKCkgewogICAgICBjb25zdCBjb2x1bW5zSWRzID0ge307CgogICAgICB0aGlzLmNvbHVtbnMuZm9yRWFjaCgoYykgPT4gewogICAgICAgIGlmIChjLmZvcm1hdHRlcikgewogICAgICAgICAgY29sdW1uc0lkc1tjLmZvcm1hdHRlcl0gPSBkYXNoZXJpemUoYy5mb3JtYXR0ZXIpOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICByZXR1cm4gY29sdW1uc0lkczsKICAgIH0sCgogICAgLy8gR2VuZXJhdGUgcm93IGFuZCBjb2x1bW4gZGF0YSBmb3IgZWFzaWVyIHJlbmRlcmluZyBpbiB0aGUgdGVtcGxhdGUKICAgIC8vIGVuc3VyZXMgd2Ugb25seSBjYWxsIG1ldGhvZHMgbGlrZSBgdmFsdWVGb3JgIG9uY2UKICAgIGRpc3BsYXlSb3dzKCkgewogICAgICBjb25zdCByb3dzID0gW107CiAgICAgIGNvbnN0IGNvbHVtbkZvcm1tYXR0ZXJJRHMgPSB0aGlzLmNvbHVtbkZvcm1tYXR0ZXJJRHM7CgogICAgICB0aGlzLmdyb3VwZWRSb3dzLmZvckVhY2goKGdycCkgPT4gewogICAgICAgIGNvbnN0IGdyb3VwID0gewogICAgICAgICAgZ3JwLAogICAgICAgICAga2V5OiAgZ3JwLmtleSwKICAgICAgICAgIHJlZjogIGdycC5yZWYsCiAgICAgICAgICByb3dzOiBbXSwKICAgICAgICB9OwoKICAgICAgICByb3dzLnB1c2goZ3JvdXApOwoKICAgICAgICBncnAucm93cy5mb3JFYWNoKChyb3cpID0+IHsKICAgICAgICAgIGNvbnN0IHJvd0RhdGEgPSB7CiAgICAgICAgICAgIHJvdywKICAgICAgICAgICAga2V5OiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0KHJvdywgdGhpcy5rZXlGaWVsZCksCiAgICAgICAgICAgIHNob3dTdWJSb3c6ICAgICAgICAgICAgICAgICB0aGlzLnNob3dTdWJSb3cocm93LCB0aGlzLmtleUZpZWxkKSwKICAgICAgICAgICAgY2FuUnVuQnVsa0FjdGlvbk9mSW50ZXJlc3Q6IHRoaXMuY2FuUnVuQnVsa0FjdGlvbk9mSW50ZXJlc3Qocm93KSwKICAgICAgICAgICAgY29sdW1uczogICAgICAgICAgICAgICAgICAgIFtdCiAgICAgICAgICB9OwoKICAgICAgICAgIGdyb3VwLnJvd3MucHVzaChyb3dEYXRhKTsKCiAgICAgICAgICB0aGlzLmNvbHVtbnMuZm9yRWFjaCgoYykgPT4gewogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGMuZGVsYXlMb2FkaW5nID8gdW5kZWZpbmVkIDogdGhpcy52YWx1ZUZvcihyb3csIGMsIGMuaXNMYWJlbCk7CiAgICAgICAgICAgIGxldCBjb21wb25lbnQ7CiAgICAgICAgICAgIGxldCBmb3JtYXR0ZWQgPSB2YWx1ZTsKICAgICAgICAgICAgbGV0IG5lZWRSZWYgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgICAgIGZvcm1hdHRlZCA9IHZhbHVlLmpvaW4oJywgJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChjLmZvcm1hdHRlcikgewogICAgICAgICAgICAgIGlmIChGT1JNQVRURVJTW2MuZm9ybWF0dGVyXSkgewogICAgICAgICAgICAgICAgY29tcG9uZW50ID0gRk9STUFUVEVSU1tjLmZvcm1hdHRlcl07CiAgICAgICAgICAgICAgICBuZWVkUmVmID0gdHJ1ZTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhIGZvcm1hdHRlciBmcm9tIGEgcGx1Z2luCiAgICAgICAgICAgICAgICBjb25zdCBwbHVnaW5Gb3JtYXR0ZXIgPSB0aGlzLiRwbHVnaW4/LmdldER5bmFtaWMoJ2Zvcm1hdHRlcnMnLCBjLmZvcm1hdHRlcik7CgogICAgICAgICAgICAgICAgaWYgKHBsdWdpbkZvcm1hdHRlcikgewogICAgICAgICAgICAgICAgICBjb21wb25lbnQgPSBwbHVnaW5Gb3JtYXR0ZXI7CiAgICAgICAgICAgICAgICAgIG5lZWRSZWYgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgcm93RGF0YS5jb2x1bW5zLnB1c2goewogICAgICAgICAgICAgIGNvbDogICAgICAgYywKICAgICAgICAgICAgICB2YWx1ZSwKICAgICAgICAgICAgICBmb3JtYXR0ZWQsCiAgICAgICAgICAgICAgY29tcG9uZW50LAogICAgICAgICAgICAgIG5lZWRSZWYsCiAgICAgICAgICAgICAgZGVsYXllZDogICBjLmRlbGF5TG9hZGluZywKICAgICAgICAgICAgICBsaXZlOiAgICAgIGMuZm9ybWF0dGVyPy5zdGFydHNXaXRoKCdMaXZlJykgfHwgYy5saXZlVXBkYXRlcywKICAgICAgICAgICAgICBsYWJlbDogICAgIHRoaXMubGFiZWxGb3IoYyksCiAgICAgICAgICAgICAgZGFzaGVyaXplOiBjb2x1bW5Gb3JtbWF0dGVySURzW2MuZm9ybWF0dGVyXSB8fCAnJywKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CgogICAgICByZXR1cm4gcm93czsKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICByZWZyZXNoVGFibGVEYXRhKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncmVzb3VyY2UtZmV0Y2gvZG9NYW51YWxSZWZyZXNoJyk7CiAgICB9LAogICAgZ2V0LAogICAgZGFzaGVyaXplLAoKICAgIG9uU2Nyb2xsKCkgewogICAgICBpZiAodGhpcy5oYXNMaXZlQ29sdW1ucyB8fCB0aGlzLmhhc0RlbGF5ZWRDb2x1bW5zKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2xpdmVDb2x1bW5zVGltZXIpOwogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zY3JvbGxUaW1lcik7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2RlbGF5ZWRDb2x1bW5zVGltZXIpOwogICAgICAgIHRoaXMuX3Njcm9sbFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLnVwZGF0ZUxpdmVDb2x1bW5zKCk7CiAgICAgICAgICB0aGlzLnVwZGF0ZURlbGF5ZWRDb2x1bW5zKCk7CiAgICAgICAgfSwgMzAwKTsKICAgICAgfQogICAgfSwKCiAgICB3YXRjaGVyVXBkYXRlTGl2ZUFuZERlbGF5ZWQobmV1LCBvbGQpIHsKICAgICAgaWYgKG5ldSAhPT0gb2xkKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gdGhpcy51cGRhdGVMaXZlQW5kRGVsYXllZCgpKTsKICAgICAgfQogICAgfSwKCiAgICB1cGRhdGVMaXZlQW5kRGVsYXllZCgpIHsKICAgICAgaWYgKHRoaXMuaGFzTGl2ZUNvbHVtbnMpIHsKICAgICAgICB0aGlzLnVwZGF0ZUxpdmVDb2x1bW5zKCk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmhhc0RlbGF5ZWRDb2x1bW5zKSB7CiAgICAgICAgdGhpcy51cGRhdGVEZWxheWVkQ29sdW1ucygpOwogICAgICB9CiAgICB9LAoKICAgIHVwZGF0ZURlbGF5ZWRDb2x1bW5zKCkgewogICAgICBjbGVhclRpbWVvdXQodGhpcy5fZGVsYXllZENvbHVtbnNUaW1lcik7CgogICAgICBpZiAoIXRoaXMuJHJlZnMuY29sdW1uIHx8IHRoaXMucGFnZWRSb3dzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgZGVsYXllZENvbHVtbnMgPSB0aGlzLiRyZWZzLmNvbHVtbi5maWx0ZXIoKGMpID0+IGMuc3RhcnREZWxheWVkTG9hZGluZyAmJiAhYy5fX2RlbGF5ZWRMb2FkaW5nKTsKICAgICAgLy8gV2UgYWRkIDEwMCBwaXhlbHMgaGVyZSAtIHNvIHdlIHdpbGwgcmVuZGVyIHRoZSBkZWxheWVkIGNvbHVtbnMgZm9yIGEgZmV3IGV4dHJhIHJvd3MgYmVsb3cgd2hhdCBpcyB2aXNpYmxlCiAgICAgIC8vIFRoaXMgd2F5IGlmIHlvdSBzY3JvbGwgc2xvd2x5LCB5b3Ugd29uJ3Qgc2VlIHRoZSBjb2x1bW5zIGJlaW5nIGxvYWRlZAogICAgICBjb25zdCBjbGllbnRIZWlnaHQgPSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICsgMTAwOwoKICAgICAgbGV0IHNjaGVkdWxlZCA9IDA7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbGF5ZWRDb2x1bW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgZGMgPSBkZWxheWVkQ29sdW1uc1tpXTsKICAgICAgICBjb25zdCB5ID0gZGMuJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnk7CgogICAgICAgIGlmICh5ID49IDAgJiYgeSA8PSBjbGllbnRIZWlnaHQpIHsKICAgICAgICAgIGRjLnN0YXJ0RGVsYXllZExvYWRpbmcodHJ1ZSk7CiAgICAgICAgICBkYy5fX2RlbGF5ZWRMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICBzY2hlZHVsZWQrKzsKCiAgICAgICAgICAvLyBPbmx5IHVwZGF0ZSA0IGF0IGEgdGltZQogICAgICAgICAgaWYgKHNjaGVkdWxlZCA9PT0gNCkgewogICAgICAgICAgICB0aGlzLl9kZWxheWVkQ29sdW1uc1RpbWVyID0gc2V0VGltZW91dCh0aGlzLnVwZGF0ZURlbGF5ZWRDb2x1bW5zLCAxMDApOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICB1cGRhdGVMaXZlQ29sdW1ucygpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2xpdmVDb2x1bW5zVGltZXIpOwoKICAgICAgaWYgKCF0aGlzLiRyZWZzLmNvbHVtbiB8fCAhdGhpcy5oYXNMaXZlQ29sdW1ucyB8fCB0aGlzLnBhZ2VkUm93cy5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IGNsaWVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICBjb25zdCBsaXZlQ29sdW1ucyA9IHRoaXMuJHJlZnMuY29sdW1uLmZpbHRlcigoYykgPT4gISFjLmxpdmVVcGRhdGUpOwogICAgICBjb25zdCBub3cgPSBkYXkoKTsKICAgICAgbGV0IG5leHQgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGl2ZUNvbHVtbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBjb2x1bW4gPSBsaXZlQ29sdW1uc1tpXTsKICAgICAgICBjb25zdCB5ID0gY29sdW1uLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55OwoKICAgICAgICBpZiAoeSA+PSAwICYmIHkgPD0gY2xpZW50SGVpZ2h0KSB7CiAgICAgICAgICBjb25zdCBkaWZmID0gY29sdW1uLmxpdmVVcGRhdGUobm93KTsKCiAgICAgICAgICBpZiAoZGlmZiA8IG5leHQpIHsKICAgICAgICAgICAgbmV4dCA9IGRpZmY7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAobmV4dCA8IDEgKSB7CiAgICAgICAgbmV4dCA9IDE7CiAgICAgIH0KCiAgICAgIC8vIFNjaGVkdWxlIGFnYWluCiAgICAgIHRoaXMuX2xpdmVDb2x1bW5zVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMudXBkYXRlTGl2ZUNvbHVtbnMoKSwgbmV4dCAqIDEwMDApOwogICAgfSwKCiAgICBsYWJlbEZvcihjb2wpIHsKICAgICAgaWYgKCBjb2wubGFiZWxLZXkgKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudChjb2wubGFiZWxLZXksIHVuZGVmaW5lZCwgdHJ1ZSk7CiAgICAgIH0gZWxzZSBpZiAoIGNvbC5sYWJlbCApIHsKICAgICAgICByZXR1cm4gY29sLmxhYmVsOwogICAgICB9CgogICAgICByZXR1cm4gdWNGaXJzdChjb2wubmFtZSk7CiAgICB9LAoKICAgIHZhbHVlRm9yKHJvdywgY29sLCBpc0xhYmVsKSB7CiAgICAgIGlmICh0eXBlb2YgY29sLnZhbHVlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgcmV0dXJuIGNvbC52YWx1ZShyb3cpOwogICAgICB9CgogICAgICBpZiAoaXNMYWJlbCkgewogICAgICAgIGlmIChyb3cubWV0YWRhdGE/LmxhYmVscyAmJiByb3cubWV0YWRhdGE/LmxhYmVsc1tjb2wubGFiZWxdKSB7CiAgICAgICAgICByZXR1cm4gcm93Lm1ldGFkYXRhPy5sYWJlbHNbY29sLmxhYmVsXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgLy8gVXNlIHRvIGRlYnVnIHRhYmxlIGNvbHVtbnMgdXNpbmcgZXhwZW5zaXZlIHZhbHVlIGdldHRlcnMKICAgICAgLy8gY29uc29sZS53YXJuKGBQZXJmb3JtYW5jZTogVGFibGUgdmFsdWVGb3I6ICR7IGNvbC5uYW1lIH0gJHsgY29sLnZhbHVlIH1gKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCgogICAgICBjb25zdCBleHByID0gY29sLnZhbHVlIHx8IGNvbC5uYW1lOwogICAgICBjb25zdCBvdXQgPSBnZXQocm93LCBleHByKTsKCiAgICAgIGlmICggb3V0ID09PSBudWxsIHx8IG91dCA9PT0gdW5kZWZpbmVkICkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQoKICAgICAgcmV0dXJuIG91dDsKICAgIH0sCgogICAgaXNFeHBhbmRlZChyb3cpIHsKICAgICAgY29uc3Qga2V5ID0gcm93W3RoaXMua2V5RmllbGRdOwoKICAgICAgcmV0dXJuICEhdGhpcy5leHBhbmRlZFtrZXldOwogICAgfSwKCiAgICB0b2dnbGVFeHBhbmQocm93KSB7CiAgICAgIGNvbnN0IGtleSA9IHJvd1t0aGlzLmtleUZpZWxkXTsKICAgICAgY29uc3QgdmFsID0gIXRoaXMuZXhwYW5kZWRba2V5XTsKCiAgICAgIHRoaXMuZXhwYW5kZWRba2V5XSA9IHZhbDsKICAgICAgdGhpcy5leHBhbmRlZCA9IHsgLi4udGhpcy5leHBhbmRlZCB9OwoKICAgICAgcmV0dXJuIHZhbDsKICAgIH0sCgogICAgc2V0QnVsa0FjdGlvbk9mSW50ZXJlc3QoYWN0aW9uKSB7CiAgICAgIHRoaXMuYWN0aW9uT2ZJbnRlcmVzdCA9IGFjdGlvbjsKICAgIH0sCgogICAgLy8gQ2FuIHRoZSBhY3Rpb24gb2YgaW50ZXJlc3QgYmUgYXBwbGllZCB0byB0aGUgc3BlY2lmaWVkIHJlc291cmNlPwogICAgY2FuUnVuQnVsa0FjdGlvbk9mSW50ZXJlc3QocmVzb3VyY2UpIHsKICAgICAgaWYgKCAhdGhpcy5hY3Rpb25PZkludGVyZXN0IHx8IGlzRW1wdHkocmVzb3VyY2U/LmF2YWlsYWJsZUFjdGlvbnMpICkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgY29uc3QgbWF0Y2hpbmdSZXNvdXJjZUFjdGlvbiA9IHJlc291cmNlLmF2YWlsYWJsZUFjdGlvbnM/LmZpbmQoKGEpID0+IGEuYWN0aW9uID09PSB0aGlzLmFjdGlvbk9mSW50ZXJlc3QuYWN0aW9uKTsKCiAgICAgIHJldHVybiBtYXRjaGluZ1Jlc291cmNlQWN0aW9uPy5lbmFibGVkOwogICAgfSwKCiAgICBmb2N1c1NlYXJjaCgpIHsKICAgICAgaWYgKCB0aGlzLiRyZWZzLnNlYXJjaFF1ZXJ5ICkgewogICAgICAgIHRoaXMuJHJlZnMuc2VhcmNoUXVlcnkuZm9jdXMoKTsKICAgICAgICB0aGlzLiRyZWZzLnNlYXJjaFF1ZXJ5LnNlbGVjdCgpOwogICAgICB9CiAgICB9LAoKICAgIG5lYXJlc3RDaGVja2JveCgpIHsKICAgICAgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY2xvc2VzdCgndHIubWFpbi1yb3cnKT8ucXVlcnlTZWxlY3RvcignLmNoZWNrYm94LWN1c3RvbScpOwogICAgfSwKCiAgICBmb2N1c0FkamFjZW50KG5leHQgPSB0cnVlKSB7CiAgICAgIGNvbnN0IGFsbCA9IEFycmF5LmZyb20odGhpcy4kZWwucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94LWN1c3RvbScpKTsKCiAgICAgIGNvbnN0IGN1ciA9IHRoaXMubmVhcmVzdENoZWNrYm94KCk7CiAgICAgIGxldCBpZHggPSAtMTsKCiAgICAgIGlmICggY3VyICkgewogICAgICAgIGlkeCA9IGFsbC5pbmRleE9mKGN1cikgKyAobmV4dCA/IDEgOiAtMSApOwogICAgICB9IGVsc2UgaWYgKCBuZXh0ICkgewogICAgICAgIGlkeCA9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWR4ID0gYWxsLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGlmICggaWR4IDwgMSApIHsgLy8gRG9uJ3QgZ28gdXAgdG8gdGhlIGNoZWNrIGFsbCBidXR0b24KICAgICAgICBpZHggPSAxOwoKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKCBpZHggPj0gYWxsLmxlbmd0aCApIHsKICAgICAgICBpZHggPSBhbGwubGVuZ3RoIC0gMTsKCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIGlmICggYWxsW2lkeF0gKSB7CiAgICAgICAgYWxsW2lkeF0uZm9jdXMoKTsKCiAgICAgICAgcmV0dXJuIGFsbFtpZHhdOwogICAgICB9CiAgICB9LAoKICAgIGZvY3VzTmV4dDogdGhyb3R0bGUoZnVuY3Rpb24oZXZlbnQsIG1vcmUgPSBmYWxzZSkgewogICAgICBjb25zdCBlbGVtID0gdGhpcy5mb2N1c0FkamFjZW50KHRydWUpOwogICAgICBjb25zdCByb3cgPSBnZXRQYXJlbnQoZWxlbSwgJ3RyJyk7CgogICAgICBpZiAocm93Py5jbGFzc0xpc3QuY29udGFpbnMoJ3Jvdy1zZWxlY3RlZCcpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmtleVNlbGVjdFJvdyhyb3csIG1vcmUpOwogICAgfSwgNTApLAoKICAgIGZvY3VzUHJldmlvdXM6IHRocm90dGxlKGZ1bmN0aW9uKGV2ZW50LCBtb3JlID0gZmFsc2UpIHsKICAgICAgY29uc3QgZWxlbSA9IHRoaXMuZm9jdXNBZGphY2VudChmYWxzZSk7CiAgICAgIGNvbnN0IHJvdyA9IGdldFBhcmVudChlbGVtLCAndHInKTsKCiAgICAgIGlmIChyb3c/LmNsYXNzTGlzdC5jb250YWlucygncm93LXNlbGVjdGVkJykpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMua2V5U2VsZWN0Um93KHJvdywgbW9yZSk7CiAgICB9LCA1MCksCgogICAgc2hvd1N1YlJvdyhyb3csIGtleUZpZWxkKSB7CiAgICAgIGNvbnN0IGhhc0luamVjdGVkU3ViUm93cyA9IHRoaXMuc3ViUm93cyAmJiAoIXRoaXMuc3ViRXhwYW5kYWJsZSB8fCB0aGlzLmV4cGFuZGVkW2dldChyb3csIGtleUZpZWxkKV0pOwogICAgICBjb25zdCBoYXNTdGF0ZURlc2NyaXB0aW9uID0gcm93LnN0YXRlRGVzY3JpcHRpb247CgogICAgICByZXR1cm4gaGFzSW5qZWN0ZWRTdWJSb3dzIHx8IGhhc1N0YXRlRGVzY3JpcHRpb247CiAgICB9LAoKICAgIGhhbmRsZUFjdGlvbkJ1dHRvbkNsaWNrKGksIGV2ZW50KSB7CiAgICAgIC8vIEVhY2ggcm93IGluIHRoZSB0YWJsZSBnZXRzIGl0cyBvd24gcmVmIHdpdGgKICAgICAgLy8gYSBudW1iZXIgYmFzZWQgb24gaXRzIGluZGV4LiBJZiB5b3UgYXJlIHVzaW5nCiAgICAgIC8vIGFuIEFjdGlvbk1lbnUgdGhhdCBkb2VuJ3QgaGF2ZSBhIGRlcGVuZGVuY3kgb24gVnVleCwKICAgICAgLy8gdGhlc2UgcmVmcyBhcmUgdXNlZnVsIGJlY2F1c2UgeW91IGNhbiByZXVzZSB0aGUKICAgICAgLy8gc2FtZSBBY3Rpb25NZW51IGNvbXBvbmVudCBvbiBhIHBhZ2Ugd2l0aCBtYW55IGRpZmZlcmVudAogICAgICAvLyB0YXJnZXQgZWxlbWVudHMgaW4gYSBsaXN0LAogICAgICAvLyBzbyB5b3UgY2FuIHN0aWxsIGF2b2lkIHRoZSBwZXJmb3JtYW5jZSBwcm9ibGVtcyB0aGF0CiAgICAgIC8vIGNvdWxkIHJlc3VsdCBpZiB0aGUgQWN0aW9uTWVudSB3YXMgaW4gZXZlcnkgcm93LiBUaGUgbWVudQogICAgICAvLyB3aWxsIG9wZW4gb24gd2hpY2hldmVyIHRhcmdldCBlbGVtZW50IGlzIGNsaWNrZWQuCiAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrZWRBY3Rpb25CdXR0b24nLCB7CiAgICAgICAgZXZlbnQsCiAgICAgICAgdGFyZ2V0RWxlbWVudDogdGhpcy4kcmVmc1tgYWN0aW9uQnV0dG9uJHsgaSB9YF1bMF0sCiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/components/SortableTable","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport day from 'dayjs';\nimport isEmpty from 'lodash/isEmpty';\nimport { dasherize, ucFirst } from '@shell/utils/string';\nimport { get, clone } from '@shell/utils/object';\nimport { removeObject } from '@shell/utils/array';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport AsyncButton, { ASYNC_BUTTON_STATES } from '@shell/components/AsyncButton';\nimport ActionDropdown from '@shell/components/ActionDropdown';\nimport throttle from 'lodash/throttle';\nimport debounce from 'lodash/debounce';\nimport THead from './THead';\nimport filtering from './filtering';\nimport selection from './selection';\nimport sorting from './sorting';\nimport paging from './paging';\nimport grouping from './grouping';\nimport actions from './actions';\nimport AdvancedFiltering from './advanced-filtering';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { getParent } from '@shell/utils/dom';\n\n// Uncomment for table performance debugging\n// import tableDebug from './debug';\n\n// Its quicker to render if we directly supply the components for the formatters\n// rather than just the name of a global component - so create a map of the formatter comoponents\n// NOTE: This is populated by a plugin (formatters.js) to avoid issues with plugins\nexport const FORMATTERS = {};\n\nexport const COLUMN_BREAKPOINTS = {\n  /**\n   * Only show column if at tablet width or wider\n   */\n  TABLET:  'tablet',\n  /**\n   * Only show column if at laptop width or wider\n   */\n  LAPTOP:  'laptop',\n  /**\n   * Only show column if at desktop width or wider\n   */\n  DESKTOP: 'desktop'\n};\n\n// @TODO:\n// Fixed header/scrolling\n\n// Data Flow:\n// rows prop\n// -> arrangedRows (sorting.js)\n// -> filteredRows (filtering.js)\n// -> pagedRows    (paging.js)\n// -> groupedRows  (grouping.js)\n\nexport default {\n  name:       'SortableTable',\n  components: {\n    THead, Checkbox, AsyncButton, ActionDropdown, LabeledSelect\n  },\n  mixins: [\n    filtering,\n    sorting,\n    paging,\n    grouping,\n    selection,\n    actions,\n    AdvancedFiltering,\n    // For table performance debugging - uncomment and uncomment the corresponding import\n    // tableDebug,\n  ],\n\n  props: {\n    headers: {\n      // {\n      //    name:   Name for the column (goes in query param) and for defaultSortBy\n      //    label:  Displayed column header\n      //    sort:   string|array[string] Field name(s) to sort by, default: [name, keyField]\n      //              fields can be suffixed with ':desc' to flip the normal sort order\n      //    search: string|array[string] Field name(s) to search in, default: [name]\n      //    width:  number\n      // }\n      type:     Array,\n      required: true\n    },\n    rows: {\n      // The array of objects to show\n      type:     Array,\n      required: true\n    },\n    keyField: {\n      // Field that is unique for each row.\n      type:    String,\n      default: '_key',\n    },\n\n    loading: {\n      type:     Boolean,\n      required: false\n    },\n\n    groupBy: {\n      // Field to group rows by, row[groupBy] must be something that can be a map key\n      type:    String,\n      default: null\n    },\n    groupRef: {\n      // Object to provide as the reference for rendering the grouping row\n      type:    String,\n      default: null,\n    },\n    groupSort: {\n      // Field to order groups by, defaults to groupBy\n      type:    Array,\n      default: null\n    },\n\n    defaultSortBy: {\n      // Default field to sort by if none is specified\n      // uses name on headers\n      type:    String,\n      default: null\n    },\n\n    tableActions: {\n      // Show bulk table actions\n      type:    Boolean,\n      default: true\n    },\n\n    rowActions: {\n      // Show action dropdown on the end of each row\n      type:    Boolean,\n      default: true\n    },\n\n    mangleActionResources: {\n      type:    Function,\n      default: null,\n    },\n\n    rowActionsWidth: {\n      // How wide the action dropdown column should be\n      type:    Number,\n      default: 40\n    },\n\n    search: {\n      // Show search input to filter rows\n      type:    Boolean,\n      default: true\n    },\n\n    extraSearchFields: {\n      // Additional fields that aren't defined in the headers to search in on each row\n      type:    Array,\n      default: null\n    },\n\n    subRows: {\n      // If there are sub-rows, your main row must have <tr class=\"main-row\"> to identify it\n      type:    Boolean,\n      default: false,\n    },\n\n    subExpandable: {\n      type:    Boolean,\n      default: false,\n    },\n\n    subExpandColumn: {\n      type:    Boolean,\n      default: false,\n    },\n\n    subSearch: {\n      // A field containing an array of sub-items to also search in for each row\n      type:    String,\n      default: null,\n    },\n\n    subFields: {\n      // Search this list of fields within the items in \"subSearch\" of each row\n      type:    Array,\n      default: null,\n    },\n\n    /**\n     * Show the divider between the thead and tbody.\n     */\n    topDivider: {\n      type:    Boolean,\n      default: true\n    },\n\n    /**\n     * Show the dividers between rows\n     */\n    bodyDividers: {\n      type:    Boolean,\n      default: false\n    },\n\n    overflowX: {\n      type:    Boolean,\n      default: false\n    },\n    overflowY: {\n      type:    Boolean,\n      default: false\n    },\n\n    /**\n     * If pagination of the data is enabled or not\n     */\n    paging: {\n      type:    Boolean,\n      default: false,\n    },\n\n    /**\n     * What translation key to use for displaying the '1 - 10 of 100 Things' pagination info\n     */\n    pagingLabel: {\n      type:    String,\n      default: 'sortableTable.paging.generic'\n    },\n\n    /**\n     * Additional params to pass to the pagingLabel translation\n     */\n    pagingParams: {\n      type:    Object,\n      default: null,\n    },\n\n    /**\n     * Allows you to override the default preference of the number of\n     * items to display per page. This is used by ./paging.js if you're\n     * looking for a reference.\n     */\n    rowsPerPage: {\n      type:    Number,\n      default: null, // Default comes from the user preference\n    },\n\n    /**\n     * Allows you to override the default translation text of no rows view\n     */\n    noRowsKey: {\n      type:    String,\n      default: 'sortableTable.noRows'\n    },\n\n    /**\n     * Allows you to hide the no rows messaging.\n     */\n    showNoRows: {\n      type:    Boolean,\n      default: true\n    },\n\n    /**\n     * Allows you to override the default translation text of no search data view\n     */\n    noDataKey: {\n      type:    String,\n      default: 'sortableTable.noData'\n    },\n\n    /**\n     * Allows you to override showing the THEAD section.\n     */\n    showHeaders: {\n      type:    Boolean,\n      default: true\n    },\n\n    sortGenerationFn: {\n      type:    Function,\n      default: null,\n    },\n\n    /**\n     * Allows you to link to a custom detail page for data that\n     * doesn't have a class model. For example, a receiver configuration\n     * block within an AlertmanagerConfig resource.\n     */\n    getCustomDetailLink: {\n      type:    Function,\n      default: null\n    },\n\n    /**\n     * Inherited global identifier prefix for tests\n     * Define a term based on the parent component to avoid conflicts on multiple components\n     */\n    componentTestid: {\n      type:    String,\n      default: 'sortable-table'\n    },\n    /**\n     * Allows for the usage of a query param to work for simple filtering (q)\n     */\n    useQueryParamsForSimpleFiltering: {\n      type:    Boolean,\n      default: false\n    },\n    /**\n     * Manaul force the update of live and delayed cells. Change this number to kick off the update\n     */\n    forceUpdateLiveAndDelayed: {\n      type:    Number,\n      default: 0\n    }\n  },\n\n  data() {\n    let searchQuery = '';\n    let eventualSearchQuery = '';\n\n    // only allow for filter query param for simple filtering for now...\n    if (!this.hasAdvancedFiltering && this.useQueryParamsForSimpleFiltering && this.$route.query?.q) {\n      searchQuery = this.$route.query?.q;\n      eventualSearchQuery = this.$route.query?.q;\n    }\n\n    return {\n      currentPhase:     ASYNC_BUTTON_STATES.WAITING,\n      expanded:         {},\n      searchQuery,\n      eventualSearchQuery,\n      actionOfInterest: null,\n      loadingDelay:     false,\n    };\n  },\n\n  mounted() {\n    this._loadingDelayTimer = setTimeout(() => {\n      this.loadingDelay = true;\n    }, 200);\n\n    // Add scroll listener to the main element\n    const $main = document.querySelector('main');\n\n    this._onScroll = this.onScroll.bind(this);\n    $main?.addEventListener('scroll', this._onScroll);\n  },\n\n  beforeDestroy() {\n    clearTimeout(this.loadingDelayTimer);\n    clearTimeout(this._scrollTimer);\n    clearTimeout(this._loadingDelayTimer);\n    clearTimeout(this._liveColumnsTimer);\n    clearTimeout(this._delayedColumnsTimer);\n    clearTimeout(this.manualRefreshTimer);\n\n    const $main = document.querySelector('main');\n\n    $main?.removeEventListener('scroll', this._onScroll);\n  },\n\n  watch: {\n    eventualSearchQuery: debounce(function(q) {\n      this.searchQuery = q;\n\n      if (!this.hasAdvancedFiltering && this.useQueryParamsForSimpleFiltering) {\n        const route = {\n          name:   this.$route.name,\n          params: { ...this.$route.params },\n          query:  { ...this.$route.query, q }\n        };\n\n        if (!q && this.$route.query?.q) {\n          route.query = {};\n        }\n\n        this.$router.replace(route);\n      }\n    }, 200),\n\n    descending(neu, old) {\n      this.watcherUpdateLiveAndDelayed(neu, old);\n    },\n    searchQuery(neu, old) {\n      this.watcherUpdateLiveAndDelayed(neu, old);\n    },\n    sortFields(neu, old) {\n      this.watcherUpdateLiveAndDelayed(neu, old);\n    },\n    groupBy(neu, old) {\n      this.watcherUpdateLiveAndDelayed(neu, old);\n    },\n    namespaces(neu, old) {\n      this.watcherUpdateLiveAndDelayed(neu, old);\n    },\n    page(neu, old) {\n      this.watcherUpdateLiveAndDelayed(neu, old);\n    },\n    forceUpdateLiveAndDelayed(neu, old) {\n      this.watcherUpdateLiveAndDelayed(neu, old);\n    },\n\n    // Ensure we update live and delayed columns on first load\n    initalLoad: {\n      handler(neu) {\n        if (neu) {\n          this._didinit = true;\n          this.$nextTick(() => this.updateLiveAndDelayed());\n        }\n      },\n      immediate: true\n    },\n\n    // this is the flag that indicates that manual refresh data has been loaded\n    // and we should update the deferred cols\n    manualRefreshLoadingFinished: {\n      handler(neu, old) {\n        // this is merely to update the manual refresh button status\n        this.currentPhase = !neu ? ASYNC_BUTTON_STATES.WAITING : ASYNC_BUTTON_STATES.ACTION;\n        if (neu && neu !== old) {\n          this.$nextTick(() => this.updateLiveAndDelayed());\n        }\n      },\n      immediate: true\n    }\n  },\n\n  created() {\n    this.debouncedRefreshTableData = debounce(this.refreshTableData, 500);\n  },\n\n  computed: {\n    ...mapGetters({ isTooManyItemsToAutoUpdate: 'resource-fetch/isTooManyItemsToAutoUpdate' }),\n    ...mapGetters({ isManualRefreshLoading: 'resource-fetch/manualRefreshIsLoading' }),\n    namespaces() {\n      return this.$store.getters['activeNamespaceCache'];\n    },\n\n    initalLoad() {\n      return !!(!this.loading && !this._didinit && this.rows?.length);\n    },\n\n    manualRefreshLoadingFinished() {\n      return !!(!this.loading && this._didinit && this.rows?.length && !this.isManualRefreshLoading);\n    },\n\n    fullColspan() {\n      let span = 0;\n\n      for ( let i = 0 ; i < this.columns.length ; i++ ) {\n        if (!this.columns[i].hide) {\n          span++;\n        }\n      }\n\n      if ( this.tableActions ) {\n        span++;\n      }\n\n      if ( this.subExpandColumn ) {\n        span++;\n      }\n\n      if ( this.rowActions ) {\n        span++;\n      }\n\n      return span;\n    },\n\n    noResults() {\n      return !!this.searchQuery && this.pagedRows.length === 0;\n    },\n\n    noRows() {\n      return !this.noResults && (this.rows || []).length === 0;\n    },\n\n    showHeaderRow() {\n      return this.search ||\n        this.tableActions ||\n        this.$slots['header-left']?.length ||\n        this.$slots['header-middle']?.length ||\n        this.$slots['header-right']?.length;\n    },\n\n    columns() {\n      // Filter out any columns that are too heavy to show for large page sizes\n      const out = this.headers.slice().filter((c) => !c.maxPageSize || (c.maxPageSize && c.maxPageSize >= this.perPage));\n\n      if ( this.groupBy ) {\n        const entry = out.find((x) => x.name === this.groupBy);\n\n        if ( entry ) {\n          removeObject(out, entry);\n        }\n      }\n\n      // If all columns have a width, try to remove it from a column that can be variable (name)\n      const missingWidth = out.find((x) => !x.width);\n\n      if ( !missingWidth ) {\n        const variable = out.find((x) => x.canBeVariable);\n\n        if ( variable ) {\n          const neu = clone(variable);\n\n          delete neu.width;\n\n          out.splice(out.indexOf(variable), 1, neu);\n        }\n      }\n\n      // handle cols visibility and filtering if there is advanced filtering\n      if (this.hasAdvancedFiltering) {\n        const cols = this.handleColsVisibilyAndFiltering(out);\n\n        return cols;\n      }\n\n      return out;\n    },\n\n    // For data-title properties on <td>s\n    dt() {\n      const out = {\n        check:   `Select: `,\n        actions: `Actions: `,\n      };\n\n      this.columns.forEach((col) => {\n        out[col.name] = `${ (col.label || col.name) }:`;\n      });\n\n      return out;\n    },\n\n    classObject() {\n      return {\n        'top-divider':   this.topDivider,\n        'body-dividers': this.bodyDividers,\n        'overflow-y':    this.overflowY,\n        'overflow-x':    this.overflowX,\n      };\n    },\n\n    // Do we have any live columns?\n    hasLiveColumns() {\n      const liveColumns = this.columns.find((c) => c.formatter?.startsWith('Live') || c.liveUpdates);\n\n      return !!liveColumns;\n    },\n\n    hasDelayedColumns() {\n      const delaeydColumns = this.columns.find((c) => c.delayLoading);\n\n      return !!delaeydColumns;\n    },\n\n    columnFormmatterIDs() {\n      const columnsIds = {};\n\n      this.columns.forEach((c) => {\n        if (c.formatter) {\n          columnsIds[c.formatter] = dasherize(c.formatter);\n        }\n      });\n\n      return columnsIds;\n    },\n\n    // Generate row and column data for easier rendering in the template\n    // ensures we only call methods like `valueFor` once\n    displayRows() {\n      const rows = [];\n      const columnFormmatterIDs = this.columnFormmatterIDs;\n\n      this.groupedRows.forEach((grp) => {\n        const group = {\n          grp,\n          key:  grp.key,\n          ref:  grp.ref,\n          rows: [],\n        };\n\n        rows.push(group);\n\n        grp.rows.forEach((row) => {\n          const rowData = {\n            row,\n            key:                        this.get(row, this.keyField),\n            showSubRow:                 this.showSubRow(row, this.keyField),\n            canRunBulkActionOfInterest: this.canRunBulkActionOfInterest(row),\n            columns:                    []\n          };\n\n          group.rows.push(rowData);\n\n          this.columns.forEach((c) => {\n            const value = c.delayLoading ? undefined : this.valueFor(row, c, c.isLabel);\n            let component;\n            let formatted = value;\n            let needRef = false;\n\n            if (Array.isArray(value)) {\n              formatted = value.join(', ');\n            }\n\n            if (c.formatter) {\n              if (FORMATTERS[c.formatter]) {\n                component = FORMATTERS[c.formatter];\n                needRef = true;\n              } else {\n                // Check if we have a formatter from a plugin\n                const pluginFormatter = this.$plugin?.getDynamic('formatters', c.formatter);\n\n                if (pluginFormatter) {\n                  component = pluginFormatter;\n                  needRef = true;\n                }\n              }\n            }\n\n            rowData.columns.push({\n              col:       c,\n              value,\n              formatted,\n              component,\n              needRef,\n              delayed:   c.delayLoading,\n              live:      c.formatter?.startsWith('Live') || c.liveUpdates,\n              label:     this.labelFor(c),\n              dasherize: columnFormmatterIDs[c.formatter] || '',\n            });\n          });\n        });\n      });\n\n      return rows;\n    }\n  },\n\n  methods: {\n    refreshTableData() {\n      this.$store.dispatch('resource-fetch/doManualRefresh');\n    },\n    get,\n    dasherize,\n\n    onScroll() {\n      if (this.hasLiveColumns || this.hasDelayedColumns) {\n        clearTimeout(this._liveColumnsTimer);\n        clearTimeout(this._scrollTimer);\n        clearTimeout(this._delayedColumnsTimer);\n        this._scrollTimer = setTimeout(() => {\n          this.updateLiveColumns();\n          this.updateDelayedColumns();\n        }, 300);\n      }\n    },\n\n    watcherUpdateLiveAndDelayed(neu, old) {\n      if (neu !== old) {\n        this.$nextTick(() => this.updateLiveAndDelayed());\n      }\n    },\n\n    updateLiveAndDelayed() {\n      if (this.hasLiveColumns) {\n        this.updateLiveColumns();\n      }\n\n      if (this.hasDelayedColumns) {\n        this.updateDelayedColumns();\n      }\n    },\n\n    updateDelayedColumns() {\n      clearTimeout(this._delayedColumnsTimer);\n\n      if (!this.$refs.column || this.pagedRows.length === 0) {\n        return;\n      }\n\n      const delayedColumns = this.$refs.column.filter((c) => c.startDelayedLoading && !c.__delayedLoading);\n      // We add 100 pixels here - so we will render the delayed columns for a few extra rows below what is visible\n      // This way if you scroll slowly, you won't see the columns being loaded\n      const clientHeight = (window.innerHeight || document.documentElement.clientHeight) + 100;\n\n      let scheduled = 0;\n\n      for (let i = 0; i < delayedColumns.length; i++) {\n        const dc = delayedColumns[i];\n        const y = dc.$el.getBoundingClientRect().y;\n\n        if (y >= 0 && y <= clientHeight) {\n          dc.startDelayedLoading(true);\n          dc.__delayedLoading = true;\n\n          scheduled++;\n\n          // Only update 4 at a time\n          if (scheduled === 4) {\n            this._delayedColumnsTimer = setTimeout(this.updateDelayedColumns, 100);\n\n            return;\n          }\n        }\n      }\n    },\n\n    updateLiveColumns() {\n      clearTimeout(this._liveColumnsTimer);\n\n      if (!this.$refs.column || !this.hasLiveColumns || this.pagedRows.length === 0) {\n        return;\n      }\n\n      const clientHeight = window.innerHeight || document.documentElement.clientHeight;\n      const liveColumns = this.$refs.column.filter((c) => !!c.liveUpdate);\n      const now = day();\n      let next = Number.MAX_SAFE_INTEGER;\n\n      for (let i = 0; i < liveColumns.length; i++) {\n        const column = liveColumns[i];\n        const y = column.$el.getBoundingClientRect().y;\n\n        if (y >= 0 && y <= clientHeight) {\n          const diff = column.liveUpdate(now);\n\n          if (diff < next) {\n            next = diff;\n          }\n        }\n      }\n\n      if (next < 1 ) {\n        next = 1;\n      }\n\n      // Schedule again\n      this._liveColumnsTimer = setTimeout(() => this.updateLiveColumns(), next * 1000);\n    },\n\n    labelFor(col) {\n      if ( col.labelKey ) {\n        return this.t(col.labelKey, undefined, true);\n      } else if ( col.label ) {\n        return col.label;\n      }\n\n      return ucFirst(col.name);\n    },\n\n    valueFor(row, col, isLabel) {\n      if (typeof col.value === 'function') {\n        return col.value(row);\n      }\n\n      if (isLabel) {\n        if (row.metadata?.labels && row.metadata?.labels[col.label]) {\n          return row.metadata?.labels[col.label];\n        }\n\n        return '';\n      }\n\n      // Use to debug table columns using expensive value getters\n      // console.warn(`Performance: Table valueFor: ${ col.name } ${ col.value }`); // eslint-disable-line no-console\n\n      const expr = col.value || col.name;\n      const out = get(row, expr);\n\n      if ( out === null || out === undefined ) {\n        return '';\n      }\n\n      return out;\n    },\n\n    isExpanded(row) {\n      const key = row[this.keyField];\n\n      return !!this.expanded[key];\n    },\n\n    toggleExpand(row) {\n      const key = row[this.keyField];\n      const val = !this.expanded[key];\n\n      this.expanded[key] = val;\n      this.expanded = { ...this.expanded };\n\n      return val;\n    },\n\n    setBulkActionOfInterest(action) {\n      this.actionOfInterest = action;\n    },\n\n    // Can the action of interest be applied to the specified resource?\n    canRunBulkActionOfInterest(resource) {\n      if ( !this.actionOfInterest || isEmpty(resource?.availableActions) ) {\n        return false;\n      }\n\n      const matchingResourceAction = resource.availableActions?.find((a) => a.action === this.actionOfInterest.action);\n\n      return matchingResourceAction?.enabled;\n    },\n\n    focusSearch() {\n      if ( this.$refs.searchQuery ) {\n        this.$refs.searchQuery.focus();\n        this.$refs.searchQuery.select();\n      }\n    },\n\n    nearestCheckbox() {\n      return document.activeElement.closest('tr.main-row')?.querySelector('.checkbox-custom');\n    },\n\n    focusAdjacent(next = true) {\n      const all = Array.from(this.$el.querySelectorAll('.checkbox-custom'));\n\n      const cur = this.nearestCheckbox();\n      let idx = -1;\n\n      if ( cur ) {\n        idx = all.indexOf(cur) + (next ? 1 : -1 );\n      } else if ( next ) {\n        idx = 1;\n      } else {\n        idx = all.length - 1;\n      }\n\n      if ( idx < 1 ) { // Don't go up to the check all button\n        idx = 1;\n\n        return null;\n      }\n\n      if ( idx >= all.length ) {\n        idx = all.length - 1;\n\n        return null;\n      }\n\n      if ( all[idx] ) {\n        all[idx].focus();\n\n        return all[idx];\n      }\n    },\n\n    focusNext: throttle(function(event, more = false) {\n      const elem = this.focusAdjacent(true);\n      const row = getParent(elem, 'tr');\n\n      if (row?.classList.contains('row-selected')) {\n        return;\n      }\n\n      this.keySelectRow(row, more);\n    }, 50),\n\n    focusPrevious: throttle(function(event, more = false) {\n      const elem = this.focusAdjacent(false);\n      const row = getParent(elem, 'tr');\n\n      if (row?.classList.contains('row-selected')) {\n        return;\n      }\n\n      this.keySelectRow(row, more);\n    }, 50),\n\n    showSubRow(row, keyField) {\n      const hasInjectedSubRows = this.subRows && (!this.subExpandable || this.expanded[get(row, keyField)]);\n      const hasStateDescription = row.stateDescription;\n\n      return hasInjectedSubRows || hasStateDescription;\n    },\n\n    handleActionButtonClick(i, event) {\n      // Each row in the table gets its own ref with\n      // a number based on its index. If you are using\n      // an ActionMenu that doen't have a dependency on Vuex,\n      // these refs are useful because you can reuse the\n      // same ActionMenu component on a page with many different\n      // target elements in a list,\n      // so you can still avoid the performance problems that\n      // could result if the ActionMenu was in every row. The menu\n      // will open on whichever target element is clicked.\n      this.$emit('clickedActionButton', {\n        event,\n        targetElement: this.$refs[`actionButton${ i }`][0],\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <div\n    ref=\"container\"\n    data-testid=\"cluster-list-container\"\n  >\n    <div\n      :class=\"{'titled': $slots.title && $slots.title.length}\"\n      class=\"sortable-table-header\"\n    >\n      <slot name=\"title\" />\n      <div\n        v-if=\"showHeaderRow\"\n        class=\"fixed-header-actions\"\n        :class=\"{button: !!$slots['header-button'], 'advanced-filtering': hasAdvancedFiltering}\"\n      >\n        <div\n          :class=\"bulkActionsClass\"\n          class=\"bulk\"\n        >\n          <slot name=\"header-left\">\n            <template v-if=\"tableActions\">\n              <button\n                v-for=\"act in availableActions\"\n                :id=\"act.action\"\n                :key=\"act.action\"\n                v-clean-tooltip=\"actionTooltip\"\n                type=\"button\"\n                class=\"btn role-primary\"\n                :class=\"{[bulkActionClass]:true}\"\n                :disabled=\"!act.enabled\"\n                :data-testid=\"componentTestid + '-' + act.action\"\n                @click=\"applyTableAction(act, null, $event)\"\n                @mouseover=\"setBulkActionOfInterest(act)\"\n                @mouseleave=\"setBulkActionOfInterest(null)\"\n              >\n                <i\n                  v-if=\"act.icon\"\n                  :class=\"act.icon\"\n                />\n                <span v-clean-html=\"act.label\" />\n              </button>\n              <ActionDropdown\n                :class=\"bulkActionsDropdownClass\"\n                class=\"bulk-actions-dropdown\"\n                :disable-button=\"!selectedRows.length\"\n                size=\"sm\"\n              >\n                <template #button-content>\n                  <button\n                    ref=\"actionDropDown\"\n                    class=\"btn bg-primary mr-0\"\n                    :disabled=\"!selectedRows.length\"\n                  >\n                    <i class=\"icon icon-gear\" />\n                    <span>{{ t('sortableTable.bulkActions.collapsed.label') }}</span>\n                    <i class=\"ml-10 icon icon-chevron-down\" />\n                  </button>\n                </template>\n                <template #popover-content>\n                  <ul class=\"list-unstyled menu\">\n                    <li\n                      v-for=\"act in hiddenActions\"\n                      :key=\"act.action\"\n                      v-close-popover\n                      v-clean-tooltip=\"{\n                        content: actionTooltip,\n                        placement: 'right'\n                      }\"\n                      :class=\"{ disabled: !act.enabled }\"\n                      @click=\"applyTableAction(act, null, $event)\"\n                      @mouseover=\"setBulkActionOfInterest(act)\"\n                      @mouseleave=\"setBulkActionOfInterest(null)\"\n                    >\n                      <i\n                        v-if=\"act.icon\"\n                        :class=\"act.icon\"\n                      />\n                      <span v-clean-html=\"act.label\" />\n                    </li>\n                  </ul>\n                </template>\n              </ActionDropdown>\n              <label\n                v-if=\"selectedRowsText\"\n                :class=\"bulkActionAvailabilityClass\"\n                class=\"action-availability\"\n              >\n                {{ selectedRowsText }}\n              </label>\n            </template>\n          </slot>\n        </div>\n        <div\n          v-if=\"!hasAdvancedFiltering && ($slots['header-middle'] && $slots['header-middle'].length)\"\n          class=\"middle\"\n        >\n          <slot name=\"header-middle\" />\n        </div>\n\n        <div\n          v-if=\"search || hasAdvancedFiltering || isTooManyItemsToAutoUpdate || ($slots['header-right'] && $slots['header-right'].length)\"\n          class=\"search row\"\n          data-testid=\"search-box-filter-row\"\n        >\n          <ul\n            v-if=\"hasAdvancedFiltering\"\n            class=\"advanced-filters-applied\"\n          >\n            <li\n              v-for=\"(filter, i) in advancedFilteringValues\"\n              :key=\"i\"\n            >\n              <span class=\"label\">{{ `\"${filter.value}\" ${ t('sortableTable.in') } ${filter.label}` }}</span>\n              <span\n                class=\"cross\"\n                @click=\"clearAdvancedFilter(i)\"\n              >&#10005;</span>\n              <div class=\"bg\" />\n            </li>\n          </ul>\n          <slot name=\"header-right\" />\n          <AsyncButton\n            v-if=\"isTooManyItemsToAutoUpdate\"\n            v-clean-tooltip=\"t('performance.manualRefresh.buttonTooltip')\"\n            class=\"manual-refresh\"\n            mode=\"refresh\"\n            :current-phase=\"currentPhase\"\n            @click=\"debouncedRefreshTableData\"\n          />\n          <div\n            v-if=\"hasAdvancedFiltering\"\n            ref=\"advanced-filter-group\"\n            class=\"advanced-filter-group\"\n          >\n            <button\n              class=\"btn role-primary\"\n              @click=\"advancedFilteringVisibility = !advancedFilteringVisibility;\"\n            >\n              {{ t('sortableTable.addFilter') }}\n            </button>\n            <div\n              v-show=\"advancedFilteringVisibility\"\n              class=\"advanced-filter-container\"\n            >\n              <input\n                ref=\"advancedSearchQuery\"\n                v-model=\"advFilterSearchTerm\"\n                type=\"search\"\n                class=\"advanced-search-box\"\n                :placeholder=\"t('sortableTable.filterFor')\"\n              >\n              <div class=\"middle-block\">\n                <span>{{ t('sortableTable.in') }}</span>\n                <LabeledSelect\n                  v-model=\"advFilterSelectedProp\"\n                  class=\"filter-select\"\n                  :clearable=\"true\"\n                  :options=\"advFilterSelectOptions\"\n                  :disabled=\"false\"\n                  :searchable=\"false\"\n                  mode=\"edit\"\n                  :multiple=\"false\"\n                  :taggable=\"false\"\n                  :placeholder=\"t('sortableTable.selectCol')\"\n                  @selecting=\"(col) => advFilterSelectedLabel = col.label\"\n                />\n              </div>\n              <div class=\"bottom-block\">\n                <button\n                  class=\"btn role-secondary\"\n                  :disabled=\"!advancedFilteringValues.length\"\n                  @click=\"clearAllAdvancedFilters\"\n                >\n                  {{ t('sortableTable.resetFilters') }}\n                </button>\n                <button\n                  class=\"btn role-primary\"\n                  @click=\"addAdvancedFilter\"\n                >\n                  {{ t('sortableTable.add') }}\n                </button>\n              </div>\n            </div>\n          </div>\n          <input\n            v-else-if=\"search\"\n            ref=\"searchQuery\"\n            v-model=\"eventualSearchQuery\"\n            type=\"search\"\n            class=\"input-sm search-box\"\n            :placeholder=\"t('sortableTable.search')\"\n          >\n          <slot name=\"header-button\" />\n        </div>\n      </div>\n    </div>\n    <table\n      class=\"sortable-table\"\n      :class=\"classObject\"\n      width=\"100%\"\n    >\n      <THead\n        v-if=\"showHeaders\"\n        :label-for=\"labelFor\"\n        :columns=\"columns\"\n        :group=\"group\"\n        :group-options=\"advGroupOptions\"\n        :has-advanced-filtering=\"hasAdvancedFiltering\"\n        :adv-filter-hide-labels-as-cols=\"advFilterHideLabelsAsCols\"\n        :table-actions=\"tableActions\"\n        :table-cols-options=\"columnOptions\"\n        :row-actions=\"rowActions\"\n        :sub-expand-column=\"subExpandColumn\"\n        :row-actions-width=\"rowActionsWidth\"\n        :how-much-selected=\"howMuchSelected\"\n        :sort-by=\"sortBy\"\n        :default-sort-by=\"_defaultSortBy\"\n        :descending=\"descending\"\n        :no-rows=\"noRows\"\n        :loading=\"loading && !loadingDelay\"\n        :no-results=\"noResults\"\n        @on-toggle-all=\"onToggleAll\"\n        @on-sort-change=\"changeSort\"\n        @col-visibility-change=\"changeColVisibility\"\n        @group-value-change=\"(val) => $emit('group-value-change', val)\"\n        @update-cols-options=\"updateColsOptions\"\n      />\n\n      <!-- Don't display anything if we're loading and the delay has yet to pass -->\n      <div v-if=\"loading && !loadingDelay\" />\n\n      <tbody v-else-if=\"loading\">\n        <slot name=\"loading\">\n          <tr>\n            <td :colspan=\"fullColspan\">\n              <div class=\"data-loading\">\n                <i class=\"icon-spin icon icon-spinner\" />\n                <t\n                  k=\"generic.loading\"\n                  :raw=\"true\"\n                />\n              </div>\n            </td>\n          </tr>\n        </slot>\n      </tbody>\n      <tbody v-else-if=\"noRows\">\n        <slot name=\"no-rows\">\n          <tr class=\"no-rows\">\n            <td :colspan=\"fullColspan\">\n              <t\n                v-if=\"showNoRows\"\n                :k=\"noRowsKey\"\n              />\n            </td>\n          </tr>\n        </slot>\n      </tbody>\n      <tbody v-else-if=\"noResults\">\n        <slot name=\"no-results\">\n          <tr class=\"no-results\">\n            <td\n              :colspan=\"fullColspan\"\n              class=\"text-center\"\n            >\n              <t :k=\"noDataKey\" />\n            </td>\n          </tr>\n        </slot>\n      </tbody>\n      <tbody\n        v-for=\"groupedRows in displayRows\"\n        v-else\n        :key=\"groupedRows.key\"\n        :class=\"{ group: groupBy }\"\n      >\n        <slot\n          v-if=\"groupBy\"\n          name=\"group-row\"\n          :group=\"groupedRows\"\n          :fullColspan=\"fullColspan\"\n        >\n          <tr class=\"group-row\">\n            <td :colspan=\"fullColspan\">\n              <slot\n                name=\"group-by\"\n                :group=\"groupedRows.grp\"\n              >\n                <div\n                  v-trim-whitespace\n                  class=\"group-tab\"\n                >\n                  {{ groupedRows.ref }}\n                </div>\n              </slot>\n            </td>\n          </tr>\n        </slot>\n        <template v-for=\"(row, i) in groupedRows.rows\">\n          <slot\n            name=\"main-row\"\n            :row=\"row.row\"\n          >\n            <slot\n              :name=\"'main-row:' + (row.row.mainRowKey || i)\"\n              :full-colspan=\"fullColspan\"\n            >\n              <!-- The data-cant-run-bulk-action-of-interest attribute is being used instead of :class because\n                because our selection.js invokes toggleClass and :class clobbers what was added by toggleClass if\n                the value of :class changes. -->\n              <tr\n                :key=\"row.key\"\n                class=\"main-row\"\n                :data-testid=\"componentTestid + '-' + i + '-row'\"\n                :class=\"{ 'has-sub-row': row.showSubRow}\"\n                :data-node-id=\"row.key\"\n                :data-cant-run-bulk-action-of-interest=\"actionOfInterest && !row.canRunBulkActionOfInterest\"\n              >\n                <td\n                  v-if=\"tableActions\"\n                  class=\"row-check\"\n                  align=\"middle\"\n                >\n                  {{ row.mainRowKey }}<Checkbox\n                    class=\"selection-checkbox\"\n                    :data-node-id=\"row.key\"\n                    :data-testid=\"componentTestid + '-' + i + '-checkbox'\"\n                    :value=\"selectedRows.includes(row.row)\"\n                  />\n                </td>\n                <td\n                  v-if=\"subExpandColumn\"\n                  class=\"row-expand\"\n                  align=\"middle\"\n                >\n                  <i\n                    data-title=\"Toggle Expand\"\n                    :class=\"{\n                      icon: true,\n                      'icon-chevron-right': !expanded[row.row[keyField]],\n                      'icon-chevron-down': !!expanded[row.row[keyField]]\n                    }\"\n                    @click.stop=\"toggleExpand(row.row)\"\n                  />\n                </td>\n                <template v-for=\"(col, j) in row.columns\">\n                  <slot\n                    :name=\"'col:' + col.col.name\"\n                    :row=\"row.row\"\n                    :col=\"col.col\"\n                    :dt=\"dt\"\n                    :expanded=\"expanded\"\n                    :rowKey=\"row.key\"\n                  >\n                    <td\n                      v-show=\"!hasAdvancedFiltering || (hasAdvancedFiltering && col.col.isColVisible)\"\n                      :key=\"col.col.name\"\n                      :data-title=\"col.col.label\"\n                      :data-testid=\"`sortable-cell-${ i }-${ j }`\"\n                      :align=\"col.col.align || 'left'\"\n                      :class=\"{['col-'+col.dasherize]: !!col.col.formatter, [col.col.breakpoint]: !!col.col.breakpoint, ['skip-select']: col.col.skipSelect}\"\n                      :width=\"col.col.width\"\n                    >\n                      <slot\n                        :name=\"'cell:' + col.col.name\"\n                        :row=\"row.row\"\n                        :col=\"col.col\"\n                        :value=\"col.value\"\n                      >\n                        <component\n                          :is=\"col.component\"\n                          v-if=\"col.component && col.needRef\"\n                          ref=\"column\"\n                          :value=\"col.value\"\n                          :row=\"row.row\"\n                          :col=\"col.col\"\n                          v-bind=\"col.col.formatterOpts\"\n                          :row-key=\"row.key\"\n                          :get-custom-detail-link=\"getCustomDetailLink\"\n                        />\n                        <component\n                          :is=\"col.component\"\n                          v-else-if=\"col.component\"\n                          :value=\"col.value\"\n                          :row=\"row.row\"\n                          :col=\"col.col\"\n                          v-bind=\"col.col.formatterOpts\"\n                          :row-key=\"row.key\"\n                        />\n                        <component\n                          :is=\"col.col.formatter\"\n                          v-else-if=\"col.col.formatter\"\n                          :value=\"col.value\"\n                          :row=\"row.row\"\n                          :col=\"col.col\"\n                          v-bind=\"col.col.formatterOpts\"\n                          :row-key=\"row.key\"\n                        />\n                        <template v-else-if=\"col.value !== ''\">\n                          {{ col.formatted }}\n                        </template>\n                        <template v-else-if=\"col.col.dashIfEmpty\">\n                          <span class=\"text-muted\">&mdash;</span>\n                        </template>\n                      </slot>\n                    </td>\n                  </slot>\n                </template>\n                <td\n                  v-if=\"rowActions\"\n                  align=\"middle\"\n                >\n                  <slot\n                    name=\"row-actions\"\n                    :row=\"row.row\"\n                  >\n                    <button\n                      :id=\"`actionButton+${i}+${(row.row && row.row.name) ? row.row.name : ''}`\"\n                      :ref=\"`actionButton${i}`\"\n                      :data-testid=\"componentTestid + '-' + i + '-action-button'\"\n                      aria-haspopup=\"true\"\n                      aria-expanded=\"false\"\n                      type=\"button\"\n                      class=\"btn btn-sm role-multi-action actions\"\n                      @click=\"handleActionButtonClick(i, $event)\"\n                    >\n                      <i class=\"icon icon-actions\" />\n                    </button>\n                  </slot>\n                </td>\n              </tr>\n            </slot>\n          </slot>\n          <slot\n            v-if=\"row.showSubRow\"\n            name=\"sub-row\"\n            :full-colspan=\"fullColspan\"\n            :row=\"row.row\"\n            :sub-matches=\"subMatches\"\n            :keyField=\"keyField\"\n            :componentTestid=\"componentTestid\"\n            :i=\"i\"\n            :onRowMouseEnter=\"onRowMouseEnter\"\n            :onRowMouseLeave=\"onRowMouseLeave\"\n          >\n            <tr\n              v-if=\"row.row.stateDescription\"\n              :key=\"row.row[keyField] + '-description'\"\n              :data-testid=\"componentTestid + '-' + i + '-row-description'\"\n              class=\"state-description sub-row\"\n              @mouseenter=\"onRowMouseEnter\"\n              @mouseleave=\"onRowMouseLeave\"\n            >\n              <td\n                v-if=\"tableActions\"\n                class=\"row-check\"\n                align=\"middle\"\n              />\n              <td\n                :colspan=\"fullColspan - (tableActions ? 1: 0)\"\n                :class=\"{ 'text-error' : row.row.stateObj.error }\"\n              >\n                {{ row.row.stateDescription }}\n              </td>\n            </tr>\n          </slot>\n        </template>\n      </tbody>\n    </table>\n    <div\n      v-if=\"showPaging\"\n      class=\"paging\"\n    >\n      <button\n        type=\"button\"\n        class=\"btn btn-sm role-multi-action\"\n        :disabled=\"page == 1\"\n        @click=\"goToPage('first')\"\n      >\n        <i class=\"icon icon-chevron-beginning\" />\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn btn-sm role-multi-action\"\n        :disabled=\"page == 1\"\n        @click=\"goToPage('prev')\"\n      >\n        <i class=\"icon icon-chevron-left\" />\n      </button>\n      <span>\n        {{ pagingDisplay }}\n      </span>\n      <button\n        type=\"button\"\n        class=\"btn btn-sm role-multi-action\"\n        :disabled=\"page == totalPages\"\n        @click=\"goToPage('next')\"\n      >\n        <i class=\"icon icon-chevron-right\" />\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn btn-sm role-multi-action\"\n        :disabled=\"page == totalPages\"\n        @click=\"goToPage('last')\"\n      >\n        <i class=\"icon icon-chevron-end\" />\n      </button>\n    </div>\n    <button\n      v-if=\"search\"\n      v-shortkey.once=\"['/']\"\n      class=\"hide\"\n      @shortkey=\"focusSearch()\"\n    />\n    <template v-if=\"tableActions\">\n      <button\n        v-shortkey=\"['j']\"\n        class=\"hide\"\n        @shortkey=\"focusNext($event)\"\n      />\n      <button\n        v-shortkey=\"['k']\"\n        class=\"hide\"\n        @shortkey=\"focusPrevious($event)\"\n      />\n      <button\n        v-shortkey=\"['shift','j']\"\n        class=\"hide\"\n        @shortkey=\"focusNext($event, true)\"\n      />\n      <button\n        v-shortkey=\"['shift','k']\"\n        class=\"hide\"\n        @shortkey=\"focusPrevious($event, true)\"\n      />\n      <slot name=\"shortkeys\" />\n    </template>\n  </div>\n</template>\n\n  <style lang=\"scss\" scoped>\n\n  .manual-refresh {\n    height: 40px;\n  }\n  .advanced-filter-group {\n    position: relative;\n    margin-left: 10px;\n    .advanced-filter-container {\n      position: absolute;\n      top: 38px;\n      right: 0;\n      width: 300px;\n      border: 1px solid var(--primary);\n      background-color: var(--body-bg);\n      padding: 20px;\n      z-index: 2;\n\n      .middle-block {\n        display: flex;\n        align-items: center;\n        margin-top: 20px;\n\n        span {\n          margin-right: 20px;\n        }\n\n        button {\n          margin-left: 20px;\n        }\n      }\n\n      .bottom-block {\n        display: flex;\n        align-items: center;\n        margin-top: 40px;\n        justify-content: space-between;\n      }\n    }\n  }\n\n  .advanced-filters-applied {\n    display: inline-flex;\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    max-width: 100%;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n\n    li {\n      margin: 0 20px 10px 0;\n      padding: 2px 5px;\n      border: 1px solid;\n      display: flex;\n      align-items: center;\n      position: relative;\n      height: 20px;\n\n      &:nth-child(4n+1) {\n        border-color: var(--success);\n\n        .bg {\n          background-color: var(--success);\n        }\n      }\n\n      &:nth-child(4n+2) {\n        border-color: var(--warning);\n\n        .bg {\n          background-color: var(--warning);\n        }\n      }\n\n      &:nth-child(4n+3) {\n        border-color: var(--info);\n\n        .bg {\n          background-color: var(--info);\n        }\n      }\n\n      &:nth-child(4n+4) {\n        border-color: var(--error);\n\n        .bg {\n          background-color: var(--error);\n        }\n      }\n\n      .bg {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n       opacity: 0.2;\n        z-index: -1;\n      }\n\n      .label {\n        margin-right: 10px;\n        font-size: 11px;\n      }\n     .cross {\n        font-size: 12px;\n        font-weight: bold;\n        cursor: pointer;\n      }\n    }\n  }\n\n  // Remove colors from multi-action buttons in the table\n  td {\n    .actions.role-multi-action {\n      background-color: transparent;\n      border: none;\n      &:hover, &:focus {\n        background-color: var(--accent-btn);\n        box-shadow: none;\n      }\n    }\n\n    // Aligns with COLUMN_BREAKPOINTS\n    @media only screen and (max-width: map-get($breakpoints, '--viewport-4')) {\n      // HIDE column on sizes below 480px\n      &.tablet, &.laptop, &.desktop {\n        display: none;\n      }\n    }\n    @media only screen and (max-width: map-get($breakpoints, '--viewport-9')) {\n      // HIDE column on sizes below 992px\n      &.laptop, &.desktop {\n        display: none;\n      }\n    }\n    @media only screen and (max-width: map-get($breakpoints, '--viewport-12')) {\n      // HIDE column on sizes below 1281px\n      &.desktop {\n        display: none;\n      }\n    }\n  }\n\n  // Loading indicator row\n  tr td div.data-loading {\n    align-items: center;\n    display: flex;\n    justify-content: center;\n    padding: 20px 0;\n    > i {\n      font-size: 20px;\n      height: 20px;\n      margin-right: 5px;\n      width: 20px;\n    }\n  }\n\n  .search-box {\n    height: 40px;\n    margin-left: 10px;\n    min-width: 180px;\n  }\n  </style>\n\n  <style lang=\"scss\">\n  //\n  // Important: Almost all selectors in here need to be \">\"-ed together so they\n  // apply only to the current table, not one nested inside another table.\n  //\n\n  $group-row-height: 40px;\n  $group-separation: 40px;\n  $divider-height: 1px;\n\n  $separator: 20;\n  $remove: 100;\n  $spacing: 10px;\n\n  .filter-select .vs__selected-options .vs__selected {\n    text-align: left;\n  }\n\n  .sortable-table {\n    border-collapse: collapse;\n    min-width: 400px;\n    border-radius: 5px 5px 0 0;\n    outline: 1px solid var(--border);\n    overflow: hidden;\n    background: var(--sortable-table-bg);\n    border-radius: 4px;\n\n    &.overflow-x {\n      overflow-x: visible;\n    }\n    &.overflow-y {\n      overflow-y: visible;\n    }\n\n    td {\n      padding: 8px 5px;\n      border: 0;\n\n      &:first-child {\n        padding-left: 10px;\n      }\n\n      &:last-child {\n        padding-right: 10px;\n      }\n\n      &.row-check {\n        padding-top: 12px;\n      }\n    }\n\n    tbody {\n      tr {\n        border-bottom: 1px solid var(--sortable-table-top-divider);\n        background-color: var(--sortable-table-row-bg);\n\n        &.main-row.has-sub-row {\n          border-bottom: 0;\n        }\n\n        // if a main-row is hovered also hover it's sibling sub row. note - the reverse is handled in selection.js\n        &.main-row:not(.row-selected):hover + .sub-row {\n          background-color: var(--sortable-table-hover-bg);\n        }\n\n        &:last-of-type {\n          border-bottom: 0;\n        }\n\n        &:hover, &.sub-row-hovered {\n          background-color: var(--sortable-table-hover-bg);\n        }\n\n        &.state-description > td {\n          font-size: 13px;\n          padding-top: 0;\n          overflow-wrap: anywhere;\n        }\n      }\n\n      tr.active-row {\n        color: var(--sortable-table-header-bg);\n      }\n\n      tr.row-selected {\n        background: var(--sortable-table-selected-bg);\n      }\n\n      .no-rows {\n        td {\n          padding: 30px 0;\n          text-align: center;\n        }\n      }\n\n      .no-rows, .no-results {\n        &:hover {\n          background-color: var(--body-bg);\n        }\n      }\n\n      &.group {\n        &:before {\n          content: \"\";\n          display: block;\n          height: 20px;\n          background-color: transparent;\n        }\n      }\n\n      tr.group-row {\n        background-color: initial;\n\n        &:first-child {\n          border-bottom: 2px solid var(--sortable-table-row-bg);\n        }\n\n        &:not(:first-child) {\n          margin-top: 20px;\n        }\n\n        td {\n          padding: 0;\n\n          &:first-of-type {\n            border-left: 1px solid var(--sortable-table-accent-bg);\n          }\n        }\n\n        .group-tab {\n          @include clearfix;\n          height: $group-row-height;\n          line-height: $group-row-height;\n          padding: 0 10px;\n          border-radius: 4px 4px 0px 0px;\n          background-color: var(--sortable-table-row-bg);\n          position: relative;\n          top: 1px;\n          display: inline-block;\n          z-index: z-index('tableGroup');\n          min-width: $group-row-height * 1.8;\n\n          > SPAN {\n            color: var(--sortable-table-group-label);\n          }\n        }\n\n        .group-tab:after {\n          height: $group-row-height;\n          width: 70px;\n          border-radius: 5px 5px 0px 0px;\n          background-color: var(--sortable-table-row-bg);\n          content: \"\";\n          position: absolute;\n          right: -15px;\n          top: 0px;\n          transform: skewX(40deg);\n          z-index: -1;\n        }\n      }\n    }\n  }\n\n  .for-inputs{\n    & TABLE.sortable-table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-bottom: $spacing;\n\n    >TBODY>TR>TD, >THEAD>TR>TH {\n      padding-right: $spacing;\n      padding-bottom: $spacing;\n\n      &:last-of-type {\n        padding-right: 0;\n      }\n    }\n\n    >TBODY>TR:first-of-type>TD {\n      padding-top: $spacing;\n    }\n\n    >TBODY>TR:last-of-type>TD {\n      padding-bottom: 0;\n    }\n  }\n\n    &.edit, &.create, &.clone {\n      TABLE.sortable-table>THEAD>TR>TH {\n      border-color: transparent;\n      }\n    }\n  }\n\n  .sortable-table-header {\n    position: relative;\n    z-index: z-index('fixedTableHeader');\n\n    &.titled {\n      display: flex;\n      align-items: center;\n    }\n  }\n  .fixed-header-actions.button{\n    grid-template-columns: [bulk] auto [middle] min-content [search] minmax(min-content, 350px);\n  }\n\n  .fixed-header-actions {\n    padding: 0 0 20px 0;\n    width: 100%;\n    z-index: z-index('fixedTableHeader');\n    background: transparent;\n    display: grid;\n    grid-template-columns: [bulk] auto [middle] min-content [search] minmax(min-content, 200px);\n    grid-column-gap: 10px;\n\n    &.advanced-filtering {\n      grid-template-columns: [bulk] auto [middle] minmax(min-content, auto) [search] minmax(min-content, auto);\n    }\n\n    .bulk {\n      grid-area: bulk;\n\n      $gap: 10px;\n\n      & > BUTTON {\n        display: none; // Handled dynamically\n      }\n\n      & > BUTTON:not(:last-of-type) {\n        margin-right: $gap;\n      }\n\n      .action-availability {\n        display: none; // Handled dynamically\n        margin-left: $gap;\n        vertical-align: middle;\n        margin-top: 2px;\n      }\n\n      .dropdown-button {\n        $disabled-color: var(--disabled-text);\n        $disabled-cursor: not-allowed;\n        li.disabled {\n          color: $disabled-color;\n          cursor: $disabled-cursor;\n\n          &:hover {\n            color: $disabled-color;\n            background-color: unset;\n            cursor: $disabled-cursor;\n          }\n        }\n      }\n\n      .bulk-action  {\n        .icon {\n          vertical-align: -10%;\n        }\n      }\n    }\n\n    .middle {\n      grid-area: middle;\n      white-space: nowrap;\n\n      .icon.icon-backup.animate {\n        animation-name: spin;\n        animation-duration: 1000ms;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n      }\n\n      @keyframes spin {\n        from {\n          transform:rotate(0deg);\n        }\n        to {\n          transform:rotate(360deg);\n        }\n      }\n    }\n\n    .search {\n      grid-area: search;\n      text-align: right;\n      justify-content: flex-end;\n    }\n\n    .bulk-actions-dropdown {\n      display: none; // Handled dynamically\n\n      .dropdown-button {\n        background-color: var(--primary);\n\n        &:hover {\n          background-color: var(--primary-hover-bg);\n          color: var(--primary-hover-text);\n        }\n\n        > *, .icon-chevron-down {\n          color: var(--primary-text);\n        }\n\n        .button-divider {\n          border-color: var(--primary-text);\n        }\n\n        &.disabled {\n          border-color: var(--disabled-bg);\n\n          .icon-chevron-down {\n            color: var(--disabled-text) !important;\n          }\n\n          .button-divider {\n            border-color: var(--disabled-text);\n          }\n        }\n      }\n    }\n  }\n\n  .paging {\n    margin-top: 10px;\n    text-align: center;\n\n    SPAN {\n      display: inline-block;\n      min-width: 200px;\n    }\n  }\n  </style>\n"]}]}