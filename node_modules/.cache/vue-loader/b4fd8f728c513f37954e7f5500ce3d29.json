{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/nav/WindowManager/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/nav/WindowManager/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnOwppbXBvcnQgewogIHNjcmVlblJlY3QsIGJvdW5kaW5nUmVjdCwgQk9UVE9NLCBSSUdIVCwgTEVGVAp9IGZyb20gJ0BzaGVsbC91dGlscy9wb3NpdGlvbic7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRyYWdPZmZzZXQ6ICAgICAwLAogICAgICByZXBvcnRlZEhlaWdodDogdGhpcy5oZWlnaHQsCiAgICAgIHJlcG9ydGVkV2lkdGg6ICB0aGlzLndpZHRoLAogICAgICBjb21wb25lbnQ6ICAgICAgeyB9LAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ3dtJywgWyd0YWJzJywgJ2FjdGl2ZScsICdvcGVuJywgJ3VzZXJIZWlnaHQnLCAndXNlcldpZHRoJywgJ3VzZXJQaW4nXSksCgogICAgaGVpZ2h0OiB7CiAgICAgIGdldCgpIHsKICAgICAgICBpZiAoIHByb2Nlc3Muc2VydmVyICkgewogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQoKICAgICAgICBpZiAoIHRoaXMudXNlckhlaWdodCApIHsKICAgICAgICAgIHJldHVybiB0aGlzLnVzZXJIZWlnaHQ7CiAgICAgICAgfQoKICAgICAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgICAgbGV0IGhlaWdodCA9IHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd20taGVpZ2h0JyksIDEwKTsKCiAgICAgICAgaWYgKCAhaGVpZ2h0ICkgewogICAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZCh3aW5kb3dIZWlnaHQgLyAyKTsKICAgICAgICB9CiAgICAgICAgaGVpZ2h0ID0gTWF0aC5taW4oaGVpZ2h0LCAzICogd2luZG93SGVpZ2h0IC8gNCk7CgogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnd20taGVpZ2h0JywgaGVpZ2h0KTsKCiAgICAgICAgcmV0dXJuIGhlaWdodDsKICAgICAgfSwKCiAgICAgIHNldCh2YWwpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3dtL3NldFVzZXJIZWlnaHQnLCB2YWwpOwogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnd20taGVpZ2h0JywgdmFsKTsKICAgICAgICB0aGlzLnNob3coKTsKCiAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgfSwKICAgIH0sCgogICAgd2lkdGg6IHsKICAgICAgZ2V0KCkgewogICAgICAgIGlmICggcHJvY2Vzcy5zZXJ2ZXIgKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnVzZXJXaWR0aCkgewogICAgICAgICAgcmV0dXJuIHRoaXMudXNlcldpZHRoOwogICAgICAgIH0KCiAgICAgICAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgICBsZXQgd2lkdGggPSBwYXJzZUludCh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3dtLXdpZHRoJyksIDEwKTsKCiAgICAgICAgaWYgKCF3aWR0aCkgewogICAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpbmRvd1dpZHRoIC8gOCk7CiAgICAgICAgfQogICAgICAgIHdpZHRoID0gTWF0aC5taW4od2lkdGgsIDMgKiB3aW5kb3dXaWR0aCAvIDQpOwoKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3dtLXdpZHRoJywgd2lkdGgpOwoKICAgICAgICByZXR1cm4gd2lkdGg7CiAgICAgIH0sCiAgICAgIHNldCh2YWwpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3dtL3NldFVzZXJXaWR0aCcsIHZhbCk7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd3bS13aWR0aCcsIHZhbCk7CiAgICAgICAgdGhpcy5zaG93KCk7CgogICAgICAgIHJldHVybiB2YWw7CiAgICAgIH0KICAgIH0sCgogICAgcGluQ2xhc3MoKSB7CiAgICAgIHJldHVybiBgcGluLSR7IHRoaXMudXNlclBpbiB9YDsKICAgIH0sCiAgfSwKCiAgd2F0Y2g6IHsKICAgIHVzZXJQaW4odikgewogICAgICBpZiAodGhpcy5vcGVuKSB7CiAgICAgICAgdGhpcy5zZXRXbURpbWVuc2lvbnMoKTsKICAgICAgICBpZiAodiA9PT0gTEVGVCB8fCB2ID09PSBSSUdIVCkgewogICAgICAgICAgdGhpcy5zZXRSZXBvcnRlZEhlaWdodCh3aW5kb3cuaW5uZXJIZWlnaHQgLSA1NSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIHRhYnMoKSB7CiAgICAgIHRoaXMudG9nZ2xlKHRydWUpOwogICAgfSwKCiAgICBvcGVuKG5ldSkgewogICAgICBpZiAoIG5ldSApIHsKICAgICAgICB0aGlzLnNldFJlcG9ydGVkSGVpZ2h0KCk7CiAgICAgICAgdGhpcy5zaG93KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5oaWRlKCk7CiAgICAgIH0KICAgIH0sCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudG9nZ2xlKHRydWUpOwogICAgdGhpcy5xdWV1ZVVwZGF0ZSA9IGRlYm91bmNlKHRoaXMuc2V0UmVwb3J0ZWRIZWlnaHQsIDI1MCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgc3dpdGNoVG8oaWQpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd3bS9zZXRBY3RpdmUnLCBpZCk7CiAgICB9LAoKICAgIHRvZ2dsZShyZXZlcnNlID0gZmFsc2UpIHsKICAgICAgaWYgKCB0aGlzLmRyYWdnaW5nICkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCB0aGlzLm9wZW4gXiByZXZlcnNlICkgewogICAgICAgIHRoaXMuaGlkZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvdygpOwogICAgICB9CiAgICB9LAoKICAgIHNob3coKSB7CiAgICAgIHRoaXMuc2V0V21EaW1lbnNpb25zKCk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnd20vc2V0T3BlbicsIHRydWUpOwogICAgfSwKCiAgICBoaWRlKCkgewogICAgICBpZiAoIHRoaXMudGFicy5sZW5ndGggKSB7CiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXdtLWhlaWdodCcsIGBjYWxjKHZhcigtLXdtLXRhYi1oZWlnaHQsIDI5cHgpICsgMnB4KWApOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS13bS1oZWlnaHQnLCAnMCcpOwogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS13bS13aWR0aCcsICcwJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnd20vc2V0T3BlbicsIGZhbHNlKTsKICAgIH0sCgogICAgZHJhZ1lTdGFydChldmVudCkgewogICAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgogICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5kcmFnWU1vdmUpOwogICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5kcmFnWU1vdmUsIHRydWUpOwogICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuZHJhZ1lFbmQpOwogICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuZHJhZ1lFbmQpOwogICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQgdG91Y2hjYW5jZWwnLCB0aGlzLmRyYWdZRW5kLCB0cnVlKTsKICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLmRyYWdZRW5kLCB0cnVlKTsKCiAgICAgIGNvbnN0IGV2ZW50WSA9IGV2ZW50LnNjcmVlblk7CgogICAgICBjb25zdCByZWN0ID0gYm91bmRpbmdSZWN0KGV2ZW50LnRhcmdldCk7CiAgICAgIGNvbnN0IG9mZnNldCA9IGV2ZW50WSAtIHJlY3QudG9wOwoKICAgICAgdGhpcy5kcmFnT2Zmc2V0ID0gb2Zmc2V0OwogICAgfSwKCiAgICBkcmFnWU1vdmUoZXZlbnQpIHsKICAgICAgY29uc3Qgc2NyZWVuID0gc2NyZWVuUmVjdCgpOwogICAgICBjb25zdCBldmVudFkgPSBldmVudC5zY3JlZW5ZOwogICAgICBjb25zdCBtaW4gPSA1MDsKICAgICAgY29uc3QgbWF4ID0gTWF0aC5yb3VuZCggMyAqIHNjcmVlbi5oZWlnaHQgLyA0KTsKCiAgICAgIGxldCBuZXUgPSBzY3JlZW4uaGVpZ2h0IC0gZXZlbnRZICsgdGhpcy5kcmFnT2Zmc2V0OwoKICAgICAgbmV1ID0gTWF0aC5tYXgobWluLCBNYXRoLm1pbihuZXUsIG1heCkpOwoKICAgICAgdGhpcy5oZWlnaHQgPSBuZXU7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlOwogICAgICB0aGlzLnF1ZXVlVXBkYXRlKCk7CiAgICB9LAoKICAgIGRyYWdZRW5kKGV2ZW50KSB7CiAgICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKCiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmRyYWdZTW92ZSk7CiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmRyYWdZTW92ZSwgdHJ1ZSk7CiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5kcmFnWUVuZCk7CiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5kcmFnWUVuZCk7CiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuZHJhZ1lFbmQsIHRydWUpOwogICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuZHJhZ1lFbmQsIHRydWUpOwoKICAgICAgdGhpcy5zZXRSZXBvcnRlZEhlaWdodCgpOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7CiAgICAgIH0sIDEwMCk7CiAgICB9LAoKICAgIGRyYWdYU3RhcnQoZXZlbnQpIHsKICAgICAgY29uc3QgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwoKICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuZHJhZ1hNb3ZlKTsKICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuZHJhZ1hNb3ZlLCB0cnVlKTsKICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmRyYWdYRW5kKTsKICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmRyYWdYRW5kKTsKICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kIHRvdWNoY2FuY2VsJywgdGhpcy5kcmFnWEVuZCwgdHJ1ZSk7CiAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5kcmFnWEVuZCwgdHJ1ZSk7CgogICAgICBjb25zdCBldmVudFggPSBldmVudC5zY3JlZW5YOwogICAgICBjb25zdCByZWN0ID0gYm91bmRpbmdSZWN0KGV2ZW50LnRhcmdldCk7CgogICAgICBzd2l0Y2ggKHRoaXMudXNlclBpbikgewogICAgICBjYXNlIFJJR0hUOgogICAgICAgIHRoaXMuZHJhZ09mZnNldCA9IGV2ZW50WCAtIHJlY3QubGVmdDsKICAgICAgICBicmVhazsKICAgICAgY2FzZSBMRUZUOgogICAgICAgIHRoaXMuZHJhZ09mZnNldCA9IHJlY3QucmlnaHQgLSBldmVudFg7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCgogICAgZHJhZ1hNb3ZlKGV2ZW50KSB7CiAgICAgIGNvbnN0IHNjcmVlbiA9IHNjcmVlblJlY3QoKTsKICAgICAgY29uc3QgZXZlbnRYID0gZXZlbnQuc2NyZWVuWDsKCiAgICAgIGNvbnN0IG1pbiA9IDI1MDsKICAgICAgY29uc3QgbWF4ID0gTWF0aC5yb3VuZCgyICogc2NyZWVuLndpZHRoIC8gNSk7CiAgICAgIGxldCBuZXU7CgogICAgICBzd2l0Y2ggKHRoaXMudXNlclBpbikgewogICAgICBjYXNlIFJJR0hUOgogICAgICAgIG5ldSA9IHNjcmVlbi53aWR0aCAtIGV2ZW50WCArIHRoaXMuZHJhZ09mZnNldDsKICAgICAgICBicmVhazsKICAgICAgY2FzZSBMRUZUOgogICAgICAgIG5ldSA9IGV2ZW50WCArIHRoaXMuZHJhZ09mZnNldDsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgbmV1ID0gTWF0aC5tYXgobWluLCBNYXRoLm1pbihuZXUsIG1heCkpOwogICAgICB0aGlzLndpZHRoID0gbmV1OwogICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTsKICAgICAgZGVib3VuY2UodGhpcy5zZXRSZXBvcnRlZFdpZHRoLCAyNTApKCk7CiAgICB9LAoKICAgIGRyYWdYRW5kKGV2ZW50KSB7CiAgICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKCiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmRyYWdYTW92ZSk7CiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmRyYWdYTW92ZSwgdHJ1ZSk7CiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5kcmFnWEVuZCk7CiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5kcmFnWEVuZCk7CiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuZHJhZ1hFbmQsIHRydWUpOwogICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuZHJhZ1hFbmQsIHRydWUpOwoKICAgICAgdGhpcy5zZXRSZXBvcnRlZFdpZHRoKCk7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgfSwgMTAwKTsKICAgIH0sCgogICAgc2V0UmVwb3J0ZWRIZWlnaHQoaGVpZ2h0ID0gdGhpcy5oZWlnaHQpIHsKICAgICAgdGhpcy5yZXBvcnRlZEhlaWdodCA9IGhlaWdodDsKICAgIH0sCgogICAgc2V0UmVwb3J0ZWRXaWR0aCgpIHsKICAgICAgdGhpcy5yZXBvcnRlZFdpZHRoID0gdGhpcy53aWR0aDsKICAgIH0sCgogICAgc2V0V21EaW1lbnNpb25zKCkgewogICAgICBzd2l0Y2ggKHRoaXMudXNlclBpbikgewogICAgICBjYXNlIFJJR0hUOgogICAgICBjYXNlIExFRlQ6CiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXdtLWhlaWdodCcsIGAkeyB3aW5kb3cuaW5uZXJIZWlnaHQgLSA1NSB9cHhgKTsKICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0td20td2lkdGgnLCBgJHsgdGhpcy53aWR0aCB9cHhgKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSBCT1RUT006CiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXdtLWhlaWdodCcsIGAkeyB0aGlzLmhlaWdodCB9cHhgKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKCiAgICBjbG9zZShpZCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnd20vY2xvc2UnLCBpZCk7CiAgICB9LAoKICAgIGNvbXBvbmVudEZvcih0YWIpIHsKICAgICAgaWYgKHRoaXMuY29tcG9uZW50W3RhYi5jb21wb25lbnRdID09PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAodGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaGFzQ3VzdG9tV2luZG93Q29tcG9uZW50J10odGFiLmNvbXBvbmVudCkpIHsKICAgICAgICAgIHRoaXMuY29tcG9uZW50W3RhYi5jb21wb25lbnRdID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaW1wb3J0V2luZG93Q29tcG9uZW50J10odGFiLmNvbXBvbmVudCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUud2FybihgVW5hYmxlIHRvIGZpbmQgd2luZG93IGNvbXBvbmVudCBmb3IgdHlwZSAnJHsgdGFiLmNvbXBvbmVudCB9J2ApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgIHRoaXMuY29tcG9uZW50W3RhYi5jb21wb25lbnRdID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudFt0YWIuY29tcG9uZW50XTsKICAgIH0sCgogICAgZW1pdERyYWdnYWJsZShldmVudCkgewogICAgICB0aGlzLiRlbWl0KCdkcmFnZ2FibGUnLCBldmVudCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/components/nav/WindowManager","sourcesContent":["<script>\nimport { mapState } from 'vuex';\nimport debounce from 'lodash/debounce';\nimport {\n  screenRect, boundingRect, BOTTOM, RIGHT, LEFT\n} from '@shell/utils/position';\n\nexport default {\n  data() {\n    return {\n      dragOffset:     0,\n      reportedHeight: this.height,\n      reportedWidth:  this.width,\n      component:      { },\n    };\n  },\n\n  computed: {\n    ...mapState('wm', ['tabs', 'active', 'open', 'userHeight', 'userWidth', 'userPin']),\n\n    height: {\n      get() {\n        if ( process.server ) {\n          return 0;\n        }\n\n        if ( this.userHeight ) {\n          return this.userHeight;\n        }\n\n        const windowHeight = window.innerHeight;\n        let height = parseInt(window.localStorage.getItem('wm-height'), 10);\n\n        if ( !height ) {\n          height = Math.round(windowHeight / 2);\n        }\n        height = Math.min(height, 3 * windowHeight / 4);\n\n        window.localStorage.setItem('wm-height', height);\n\n        return height;\n      },\n\n      set(val) {\n        this.$store.commit('wm/setUserHeight', val);\n        window.localStorage.setItem('wm-height', val);\n        this.show();\n\n        return val;\n      },\n    },\n\n    width: {\n      get() {\n        if ( process.server ) {\n          return 0;\n        }\n\n        if (this.userWidth) {\n          return this.userWidth;\n        }\n\n        const windowWidth = window.innerWidth;\n        let width = parseInt(window.localStorage.getItem('wm-width'), 10);\n\n        if (!width) {\n          width = Math.round(windowWidth / 8);\n        }\n        width = Math.min(width, 3 * windowWidth / 4);\n\n        window.localStorage.setItem('wm-width', width);\n\n        return width;\n      },\n      set(val) {\n        this.$store.commit('wm/setUserWidth', val);\n        window.localStorage.setItem('wm-width', val);\n        this.show();\n\n        return val;\n      }\n    },\n\n    pinClass() {\n      return `pin-${ this.userPin }`;\n    },\n  },\n\n  watch: {\n    userPin(v) {\n      if (this.open) {\n        this.setWmDimensions();\n        if (v === LEFT || v === RIGHT) {\n          this.setReportedHeight(window.innerHeight - 55);\n        }\n      }\n    },\n\n    tabs() {\n      this.toggle(true);\n    },\n\n    open(neu) {\n      if ( neu ) {\n        this.setReportedHeight();\n        this.show();\n      } else {\n        this.hide();\n      }\n    },\n  },\n\n  mounted() {\n    this.toggle(true);\n    this.queueUpdate = debounce(this.setReportedHeight, 250);\n  },\n\n  methods: {\n    switchTo(id) {\n      this.$store.commit('wm/setActive', id);\n    },\n\n    toggle(reverse = false) {\n      if ( this.dragging ) {\n        return;\n      }\n\n      if ( this.open ^ reverse ) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    },\n\n    show() {\n      this.setWmDimensions();\n      this.$store.commit('wm/setOpen', true);\n    },\n\n    hide() {\n      if ( this.tabs.length ) {\n        document.documentElement.style.setProperty('--wm-height', `calc(var(--wm-tab-height, 29px) + 2px)`);\n      } else {\n        document.documentElement.style.setProperty('--wm-height', '0');\n        document.documentElement.style.setProperty('--wm-width', '0');\n      }\n\n      this.$store.commit('wm/setOpen', false);\n    },\n\n    dragYStart(event) {\n      const doc = document.documentElement;\n\n      doc.addEventListener('mousemove', this.dragYMove);\n      doc.addEventListener('touchmove', this.dragYMove, true);\n      doc.addEventListener('mouseup', this.dragYEnd);\n      doc.addEventListener('mouseleave', this.dragYEnd);\n      doc.addEventListener('touchend touchcancel', this.dragYEnd, true);\n      doc.addEventListener('touchstart', this.dragYEnd, true);\n\n      const eventY = event.screenY;\n\n      const rect = boundingRect(event.target);\n      const offset = eventY - rect.top;\n\n      this.dragOffset = offset;\n    },\n\n    dragYMove(event) {\n      const screen = screenRect();\n      const eventY = event.screenY;\n      const min = 50;\n      const max = Math.round( 3 * screen.height / 4);\n\n      let neu = screen.height - eventY + this.dragOffset;\n\n      neu = Math.max(min, Math.min(neu, max));\n\n      this.height = neu;\n      this.dragging = true;\n      this.queueUpdate();\n    },\n\n    dragYEnd(event) {\n      const doc = document.documentElement;\n\n      doc.removeEventListener('mousemove', this.dragYMove);\n      doc.removeEventListener('touchmove', this.dragYMove, true);\n      doc.removeEventListener('mouseup', this.dragYEnd);\n      doc.removeEventListener('mouseleave', this.dragYEnd);\n      doc.removeEventListener('touchend touchcancel', this.dragYEnd, true);\n      doc.removeEventListener('touchstart', this.dragYEnd, true);\n\n      this.setReportedHeight();\n      setTimeout(() => {\n        this.dragging = false;\n      }, 100);\n    },\n\n    dragXStart(event) {\n      const doc = document.documentElement;\n\n      doc.addEventListener('mousemove', this.dragXMove);\n      doc.addEventListener('touchmove', this.dragXMove, true);\n      doc.addEventListener('mouseup', this.dragXEnd);\n      doc.addEventListener('mouseleave', this.dragXEnd);\n      doc.addEventListener('touchend touchcancel', this.dragXEnd, true);\n      doc.addEventListener('touchstart', this.dragXEnd, true);\n\n      const eventX = event.screenX;\n      const rect = boundingRect(event.target);\n\n      switch (this.userPin) {\n      case RIGHT:\n        this.dragOffset = eventX - rect.left;\n        break;\n      case LEFT:\n        this.dragOffset = rect.right - eventX;\n        break;\n      }\n    },\n\n    dragXMove(event) {\n      const screen = screenRect();\n      const eventX = event.screenX;\n\n      const min = 250;\n      const max = Math.round(2 * screen.width / 5);\n      let neu;\n\n      switch (this.userPin) {\n      case RIGHT:\n        neu = screen.width - eventX + this.dragOffset;\n        break;\n      case LEFT:\n        neu = eventX + this.dragOffset;\n        break;\n      }\n\n      neu = Math.max(min, Math.min(neu, max));\n      this.width = neu;\n      this.dragging = true;\n      debounce(this.setReportedWidth, 250)();\n    },\n\n    dragXEnd(event) {\n      const doc = document.documentElement;\n\n      doc.removeEventListener('mousemove', this.dragXMove);\n      doc.removeEventListener('touchmove', this.dragXMove, true);\n      doc.removeEventListener('mouseup', this.dragXEnd);\n      doc.removeEventListener('mouseleave', this.dragXEnd);\n      doc.removeEventListener('touchend touchcancel', this.dragXEnd, true);\n      doc.removeEventListener('touchstart', this.dragXEnd, true);\n\n      this.setReportedWidth();\n      setTimeout(() => {\n        this.dragging = false;\n      }, 100);\n    },\n\n    setReportedHeight(height = this.height) {\n      this.reportedHeight = height;\n    },\n\n    setReportedWidth() {\n      this.reportedWidth = this.width;\n    },\n\n    setWmDimensions() {\n      switch (this.userPin) {\n      case RIGHT:\n      case LEFT:\n        document.documentElement.style.setProperty('--wm-height', `${ window.innerHeight - 55 }px`);\n        document.documentElement.style.setProperty('--wm-width', `${ this.width }px`);\n        break;\n      case BOTTOM:\n        document.documentElement.style.setProperty('--wm-height', `${ this.height }px`);\n        break;\n      }\n    },\n\n    close(id) {\n      this.$store.dispatch('wm/close', id);\n    },\n\n    componentFor(tab) {\n      if (this.component[tab.component] === undefined) {\n        if (this.$store.getters['type-map/hasCustomWindowComponent'](tab.component)) {\n          this.component[tab.component] = this.$store.getters['type-map/importWindowComponent'](tab.component);\n        } else {\n          console.warn(`Unable to find window component for type '${ tab.component }'`); // eslint-disable-line no-console\n          this.component[tab.component] = null;\n        }\n      }\n\n      return this.component[tab.component];\n    },\n\n    emitDraggable(event) {\n      this.$emit('draggable', event);\n    }\n  }\n};\n</script>\n\n<template>\n  <div\n    id=\"windowmanager\"\n    data-testid=\"windowmanager\"\n    class=\"windowmanager\"\n    :class=\"{[pinClass]: true}\"\n  >\n    <div\n      ref=\"tabs\"\n      class=\"tabs\"\n      :class=\"{\n        'resizer-left': userPin == 'left',\n      }\"\n      @mousedown=\"emitDraggable(true)\"\n      @mouseup=\"emitDraggable(false)\"\n    >\n      <div\n        v-if=\"userPin == 'right'\"\n        class=\"resizer resizer-x\"\n        @mousedown.prevent.stop=\"dragXStart($event)\"\n        @touchstart.prevent.stop=\"dragXStart($event)\"\n      >\n        <i class=\"icon icon-code\" />\n      </div>\n      <div\n        v-for=\"tab in tabs\"\n        :key=\"tab.id\"\n        class=\"tab\"\n        :class=\"{'active': tab.id === active}\"\n        @click=\"switchTo(tab.id)\"\n      >\n        <i\n          v-if=\"tab.icon\"\n          class=\"icon\"\n          :class=\"{['icon-'+ tab.icon]: true}\"\n        />\n        <span class=\"tab-label\"> {{ tab.label }}</span>\n        <i\n          class=\"closer icon icon-fw icon-x\"\n          @click.stop=\"close(tab.id)\"\n        />\n      </div>\n      <div\n        v-if=\"userPin == 'bottom'\"\n        class=\"resizer resizer-y\"\n        @mousedown.prevent.stop=\"dragYStart($event)\"\n        @touchstart.prevent.stop=\"dragYStart($event)\"\n        @click=\"toggle\"\n      >\n        <i class=\"icon icon-sort\" />\n      </div>\n      <div\n        v-if=\"userPin == 'left'\"\n        class=\"resizer resizer-x resizer-align-right\"\n        @mousedown.prevent.stop=\"dragXStart($event)\"\n        @touchstart.prevent.stop=\"dragXStart($event)\"\n      >\n        <i class=\"icon icon-code\" />\n      </div>\n    </div>\n    <div\n      v-for=\"tab in tabs\"\n      :key=\"tab.id\"\n      class=\"body\"\n      :class=\"{'active': tab.id === active}\"\n      draggable=\"false\"\n      @dragstart.prevent.stop\n      @dragend.prevent.stop\n      @mouseover=\"emitDraggable(false)\"\n    >\n      <component\n        :is=\"componentFor(tab)\"\n        :tab=\"tab\"\n        :active=\"tab.id === active\"\n        :height=\"reportedHeight\"\n        :width=\"reportedWidth\"\n        v-bind=\"tab.attrs\"\n        @close=\"close(tab.id)\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .windowmanager {\n    display: grid;\n    height: var(--wm-height, 0);\n\n    grid-template-areas:\n      \"tabs\"\n      \"body\";\n\n    grid-template-rows: var(--wm-tab-height) auto;\n\n    .tabs, .body {\n      max-width: 100%;\n    }\n\n    .tabs {\n      grid-area: tabs;\n      background-color: var(--wm-tabs-bg);\n      border-top: 1px solid var(--wm-border);\n      border-bottom: 1px solid var(--wm-border);\n\n      display: flex;\n      align-content: stretch;\n\n      .tab {\n        cursor: pointer;\n        user-select: none;\n        border-top: 1px solid var(--wm-border);\n        border-right: 1px solid var(--wm-border);\n        border-left: 1px solid var(--wm-border);\n        padding: 5px 10px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin: 0;\n        display: flex;\n        min-width: 0;\n\n        .tab-label{\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        &.active {\n          position: relative;\n          background-color: var(--wm-body-bg);\n          outline: 1px solid var(--wm-body-bg);\n          z-index: 1;\n        }\n\n        .closer {\n          margin-left: 5px;\n          border: 1px solid var(--body-text);\n          border-radius: var(--border-radius);\n\n          &:hover {\n            background-color: var(--wm-closer-hover-bg);\n          }\n        }\n      }\n\n      .resizer {\n        width: var(--wm-tab-height);\n        padding: 0 5px;\n        margin: 0 0 0 1px;\n        text-align: center;\n        border-left: 1px solid var(--wm-border);\n        border-right: 1px solid var(--wm-border);\n        line-height: var(--wm-tab-height);\n        height: calc(var(--wm-tab-height) + 1px);\n        flex-grow: 0;\n\n        &:hover {\n          background-color: var(--wm-closer-hover-bg);\n        }\n      }\n\n      .resizer-y {\n        cursor: ns-resize;\n      }\n\n      .resizer-x {\n        cursor: col-resize;\n      }\n\n      .resizer-align-right {\n        margin-left: auto;\n      }\n\n      &.resizer-left {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n      }\n    }\n\n    .body {\n      grid-area: body;\n      background-color: var(--wm-body-bg);\n      display: none;\n      overflow: hidden;\n\n      &.active {\n        display: block;\n        height: 100%;\n      }\n    }\n\n    &.pin-right {\n      border-left: var(--nav-border-size) solid var(--nav-border);\n    }\n\n    &.pin-left {\n      border-right: var(--nav-border-size) solid var(--nav-border);\n    }\n  }\n</style>\n"]}]}