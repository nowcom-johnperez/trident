{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/PromptModal.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/PromptModal.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICdAc2hlbGwvdXRpbHMvYXJyYXknOwoKLyoqCiAqIEBuYW1lIFByb21wdE1vZGFsCiAqIEBkZXNjcmlwdGlvbiBNb2RhbCBjb21wb25lbnQuCiAqLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Byb21wdE1vZGFsJywKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7IG9wZW5lZDogZmFsc2UsIGJhY2tncm91bmRDbG9zaW5nOiBudWxsIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdhY3Rpb24tbWVudScsIFsnc2hvd01vZGFsJywgJ21vZGFsRGF0YSddKSwKCiAgICByZXNvdXJjZXMoKSB7CiAgICAgIGxldCByZXNvdXJjZXMgPSB0aGlzLm1vZGFsRGF0YT8ucmVzb3VyY2VzOwoKICAgICAgaWYgKCFpc0FycmF5KHJlc291cmNlcykpIHsKICAgICAgICByZXNvdXJjZXMgPSBbcmVzb3VyY2VzXTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc291cmNlcyB8fCBbXTsKICAgIH0sCgogICAgbW9kYWxXaWR0aCgpIHsKICAgICAgLy8gcHJvcGVydHkgc2V0IGZyb20gd29ya2xvYWQuanMgdG8gb3ZlcndyaXRlIG1vZGFsIGRlZmF1bHQgd2lkdGggb2YgNjAwcHgsIHdpdGggZmFsbGJhY2sgdmFsdWUgYXMgd2VsbAogICAgICByZXR1cm4gdGhpcy5tb2RhbERhdGE/Lm1vZGFsV2lkdGggfHwgJzYwMHB4JzsKICAgIH0sCiAgICBjb21wb25lbnQoKSB7CiAgICAgIC8vIExvb2tzIGZvciBhIGRpYWxvZyBjb21wb25lbnQgYnkgbG9va2luZyB1cCBpbiBwbHVnaW5zIGFuZCBAc2hlbGwvZGlhbG9nLyR7bmFtZX0uCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9pbXBvcnREaWFsb2cnXSh0aGlzLm1vZGFsRGF0YT8uY29tcG9uZW50KTsKICAgIH0sCiAgICBjc3NQcm9wcygpIHsKICAgICAgLy8gdGhpcyBjb21wdXRlZCBwcm9wZXJ0eSBsZXRzIHVzIGdlbmVyYXRlIGEgc2NzcyB2YXIgdGhhdCB3ZSBjYW4gdXNlIGluIHRoZSBzdHlsZQogICAgICByZXR1cm4gYC0tcHJvbXB0LW1vZGFsLXdpZHRoOiAkeyB0aGlzLm1vZGFsV2lkdGggfWA7CiAgICB9LAogICAgc3RpY2t5UHJvcHMoKSB7CiAgICAgIGNvbnN0IGlzU3RpY2t5ID0gISF0aGlzLm1vZGFsRGF0YT8ubW9kYWxTdGlja3k7CgogICAgICByZXR1cm4gIWlzU3RpY2t5ID8gJycgOiAnZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgJzsKICAgIH0sCiAgICBjbG9zZU9uQ2xpY2tPdXRzaWRlKCkgewogICAgICByZXR1cm4gdGhpcy5tb2RhbERhdGE/LmNsb3NlT25DbGlja091dHNpZGU7CiAgICB9CiAgfSwKCiAgd2F0Y2g6IHsKICAgIHNob3dNb2RhbChzaG93KSB7CiAgICAgIGlmIChzaG93KSB7CiAgICAgICAgdGhpcy5vcGVuZWQgPSB0cnVlOwogICAgICAgIHRoaXMuJG1vZGFsLnNob3coJ3Byb21wdE1vZGFsJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5vcGVuZWQgPSBmYWxzZTsKICAgICAgICB0aGlzLiRtb2RhbC5oaWRlKCdwcm9tcHRNb2RhbCcpOwogICAgICB9CiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIGNsb3NlKCkgewogICAgICBpZiAoIXRoaXMub3BlbmVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmVycm9ycyA9IFtdOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FjdGlvbi1tZW51L3RvZ2dsZVByb21wdE1vZGFsJyk7CiAgICAgIGlmICh0aGlzLmJhY2tncm91bmRDbG9zaW5nKSB7CiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ2xvc2luZygpOwogICAgICB9CiAgICB9LAoKICAgIC8vIFdlJ3JlIHVzaW5nIHJlZ2lzdGVyIGluc3RlYWQgb2YganVzdCBtYWtpbmcgdXNlIG9mICRyZWZzIGJlY2F1c2UgdGhlICRyZWZzIGlzIGFsd2F5cyB1bmRlZmluZWQgd2hlbiByZWZlcmVuY2luZyB0aGUgY29tcG9uZW50CiAgICByZWdpc3RlckJhY2tncm91bmRDbG9zaW5nKGZuKSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLCAnYmFja2dyb3VuZENsb3NpbmcnLCBmbik7CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["PromptModal.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"PromptModal.vue","sourceRoot":"node_modules/@rancher/shell/components","sourcesContent":["<script>\nimport { mapState } from 'vuex';\nimport { isArray } from '@shell/utils/array';\n\n/**\n * @name PromptModal\n * @description Modal component.\n */\nexport default {\n  name: 'PromptModal',\n\n  data() {\n    return { opened: false, backgroundClosing: null };\n  },\n\n  computed: {\n    ...mapState('action-menu', ['showModal', 'modalData']),\n\n    resources() {\n      let resources = this.modalData?.resources;\n\n      if (!isArray(resources)) {\n        resources = [resources];\n      }\n\n      return resources || [];\n    },\n\n    modalWidth() {\n      // property set from workload.js to overwrite modal default width of 600px, with fallback value as well\n      return this.modalData?.modalWidth || '600px';\n    },\n    component() {\n      // Looks for a dialog component by looking up in plugins and @shell/dialog/${name}.\n      return this.$store.getters['type-map/importDialog'](this.modalData?.component);\n    },\n    cssProps() {\n      // this computed property lets us generate a scss var that we can use in the style\n      return `--prompt-modal-width: ${ this.modalWidth }`;\n    },\n    stickyProps() {\n      const isSticky = !!this.modalData?.modalSticky;\n\n      return !isSticky ? '' : 'display: flex; flex-direction: column; ';\n    },\n    closeOnClickOutside() {\n      return this.modalData?.closeOnClickOutside;\n    }\n  },\n\n  watch: {\n    showModal(show) {\n      if (show) {\n        this.opened = true;\n        this.$modal.show('promptModal');\n      } else {\n        this.opened = false;\n        this.$modal.hide('promptModal');\n      }\n    },\n  },\n\n  methods: {\n    close() {\n      if (!this.opened) {\n        return;\n      }\n\n      this.errors = [];\n      this.$store.commit('action-menu/togglePromptModal');\n      if (this.backgroundClosing) {\n        this.backgroundClosing();\n      }\n    },\n\n    // We're using register instead of just making use of $refs because the $refs is always undefined when referencing the component\n    registerBackgroundClosing(fn) {\n      this.$set(this, 'backgroundClosing', fn);\n    }\n  },\n};\n</script>\n\n<template>\n  <modal\n    class=\"promptModal-modal\"\n    name=\"promptModal\"\n    :styles=\"`background-color: var(--nav-bg); border-radius: var(--border-radius); ${stickyProps} max-height: 95vh; ${cssProps}`\"\n    height=\"auto\"\n    :scrollable=\"true\"\n    :click-to-close=\"closeOnClickOutside\"\n    @closed=\"close()\"\n  >\n    <component\n      v-bind=\"modalData.componentProps || {}\"\n      :is=\"component\"\n      v-if=\"opened && component\"\n      :resources=\"resources\"\n      :register-background-closing=\"registerBackgroundClosing\"\n      @close=\"close()\"\n    />\n  </modal>\n</template>\n\n<style lang='scss'>\n  .promptModal-modal {\n    border-radius: var(--border-radius);\n    overflow: scroll;\n    max-height: 100vh;\n    & ::-webkit-scrollbar-corner {\n      background: rgba(0,0,0,0);\n    }\n    & .v--modal-box.v--modal {\n      width: var(--prompt-modal-width) !important;\n      left: unset !important;\n      margin: auto !important;\n    }\n  }\n</style>\n"]}]}