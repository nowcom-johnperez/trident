{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/explorer/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/explorer/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBEYXNoYm9hcmRNZXRyaWNzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0Rhc2hib2FyZE1ldHJpY3MnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7CiAgQ0FQSSwKICBFTkRQT0lOVFMsCiAgRVZFTlQsCiAgTkFNRVNQQUNFLAogIElOR1JFU1MsCiAgTUFOQUdFTUVOVCwKICBNRVRSSUMsCiAgTk9ERSwKICBTRVJWSUNFLAogIFBWLAogIFdPUktMT0FEX1RZUEVTLAogIENPVU5ULAogIENBVEFMT0csCiAgUFNQLAp9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBzZXRQcm9taXNlUmVzdWx0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL3Byb21pc2UnOwppbXBvcnQgQWxlcnRUYWJsZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9BbGVydFRhYmxlJzsKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IHsgcGFyc2VTaSwgY3JlYXRlTWVtb3J5VmFsdWVzIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3VuaXRzJzsKaW1wb3J0IHsKICBOQU1FLAogIFJPTEVTLAogIFNUQVRFLAp9IGZyb20gJ0BzaGVsbC9jb25maWcvdGFibGUtaGVhZGVycyc7CgppbXBvcnQgeyBtYXBQcmVmLCBQU1BfREVQUkVDQVRJT05fQkFOTkVSIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3ByZWZzJzsKaW1wb3J0IHsgaGF2ZVYxTW9uaXRvcmluZywgbW9uaXRvcmluZ1N0YXR1cyB9IGZyb20gJ0BzaGVsbC91dGlscy9tb25pdG9yaW5nJzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgVGFiIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9UYWInOwppbXBvcnQgeyBhbGxEYXNoYm9hcmRzRXhpc3QgfSBmcm9tICdAc2hlbGwvdXRpbHMvZ3JhZmFuYSc7CmltcG9ydCBFdGNkSW5mb0Jhbm5lciBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9FdGNkSW5mb0Jhbm5lcic7CmltcG9ydCBtZXRyaWNQb2xsZXIgZnJvbSAnQHNoZWxsL21peGlucy9tZXRyaWMtcG9sbGVyJzsKaW1wb3J0IEVtYmVyUGFnZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9FbWJlclBhZ2UnOwppbXBvcnQgUmVzb3VyY2VTdW1tYXJ5LCB7IHJlc291cmNlQ291bnRzIH0gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VTdW1tYXJ5JzsKaW1wb3J0IEhhcmR3YXJlUmVzb3VyY2VHYXVnZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9IYXJkd2FyZVJlc291cmNlR2F1Z2UnOwppbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCBDb25maWdCYWRnZSBmcm9tICcuL0NvbmZpZ0JhZGdlJzsKaW1wb3J0IEV2ZW50c1RhYmxlIGZyb20gJy4vRXZlbnRzVGFibGUnOwppbXBvcnQgeyBmZXRjaENsdXN0ZXJSZXNvdXJjZXMgfSBmcm9tICcuL2V4cGxvcmVyLXV0aWxzJzsKaW1wb3J0IFNpbXBsZUJveCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9TaW1wbGVCb3gnOwppbXBvcnQgeyBFeHRlbnNpb25Qb2ludCwgQ2FyZExvY2F0aW9uIH0gZnJvbSAnQHNoZWxsL2NvcmUvdHlwZXMnOwppbXBvcnQgeyBnZXRBcHBsaWNhYmxlRXh0ZW5zaW9uRW5oYW5jZW1lbnRzIH0gZnJvbSAnQHNoZWxsL2NvcmUvcGx1Z2luLWhlbHBlcnMnOwoKZXhwb3J0IGNvbnN0IFJFU09VUkNFUyA9IFtOQU1FU1BBQ0UsIElOR1JFU1MsIFBWLCBXT1JLTE9BRF9UWVBFUy5ERVBMT1lNRU5ULCBXT1JLTE9BRF9UWVBFUy5TVEFURUZVTF9TRVQsIFdPUktMT0FEX1RZUEVTLkpPQiwgV09SS0xPQURfVFlQRVMuREFFTU9OX1NFVCwgU0VSVklDRV07Cgpjb25zdCBDTFVTVEVSX01FVFJJQ1NfREVUQUlMX1VSTCA9ICcvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3NlcnZpY2VzL2h0dHA6cmFuY2hlci1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLWNsdXN0ZXItbm9kZXMtMS9yYW5jaGVyLWNsdXN0ZXItbm9kZXM/b3JnSWQ9MSc7CmNvbnN0IENMVVNURVJfTUVUUklDU19TVU1NQVJZX1VSTCA9ICcvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3NlcnZpY2VzL2h0dHA6cmFuY2hlci1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLWNsdXN0ZXItMS9yYW5jaGVyLWNsdXN0ZXI/b3JnSWQ9MSc7CmNvbnN0IEs4U19NRVRSSUNTX0RFVEFJTF9VUkwgPSAnL2FwaS92MS9uYW1lc3BhY2VzL2NhdHRsZS1tb25pdG9yaW5nLXN5c3RlbS9zZXJ2aWNlcy9odHRwOnJhbmNoZXItbW9uaXRvcmluZy1ncmFmYW5hOjgwL3Byb3h5L2QvcmFuY2hlci1rOHMtY29tcG9uZW50cy1ub2Rlcy0xL3JhbmNoZXIta3ViZXJuZXRlcy1jb21wb25lbnRzLW5vZGVzP29yZ0lkPTEnOwpjb25zdCBLOFNfTUVUUklDU19TVU1NQVJZX1VSTCA9ICcvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3NlcnZpY2VzL2h0dHA6cmFuY2hlci1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLWs4cy1jb21wb25lbnRzLTEvcmFuY2hlci1rdWJlcm5ldGVzLWNvbXBvbmVudHM/b3JnSWQ9MSc7CmNvbnN0IEVUQ0RfTUVUUklDU19ERVRBSUxfVVJMID0gJy9hcGkvdjEvbmFtZXNwYWNlcy9jYXR0bGUtbW9uaXRvcmluZy1zeXN0ZW0vc2VydmljZXMvaHR0cDpyYW5jaGVyLW1vbml0b3JpbmctZ3JhZmFuYTo4MC9wcm94eS9kL3JhbmNoZXItZXRjZC1ub2Rlcy0xL3JhbmNoZXItZXRjZC1ub2Rlcz9vcmdJZD0xJzsKY29uc3QgRVRDRF9NRVRSSUNTX1NVTU1BUllfVVJMID0gJy9hcGkvdjEvbmFtZXNwYWNlcy9jYXR0bGUtbW9uaXRvcmluZy1zeXN0ZW0vc2VydmljZXMvaHR0cDpyYW5jaGVyLW1vbml0b3JpbmctZ3JhZmFuYTo4MC9wcm94eS9kL3JhbmNoZXItZXRjZC0xL3JhbmNoZXItZXRjZD9vcmdJZD0xJzsKCmNvbnN0IENPTVBPTkVOVF9TVEFUVVMgPSBbCiAgJ2V0Y2QnLAogICdzY2hlZHVsZXInLAogICdjb250cm9sbGVyLW1hbmFnZXInLApdOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDbHVzdGVyRXhwbG9yZXJJbmRleFBhZ2UnLAoKICBjb21wb25lbnRzOiB7CiAgICBFdGNkSW5mb0Jhbm5lciwKICAgIERhc2hib2FyZE1ldHJpY3MsCiAgICBIYXJkd2FyZVJlc291cmNlR2F1Z2UsCiAgICBSZXNvdXJjZVN1bW1hcnksCiAgICBUYWIsCiAgICBUYWJiZWQsCiAgICBBbGVydFRhYmxlLAogICAgQmFubmVyLAogICAgRW1iZXJQYWdlLAogICAgQ29uZmlnQmFkZ2UsCiAgICBFdmVudHNUYWJsZSwKICAgIFNpbXBsZUJveCwKICB9LAoKICBtaXhpbnM6IFttZXRyaWNQb2xsZXJdLAoKICBmZXRjaCgpIHsKICAgIGZldGNoQ2x1c3RlclJlc291cmNlcyh0aGlzLiRzdG9yZSwgTk9ERSk7CgogICAgaWYgKHRoaXMuY3VycmVudENsdXN0ZXIpIHsKICAgICAgc2V0UHJvbWlzZVJlc3VsdCgKICAgICAgICBhbGxEYXNoYm9hcmRzRXhpc3QodGhpcy4kc3RvcmUsIHRoaXMuY3VycmVudENsdXN0ZXIuaWQsIFtDTFVTVEVSX01FVFJJQ1NfREVUQUlMX1VSTCwgQ0xVU1RFUl9NRVRSSUNTX1NVTU1BUllfVVJMXSksCiAgICAgICAgdGhpcywKICAgICAgICAnc2hvd0NsdXN0ZXJNZXRyaWNzJywKICAgICAgICBgRGV0ZXJtaW5lIGNsdXN0ZXIgbWV0cmljc2AKICAgICAgKTsKICAgICAgc2V0UHJvbWlzZVJlc3VsdCgKICAgICAgICBhbGxEYXNoYm9hcmRzRXhpc3QodGhpcy4kc3RvcmUsIHRoaXMuY3VycmVudENsdXN0ZXIuaWQsIFtLOFNfTUVUUklDU19ERVRBSUxfVVJMLCBLOFNfTUVUUklDU19TVU1NQVJZX1VSTF0pLAogICAgICAgIHRoaXMsCiAgICAgICAgJ3Nob3dLOHNNZXRyaWNzJywKICAgICAgICBgRGV0ZXJtaW5lIGs4cyBtZXRyaWNzYAogICAgICApOwogICAgICBzZXRQcm9taXNlUmVzdWx0KAogICAgICAgIGFsbERhc2hib2FyZHNFeGlzdCh0aGlzLiRzdG9yZSwgdGhpcy5jdXJyZW50Q2x1c3Rlci5pZCwgW0VUQ0RfTUVUUklDU19ERVRBSUxfVVJMLCBFVENEX01FVFJJQ1NfU1VNTUFSWV9VUkxdKSwKICAgICAgICB0aGlzLAogICAgICAgICdzaG93RXRjZE1ldHJpY3MnLAogICAgICAgIGBEZXRlcm1pbmUgZXRjZCBtZXRyaWNzYAogICAgICApOwoKICAgICAgaWYgKHRoaXMuY3VycmVudENsdXN0ZXIuaXNMb2NhbCAmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L3NjaGVtYUZvciddKE1BTkFHRU1FTlQuTk9ERSkpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgeyB0eXBlOiBNQU5BR0VNRU5ULk5PREUgfSk7CiAgICAgIH0KICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgY29uc3QgY2x1c3RlckNvdW50cyA9IHRoaXMuJHN0b3JlLmdldHRlcnNbYGNsdXN0ZXIvYWxsYF0oQ09VTlQpOwogICAgY29uc3Qgbm9kZUhlYWRlcnMgPSBbCiAgICAgIFNUQVRFLAogICAgICBOQU1FLAogICAgICBST0xFUywKICAgIF07CgogICAgcmV0dXJuIHsKICAgICAgbm9kZUhlYWRlcnMsCiAgICAgIGNvbnN0cmFpbnRzOiAgICAgICAgW10sCiAgICAgIGV2ZW50czogICAgICAgICAgICAgW10sCiAgICAgIG5vZGVNZXRyaWNzOiAgICAgICAgW10sCiAgICAgIHNob3dDbHVzdGVyTWV0cmljczogZmFsc2UsCiAgICAgIHNob3dLOHNNZXRyaWNzOiAgICAgZmFsc2UsCiAgICAgIHNob3dFdGNkTWV0cmljczogICAgZmFsc2UsCiAgICAgIENMVVNURVJfTUVUUklDU19ERVRBSUxfVVJMLAogICAgICBDTFVTVEVSX01FVFJJQ1NfU1VNTUFSWV9VUkwsCiAgICAgIEs4U19NRVRSSUNTX0RFVEFJTF9VUkwsCiAgICAgIEs4U19NRVRSSUNTX1NVTU1BUllfVVJMLAogICAgICBFVENEX01FVFJJQ1NfREVUQUlMX1VSTCwKICAgICAgRVRDRF9NRVRSSUNTX1NVTU1BUllfVVJMLAogICAgICBjbHVzdGVyQ291bnRzLAogICAgICBzZWxlY3RlZFRhYjogICAgICAgICdjbHVzdGVyLWV2ZW50cycsCiAgICAgIGV4dGVuc2lvbkNhcmRzOiAgICAgZ2V0QXBwbGljYWJsZUV4dGVuc2lvbkVuaGFuY2VtZW50cyh0aGlzLCBFeHRlbnNpb25Qb2ludC5DQVJELCBDYXJkTG9jYXRpb24uQ0xVU1RFUl9EQVNIQk9BUkRfQ0FSRCwgdGhpcy4kcm91dGUpLAogICAgfTsKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgLy8gUmVtb3ZlIHRoZSBkYXRhIGFuZCBzdG9wIHdhdGNoaW5nIHJlc291cmNlcyB0aGF0IHdlcmUgZmV0Y2hlZCBpbiB0aGlzIHBhZ2UKICAgIC8vIEV2ZW50cyBpbiBwYXJ0aWN1bGFyIGNhbiBsZWFkIHRvIGNoYW5nZSBtZXNzYWdlcyBoYXZpbmcgdG8gYmUgcHJvY2Vzc2VkIHdoZW4gd2UgYXJlIG5vIGxvbmdlciBpbnRlcmVzdGVkIGluIGV2ZW50cwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZm9yZ2V0VHlwZScsIEVWRU5UKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZvcmdldFR5cGUnLCBOT0RFKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZvcmdldFR5cGUnLCBFTkRQT0lOVFMpOyAvLyBVc2VkIGJ5IEFsZXJ0VGFibGUgdG8gZ2V0IGFsZXJ0cyB3aGVuIHYyIG1vbml0b3JpbmcgaXMgaW5zdGFsbGVkCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9mb3JnZXRUeXBlJywgTUVUUklDLk5PREUpOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZm9yZ2V0VHlwZScsIE1BTkFHRU1FTlQuTk9ERSk7CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWydjdXJyZW50Q2x1c3RlciddKSwKICAgIC4uLm1vbml0b3JpbmdTdGF0dXMoKSwKCiAgICBkaXNwbGF5UHNwRGVwcmVjYXRpb25CYW5uZXIoKSB7CiAgICAgIGNvbnN0IGNsdXN0ZXIgPSB0aGlzLmN1cnJlbnRDbHVzdGVyOwogICAgICBjb25zdCBtYWpvciA9IGNsdXN0ZXIuc3RhdHVzPy52ZXJzaW9uPy5tYWpvciA/IHBhcnNlSW50KGNsdXN0ZXIuc3RhdHVzPy52ZXJzaW9uPy5tYWpvcikgOiAwOwogICAgICBjb25zdCBtaW5vciA9IGNsdXN0ZXIuc3RhdHVzPy52ZXJzaW9uPy5taW5vciA/IHBhcnNlSW50KGNsdXN0ZXIuc3RhdHVzPy52ZXJzaW9uPy5taW5vcikgOiAwOwoKICAgICAgaWYgKG1ham9yID09PSAxICYmIG1pbm9yID49IDIxICYmIG1pbm9yIDwgMjUpIHsKICAgICAgICBjb25zdCBjbHVzdGVyQ291bnRzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1tgY2x1c3Rlci9hbGxgXShDT1VOVCk/LlswXT8uY291bnRzOwoKICAgICAgICByZXR1cm4gISFjbHVzdGVyQ291bnRzPy5bUFNQXT8uc3VtbWFyeT8uY291bnQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCgogICAgbm9kZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL2FsbCddKE5PREUpOwogICAgfSwKCiAgICBtZ210Tm9kZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L2FsbCddKE1BTkFHRU1FTlQuQ0xVU1RFUik7CiAgICB9LAoKICAgIGhpZGVQc3BEZXByZWNhdGlvbkJhbm5lcjogbWFwUHJlZihQU1BfREVQUkVDQVRJT05fQkFOTkVSKSwKCiAgICBoYXNWMU1vbml0b3JpbmcoKSB7CiAgICAgIHJldHVybiBoYXZlVjFNb25pdG9yaW5nKHRoaXMuJHN0b3JlLmdldHRlcnMpOwogICAgfSwKCiAgICB2MU1vbml0b3JpbmdVUkwoKSB7CiAgICAgIHJldHVybiBgL2svJHsgdGhpcy5jdXJyZW50Q2x1c3Rlci5pZCB9L21vbml0b3JpbmdgOwogICAgfSwKCiAgICBkaXNwbGF5UHJvdmlkZXIoKSB7CiAgICAgIGNvbnN0IG90aGVyID0gJ290aGVyJzsKCiAgICAgIGxldCBwcm92aWRlciA9IHRoaXMuY3VycmVudENsdXN0ZXI/LnN0YXR1cz8ucHJvdmlkZXIgfHwgb3RoZXI7CgogICAgICBpZiAocHJvdmlkZXIgPT09ICdya2Uud2luZG93cycpIHsKICAgICAgICBwcm92aWRlciA9ICdya2VXaW5kb3dzJzsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLiRzdG9yZS5nZXR0ZXJzWydpMThuL2V4aXN0cyddKGBjbHVzdGVyLnByb3ZpZGVyLiR7IHByb3ZpZGVyIH1gKSkgewogICAgICAgIHByb3ZpZGVyID0gJ290aGVyJzsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMudChgY2x1c3Rlci5wcm92aWRlci4keyBwcm92aWRlciB9YCk7CiAgICB9LAoKICAgIGlzSGFydmVzdGVyQ2x1c3RlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudENsdXN0ZXI/LmlzSGFydmVzdGVyOwogICAgfSwKCiAgICBpc1JLRSgpIHsKICAgICAgcmV0dXJuIFsncmtlJywgJ3JrZS53aW5kb3dzJywgJ3JrZTInLCAncmtlMi53aW5kb3dzJ10uaW5jbHVkZXMoKHRoaXMuY3VycmVudENsdXN0ZXIuc3RhdHVzLnByb3ZpZGVyIHx8ICcnKS50b0xvd2VyQ2FzZSgpKTsKICAgIH0sCgogICAgYWNjZXNzaWJsZVJlc291cmNlcygpIHsKICAgICAgLy8gVGhpcyBpcyBhIGxpc3Qgb2YgSURzIGZvciBhbGxvd2VkIHJlc291cmNlcyBjb3VudHMuCiAgICAgIGNvbnN0IGRlZmF1bHRBbGxvd2VkUmVzb3VyY2VzID0gT2JqZWN0LmtleXModGhpcy5jbHVzdGVyQ291bnRzPy5bMF0/LmNvdW50cyB8fCB7fSkuZmlsdGVyKCh0eXBlSWQpID0+IHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaXNJZ25vcmVkJ10oeyBpZDogdHlwZUlkIH0pOwogICAgICB9KTsKCiAgICAgIC8vIE1lcmdlIHdpdGggUkVTT1VSQ0VTIGxpc3QKICAgICAgY29uc3QgYWxsb3dlZFJlc291cmNlcyA9IFsuLi5uZXcgU2V0KFsuLi5kZWZhdWx0QWxsb3dlZFJlc291cmNlcywgLi4uUkVTT1VSQ0VTXSldOwoKICAgICAgcmV0dXJuIGFsbG93ZWRSZXNvdXJjZXMuZmlsdGVyKChyZXNvdXJjZSkgPT4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXShyZXNvdXJjZSkpOwogICAgfSwKCiAgICBjb21wb25lbnRTZXJ2aWNlcygpIHsKICAgICAgY29uc3Qgc3RhdHVzID0gW107CgogICAgICBDT01QT05FTlRfU1RBVFVTLmZvckVhY2goKGNzKSA9PiB7CiAgICAgICAgc3RhdHVzLnB1c2goewogICAgICAgICAgbmFtZTogICAgIGNzLAogICAgICAgICAgaGVhbHRoeTogIHRoaXMuaXNDb21wb25lbnRTdGF0dXNIZWFsdGh5KGNzKSwKICAgICAgICAgIGxhYmVsS2V5OiBgY2x1c3RlckluZGV4UGFnZS5zZWN0aW9ucy5jb21wb25lbnRTdGF0dXMuJHsgY3MgfWAsCiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIHN0YXR1czsKICAgIH0sCgogICAgdG90YWxDb3VudEdhdWdlSW5wdXQoKSB7CiAgICAgIGNvbnN0IHRvdGFsSW5wdXQgPSB7CiAgICAgICAgbmFtZTogICAgICAgICB0aGlzLnQoJ2NsdXN0ZXJJbmRleFBhZ2UucmVzb3VyY2VHYXVnZS50b3RhbFJlc291cmNlcycpLAogICAgICAgIHRvdGFsOiAgICAgICAgMCwKICAgICAgICB1c2VmdWw6ICAgICAgIDAsCiAgICAgICAgd2FybmluZ0NvdW50OiAwLAogICAgICAgIGVycm9yQ291bnQ6ICAgMAogICAgICB9OwoKICAgICAgdGhpcy5hY2Nlc3NpYmxlUmVzb3VyY2VzLmZvckVhY2goKHJlc291cmNlKSA9PiB7CiAgICAgICAgY29uc3QgY291bnRzID0gcmVzb3VyY2VDb3VudHModGhpcy4kc3RvcmUsIHJlc291cmNlKTsKCiAgICAgICAgT2JqZWN0LmVudHJpZXMoY291bnRzKS5mb3JFYWNoKChlbnRyeSkgPT4gewogICAgICAgICAgdG90YWxJbnB1dFtlbnRyeVswXV0gKz0gZW50cnlbMV07CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIHRvdGFsSW5wdXQ7CiAgICB9LAoKICAgIGhhc1N0YXRzKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50Q2x1c3Rlcj8uc3RhdHVzPy5hbGxvY2F0YWJsZSAmJiB0aGlzLmN1cnJlbnRDbHVzdGVyPy5zdGF0dXM/LnJlcXVlc3RlZDsKICAgIH0sCgogICAgY3B1UmVzZXJ2ZWQoKSB7CiAgICAgIGNvbnN0IHRvdGFsID0gcGFyc2VTaSh0aGlzLmN1cnJlbnRDbHVzdGVyPy5zdGF0dXM/LmFsbG9jYXRhYmxlPy5jcHUpOwoKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3RhbCwKICAgICAgICB1c2VmdWw6IHBhcnNlU2kodGhpcy5jdXJyZW50Q2x1c3Rlcj8uc3RhdHVzPy5yZXF1ZXN0ZWQ/LmNwdSksCiAgICAgICAgdW5pdHM6ICB0aGlzLnQoJ2NsdXN0ZXJJbmRleFBhZ2UuaGFyZHdhcmVSZXNvdXJjZUdhdWdlLnVuaXRzLmNvcmVzJywgeyBjb3VudDogdG90YWwgfSkKICAgICAgfTsKICAgIH0sCgogICAgcG9kc1VzZWQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdG90YWw6ICBwYXJzZVNpKHRoaXMuY3VycmVudENsdXN0ZXI/LnN0YXR1cz8uYWxsb2NhdGFibGU/LnBvZHMgfHwgJzAnKSwKICAgICAgICB1c2VmdWw6IHBhcnNlU2kodGhpcy5jdXJyZW50Q2x1c3Rlcj8uc3RhdHVzPy5yZXF1ZXN0ZWQ/LnBvZHMgfHwgJzAnKSwKICAgICAgfTsKICAgIH0sCgogICAgcmFtUmVzZXJ2ZWQoKSB7CiAgICAgIHJldHVybiBjcmVhdGVNZW1vcnlWYWx1ZXModGhpcy5jdXJyZW50Q2x1c3Rlcj8uc3RhdHVzPy5hbGxvY2F0YWJsZT8ubWVtb3J5LCB0aGlzLmN1cnJlbnRDbHVzdGVyPy5zdGF0dXM/LnJlcXVlc3RlZD8ubWVtb3J5KTsKICAgIH0sCgogICAgbWV0cmljQWdncmVnYXRpb25zKCkgewogICAgICBsZXQgY2hlY2tOb2RlcyA9IHRoaXMubm9kZXM7CgogICAgICAvLyBTcGVjaWFsIGNhc2UgbG9jYWwgY2x1c3RlcgogICAgICBpZiAodGhpcy5jdXJyZW50Q2x1c3Rlci5pc0xvY2FsKSB7CiAgICAgICAgY29uc3Qgbm9kZU5hbWVzID0gdGhpcy5ub2Rlcy5yZWR1Y2UoKGFjYywgbikgPT4gewogICAgICAgICAgYWNjW24uaWRdID0gbjsKCiAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgIH0sIHt9KTsKCiAgICAgICAgY2hlY2tOb2RlcyA9IHRoaXMubWdtdE5vZGVzLmZpbHRlcigobikgPT4gewogICAgICAgICAgY29uc3Qgbm9kZU5hbWUgPSBuLm1ldGFkYXRhPy5sYWJlbHM/LlsnbWFuYWdlbWVudC5jYXR0bGUuaW8vbm9kZW5hbWUnXSB8fCBuLmlkOwoKICAgICAgICAgIHJldHVybiAhIW5vZGVOYW1lc1tub2RlTmFtZV07CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IHNvbWVOb25Xb3JrZXJSb2xlcyA9IGNoZWNrTm9kZXMuc29tZSgobm9kZSkgPT4gbm9kZS5oYXNBUm9sZSAmJiAhbm9kZS5pc1dvcmtlcik7CiAgICAgIGNvbnN0IG1ldHJpY3MgPSB0aGlzLm5vZGVNZXRyaWNzLmZpbHRlcigobm9kZU1ldHJpY3MpID0+IHsKICAgICAgICBjb25zdCBub2RlID0gdGhpcy5ub2Rlcy5maW5kKChuZCkgPT4gbmQuaWQgPT09IG5vZGVNZXRyaWNzLmlkKTsKCiAgICAgICAgcmV0dXJuIG5vZGUgJiYgKCFzb21lTm9uV29ya2VyUm9sZXMgfHwgbm9kZS5pc1dvcmtlcik7CiAgICAgIH0pOwogICAgICBjb25zdCBpbml0aWFsQWdncmVnYXRpb24gPSB7CiAgICAgICAgY3B1OiAgICAwLAogICAgICAgIG1lbW9yeTogMAogICAgICB9OwoKICAgICAgaWYgKGlzRW1wdHkobWV0cmljcykpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIG1ldHJpY3MucmVkdWNlKChhZ2csIG1ldHJpYykgPT4gewogICAgICAgIGFnZy5jcHUgKz0gcGFyc2VTaShtZXRyaWMudXNhZ2UuY3B1KTsKICAgICAgICBhZ2cubWVtb3J5ICs9IHBhcnNlU2kobWV0cmljLnVzYWdlLm1lbW9yeSk7CgogICAgICAgIHJldHVybiBhZ2c7CiAgICAgIH0sIGluaXRpYWxBZ2dyZWdhdGlvbik7CiAgICB9LAoKICAgIGNwdVVzZWQoKSB7CiAgICAgIGNvbnN0IHRvdGFsID0gcGFyc2VTaSh0aGlzLmN1cnJlbnRDbHVzdGVyPy5zdGF0dXM/LmNhcGFjaXR5Py5jcHUpOwoKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3RhbCwKICAgICAgICB1c2VmdWw6IHRoaXMubWV0cmljQWdncmVnYXRpb25zPy5jcHUsCiAgICAgICAgdW5pdHM6ICB0aGlzLnQoJ2NsdXN0ZXJJbmRleFBhZ2UuaGFyZHdhcmVSZXNvdXJjZUdhdWdlLnVuaXRzLmNvcmVzJywgeyBjb3VudDogdG90YWwgfSkKICAgICAgfTsKICAgIH0sCgogICAgcmFtVXNlZCgpIHsKICAgICAgcmV0dXJuIGNyZWF0ZU1lbW9yeVZhbHVlcyh0aGlzLmN1cnJlbnRDbHVzdGVyPy5zdGF0dXM/LmNhcGFjaXR5Py5tZW1vcnksIHRoaXMubWV0cmljQWdncmVnYXRpb25zPy5tZW1vcnkpOwogICAgfSwKCiAgICBoYXNNb25pdG9yaW5nKCkgewogICAgICByZXR1cm4gISF0aGlzLmNsdXN0ZXJDb3VudHM/LlswXT8uY291bnRzPy5bQ0FUQUxPRy5BUFBdPy5uYW1lc3BhY2VzPy5bJ2NhdHRsZS1tb25pdG9yaW5nLXN5c3RlbSddOwogICAgfSwKCiAgICBjYW5BY2Nlc3NOb2RlcygpIHsKICAgICAgcmV0dXJuICEhdGhpcy5jbHVzdGVyQ291bnRzPy5bMF0/LmNvdW50cz8uW05PREVdOwogICAgfSwKCiAgICBjYW5BY2Nlc3NEZXBsb3ltZW50cygpIHsKICAgICAgcmV0dXJuICEhdGhpcy5jbHVzdGVyQ291bnRzPy5bMF0/LmNvdW50cz8uW1dPUktMT0FEX1RZUEVTLkRFUExPWU1FTlRdOwogICAgfSwKCiAgICBoYXNNZXRyaWNzVGFicygpIHsKICAgICAgcmV0dXJuIHRoaXMuc2hvd0NsdXN0ZXJNZXRyaWNzIHx8IHRoaXMuc2hvd0s4c01ldHJpY3MgfHwgdGhpcy5zaG93RXRjZE1ldHJpY3M7CiAgICB9LAoKICAgIGhhc0JhZGdlKCkgewogICAgICByZXR1cm4gISF0aGlzLmN1cnJlbnRDbHVzdGVyPy5iYWRnZTsKICAgIH0sCgogICAgaGFzRGVzY3JpcHRpb24oKSB7CiAgICAgIHJldHVybiAhIXRoaXMuY3VycmVudENsdXN0ZXI/LnNwZWM/LmRlc2NyaXB0aW9uOwogICAgfSwKCiAgICBhbGxFdmVudHNMaW5rKCkgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICAgJ2MtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHByb2R1Y3Q6ICAnZXhwbG9yZXInLAogICAgICAgICAgcmVzb3VyY2U6ICdldmVudCcsCiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIC8vIFBvcnRlZCBmcm9tIEVtYmVyCiAgICBpc0NvbXBvbmVudFN0YXR1c0hlYWx0aHkoZmllbGQpIHsKICAgICAgY29uc3QgbWF0Y2hpbmcgPSAodGhpcy5jdXJyZW50Q2x1c3Rlcj8uc3RhdHVzPy5jb21wb25lbnRTdGF0dXNlcyB8fCBbXSkuZmlsdGVyKChzKSA9PiBzLm5hbWUuc3RhcnRzV2l0aChmaWVsZCkpOwoKICAgICAgLy8gSWYgdGhlcmUncyBubyBtYXRjaGluZyBjb21wb25lbnQgc3RhdHVzLCBpdCdzICJoZWFsdGh5IgogICAgICBpZiAoICFtYXRjaGluZy5sZW5ndGggKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGNvbnN0IGNvdW50ID0gbWF0Y2hpbmcucmVkdWNlKChhY2MsIHN0YXR1cykgPT4gewogICAgICAgIGNvbnN0IGNvbmRpdGlvbnMgPSBzdGF0dXMuY29uZGl0aW9ucy5maW5kKChjKSA9PiBjLnN0YXR1cyAhPT0gJ1RydWUnKTsKCiAgICAgICAgcmV0dXJuICFjb25kaXRpb25zID8gYWNjIDogYWNjICsgMTsKICAgICAgfSwgMCk7CgogICAgICByZXR1cm4gY291bnQgPT09IDA7CiAgICB9LAoKICAgIHNob3dBY3Rpb25zKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FjdGlvbi1tZW51L3Nob3cnLCB7CiAgICAgICAgcmVzb3VyY2VzOiB0aGlzLmN1cnJlbnRDbHVzdGVyLAogICAgICAgIGVsZW06ICAgICAgdGhpcy4kcmVmc1snY2x1c3Rlci1hY3Rpb25zJ10sCiAgICAgIH0pOwogICAgfSwKCiAgICAvLyBVc2VkIGJ5IG1ldHJpYy1wb2xsZXIgbWl4aW4KICAgIGFzeW5jIGxvYWRNZXRyaWNzKCkgewogICAgICB0aGlzLm5vZGVNZXRyaWNzID0gYXdhaXQgZmV0Y2hDbHVzdGVyUmVzb3VyY2VzKHRoaXMuJHN0b3JlLCBNRVRSSUMuTk9ERSwgeyBmb3JjZTogdHJ1ZSB9ICk7CiAgICB9LAoKICAgIC8vIEV2ZW50cy9BbGVydHMgdGFiIGNoYW5nZWQKICAgIHRhYkNoYW5nZShuZXUpIHsKICAgICAgdGhpcy5zZWxlY3RlZFRhYiA9IG5ldT8uc2VsZWN0ZWROYW1lOwogICAgfSwKCiAgICBhc3luYyBnb1RvSGFydmVzdGVyQ2x1c3RlcigpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBwcm92Q2x1c3RlcnMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9maW5kQWxsJywgeyB0eXBlOiBDQVBJLlJBTkNIRVJfQ0xVU1RFUiB9KTsKICAgICAgICBjb25zdCBwcm92Q2x1c3RlciA9IHByb3ZDbHVzdGVycy5maW5kKChwKSA9PiBwLm1nbXQuaWQgPT09IHRoaXMuY3VycmVudENsdXN0ZXIuaWQpOwoKICAgICAgICBhd2FpdCBwcm92Q2x1c3Rlci5nb1RvSGFydmVzdGVyQ2x1c3RlcigpOwogICAgICB9IGNhdGNoIHsKICAgICAgfQogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/pages/c/_cluster/explorer","sourcesContent":["<script>\nimport DashboardMetrics from '@shell/components/DashboardMetrics';\nimport { mapGetters } from 'vuex';\nimport {\n  CAPI,\n  ENDPOINTS,\n  EVENT,\n  NAMESPACE,\n  INGRESS,\n  MANAGEMENT,\n  METRIC,\n  NODE,\n  SERVICE,\n  PV,\n  WORKLOAD_TYPES,\n  COUNT,\n  CATALOG,\n  PSP,\n} from '@shell/config/types';\nimport { setPromiseResult } from '@shell/utils/promise';\nimport AlertTable from '@shell/components/AlertTable';\nimport { Banner } from '@components/Banner';\nimport { parseSi, createMemoryValues } from '@shell/utils/units';\nimport {\n  NAME,\n  ROLES,\n  STATE,\n} from '@shell/config/table-headers';\n\nimport { mapPref, PSP_DEPRECATION_BANNER } from '@shell/store/prefs';\nimport { haveV1Monitoring, monitoringStatus } from '@shell/utils/monitoring';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { allDashboardsExist } from '@shell/utils/grafana';\nimport EtcdInfoBanner from '@shell/components/EtcdInfoBanner';\nimport metricPoller from '@shell/mixins/metric-poller';\nimport EmberPage from '@shell/components/EmberPage';\nimport ResourceSummary, { resourceCounts } from '@shell/components/ResourceSummary';\nimport HardwareResourceGauge from '@shell/components/HardwareResourceGauge';\nimport { isEmpty } from '@shell/utils/object';\nimport ConfigBadge from './ConfigBadge';\nimport EventsTable from './EventsTable';\nimport { fetchClusterResources } from './explorer-utils';\nimport SimpleBox from '@shell/components/SimpleBox';\nimport { ExtensionPoint, CardLocation } from '@shell/core/types';\nimport { getApplicableExtensionEnhancements } from '@shell/core/plugin-helpers';\n\nexport const RESOURCES = [NAMESPACE, INGRESS, PV, WORKLOAD_TYPES.DEPLOYMENT, WORKLOAD_TYPES.STATEFUL_SET, WORKLOAD_TYPES.JOB, WORKLOAD_TYPES.DAEMON_SET, SERVICE];\n\nconst CLUSTER_METRICS_DETAIL_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-cluster-nodes-1/rancher-cluster-nodes?orgId=1';\nconst CLUSTER_METRICS_SUMMARY_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-cluster-1/rancher-cluster?orgId=1';\nconst K8S_METRICS_DETAIL_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-k8s-components-nodes-1/rancher-kubernetes-components-nodes?orgId=1';\nconst K8S_METRICS_SUMMARY_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-k8s-components-1/rancher-kubernetes-components?orgId=1';\nconst ETCD_METRICS_DETAIL_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-etcd-nodes-1/rancher-etcd-nodes?orgId=1';\nconst ETCD_METRICS_SUMMARY_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-etcd-1/rancher-etcd?orgId=1';\n\nconst COMPONENT_STATUS = [\n  'etcd',\n  'scheduler',\n  'controller-manager',\n];\n\nexport default {\n  name: 'ClusterExplorerIndexPage',\n\n  components: {\n    EtcdInfoBanner,\n    DashboardMetrics,\n    HardwareResourceGauge,\n    ResourceSummary,\n    Tab,\n    Tabbed,\n    AlertTable,\n    Banner,\n    EmberPage,\n    ConfigBadge,\n    EventsTable,\n    SimpleBox,\n  },\n\n  mixins: [metricPoller],\n\n  fetch() {\n    fetchClusterResources(this.$store, NODE);\n\n    if (this.currentCluster) {\n      setPromiseResult(\n        allDashboardsExist(this.$store, this.currentCluster.id, [CLUSTER_METRICS_DETAIL_URL, CLUSTER_METRICS_SUMMARY_URL]),\n        this,\n        'showClusterMetrics',\n        `Determine cluster metrics`\n      );\n      setPromiseResult(\n        allDashboardsExist(this.$store, this.currentCluster.id, [K8S_METRICS_DETAIL_URL, K8S_METRICS_SUMMARY_URL]),\n        this,\n        'showK8sMetrics',\n        `Determine k8s metrics`\n      );\n      setPromiseResult(\n        allDashboardsExist(this.$store, this.currentCluster.id, [ETCD_METRICS_DETAIL_URL, ETCD_METRICS_SUMMARY_URL]),\n        this,\n        'showEtcdMetrics',\n        `Determine etcd metrics`\n      );\n\n      if (this.currentCluster.isLocal && this.$store.getters['management/schemaFor'](MANAGEMENT.NODE)) {\n        this.$store.dispatch('management/findAll', { type: MANAGEMENT.NODE });\n      }\n    }\n  },\n\n  data() {\n    const clusterCounts = this.$store.getters[`cluster/all`](COUNT);\n    const nodeHeaders = [\n      STATE,\n      NAME,\n      ROLES,\n    ];\n\n    return {\n      nodeHeaders,\n      constraints:        [],\n      events:             [],\n      nodeMetrics:        [],\n      showClusterMetrics: false,\n      showK8sMetrics:     false,\n      showEtcdMetrics:    false,\n      CLUSTER_METRICS_DETAIL_URL,\n      CLUSTER_METRICS_SUMMARY_URL,\n      K8S_METRICS_DETAIL_URL,\n      K8S_METRICS_SUMMARY_URL,\n      ETCD_METRICS_DETAIL_URL,\n      ETCD_METRICS_SUMMARY_URL,\n      clusterCounts,\n      selectedTab:        'cluster-events',\n      extensionCards:     getApplicableExtensionEnhancements(this, ExtensionPoint.CARD, CardLocation.CLUSTER_DASHBOARD_CARD, this.$route),\n    };\n  },\n\n  beforeDestroy() {\n    // Remove the data and stop watching resources that were fetched in this page\n    // Events in particular can lead to change messages having to be processed when we are no longer interested in events\n    this.$store.dispatch('cluster/forgetType', EVENT);\n    this.$store.dispatch('cluster/forgetType', NODE);\n    this.$store.dispatch('cluster/forgetType', ENDPOINTS); // Used by AlertTable to get alerts when v2 monitoring is installed\n    this.$store.dispatch('cluster/forgetType', METRIC.NODE);\n    this.$store.dispatch('cluster/forgetType', MANAGEMENT.NODE);\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...monitoringStatus(),\n\n    displayPspDeprecationBanner() {\n      const cluster = this.currentCluster;\n      const major = cluster.status?.version?.major ? parseInt(cluster.status?.version?.major) : 0;\n      const minor = cluster.status?.version?.minor ? parseInt(cluster.status?.version?.minor) : 0;\n\n      if (major === 1 && minor >= 21 && minor < 25) {\n        const clusterCounts = this.$store.getters[`cluster/all`](COUNT)?.[0]?.counts;\n\n        return !!clusterCounts?.[PSP]?.summary?.count;\n      }\n\n      return false;\n    },\n\n    nodes() {\n      return this.$store.getters['cluster/all'](NODE);\n    },\n\n    mgmtNodes() {\n      return this.$store.getters['management/all'](MANAGEMENT.CLUSTER);\n    },\n\n    hidePspDeprecationBanner: mapPref(PSP_DEPRECATION_BANNER),\n\n    hasV1Monitoring() {\n      return haveV1Monitoring(this.$store.getters);\n    },\n\n    v1MonitoringURL() {\n      return `/k/${ this.currentCluster.id }/monitoring`;\n    },\n\n    displayProvider() {\n      const other = 'other';\n\n      let provider = this.currentCluster?.status?.provider || other;\n\n      if (provider === 'rke.windows') {\n        provider = 'rkeWindows';\n      }\n\n      if (!this.$store.getters['i18n/exists'](`cluster.provider.${ provider }`)) {\n        provider = 'other';\n      }\n\n      return this.t(`cluster.provider.${ provider }`);\n    },\n\n    isHarvesterCluster() {\n      return this.currentCluster?.isHarvester;\n    },\n\n    isRKE() {\n      return ['rke', 'rke.windows', 'rke2', 'rke2.windows'].includes((this.currentCluster.status.provider || '').toLowerCase());\n    },\n\n    accessibleResources() {\n      // This is a list of IDs for allowed resources counts.\n      const defaultAllowedResources = Object.keys(this.clusterCounts?.[0]?.counts || {}).filter((typeId) => {\n        return this.$store.getters['type-map/isIgnored']({ id: typeId });\n      });\n\n      // Merge with RESOURCES list\n      const allowedResources = [...new Set([...defaultAllowedResources, ...RESOURCES])];\n\n      return allowedResources.filter((resource) => this.$store.getters['cluster/schemaFor'](resource));\n    },\n\n    componentServices() {\n      const status = [];\n\n      COMPONENT_STATUS.forEach((cs) => {\n        status.push({\n          name:     cs,\n          healthy:  this.isComponentStatusHealthy(cs),\n          labelKey: `clusterIndexPage.sections.componentStatus.${ cs }`,\n        });\n      });\n\n      return status;\n    },\n\n    totalCountGaugeInput() {\n      const totalInput = {\n        name:         this.t('clusterIndexPage.resourceGauge.totalResources'),\n        total:        0,\n        useful:       0,\n        warningCount: 0,\n        errorCount:   0\n      };\n\n      this.accessibleResources.forEach((resource) => {\n        const counts = resourceCounts(this.$store, resource);\n\n        Object.entries(counts).forEach((entry) => {\n          totalInput[entry[0]] += entry[1];\n        });\n      });\n\n      return totalInput;\n    },\n\n    hasStats() {\n      return this.currentCluster?.status?.allocatable && this.currentCluster?.status?.requested;\n    },\n\n    cpuReserved() {\n      const total = parseSi(this.currentCluster?.status?.allocatable?.cpu);\n\n      return {\n        total,\n        useful: parseSi(this.currentCluster?.status?.requested?.cpu),\n        units:  this.t('clusterIndexPage.hardwareResourceGauge.units.cores', { count: total })\n      };\n    },\n\n    podsUsed() {\n      return {\n        total:  parseSi(this.currentCluster?.status?.allocatable?.pods || '0'),\n        useful: parseSi(this.currentCluster?.status?.requested?.pods || '0'),\n      };\n    },\n\n    ramReserved() {\n      return createMemoryValues(this.currentCluster?.status?.allocatable?.memory, this.currentCluster?.status?.requested?.memory);\n    },\n\n    metricAggregations() {\n      let checkNodes = this.nodes;\n\n      // Special case local cluster\n      if (this.currentCluster.isLocal) {\n        const nodeNames = this.nodes.reduce((acc, n) => {\n          acc[n.id] = n;\n\n          return acc;\n        }, {});\n\n        checkNodes = this.mgmtNodes.filter((n) => {\n          const nodeName = n.metadata?.labels?.['management.cattle.io/nodename'] || n.id;\n\n          return !!nodeNames[nodeName];\n        });\n      }\n\n      const someNonWorkerRoles = checkNodes.some((node) => node.hasARole && !node.isWorker);\n      const metrics = this.nodeMetrics.filter((nodeMetrics) => {\n        const node = this.nodes.find((nd) => nd.id === nodeMetrics.id);\n\n        return node && (!someNonWorkerRoles || node.isWorker);\n      });\n      const initialAggregation = {\n        cpu:    0,\n        memory: 0\n      };\n\n      if (isEmpty(metrics)) {\n        return null;\n      }\n\n      return metrics.reduce((agg, metric) => {\n        agg.cpu += parseSi(metric.usage.cpu);\n        agg.memory += parseSi(metric.usage.memory);\n\n        return agg;\n      }, initialAggregation);\n    },\n\n    cpuUsed() {\n      const total = parseSi(this.currentCluster?.status?.capacity?.cpu);\n\n      return {\n        total,\n        useful: this.metricAggregations?.cpu,\n        units:  this.t('clusterIndexPage.hardwareResourceGauge.units.cores', { count: total })\n      };\n    },\n\n    ramUsed() {\n      return createMemoryValues(this.currentCluster?.status?.capacity?.memory, this.metricAggregations?.memory);\n    },\n\n    hasMonitoring() {\n      return !!this.clusterCounts?.[0]?.counts?.[CATALOG.APP]?.namespaces?.['cattle-monitoring-system'];\n    },\n\n    canAccessNodes() {\n      return !!this.clusterCounts?.[0]?.counts?.[NODE];\n    },\n\n    canAccessDeployments() {\n      return !!this.clusterCounts?.[0]?.counts?.[WORKLOAD_TYPES.DEPLOYMENT];\n    },\n\n    hasMetricsTabs() {\n      return this.showClusterMetrics || this.showK8sMetrics || this.showEtcdMetrics;\n    },\n\n    hasBadge() {\n      return !!this.currentCluster?.badge;\n    },\n\n    hasDescription() {\n      return !!this.currentCluster?.spec?.description;\n    },\n\n    allEventsLink() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          product:  'explorer',\n          resource: 'event',\n        }\n      };\n    }\n  },\n\n  methods: {\n    // Ported from Ember\n    isComponentStatusHealthy(field) {\n      const matching = (this.currentCluster?.status?.componentStatuses || []).filter((s) => s.name.startsWith(field));\n\n      // If there's no matching component status, it's \"healthy\"\n      if ( !matching.length ) {\n        return true;\n      }\n\n      const count = matching.reduce((acc, status) => {\n        const conditions = status.conditions.find((c) => c.status !== 'True');\n\n        return !conditions ? acc : acc + 1;\n      }, 0);\n\n      return count === 0;\n    },\n\n    showActions() {\n      this.$store.commit('action-menu/show', {\n        resources: this.currentCluster,\n        elem:      this.$refs['cluster-actions'],\n      });\n    },\n\n    // Used by metric-poller mixin\n    async loadMetrics() {\n      this.nodeMetrics = await fetchClusterResources(this.$store, METRIC.NODE, { force: true } );\n    },\n\n    // Events/Alerts tab changed\n    tabChange(neu) {\n      this.selectedTab = neu?.selectedName;\n    },\n\n    async goToHarvesterCluster() {\n      try {\n        const provClusters = await this.$store.dispatch('management/findAll', { type: CAPI.RANCHER_CLUSTER });\n        const provCluster = provClusters.find((p) => p.mgmt.id === this.currentCluster.id);\n\n        await provCluster.goToHarvesterCluster();\n      } catch {\n      }\n    }\n  },\n};\n</script>\n\n<template>\n  <section class=\"dashboard\">\n    <header>\n      <div class=\"title\">\n        <h1>\n          <t k=\"clusterIndexPage.header\" />\n        </h1>\n        <div>\n          <span v-if=\"hasDescription\">{{ currentCluster.spec.description }}</span>\n        </div>\n      </div>\n    </header>\n    <Banner\n      v-if=\"displayPspDeprecationBanner && !hidePspDeprecationBanner\"\n      :closable=\"true\"\n      color=\"warning\"\n      @close=\"hidePspDeprecationBanner = true\"\n    >\n      <t\n        k=\"landing.deprecatedPsp\"\n        :raw=\"true\"\n      />\n    </Banner>\n    <div\n      class=\"cluster-dashboard-glance\"\n    >\n      <div>\n        <label>{{ t('glance.provider') }}: </label>\n        <span v-if=\"isHarvesterCluster\">\n          <a\n            role=\"button\"\n            @click=\"goToHarvesterCluster\"\n          >\n            {{ displayProvider }}\n          </a>\n        </span>\n        <span v-else>\n          {{ displayProvider }}\n        </span>\n      </div>\n      <div>\n        <label>{{ t('glance.version') }}: </label>\n        <span>{{ currentCluster.kubernetesVersionBase }}</span>\n        <span\n          v-if=\"currentCluster.kubernetesVersionExtension\"\n          style=\"font-size: 0.75em\"\n        >{{ currentCluster.kubernetesVersionExtension }}</span>\n      </div>\n      <div>\n        <label>{{ t('glance.created') }}: </label>\n        <span><LiveDate\n          :value=\"currentCluster.metadata.creationTimestamp\"\n          :add-suffix=\"true\"\n          :show-tooltip=\"true\"\n        /></span>\n      </div>\n      <p\n        v-if=\"displayPspDeprecationBanner && hidePspDeprecationBanner\"\n        v-clean-tooltip=\"t('landing.deprecatedPsp')\"\n        class=\"alt-psp-deprecation-info\"\n      >\n        <span>{{ t('landing.psps') }}</span>\n        <i class=\"icon icon-warning\" />\n      </p>\n      <div :style=\"{'flex':1}\" />\n      <div v-if=\"!monitoringStatus.v2 && !monitoringStatus.v1\">\n        <n-link\n          :to=\"{name: 'c-cluster-explorer-tools'}\"\n          class=\"monitoring-install\"\n        >\n          <i class=\"icon icon-gear\" />\n          <span>{{ t('glance.installMonitoring') }}</span>\n        </n-link>\n      </div>\n      <div v-if=\"monitoringStatus.v1\">\n        <span>{{ t('glance.v1MonitoringInstalled') }}</span>\n      </div>\n      <ConfigBadge\n        v-if=\"currentCluster.canUpdate\"\n        :cluster=\"currentCluster\"\n      />\n    </div>\n\n    <div class=\"resource-gauges\">\n      <ResourceSummary :spoofed-counts=\"totalCountGaugeInput\" />\n      <ResourceSummary\n        v-if=\"canAccessNodes\"\n        resource=\"node\"\n      />\n      <ResourceSummary\n        v-if=\"canAccessDeployments\"\n        resource=\"apps.deployment\"\n      />\n    </div>\n\n    <!-- extension cards -->\n    <div\n      v-if=\"extensionCards.length\"\n      class=\"extension-card-container mt-20\"\n    >\n      <SimpleBox\n        v-for=\"item, i in extensionCards\"\n        :key=\"`extensionCards${i}`\"\n        class=\"extension-card\"\n        :style=\"item.style\"\n      >\n        <h3>\n          {{ item.label }}\n        </h3>\n        <component\n          :is=\"item.component\"\n          :resource=\"currentCluster\"\n        />\n      </SimpleBox>\n    </div>\n\n    <h3\n      v-if=\"!hasV1Monitoring && hasStats\"\n      class=\"mt-40\"\n    >\n      {{ t('clusterIndexPage.sections.capacity.label') }}\n    </h3>\n    <div\n      v-if=\"!hasV1Monitoring && hasStats\"\n      class=\"hardware-resource-gauges\"\n    >\n      <HardwareResourceGauge\n        :name=\"t('clusterIndexPage.hardwareResourceGauge.pods')\"\n        :used=\"podsUsed\"\n      />\n      <HardwareResourceGauge\n        :name=\"t('clusterIndexPage.hardwareResourceGauge.cores')\"\n        :reserved=\"cpuReserved\"\n        :used=\"cpuUsed\"\n        :units=\"cpuReserved.units\"\n      />\n      <HardwareResourceGauge\n        :name=\"t('clusterIndexPage.hardwareResourceGauge.ram')\"\n        :reserved=\"ramReserved\"\n        :used=\"ramUsed\"\n        :units=\"ramReserved.units\"\n      />\n    </div>\n\n    <div v-if=\"!hasV1Monitoring && componentServices\">\n      <div\n        v-for=\"status in componentServices\"\n        :key=\"status.name\"\n        class=\"k8s-component-status\"\n        :class=\"{'k8s-component-status-healthy': status.healthy, 'k8s-component-status-unhealthy': !status.healthy}\"\n      >\n        <i\n          v-if=\"status.healthy\"\n          class=\"icon icon-checkmark\"\n        />\n        <i\n          v-else\n          class=\"icon icon-warning\"\n        />\n        <div>{{ t(status.labelKey) }}</div>\n      </div>\n    </div>\n\n    <div\n      v-if=\"hasV1Monitoring\"\n      id=\"ember-anchor\"\n      class=\"mt-20\"\n    >\n      <EmberPage\n        inline=\"ember-anchor\"\n        :src=\"v1MonitoringURL\"\n      />\n    </div>\n\n    <div class=\"mt-30\">\n      <Tabbed @changed=\"tabChange\">\n        <Tab\n          name=\"cluster-events\"\n          :label=\"t('clusterIndexPage.sections.events.label')\"\n          :weight=\"2\"\n        >\n          <span class=\"events-table-link\">\n            <n-link :to=\"allEventsLink\">\n              <span>{{ t('glance.eventsTable') }}</span>\n            </n-link>\n          </span>\n          <EventsTable />\n        </Tab>\n        <Tab\n          v-if=\"hasMonitoring\"\n          name=\"cluster-alerts\"\n          :label=\"t('clusterIndexPage.sections.alerts.label')\"\n          :weight=\"1\"\n        >\n          <AlertTable v-if=\"selectedTab === 'cluster-alerts'\" />\n        </Tab>\n      </Tabbed>\n    </div>\n    <Tabbed\n      v-if=\"hasMetricsTabs\"\n      default-tab=\"cluster-metrics\"\n      :use-hash=\"false\"\n      class=\"mt-30\"\n    >\n      <Tab\n        v-if=\"showClusterMetrics\"\n        name=\"cluster-metrics\"\n        :label=\"t('clusterIndexPage.sections.clusterMetrics.label')\"\n        :weight=\"2\"\n      >\n        <template #default=\"props\">\n          <DashboardMetrics\n            v-if=\"props.active\"\n            :detail-url=\"CLUSTER_METRICS_DETAIL_URL\"\n            :summary-url=\"CLUSTER_METRICS_SUMMARY_URL\"\n            graph-height=\"825px\"\n          />\n        </template>\n      </Tab>\n      <Tab\n        v-if=\"showK8sMetrics\"\n        name=\"k8s-metrics\"\n        :label=\"t('clusterIndexPage.sections.k8sMetrics.label')\"\n        :weight=\"1\"\n      >\n        <template #default=\"props\">\n          <DashboardMetrics\n            v-if=\"props.active\"\n            :detail-url=\"K8S_METRICS_DETAIL_URL\"\n            :summary-url=\"K8S_METRICS_SUMMARY_URL\"\n            graph-height=\"550px\"\n          />\n        </template>\n      </Tab>\n      <Tab\n        v-if=\"showEtcdMetrics\"\n        name=\"etcd-metrics\"\n        :label=\"t('clusterIndexPage.sections.etcdMetrics.label')\"\n        :weight=\"0\"\n      >\n        <template #default=\"props\">\n          <DashboardMetrics\n            v-if=\"props.active\"\n            class=\"etcd-metrics\"\n            :detail-url=\"ETCD_METRICS_DETAIL_URL\"\n            :summary-url=\"ETCD_METRICS_SUMMARY_URL\"\n            graph-height=\"550px\"\n          >\n            <EtcdInfoBanner />\n          </DashboardMetrics>\n        </template>\n      </Tab>\n    </Tabbed>\n  </section>\n</template>\n\n<style lang=\"scss\" scoped>\n.extension-card-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(calc((100%/3) - 40px), 1fr));\n  grid-column-gap: 15px;\n  grid-row-gap: 20px;\n}\n\n@media only screen and (max-width: map-get($breakpoints, \"--viewport-9\")) {\n  .extension-card-container {\n    grid-template-columns: 1fr !important;\n  }\n}\n\n.cluster-dashboard-glance {\n  border-top: 1px solid var(--border);\n  border-bottom: 1px solid var(--border);\n  padding: 20px 0px;\n  display: flex;\n\n  &>*:not(:nth-last-child(-n+2)) {\n    margin-right: 40px;\n\n    & SPAN {\n       font-weight: bold\n    }\n  }\n}\n\n.title h1 {\n  margin: 0;\n}\n\n.actions-span {\n  align-self: center;\n}\n\n.events {\n  margin-top: 30px;\n}\n\n.graph-options {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.etcd-metrics ::v-deep .external-link {\n  top: -107px;\n}\n\n.cluster-tools-tip {\n  margin-top: 0;\n}\n\n.alt-psp-deprecation-info {\n  display: flex;\n  align-items: center;\n  color: var(--warning);\n\n  span {\n    margin-right: 4px;\n  }\n}\n\n.monitoring-install {\n  display: flex;\n  margin-left: 10px;\n\n  > I {\n    line-height: inherit;\n    margin-right: 4px;\n  }\n\n  &:focus {\n    outline: 0;\n  }\n}\n\n.events-table-link {\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 20px;\n}\n\n.k8s-component-status {\n  align-items: center;\n  display: inline-flex;\n  border: 1px solid;\n  margin-top: 20px;\n\n  &:not(:last-child) {\n    margin-right: 20px;\n  }\n\n  > div {\n    padding: 5px 20px;\n  }\n\n  > I {\n    text-align: center;\n    padding: 5px 10px;\n    border-right: 1px solid var(--border);\n  }\n\n  &.k8s-component-status-unhealthy {\n    border-color: var(--error-border);\n\n    > I {\n      color: var(--error)\n    }\n  }\n\n  &.k8s-component-status-healthy {\n    border-color: var(--border);\n\n    > I {\n      color: var(--success)\n    }\n  }\n}\n</style>\n"]}]}