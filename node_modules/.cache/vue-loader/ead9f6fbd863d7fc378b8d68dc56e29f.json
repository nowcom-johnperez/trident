{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/detail/pod.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/detail/pod.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgVGFiIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9UYWInOwppbXBvcnQgUmVzb3VyY2VUYWJzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vUmVzb3VyY2VUYWJzJzsKaW1wb3J0IFNvcnRhYmxlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvU29ydGFibGVUYWJsZSc7CmltcG9ydCB7IFNUQVRFLCBTSU1QTEVfTkFNRSwgSU1BR0VfTkFNRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdGFibGUtaGVhZGVycyc7CmltcG9ydCB7IHNvcnRhYmxlTnVtZXJpY1N1ZmZpeCB9IGZyb20gJ0BzaGVsbC91dGlscy9zb3J0JzsKaW1wb3J0IHsgZmluZEJ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2FycmF5JzsKaW1wb3J0IERhc2hib2FyZE1ldHJpY3MgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvRGFzaGJvYXJkTWV0cmljcyc7CmltcG9ydCBWMVdvcmtsb2FkTWV0cmljcyBmcm9tICdAc2hlbGwvbWl4aW5zL3YxLXdvcmtsb2FkLW1ldHJpY3MnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGFsbERhc2hib2FyZHNFeGlzdCB9IGZyb20gJ0BzaGVsbC91dGlscy9ncmFmYW5hJzsKaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9MYWJlbGVkU2VsZWN0JzsKaW1wb3J0IGRheSBmcm9tICdkYXlqcyc7CmltcG9ydCB7IERBVEVfRk9STUFULCBUSU1FX0ZPUk1BVCB9IGZyb20gJ0BzaGVsbC9zdG9yZS9wcmVmcyc7CmltcG9ydCB7IGVzY2FwZUh0bWwgfSBmcm9tICdAc2hlbGwvdXRpbHMvc3RyaW5nJzsKaW1wb3J0IHsgTkFNRVNQQUNFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IFBST0pFQ1QgfSBmcm9tICdAc2hlbGwvY29uZmlnL2xhYmVscy1hbm5vdGF0aW9ucyc7Cgpjb25zdCBQT0RfTUVUUklDU19ERVRBSUxfVVJMID0gJy9hcGkvdjEvbmFtZXNwYWNlcy9jYXR0bGUtbW9uaXRvcmluZy1zeXN0ZW0vc2VydmljZXMvaHR0cDpyYW5jaGVyLW1vbml0b3JpbmctZ3JhZmFuYTo4MC9wcm94eS9kL3JhbmNoZXItcG9kLWNvbnRhaW5lcnMtMS9yYW5jaGVyLXBvZC1jb250YWluZXJzP29yZ0lkPTEnOwpjb25zdCBQT0RfTUVUUklDU19TVU1NQVJZX1VSTCA9ICcvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3NlcnZpY2VzL2h0dHA6cmFuY2hlci1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLXBvZC0xL3JhbmNoZXItcG9kP29yZ0lkPTEnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQb2REZXRhaWwnLAoKICBjb21wb25lbnRzOiB7CiAgICBEYXNoYm9hcmRNZXRyaWNzLAogICAgUmVzb3VyY2VUYWJzLAogICAgVGFiLAogICAgU29ydGFibGVUYWJsZSwKICAgIExhYmVsZWRTZWxlY3QsCiAgfSwKCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXcsIFYxV29ya2xvYWRNZXRyaWNzXSwKCiAgYXN5bmMgZmV0Y2goKSB7CiAgICB0aGlzLnNob3dNZXRyaWNzID0gYXdhaXQgYWxsRGFzaGJvYXJkc0V4aXN0KHRoaXMuJHN0b3JlLCB0aGlzLmN1cnJlbnRDbHVzdGVyLmlkLCBbUE9EX01FVFJJQ1NfREVUQUlMX1VSTCwgUE9EX01FVFJJQ1NfU1VNTUFSWV9VUkxdKTsKICAgIGlmICghdGhpcy5zaG93TWV0cmljcykgewogICAgICBjb25zdCBuYW1lc3BhY2UgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kJywgeyB0eXBlOiBOQU1FU1BBQ0UsIGlkOiB0aGlzLnZhbHVlLm1ldGFkYXRhLm5hbWVzcGFjZSB9KTsKCiAgICAgIGNvbnN0IHByb2plY3RJZCA9IG5hbWVzcGFjZT8ubWV0YWRhdGE/LmxhYmVsc1tQUk9KRUNUXTsKCiAgICAgIGlmIChwcm9qZWN0SWQpIHsKICAgICAgICB0aGlzLlBPRF9QUk9KRUNUX01FVFJJQ1NfREVUQUlMX1VSTCA9IGAvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLXByb2plY3QtJHsgcHJvamVjdElkIH0tbW9uaXRvcmluZy9zZXJ2aWNlcy9odHRwOmNhdHRsZS1wcm9qZWN0LSR7IHByb2plY3RJZCB9LW1vbml0b3JpbmctZ3JhZmFuYTo4MC9wcm94eS9kL3JhbmNoZXItcG9kLWNvbnRhaW5lcnMtMS9yYW5jaGVyLXBvZC1jb250YWluZXJzP29yZ0lkPTEnYDsKICAgICAgICB0aGlzLlBPRF9QUk9KRUNUX01FVFJJQ1NfU1VNTUFSWV9VUkwgPSBgL2FwaS92MS9uYW1lc3BhY2VzL2NhdHRsZS1wcm9qZWN0LSR7IHByb2plY3RJZCB9LW1vbml0b3Jpbmcvc2VydmljZXMvaHR0cDpjYXR0bGUtcHJvamVjdC0keyBwcm9qZWN0SWQgfS1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLXBvZC0xL3JhbmNoZXItcG9kP29yZ0lkPTFgOwoKICAgICAgICB0aGlzLnNob3dQcm9qZWN0TWV0cmljcyA9IGF3YWl0IGFsbERhc2hib2FyZHNFeGlzdCh0aGlzLiRzdG9yZSwgdGhpcy5jdXJyZW50Q2x1c3Rlci5pZCwgW3RoaXMuUE9EX1BST0pFQ1RfTUVUUklDU19ERVRBSUxfVVJMLCB0aGlzLlBPRF9QUk9KRUNUX01FVFJJQ1NfU1VNTUFSWV9VUkxdLCAnY2x1c3RlcicsIHByb2plY3RJZCk7CiAgICAgIH0KICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgY29uc3QgdCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2kxOG4vdCddOwogICAgY29uc3QgUE9EX09QVElPTiA9IHsKICAgICAgaWQ6ICAgICcvL1BPRC8vJywKICAgICAgbGFiZWw6IHQoJ3dvcmtsb2FkLm1ldHJpY3MucG9kJyksCiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIFBPRF9NRVRSSUNTX0RFVEFJTF9VUkwsCiAgICAgIFBPRF9NRVRSSUNTX1NVTU1BUllfVVJMLAogICAgICBQT0RfUFJPSkVDVF9NRVRSSUNTX0RFVEFJTF9VUkw6ICAnJywKICAgICAgUE9EX1BST0pFQ1RfTUVUUklDU19TVU1NQVJZX1VSTDogJycsCiAgICAgIFBPRF9PUFRJT04sCiAgICAgIHNob3dNZXRyaWNzOiAgICAgICAgICAgICAgICAgICAgIGZhbHNlLAogICAgICBzaG93UHJvamVjdE1ldHJpY3M6ICAgICAgICAgICAgICBmYWxzZSwKICAgICAgc2VsZWN0aW9uOiAgICAgICAgICAgICAgICAgICAgICAgUE9EX09QVElPTiwKICAgICAgbWV0cmljc0lEOiAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWydjdXJyZW50Q2x1c3RlciddKSwKICAgIGNvbnRhaW5lcnMoKSB7CiAgICAgIGNvbnN0IGNvbnRhaW5lcnMgPSB0aGlzLmFsbENvbnRhaW5lcnM7CiAgICAgIGNvbnN0IHN0YXR1c2VzID0gdGhpcy5hbGxTdGF0dXNlczsKCiAgICAgIHJldHVybiAoY29udGFpbmVycyB8fCBbXSkubWFwKChjb250YWluZXIpID0+IHsKICAgICAgICBjb25zdCBzdGF0dXMgPSBmaW5kQnkoc3RhdHVzZXMsICduYW1lJywgY29udGFpbmVyLm5hbWUpOwogICAgICAgIGNvbnN0IHN0YXRlID0gc3RhdHVzPy5zdGF0ZSB8fCB7fTsKICAgICAgICBjb25zdCBkZXNjcmlwdGlvbnMgPSBbXTsKCiAgICAgICAgLy8gVGhlcmUgY2FuIGJlIG9ubHkgb25lIG1lbWJlciBvZiBhIGBDb250YWluZXJTdGF0ZWAKICAgICAgICBjb25zdCBzID0gT2JqZWN0LnZhbHVlcyhzdGF0ZSlbMF0gfHwge307CiAgICAgICAgY29uc3QgcmVhc29uID0gcy5yZWFzb24gfHwgJyc7CiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHMubWVzc2FnZSB8fCAnJzsKICAgICAgICBjb25zdCBzaG93QnJhY2tldCA9IHMucmVhc29uICYmIHMubWVzc2FnZTsKICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGAkeyByZWFzb24gfSR7IHNob3dCcmFja2V0ID8gJyAoJyA6ICcnIH0keyBtZXNzYWdlIH0keyBzaG93QnJhY2tldCA/ICcpJyA6ICcnIH1gOwoKICAgICAgICBpZiAoZGVzY3JpcHRpb24pIHsKICAgICAgICAgIGRlc2NyaXB0aW9ucy5wdXNoKGRlc2NyaXB0aW9uKTsKICAgICAgICB9CgogICAgICAgIC8vIGFkZCBsYXN0U3RhdGUgdG8gc2hvdyB0ZXJtaW5hdGlvbiByZWFzb24KICAgICAgICBpZiAoc3RhdHVzPy5sYXN0U3RhdGU/LnRlcm1pbmF0ZWQpIHsKICAgICAgICAgIGNvbnN0IGxzID0gc3RhdHVzPy5sYXN0U3RhdGU/LnRlcm1pbmF0ZWQ7CiAgICAgICAgICBjb25zdCBsc1JlYXNvbiA9IGxzLnJlYXNvbiB8fCAnJzsKICAgICAgICAgIGNvbnN0IGxzTWVzc2FnZSA9IGxzLm1lc3NhZ2UgfHwgJyc7CiAgICAgICAgICBjb25zdCBsc0V4aXRDb2RlID0gbHMuZXhpdENvZGUgfHwgJyc7CiAgICAgICAgICBjb25zdCBsc1N0YXJ0ZWRBdCA9IHRoaXMuZGF0ZVRpbWVGb3JtYXQobHMuc3RhcnRlZEF0KTsKICAgICAgICAgIGNvbnN0IGxzRmluaXNoZWRBdCA9IHRoaXMuZGF0ZVRpbWVGb3JtYXQobHMuZmluaXNoZWRBdCk7CiAgICAgICAgICBjb25zdCBsc1Nob3dCcmFja2V0ID0gbHMucmVhc29uICYmIGxzLm1lc3NhZ2U7CiAgICAgICAgICBjb25zdCBsc0Rlc2NyaXB0aW9uID0gYCR7IGxzUmVhc29uIH0keyBsc1Nob3dCcmFja2V0ID8gJyAoJyA6ICcnIH0keyBsc01lc3NhZ2UgfSR7IGxzU2hvd0JyYWNrZXQgPyAnKScgOiAnJyB9YDsKCiAgICAgICAgICBkZXNjcmlwdGlvbnMucHVzaCh0aGlzLnQoJ3dvcmtsb2FkLmNvbnRhaW5lci50ZXJtaW5hdGlvblN0YXRlJywgewogICAgICAgICAgICBsc0Rlc2NyaXB0aW9uLCBsc0V4aXRDb2RlLCBsc1N0YXJ0ZWRBdCwgbHNGaW5pc2hlZEF0CiAgICAgICAgICB9KSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgLi4uY29udGFpbmVyLAogICAgICAgICAgc3RhdHVzOiAgICAgICAgICAgc3RhdHVzIHx8IHt9LAogICAgICAgICAgc3RhdGVEaXNwbGF5OiAgICAgc3RhdHVzID8gdGhpcy52YWx1ZS5jb250YWluZXJTdGF0ZURpc3BsYXkoc3RhdHVzKSA6IHVuZGVmaW5lZCwKICAgICAgICAgIHN0YXRlQmFja2dyb3VuZDogIHN0YXR1cyA/IHRoaXMudmFsdWUuY29udGFpbmVyU3RhdGVDb2xvcihzdGF0dXMpLnJlcGxhY2UoJ3RleHQnLCAnYmcnKSA6IHVuZGVmaW5lZCwKICAgICAgICAgIG5hbWVTb3J0OiAgICAgICAgIHNvcnRhYmxlTnVtZXJpY1N1ZmZpeChjb250YWluZXIubmFtZSkudG9Mb3dlckNhc2UoKSwKICAgICAgICAgIHJlYWR5SWNvbjogICAgICAgIHN0YXR1cz8ucmVhZHkgPyAnaWNvbi1jaGVja21hcmsgdGV4dC1zdWNjZXNzIG1sLTUnIDogJ2ljb24teCB0ZXh0LWVycm9yIG1sLTUnLAogICAgICAgICAgYXZhaWxhYmxlQWN0aW9uczogdGhpcy52YWx1ZS5jb250YWluZXJBY3Rpb25zLAogICAgICAgICAgc3RhdGVPYmo6ICAgICAgICAgc3RhdHVzLCAvLyBSZXF1aXJlZCBpZiB0aGVyZSdzIGEgZGVzY3JpcHRpb24KICAgICAgICAgIHN0YXRlRGVzY3JpcHRpb246IGRlc2NyaXB0aW9ucy5qb2luKCcgfCAnKSwgLy8gUmVxdWlyZWQgdG8gZGlzcGxheSB0aGUgZGVzY3JpcHRpb24KICAgICAgICAgIGluaXRJY29uOiAgICAgICAgIHRoaXMudmFsdWUuY29udGFpbmVySXNJbml0KGNvbnRhaW5lcikgPyAnaWNvbi1jaGVja21hcmsgaWNvbi0yeCB0ZXh0LXN1Y2Nlc3MgbWwtNScgOiAnaWNvbi1taW51cyBpY29uLTJ4IHRleHQtbXV0ZWQgbWwtNScsCgogICAgICAgICAgLy8gQ2FsbCBvcGVuU2hlbGwgaGVyZSBzbyB0aGF0IG9wZW5pbmcgdGhlIHNoZWxsCiAgICAgICAgICAvLyBhdCB0aGUgY29udGFpbmVyIGxldmVsIHN0aWxsIGhhcyAndGhpcycgaW4gc2NvcGUuCiAgICAgICAgICBvcGVuU2hlbGw6ICgpID0+IHRoaXMudmFsdWUub3BlblNoZWxsKGNvbnRhaW5lci5uYW1lKSwKICAgICAgICAgIC8vIENhbGwgb3BlbkxvZ3MgaGVyZSBzbyB0aGF0IG9wZW5pbmcgdGhlIGxvZ3MKICAgICAgICAgIC8vIGF0IHRoZSBjb250YWluZXIgbGV2ZWwgc3RpbGwgaGFzICd0aGlzJyBpbiBzY29wZS4KICAgICAgICAgIG9wZW5Mb2dzOiAgKCkgPT4gdGhpcy52YWx1ZS5vcGVuTG9ncyhjb250YWluZXIubmFtZSkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCgogICAgYWxsQ29udGFpbmVycygpIHsKICAgICAgY29uc3QgeyBjb250YWluZXJzID0gW10sIGluaXRDb250YWluZXJzID0gW10gfSA9IHRoaXMudmFsdWUuc3BlYzsKCiAgICAgIHJldHVybiBbLi4uY29udGFpbmVycywgLi4uaW5pdENvbnRhaW5lcnNdOwogICAgfSwKCiAgICBhbGxTdGF0dXNlcygpIHsKICAgICAgY29uc3QgeyBjb250YWluZXJTdGF0dXNlcyA9IFtdLCBpbml0Q29udGFpbmVyU3RhdHVzZXMgPSBbXSB9ID0gdGhpcy52YWx1ZS5zdGF0dXM7CgogICAgICByZXR1cm4gWy4uLmNvbnRhaW5lclN0YXR1c2VzLCAuLi5pbml0Q29udGFpbmVyU3RhdHVzZXNdOwogICAgfSwKCiAgICBjb250YWluZXJIZWFkZXJzKCkgewogICAgICByZXR1cm4gWwogICAgICAgIFNUQVRFLAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICAgICAgICAgICdyZWFkeScsCiAgICAgICAgICBsYWJlbEtleTogICAgICAndGFibGVIZWFkZXJzLnJlYWR5JywKICAgICAgICAgIGZvcm1hdHRlcjogICAgICdJY29uVGV4dCcsCiAgICAgICAgICBmb3JtYXR0ZXJPcHRzOiB7IGljb25LZXk6ICdyZWFkeUljb24nIH0sCiAgICAgICAgICBhbGlnbjogICAgICAgICAnbGVmdCcsCiAgICAgICAgICB3aWR0aDogICAgICAgICA3NSwKICAgICAgICAgIHNvcnQ6ICAgICAgICAgICdyZWFkeUljb24nCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAuLi5TSU1QTEVfTkFNRSwKICAgICAgICAgIHZhbHVlOiAnbmFtZScKICAgICAgICB9LAogICAgICAgIElNQUdFX05BTUUsCiAgICAgICAgewogICAgICAgICAgbmFtZTogICAgICAgICAgJ2lzSW5pdCcsCiAgICAgICAgICBsYWJlbEtleTogICAgICAnd29ya2xvYWQuY29udGFpbmVyLmluaXQnLAogICAgICAgICAgZm9ybWF0dGVyOiAgICAgJ0ljb25UZXh0JywKICAgICAgICAgIGZvcm1hdHRlck9wdHM6IHsgaWNvbktleTogJ2luaXRJY29uJyB9LAogICAgICAgICAgYWxpZ246ICAgICAgICAgJ2xlZnQnLAogICAgICAgICAgd2lkdGg6ICAgICAgICAgNzUsCiAgICAgICAgICBzb3J0OiAgICAgICAgICAnaW5pdEljb24nCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAgICAgJ3Jlc3RhcnRzJywKICAgICAgICAgIGxhYmVsS2V5OiAndGFibGVIZWFkZXJzLnJlc3RhcnRzJywKICAgICAgICAgIHZhbHVlOiAgICAnc3RhdHVzLnJlc3RhcnRDb3VudCcsCiAgICAgICAgICBhbGlnbjogICAgJ3JpZ2h0JywKICAgICAgICAgIHdpZHRoOiAgICA3NQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogICAgICAgICAgJ2FnZScsCiAgICAgICAgICBsYWJlbEtleTogICAgICAndGFibGVIZWFkZXJzLnN0YXJ0ZWQnLAogICAgICAgICAgdmFsdWU6ICAgICAgICAgJ3N0YXR1cy5zdGF0ZS5ydW5uaW5nLnN0YXJ0ZWRBdCcsCiAgICAgICAgICBzb3J0OiAgICAgICAgICAnc3RhdHVzLnN0YXRlLnJ1bm5pbmcuc3RhcnRlZEF0OmRlc2MnLAogICAgICAgICAgc2VhcmNoOiAgICAgICAgZmFsc2UsCiAgICAgICAgICBmb3JtYXR0ZXI6ICAgICAnTGl2ZURhdGUnLAogICAgICAgICAgZm9ybWF0dGVyT3B0czogeyBhZGRTdWZmaXg6IHRydWUgfSwKICAgICAgICAgIGFsaWduOiAgICAgICAgICdyaWdodCcKICAgICAgICB9CiAgICAgIF07CiAgICB9LAoKICAgIGdyYXBoVmFycygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lc3BhY2U6IHRoaXMudmFsdWUubmFtZXNwYWNlLAogICAgICAgIHBvZDogICAgICAgdGhpcy52YWx1ZS5uYW1lCiAgICAgIH07CiAgICB9LAoKICAgIG1ldHJpY3NPcHRpb25zKCkgewogICAgICBjb25zdCB2ID0gdGhpcy5jb250YWluZXJzLm1hcCgoYykgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogICAgYy5uYW1lLAogICAgICAgICAgbGFiZWw6IGMubmFtZQogICAgICAgIH07CiAgICAgIH0pOwoKICAgICAgdi51bnNoaWZ0KHRoaXMuUE9EX09QVElPTik7CgogICAgICByZXR1cm4gdjsKICAgIH0sCgogICAgdjFNZXRyaWNzKCkgewogICAgICBpZiAoIXRoaXMubWV0cmljc0lEKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudjFNb25pdG9yaW5nVXJsOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBgJHsgdGhpcy52MU1vbml0b3JpbmdDb250YWluZXJCYXNlVXJsIH0vJHsgdGhpcy5tZXRyaWNzSUQgfWA7CiAgICAgIH0KICAgIH0sCgogICAgZGF0ZVRpbWVGb3JtYXRTdHJpbmcoKSB7CiAgICAgIGNvbnN0IGRhdGVGb3JtYXQgPSBlc2NhcGVIdG1sKCB0aGlzLiRzdG9yZS5nZXR0ZXJzWydwcmVmcy9nZXQnXShEQVRFX0ZPUk1BVCkpOwogICAgICBjb25zdCB0aW1lRm9ybWF0ID0gZXNjYXBlSHRtbCggdGhpcy4kc3RvcmUuZ2V0dGVyc1sncHJlZnMvZ2V0J10oVElNRV9GT1JNQVQpKTsKCiAgICAgIHJldHVybiBgJHsgZGF0ZUZvcm1hdCB9ICR7IHRpbWVGb3JtYXQgfWA7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgc2VsZWN0aW9uQ2hhbmdlZChjKSB7CiAgICAgIGNvbnN0IGlkID0gYyA9PT0gdGhpcy5QT0RfT1BUSU9OID8gbnVsbCA6IGMuaWQ7CgogICAgICB0aGlzLm1ldHJpY3NJRCA9IGlkOwogICAgICB0aGlzLnNlbGVjdGlvbiA9IGM7CiAgICB9LAoKICAgIGRhdGVUaW1lRm9ybWF0KHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZSA/IGRheSh2YWx1ZSkuZm9ybWF0KHRoaXMuZGF0ZVRpbWVGb3JtYXRTdHJpbmcpIDogJyc7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["pod.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"pod.vue","sourceRoot":"node_modules/@rancher/shell/detail","sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport SortableTable from '@shell/components/SortableTable';\nimport { STATE, SIMPLE_NAME, IMAGE_NAME } from '@shell/config/table-headers';\nimport { sortableNumericSuffix } from '@shell/utils/sort';\nimport { findBy } from '@shell/utils/array';\nimport DashboardMetrics from '@shell/components/DashboardMetrics';\nimport V1WorkloadMetrics from '@shell/mixins/v1-workload-metrics';\nimport { mapGetters } from 'vuex';\nimport { allDashboardsExist } from '@shell/utils/grafana';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport day from 'dayjs';\nimport { DATE_FORMAT, TIME_FORMAT } from '@shell/store/prefs';\nimport { escapeHtml } from '@shell/utils/string';\nimport { NAMESPACE } from '@shell/config/types';\nimport { PROJECT } from '@shell/config/labels-annotations';\n\nconst POD_METRICS_DETAIL_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-pod-containers-1/rancher-pod-containers?orgId=1';\nconst POD_METRICS_SUMMARY_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-pod-1/rancher-pod?orgId=1';\n\nexport default {\n  name: 'PodDetail',\n\n  components: {\n    DashboardMetrics,\n    ResourceTabs,\n    Tab,\n    SortableTable,\n    LabeledSelect,\n  },\n\n  mixins: [CreateEditView, V1WorkloadMetrics],\n\n  async fetch() {\n    this.showMetrics = await allDashboardsExist(this.$store, this.currentCluster.id, [POD_METRICS_DETAIL_URL, POD_METRICS_SUMMARY_URL]);\n    if (!this.showMetrics) {\n      const namespace = await this.$store.dispatch('cluster/find', { type: NAMESPACE, id: this.value.metadata.namespace });\n\n      const projectId = namespace?.metadata?.labels[PROJECT];\n\n      if (projectId) {\n        this.POD_PROJECT_METRICS_DETAIL_URL = `/api/v1/namespaces/cattle-project-${ projectId }-monitoring/services/http:cattle-project-${ projectId }-monitoring-grafana:80/proxy/d/rancher-pod-containers-1/rancher-pod-containers?orgId=1'`;\n        this.POD_PROJECT_METRICS_SUMMARY_URL = `/api/v1/namespaces/cattle-project-${ projectId }-monitoring/services/http:cattle-project-${ projectId }-monitoring-grafana:80/proxy/d/rancher-pod-1/rancher-pod?orgId=1`;\n\n        this.showProjectMetrics = await allDashboardsExist(this.$store, this.currentCluster.id, [this.POD_PROJECT_METRICS_DETAIL_URL, this.POD_PROJECT_METRICS_SUMMARY_URL], 'cluster', projectId);\n      }\n    }\n  },\n\n  data() {\n    const t = this.$store.getters['i18n/t'];\n    const POD_OPTION = {\n      id:    '//POD//',\n      label: t('workload.metrics.pod'),\n    };\n\n    return {\n      POD_METRICS_DETAIL_URL,\n      POD_METRICS_SUMMARY_URL,\n      POD_PROJECT_METRICS_DETAIL_URL:  '',\n      POD_PROJECT_METRICS_SUMMARY_URL: '',\n      POD_OPTION,\n      showMetrics:                     false,\n      showProjectMetrics:              false,\n      selection:                       POD_OPTION,\n      metricsID:                       null,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    containers() {\n      const containers = this.allContainers;\n      const statuses = this.allStatuses;\n\n      return (containers || []).map((container) => {\n        const status = findBy(statuses, 'name', container.name);\n        const state = status?.state || {};\n        const descriptions = [];\n\n        // There can be only one member of a `ContainerState`\n        const s = Object.values(state)[0] || {};\n        const reason = s.reason || '';\n        const message = s.message || '';\n        const showBracket = s.reason && s.message;\n        const description = `${ reason }${ showBracket ? ' (' : '' }${ message }${ showBracket ? ')' : '' }`;\n\n        if (description) {\n          descriptions.push(description);\n        }\n\n        // add lastState to show termination reason\n        if (status?.lastState?.terminated) {\n          const ls = status?.lastState?.terminated;\n          const lsReason = ls.reason || '';\n          const lsMessage = ls.message || '';\n          const lsExitCode = ls.exitCode || '';\n          const lsStartedAt = this.dateTimeFormat(ls.startedAt);\n          const lsFinishedAt = this.dateTimeFormat(ls.finishedAt);\n          const lsShowBracket = ls.reason && ls.message;\n          const lsDescription = `${ lsReason }${ lsShowBracket ? ' (' : '' }${ lsMessage }${ lsShowBracket ? ')' : '' }`;\n\n          descriptions.push(this.t('workload.container.terminationState', {\n            lsDescription, lsExitCode, lsStartedAt, lsFinishedAt\n          }));\n        }\n\n        return {\n          ...container,\n          status:           status || {},\n          stateDisplay:     status ? this.value.containerStateDisplay(status) : undefined,\n          stateBackground:  status ? this.value.containerStateColor(status).replace('text', 'bg') : undefined,\n          nameSort:         sortableNumericSuffix(container.name).toLowerCase(),\n          readyIcon:        status?.ready ? 'icon-checkmark text-success ml-5' : 'icon-x text-error ml-5',\n          availableActions: this.value.containerActions,\n          stateObj:         status, // Required if there's a description\n          stateDescription: descriptions.join(' | '), // Required to display the description\n          initIcon:         this.value.containerIsInit(container) ? 'icon-checkmark icon-2x text-success ml-5' : 'icon-minus icon-2x text-muted ml-5',\n\n          // Call openShell here so that opening the shell\n          // at the container level still has 'this' in scope.\n          openShell: () => this.value.openShell(container.name),\n          // Call openLogs here so that opening the logs\n          // at the container level still has 'this' in scope.\n          openLogs:  () => this.value.openLogs(container.name)\n        };\n      });\n    },\n\n    allContainers() {\n      const { containers = [], initContainers = [] } = this.value.spec;\n\n      return [...containers, ...initContainers];\n    },\n\n    allStatuses() {\n      const { containerStatuses = [], initContainerStatuses = [] } = this.value.status;\n\n      return [...containerStatuses, ...initContainerStatuses];\n    },\n\n    containerHeaders() {\n      return [\n        STATE,\n        {\n          name:          'ready',\n          labelKey:      'tableHeaders.ready',\n          formatter:     'IconText',\n          formatterOpts: { iconKey: 'readyIcon' },\n          align:         'left',\n          width:         75,\n          sort:          'readyIcon'\n        },\n        {\n          ...SIMPLE_NAME,\n          value: 'name'\n        },\n        IMAGE_NAME,\n        {\n          name:          'isInit',\n          labelKey:      'workload.container.init',\n          formatter:     'IconText',\n          formatterOpts: { iconKey: 'initIcon' },\n          align:         'left',\n          width:         75,\n          sort:          'initIcon'\n        },\n        {\n          name:     'restarts',\n          labelKey: 'tableHeaders.restarts',\n          value:    'status.restartCount',\n          align:    'right',\n          width:    75\n        },\n        {\n          name:          'age',\n          labelKey:      'tableHeaders.started',\n          value:         'status.state.running.startedAt',\n          sort:          'status.state.running.startedAt:desc',\n          search:        false,\n          formatter:     'LiveDate',\n          formatterOpts: { addSuffix: true },\n          align:         'right'\n        }\n      ];\n    },\n\n    graphVars() {\n      return {\n        namespace: this.value.namespace,\n        pod:       this.value.name\n      };\n    },\n\n    metricsOptions() {\n      const v = this.containers.map((c) => {\n        return {\n          id:    c.name,\n          label: c.name\n        };\n      });\n\n      v.unshift(this.POD_OPTION);\n\n      return v;\n    },\n\n    v1Metrics() {\n      if (!this.metricsID) {\n        return this.v1MonitoringUrl;\n      } else {\n        return `${ this.v1MonitoringContainerBaseUrl }/${ this.metricsID }`;\n      }\n    },\n\n    dateTimeFormatString() {\n      const dateFormat = escapeHtml( this.$store.getters['prefs/get'](DATE_FORMAT));\n      const timeFormat = escapeHtml( this.$store.getters['prefs/get'](TIME_FORMAT));\n\n      return `${ dateFormat } ${ timeFormat }`;\n    }\n  },\n\n  methods: {\n    selectionChanged(c) {\n      const id = c === this.POD_OPTION ? null : c.id;\n\n      this.metricsID = id;\n      this.selection = c;\n    },\n\n    dateTimeFormat(value) {\n      return value ? day(value).format(this.dateTimeFormatString) : '';\n    }\n  }\n};\n</script>\n\n<template>\n  <ResourceTabs\n    mode=\"view\"\n    class=\"mt-20\"\n    :value=\"value\"\n  >\n    <Tab\n      :label=\"t('workload.container.titles.containers')\"\n      name=\"containers\"\n      :weight=\"3\"\n    >\n      <SortableTable\n        :rows=\"containers\"\n        :headers=\"containerHeaders\"\n        :mode=\"mode\"\n        key-field=\"name\"\n        :search=\"false\"\n        :row-actions=\"true\"\n        :table-actions=\"false\"\n      />\n    </Tab>\n    <Tab\n      v-if=\"v1MonitoringUrl\"\n      name=\"v1Metrics\"\n      :label=\"t('node.detail.tab.metrics')\"\n      :weight=\"0\"\n    >\n      <LabeledSelect\n        class=\"pod-metrics-chooser\"\n        :value=\"selection\"\n        label-key=\"workload.metrics.metricsView\"\n        :options=\"metricsOptions\"\n        @input=\"selectionChanged($event)\"\n      />\n      <div id=\"ember-anchor\">\n        <EmberPage\n          inline=\"ember-anchor\"\n          :src=\"v1Metrics\"\n        />\n      </div>\n    </Tab>\n    <Tab\n      v-if=\"showMetrics\"\n      :label=\"t('workload.container.titles.metrics')\"\n      name=\"pod-metrics\"\n      :weight=\"2.5\"\n    >\n      <template #default=\"props\">\n        <DashboardMetrics\n          v-if=\"props.active\"\n          :detail-url=\"POD_METRICS_DETAIL_URL\"\n          :summary-url=\"POD_METRICS_SUMMARY_URL\"\n          :vars=\"graphVars\"\n          graph-height=\"550px\"\n        />\n      </template>\n    </Tab>\n    <Tab\n      v-if=\"showProjectMetrics\"\n      :label=\"t('workload.container.titles.metrics')\"\n      name=\"pod-metrics\"\n      :weight=\"2.5\"\n    >\n      <template #default=\"props\">\n        <DashboardMetrics\n          v-if=\"props.active\"\n          :detail-url=\"POD_PROJECT_METRICS_DETAIL_URL\"\n          :summary-url=\"POD_PROJECT_METRICS_SUMMARY_URL\"\n          :vars=\"graphVars\"\n          graph-height=\"550px\"\n        />\n      </template>\n    </Tab>\n  </ResourceTabs>\n</template>\n<style scoped>\n  .pod-metrics-chooser {\n    width: fit-content;\n    margin-bottom: 10px;\n    min-width: 300px;\n  }\n</style>\n"]}]}