{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/auth/AzureWarning.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/auth/AzureWarning.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIFRoaXMgY29tcG9uZW50IHdpbGwgYmVjb21lIHJlZHVuZGFudCBpbiAyMDIzLCBzZWUgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvZ3JhcGgvbWlncmF0ZS1henVyZS1hZC1ncmFwaC1vdmVydmlldwppbXBvcnQgeyBOT1JNQU4sIE1BTkFHRU1FTlQgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CmltcG9ydCB7IEFaVVJFX01JR1JBVEVEIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9sYWJlbHMtYW5ub3RhdGlvbnMnOwppbXBvcnQgeyBCTEFOS19DTFVTVEVSIH0gZnJvbSAnQHNoZWxsL3N0b3JlL3N0b3JlLXR5cGVzLmpzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBhc3luYyBmZXRjaCgpIHsKICAgIC8vIENoZWNrIGZvciBhY2Nlc3MgdG8gc3RldmUgYXV0aENvbmZpZ3MgYmVjYXVzZSBldmVyeW9uZSBjYW4gbG9hZCB0aGUgbm9ybWFuIGF1dGggY29uZmlnIHNjaGVtYQogICAgaWYgKAogICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzWydpc1JhbmNoZXInXSAmJgogICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzWydtYW5hZ2VtZW50L3NjaGVtYUZvciddKE1BTkFHRU1FTlQuQVVUSF9DT05GSUcpCiAgICApIHsKICAgICAgdGhpcy5hdXRoQ29uZmlnID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3JhbmNoZXIvZmluZCcsIHsKICAgICAgICB0eXBlOiBOT1JNQU4uQVVUSF9DT05GSUcsCiAgICAgICAgaWQ6ICAgJ2F6dXJlYWQnLAogICAgICAgIG9wdDogIHsgdXJsOiBgL3YzLyR7IE5PUk1BTi5BVVRIX0NPTkZJRyB9L2F6dXJlYWRgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGF1dGhDb25maWc6ICAgICAgbnVsbCwKICAgICAgYXV0aENvbmZpZ1JvdXRlOiB7CiAgICAgICAgbmFtZTogICAnYy1jbHVzdGVyLWF1dGgtY29uZmlnLWlkJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuJHJvdXRlLnBhcmFtcy5jbHVzdGVyIHx8IEJMQU5LX0NMVVNURVIsCiAgICAgICAgICBpZDogICAgICAnYXp1cmVhZCcKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIHNob3dXYXJuaW5nKCkgewogICAgICBpZiAoIXRoaXMuYXV0aENvbmZpZykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuICgKICAgICAgICBnZXQodGhpcy5hdXRoQ29uZmlnLCBgYW5ub3RhdGlvbnMuIiR7IEFaVVJFX01JR1JBVEVEIH0iYCkgIT09ICd0cnVlJyAmJgogICAgICAgIHRoaXMuYXV0aENvbmZpZy5lbmFibGVkCiAgICAgICk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["AzureWarning.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AzureWarning.vue","sourceRoot":"node_modules/@rancher/shell/components/auth","sourcesContent":["<script>\n// This component will become redundant in 2023, see https://docs.microsoft.com/en-us/graph/migrate-azure-ad-graph-overview\nimport { NORMAN, MANAGEMENT } from '@shell/config/types';\nimport { get } from '@shell/utils/object';\nimport { AZURE_MIGRATED } from '@shell/config/labels-annotations';\nimport { BLANK_CLUSTER } from '@shell/store/store-types.js';\n\nexport default {\n  async fetch() {\n    // Check for access to steve authConfigs because everyone can load the norman auth config schema\n    if (\n      this.$store.getters['isRancher'] &&\n      this.$store.getters['management/schemaFor'](MANAGEMENT.AUTH_CONFIG)\n    ) {\n      this.authConfig = await this.$store.dispatch('rancher/find', {\n        type: NORMAN.AUTH_CONFIG,\n        id:   'azuread',\n        opt:  { url: `/v3/${ NORMAN.AUTH_CONFIG }/azuread` }\n      });\n    }\n  },\n\n  data() {\n    return {\n      authConfig:      null,\n      authConfigRoute: {\n        name:   'c-cluster-auth-config-id',\n        params: {\n          cluster: this.$route.params.cluster || BLANK_CLUSTER,\n          id:      'azuread'\n        }\n      }\n    };\n  },\n\n  computed: {\n    showWarning() {\n      if (!this.authConfig) {\n        return false;\n      }\n\n      return (\n        get(this.authConfig, `annotations.\"${ AZURE_MIGRATED }\"`) !== 'true' &&\n        this.authConfig.enabled\n      );\n    }\n  }\n};\n</script>\n\n<template>\n  <div\n    v-if=\"showWarning\"\n    id=\"azure-warn\"\n    class=\"banner\"\n  >\n    <p>\n      {{ t('authConfig.azuread.updateEndpoint.banner.message') }}\n      <n-link :to=\"authConfigRoute\">\n        {{ t('authConfig.azuread.updateEndpoint.banner.linkText') }}\n      </n-link>\n    </p>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n#azure-warn {\n  background-color: var(--warning);\n  color: var(--warning-text);\n  line-height: 2em;\n  width: 100%;\n\n  > p {\n    text-align: center;\n  }\n}\n</style>\n"]}]}