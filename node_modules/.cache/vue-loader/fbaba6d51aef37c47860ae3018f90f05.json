{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/ServiceNameSelect.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/ServiceNameSelect.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBsYWJlbGVkRm9ybUVsZW1lbnQgZnJvbSAnQHNoZWxsL21peGlucy9sYWJlbGVkLWZvcm0tZWxlbWVudCc7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCB7IF9WSUVXIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgTGFiZWxlZFNlbGVjdCwgQmFubmVyIH0sCgogIG1peGluczogW2xhYmVsZWRGb3JtRWxlbWVudF0sCgogIHByb3BzOiB7CiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NyZWF0ZScKICAgIH0sCiAgICBvcHRpb25MYWJlbDogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdsYWJlbCcsCiAgICB9LAogICAgb3B0aW9uczogewogICAgICB0eXBlOiAgICAgQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICAgIHJlZHVjZTogewogICAgICBkZWZhdWx0OiAoZSkgPT4gewogICAgICAgIGlmIChlICYmIHR5cGVvZiBlID09PSAnb2JqZWN0JyAmJiBlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJldHVybiBlLm1ldGFkYXRhLm5hbWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZTsKICAgICAgfSwKICAgICAgdHlwZTogRnVuY3Rpb24KICAgIH0sCiAgICBjcmVhdGVPcHRpb246IHsKICAgICAgZGVmYXVsdDogKHRleHQpID0+IHsKICAgICAgICBpZiAodGV4dCkgewogICAgICAgICAgcmV0dXJuIHsgbWV0YWRhdGE6IHsgbmFtZTogdGV4dCB9IH07CiAgICAgICAgfQogICAgICB9LAogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfSwKICAgIHNlYXJjaGFibGU6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgIH0sCiAgICBzZWxlY3RMYWJlbDogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogICAgc2VsZWN0QmVmb3JlVGV4dDogewogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlLAogICAgfSwKICAgIHRhZ2dhYmxlOiB7CiAgICAgIHR5cGU6ICAgIEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUsCiAgICB9LAogICAgbG9hZGluZzogewogICAgICB0eXBlOiAgICBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7IHNlbGVjdGVkOiB0aGlzLnZhbHVlIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGlzVmlldygpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gX1ZJRVc7CiAgICB9LAoKICAgIHNlcnZpY2VOYW1lTmV3KCkgewogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWQpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiAhdGhpcy5vcHRpb25zLmZpbmQoKG8pID0+IHRoaXMucmVkdWNlKG8pID09PSB0aGlzLnNlcnZpY2VOYW1lKTsKICAgIH0sCgogICAgc2VydmljZU5hbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLnJlZHVjZSh0aGlzLnNlbGVjdGVkKTsKICAgIH0KCiAgfSwKCiAgbWV0aG9kczogewogICAgY2hhbmdlU2VsZWN0ZWQoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5zZXJ2aWNlTmFtZSk7CiAgICB9LAoKICAgIGNsZWFyU2VhcmNoKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VsZWN0ZWQgPSAnJzsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBudWxsKTsKCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9LAoKICAgIGZvY3VzKCkgewogICAgICBjb25zdCBjb21wID0gdGhpcy4kcmVmcy50ZXh0OwoKICAgICAgaWYgKGNvbXApIHsKICAgICAgICBjb21wLmZvY3VzKCk7CiAgICAgIH0KICAgIH0sCgogIH0sCn07Cg=="},{"version":3,"sources":["ServiceNameSelect.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"ServiceNameSelect.vue","sourceRoot":"node_modules/@rancher/shell/components/form","sourcesContent":["<script>\nimport labeledFormElement from '@shell/mixins/labeled-form-element';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { Banner } from '@components/Banner';\nimport { _VIEW } from '@shell/config/query-params';\n\nexport default {\n  components: { LabeledSelect, Banner },\n\n  mixins: [labeledFormElement],\n\n  props: {\n    disabled: {\n      type:    Boolean,\n      default: false,\n    },\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n    optionLabel: {\n      type:    String,\n      default: 'label',\n    },\n    options: {\n      type:     Array,\n      required: true,\n    },\n    reduce: {\n      default: (e) => {\n        if (e && typeof e === 'object' && e !== undefined) {\n          return e.metadata.name;\n        }\n\n        return e;\n      },\n      type: Function\n    },\n    createOption: {\n      default: (text) => {\n        if (text) {\n          return { metadata: { name: text } };\n        }\n      },\n      type: Function\n    },\n    searchable: {\n      type:    Boolean,\n      default: true,\n    },\n    selectLabel: {\n      type:    String,\n      default: null,\n    },\n    selectBeforeText: {\n      type:    Boolean,\n      default: true,\n    },\n    taggable: {\n      type:    Boolean,\n      default: true,\n    },\n    loading: {\n      type:    Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    return { selected: this.value };\n  },\n\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    serviceNameNew() {\n      if (!this.selected) {\n        return false;\n      }\n\n      return !this.options.find((o) => this.reduce(o) === this.serviceName);\n    },\n\n    serviceName() {\n      return this.reduce(this.selected);\n    }\n\n  },\n\n  methods: {\n    changeSelected() {\n      this.$emit('input', this.serviceName);\n    },\n\n    clearSearch(event) {\n      this.selected = '';\n      this.$emit('input', null);\n\n      event.preventDefault();\n    },\n\n    focus() {\n      const comp = this.$refs.text;\n\n      if (comp) {\n        comp.focus();\n      }\n    },\n\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"spacer\" />\n    <div class=\"row mb-10\">\n      <h3 class=\"col span-6\">\n        {{ t('workload.serviceAccountName.label') }}\n      </h3>\n    </div>\n    <div class=\"row span-6\">\n      <LabeledSelect\n        v-model=\"selected\"\n        :label=\"selectLabel\"\n        class=\"mr-10\"\n        :class=\"{ 'in-input': !isView }\"\n        :options=\"options\"\n        :searchable=\"searchable\"\n        :clearable=\"true\"\n        :disabled=\"disabled || isView\"\n        :taggable=\"taggable\"\n        :create-option=\"createOption\"\n        :multiple=\"false\"\n        :mode=\"mode\"\n        :option-label=\"optionLabel\"\n        :placement=\"$attrs.placement ? $attrs.placement : null\"\n        :v-bind=\"$attrs\"\n        :loading=\"loading\"\n        @input=\"changeSelected\"\n      />\n      <button\n        v-if=\"!isView\"\n        type=\"button\"\n        class=\"btn role-secondary\"\n        data-testid=\"clear-search\"\n        @click=\"clearSearch($event)\"\n      >\n        {{ t(\"generic.clear\") }}\n      </button>\n    </div>\n    <template v-if=\"serviceNameNew\">\n      <div class=\"row span-6\">\n        <Banner\n          v-clean-html=\"t('workload.serviceAccountName.createMessage', { name: serviceName }) \"\n          color=\"info\"\n        />\n      </div>\n    </template>\n  </div>\n</template>\n"]}]}