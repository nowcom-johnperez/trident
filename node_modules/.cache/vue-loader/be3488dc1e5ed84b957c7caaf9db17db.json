{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/ui.cattle.io.navlink.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/ui.cattle.io.navlink.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGlzTnVsbCwgaXNVbmRlZmluZWQgfSBmcm9tICdsb2Rhc2gnOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IHsgU0VSVklDRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBQUk9UT0NPTFMgfSBmcm9tICdAc2hlbGwvY29uZmlnL3NjaGVtYSc7CmltcG9ydCBDcnVSZXNvdXJjZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DcnVSZXNvdXJjZSc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IHsgUmFkaW9Hcm91cCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vUmFkaW8nOwppbXBvcnQgRmlsZUltYWdlU2VsZWN0b3IgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9GaWxlSW1hZ2VTZWxlY3Rvcic7CmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdC52dWUnOwppbXBvcnQgTmFtZU5zRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9OYW1lTnNEZXNjcmlwdGlvbic7CmltcG9ydCB7IEJhbm5lciB9IGZyb20gJ0Bjb21wb25lbnRzL0Jhbm5lcic7CmltcG9ydCBGb3JtVmFsaWRhdGlvbiBmcm9tICdAc2hlbGwvbWl4aW5zL2Zvcm0tdmFsaWRhdGlvbic7CmltcG9ydCB7IG5vcm1hbGl6ZU5hbWUgfSBmcm9tICdAc2hlbGwvdXRpbHMva3ViZSc7Cgpjb25zdCBMSU5LX1RZUEVfVVJMID0gJ3VybCc7CmNvbnN0IExJTktfVFlQRV9TRVJWSUNFID0gJ3NlcnZpY2UnOwpjb25zdCBMSU5LX1RBUkdFVF9OQU1FRCA9ICdMSU5LX1RBUkdFVF9OQU1FRCc7CmNvbnN0IExJTktfVEFSR0VUX0JMQU5LID0gJ19ibGFuayc7CmNvbnN0IExJTktfVEFSR0VUX1NFTEYgPSAnX3NlbGYnOwoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogICAgIFtDcmVhdGVFZGl0VmlldywgRm9ybVZhbGlkYXRpb25dLAogIGNvbXBvbmVudHM6IHsKICAgIENydVJlc291cmNlLAogICAgTGFiZWxlZElucHV0LAogICAgUmFkaW9Hcm91cCwKICAgIE5hbWVOc0Rlc2NyaXB0aW9uLAogICAgRmlsZUltYWdlU2VsZWN0b3IsCiAgICBMYWJlbGVkU2VsZWN0LAogICAgQmFubmVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFyZ2V0T3B0aW9uczogWwogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiBMSU5LX1RBUkdFVF9CTEFOSywKICAgICAgICAgIGxhYmVsOiB0aGlzLnQoJ25hdkxpbmsudGFicy50YXJnZXQub3B0aW9uLmJsYW5rJyksCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogTElOS19UQVJHRVRfU0VMRiwKICAgICAgICAgIGxhYmVsOiB0aGlzLnQoJ25hdkxpbmsudGFicy50YXJnZXQub3B0aW9uLnNlbGYnKSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiBMSU5LX1RBUkdFVF9OQU1FRCwKICAgICAgICAgIGxhYmVsOiB0aGlzLnQoJ25hdkxpbmsudGFicy50YXJnZXQub3B0aW9uLm5hbWVkJyksCiAgICAgICAgfQogICAgICBdLAogICAgICB1cmxUeXBlT3B0aW9uczogWwogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiBMSU5LX1RZUEVfVVJMLAogICAgICAgICAgbGFiZWw6IHRoaXMudCgnbmF2TGluay50YWJzLmxpbmsudHlwZS51cmwnKQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdmFsdWU6IExJTktfVFlQRV9TRVJWSUNFLAogICAgICAgICAgbGFiZWw6IHRoaXMudCgnbmF2TGluay50YWJzLmxpbmsudHlwZS5zZXJ2aWNlJykKICAgICAgICB9CiAgICAgIF0sCiAgICAgIGN1cnJlbnRMaW5rVHlwZTogICBudWxsLAogICAgICB0YXJnZXROYW1lOiAgICAgICAgbnVsbCwKICAgICAgY3VycmVudFRhcmdldDogICAgIExJTktfVEFSR0VUX0JMQU5LLAogICAgICBwcm90b2NvbHNPcHRpb25zOiAgUFJPVE9DT0xTLAogICAgICBzZXJ2aWNlczogICAgICAgICAgW10sCiAgICAgIGN1cnJlbnRTZXJ2aWNlOiAgICBudWxsLAogICAgICBpbWFnZUVycm9yTWVzc2FnZTogJycsCiAgICAgIGZ2Rm9ybVJ1bGVTZXRzOiAgICBbCiAgICAgICAgeyBwYXRoOiAnbWV0YWRhdGEubmFtZScsIHJ1bGVzOiBbJ25hbWVSZXF1aXJlZCddIH0sCiAgICAgICAgeyBwYXRoOiAnc3BlYy50b1VSTCcsIHJ1bGVzOiBbJ3VybFJlcXVpcmVkJ10gfSwKICAgICAgICB7IHBhdGg6ICdzcGVjLnRvU2VydmljZS5uYW1lc3BhY2UnLCBydWxlczogWydzZXJ2aWNlTmFtZXNwYWNlUmVxdWlyZWQnXSB9LAogICAgICAgIHsgcGF0aDogJ3NwZWMudG9TZXJ2aWNlLnNjaGVtZScsIHJ1bGVzOiBbJ3NlcnZpY2VTY2hlbWVSZXF1aXJlZCddIH1dLAoKICAgIH07CiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgIE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIGRlZmF1bHQ6ICAoKSA9PiB7fQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogICAgIFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8qKgogICAgICogSWRlbnRpZnkgdHlwZSBvZiBuYXZMaW5rIGFuZCBjbGVhciBtb2RlbCBvbiB2YWx1ZSBjaGFuZ2UKICAgICAqLwogICAgbGlua1R5cGU6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRMaW5rVHlwZTsKICAgICAgfSwKICAgICAgc2V0KHR5cGUpIHsKICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlIExJTktfVFlQRV9VUkw6CiAgICAgICAgICBkZWxldGUgdGhpcy52YWx1ZS5zcGVjLnRvU2VydmljZTsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMsICd0b1VSTCcsICcnKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgTElOS19UWVBFX1NFUlZJQ0U6CiAgICAgICAgICBkZWxldGUgdGhpcy52YWx1ZS5zcGVjLnRvVVJMOwogICAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYywgJ3RvU2VydmljZScsIHt9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIC8vIE5vIGRlZmF1bHQKICAgICAgICB9CiAgICAgICAgdGhpcy5jdXJyZW50TGlua1R5cGUgPSB0eXBlOwogICAgICB9CiAgICB9LAogICAgaXNTZXJ2aWNlKCkgewogICAgICByZXR1cm4gQm9vbGVhbih0aGlzLnZhbHVlLnNwZWMudG9TZXJ2aWNlKTsKICAgIH0sCiAgICBpc1VSTCgpIHsKICAgICAgcmV0dXJuICFpc051bGwodGhpcy52YWx1ZS5zcGVjLnRvVVJMKSAmJiAhaXNVbmRlZmluZWQodGhpcy52YWx1ZS5zcGVjLnRvVVJMKTsKICAgIH0sCiAgICBpc05hbWVkV2luZG93KCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50VGFyZ2V0ID09PSBMSU5LX1RBUkdFVF9OQU1FRDsKICAgIH0sCiAgICBtYXBwZWRTZXJ2aWNlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VydmljZXMubWFwKCh7IGlkLCBtZXRhZGF0YTogeyBuYW1lLCBuYW1lc3BhY2UgfSB9KSA9PiAoewogICAgICAgIGxhYmVsOiBpZCwgaWQsIG5hbWUsIG5hbWVzcGFjZQogICAgICB9KSApOwogICAgfSwKICAgIGltYWdlRXJyb3IoKSB7CiAgICAgIHJldHVybiAhIXRoaXMuaW1hZ2VFcnJvck1lc3NhZ2UgJiYgIXRoaXMudmFsdWUuc3BlYy5pY29uU3JjOwogICAgfSwKICAgIGZ2RXh0cmFSdWxlcygpIHsKICAgICAgY29uc3QgaXNMaW5rVHlwZVVybCA9IHRoaXMuY3VycmVudExpbmtUeXBlID09PSBMSU5LX1RZUEVfVVJMOwogICAgICBjb25zdCBpc1NlcnZpY2VUeXBlVXJsID0gdGhpcy5jdXJyZW50TGlua1R5cGUgPT09IExJTktfVFlQRV9TRVJWSUNFOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lUmVxdWlyZWQ6ICgpID0+IHsKICAgICAgICAgIGlmICghdGhpcy52YWx1ZS5tZXRhZGF0YS5uYW1lKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEVycm9yKCduYXZMaW5rLm5hbWUubGFiZWwnKTsKICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICB1cmxSZXF1aXJlZDogKCkgPT4gewogICAgICAgICAgY29uc3QgY29uZGl0aW9uID0gdGhpcy52YWx1ZS5zcGVjLnRvVVJMOwoKICAgICAgICAgIGlmIChpc0xpbmtUeXBlVXJsICYmICFjb25kaXRpb24pIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RXJyb3IoJ25hdkxpbmsudGFicy5saW5rLnRvVVJMLmxhYmVsJyk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZXJ2aWNlTmFtZXNwYWNlUmVxdWlyZWQ6ICgpID0+IHsKICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IHRoaXMudmFsdWUuc3BlYy50b1NlcnZpY2UubmFtZSAmJiB0aGlzLnZhbHVlLnNwZWMudG9TZXJ2aWNlLm5hbWVzcGFjZTsKCiAgICAgICAgICBpZiAoaXNTZXJ2aWNlVHlwZVVybCAmJiAhY29uZGl0aW9uKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEVycm9yKCduYXZMaW5rLnRhYnMubGluay50b1NlcnZpY2Uuc2VydmljZS5sYWJlbCcpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2VydmljZVNjaGVtZVJlcXVpcmVkOiAoKSA9PiB7CiAgICAgICAgICBjb25zdCBjb25kaXRpb24gPSB0aGlzLnZhbHVlLnNwZWMudG9TZXJ2aWNlLnNjaGVtZTsKCiAgICAgICAgICBpZiAoaXNTZXJ2aWNlVHlwZVVybCAmJiAhY29uZGl0aW9uKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEVycm9yKCduYXZMaW5rLnRhYnMubGluay50b1NlcnZpY2Uuc2NoZW1lLmxhYmVsJyk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgfTsKICAgIH0KICB9LAogIGFzeW5jIGZldGNoKCkgewogICAgdGhpcy5zZXJ2aWNlcyA9IGF3YWl0IHRoaXMuJHN0b3JlCiAgICAgIC5kaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgeyB0eXBlOiBTRVJWSUNFIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiBTZXQgdGhlIHRhcmdldCBvZiB0aGUgbmF2TGluawogICAgICogSXQgd2lsbCBhc3NpZ24gbmFtZWRXaW5kb3cgdmFsdWUgZm9yIG5hbWVkIHRhcmdldCBjYXNlcwogICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlCiAgICAgKi8KICAgIHNldFRhcmdldFZhbHVlKHZhbHVlKSB7CiAgICAgIHN3aXRjaCAodmFsdWUpIHsKICAgICAgY2FzZSBMSU5LX1RBUkdFVF9TRUxGOgogICAgICBjYXNlIExJTktfVEFSR0VUX0JMQU5LOgogICAgICAgIHRoaXMuJHNldCh0aGlzLnZhbHVlLnNwZWMsICd0YXJnZXQnLCB2YWx1ZSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYywgJ3RhcmdldCcsIHRoaXMudGFyZ2V0TmFtZSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIElkZW50aWZ5IHRhcmdldCBvcHRpb24gYmFzZWQgb24gdmFsdWUgYW5kIHVwZGF0ZSBVSSBhY2NvcmRpbmdseQogICAgICogTm90ZTogQ3VzdG9tIHRhcmdldCBuYW1lIGlzIG5vdCBkaXJlY3RseSBib3VuZCB0byB0aGUgcmVzb3VyY2UKICAgICAqLwogICAgc2V0VGFyZ2V0T3B0aW9uKCkgewogICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWUuc3BlYy50YXJnZXQ7CgogICAgICBzd2l0Y2ggKHZhbHVlKSB7CiAgICAgIGNhc2UgTElOS19UQVJHRVRfU0VMRjoKICAgICAgY2FzZSBMSU5LX1RBUkdFVF9CTEFOSzoKICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSB2YWx1ZTsKICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBMSU5LX1RBUkdFVF9OQU1FRDsKICAgICAgICB0aGlzLnRhcmdldE5hbWUgPSB2YWx1ZTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICogU2V0IFVSTCB0eXBlIGJhc2VkIG9uIGV4aXN0aW5nIGRhdGEKICAgICAqLwogICAgc2V0VXJsVHlwZSgpIHsKICAgICAgaWYgKHRoaXMuaXNVUkwpIHsKICAgICAgICB0aGlzLmN1cnJlbnRMaW5rVHlwZSA9IExJTktfVFlQRV9VUkw7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuaXNTZXJ2aWNlKSB7CiAgICAgICAgdGhpcy5jdXJyZW50TGlua1R5cGUgPSBMSU5LX1RZUEVfU0VSVklDRTsKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICogSW5pdGlhbGl6ZSByZXNvdXJjZSBvbiBjcmVhdGlvbgogICAgICovCiAgICBzZXREZWZhdWx0VmFsdWVzKCkgewogICAgICBpZiAoIXRoaXMudmFsdWUuc3BlYykgewogICAgICAgIC8vIExpbmsgdG8gVVJMIGlzIHNldCBhcyBkZWZhdWx0IG9wdGlvbiBmcm9tIHRoZSBkYXRhCiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdzcGVjJywgeyB0b1VSTDogJycgfSk7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLnZhbHVlLm1ldGFkYXRhKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdtZXRhZGF0YScsIHt9KTsKICAgICAgfQogICAgICBpZiAoIXRoaXMudmFsdWUuc3BlYy50YXJnZXQpIHsKICAgICAgICB0aGlzLiRzZXQodGhpcy52YWx1ZS5zcGVjLCAndGFyZ2V0JywgTElOS19UQVJHRVRfQkxBTkspOwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiBTZXQgbmFtZXNwYWNlIGFuZCBuYW1lIGZyb20gdGhlIHNlbGVjdGVkIHNlcnZpY2UKICAgICAqIEBwYXJhbSB7bGFiZWw6IHN0cmluZywgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBuYW1lc3BhY2U6IHN0cmluZ30gc2VydmljZQogICAgICovCiAgICBzZXRTZXJ2aWNlKHNlcnZpY2UpIHsKICAgICAgaWYgKHNlcnZpY2UpIHsKICAgICAgICBjb25zdCB7IG5hbWUsIG5hbWVzcGFjZSB9ID0gc2VydmljZTsKCiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYy50b1NlcnZpY2UsICduYW1lJywgbmFtZSk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUuc3BlYy50b1NlcnZpY2UsICduYW1lc3BhY2UnLCBuYW1lc3BhY2UpOwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiBTZXQgcGFpcmVkIHZhbHVlcyBvZiBuYW1lc3BhY2UgYW5kIG5hbWUgZm9yIHRoZSBzZXJ2aWNlCiAgICAgKi8KICAgIHNldEN1cnJlbnRTZXJ2aWNlKCkgewogICAgICBjb25zdCBuYW1lID0gdGhpcy52YWx1ZS5zcGVjLnRvU2VydmljZT8ubmFtZTsKICAgICAgY29uc3QgbmFtZXNwYWNlID0gdGhpcy52YWx1ZS5zcGVjLnRvU2VydmljZT8ubmFtZXNwYWNlOwoKICAgICAgaWYgKG5hbWUgJiYgbmFtZXNwYWNlKSB7CiAgICAgICAgdGhpcy5jdXJyZW50U2VydmljZSA9IGAkeyBuYW1lc3BhY2UgfS8keyBuYW1lIH1gOwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiBHZW5lcmF0ZSBhdXRvbWF0aWNhbGx5IGtlYmFiIGNhc2UgZm9yIHRoZSBkaXNwbGF5ZWQgbGFiZWwKICAgICAqLwogICAgc2V0TmFtZSgpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUubWV0YWRhdGEsICduYW1lJywgbm9ybWFsaXplTmFtZSh0aGlzLnZhbHVlLnNwZWMubGFiZWwpKTsKICAgIH0sCiAgICAvKioKICAgICAqIEdldCBlcnJvciBjaGFpbmVkIHZhbGlkYXRpb24gYmFzZWQgb24gZXhpc3RpbmcgbGFiZWwKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbAogICAgICovCiAgICBnZXRFcnJvcihsYWJlbCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snaTE4bi90J10oJ3ZhbGlkYXRpb24ucmVxdWlyZWQnLCB7IGtleTogdGhpcy50KGxhYmVsKSB9KTsKICAgIH0sCgogICAgc2V0SW1hZ2VFcnJvcihlKSB7CiAgICAgIHRoaXMuaW1hZ2VFcnJvck1lc3NhZ2UgPSBlOwogICAgfSwKICAgIHNldEljb24odmFsdWUpIHsKICAgICAgdGhpcy5pbWFnZUVycm9yTWVzc2FnZSA9ICcnOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmFsdWUuc3BlYy5pY29uU3JjICcsIHZhbHVlKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldERlZmF1bHRWYWx1ZXMoKTsKICAgIHRoaXMuc2V0VXJsVHlwZSgpOwogICAgdGhpcy5zZXRUYXJnZXRPcHRpb24oKTsKICAgIHRoaXMuc2V0Q3VycmVudFNlcnZpY2UoKTsKICB9Cn07Cg=="},{"version":3,"sources":["ui.cattle.io.navlink.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ui.cattle.io.navlink.vue","sourceRoot":"node_modules/@rancher/shell/edit","sourcesContent":["<script>\nimport { isNull, isUndefined } from 'lodash';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { SERVICE } from '@shell/config/types';\nimport { PROTOCOLS } from '@shell/config/schema';\nimport CruResource from '@shell/components/CruResource';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { RadioGroup } from '@components/Form/Radio';\nimport FileImageSelector from '@shell/components/form/FileImageSelector';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { Banner } from '@components/Banner';\nimport FormValidation from '@shell/mixins/form-validation';\nimport { normalizeName } from '@shell/utils/kube';\n\nconst LINK_TYPE_URL = 'url';\nconst LINK_TYPE_SERVICE = 'service';\nconst LINK_TARGET_NAMED = 'LINK_TARGET_NAMED';\nconst LINK_TARGET_BLANK = '_blank';\nconst LINK_TARGET_SELF = '_self';\n\nexport default {\n  mixins:     [CreateEditView, FormValidation],\n  components: {\n    CruResource,\n    LabeledInput,\n    RadioGroup,\n    NameNsDescription,\n    FileImageSelector,\n    LabeledSelect,\n    Banner\n  },\n  data() {\n    return {\n      targetOptions: [\n        {\n          value: LINK_TARGET_BLANK,\n          label: this.t('navLink.tabs.target.option.blank'),\n        },\n        {\n          value: LINK_TARGET_SELF,\n          label: this.t('navLink.tabs.target.option.self'),\n        },\n        {\n          value: LINK_TARGET_NAMED,\n          label: this.t('navLink.tabs.target.option.named'),\n        }\n      ],\n      urlTypeOptions: [\n        {\n          value: LINK_TYPE_URL,\n          label: this.t('navLink.tabs.link.type.url')\n        },\n        {\n          value: LINK_TYPE_SERVICE,\n          label: this.t('navLink.tabs.link.type.service')\n        }\n      ],\n      currentLinkType:   null,\n      targetName:        null,\n      currentTarget:     LINK_TARGET_BLANK,\n      protocolsOptions:  PROTOCOLS,\n      services:          [],\n      currentService:    null,\n      imageErrorMessage: '',\n      fvFormRuleSets:    [\n        { path: 'metadata.name', rules: ['nameRequired'] },\n        { path: 'spec.toURL', rules: ['urlRequired'] },\n        { path: 'spec.toService.namespace', rules: ['serviceNamespaceRequired'] },\n        { path: 'spec.toService.scheme', rules: ['serviceSchemeRequired'] }],\n\n    };\n  },\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n      default:  () => {}\n    },\n    mode: {\n      type:     String,\n      required: true,\n    },\n  },\n  computed: {\n    /**\n     * Identify type of navLink and clear model on value change\n     */\n    linkType: {\n      get() {\n        return this.currentLinkType;\n      },\n      set(type) {\n        switch (type) {\n        case LINK_TYPE_URL:\n          delete this.value.spec.toService;\n          this.$set(this.value.spec, 'toURL', '');\n          break;\n        case LINK_TYPE_SERVICE:\n          delete this.value.spec.toURL;\n          this.$set(this.value.spec, 'toService', {});\n          break;\n        // No default\n        }\n        this.currentLinkType = type;\n      }\n    },\n    isService() {\n      return Boolean(this.value.spec.toService);\n    },\n    isURL() {\n      return !isNull(this.value.spec.toURL) && !isUndefined(this.value.spec.toURL);\n    },\n    isNamedWindow() {\n      return this.currentTarget === LINK_TARGET_NAMED;\n    },\n    mappedServices() {\n      return this.services.map(({ id, metadata: { name, namespace } }) => ({\n        label: id, id, name, namespace\n      }) );\n    },\n    imageError() {\n      return !!this.imageErrorMessage && !this.value.spec.iconSrc;\n    },\n    fvExtraRules() {\n      const isLinkTypeUrl = this.currentLinkType === LINK_TYPE_URL;\n      const isServiceTypeUrl = this.currentLinkType === LINK_TYPE_SERVICE;\n\n      return {\n        nameRequired: () => {\n          if (!this.value.metadata.name) {\n            return this.getError('navLink.name.label');\n          }\n        },\n\n        urlRequired: () => {\n          const condition = this.value.spec.toURL;\n\n          if (isLinkTypeUrl && !condition) {\n            return this.getError('navLink.tabs.link.toURL.label');\n          }\n        },\n        serviceNamespaceRequired: () => {\n          const condition = this.value.spec.toService.name && this.value.spec.toService.namespace;\n\n          if (isServiceTypeUrl && !condition) {\n            return this.getError('navLink.tabs.link.toService.service.label');\n          }\n        },\n        serviceSchemeRequired: () => {\n          const condition = this.value.spec.toService.scheme;\n\n          if (isServiceTypeUrl && !condition) {\n            return this.getError('navLink.tabs.link.toService.scheme.label');\n          }\n        }\n\n      };\n    }\n  },\n  async fetch() {\n    this.services = await this.$store\n      .dispatch('cluster/findAll', { type: SERVICE });\n  },\n  methods: {\n    /**\n     * Set the target of the navLink\n     * It will assign namedWindow value for named target cases\n     * @param {string} value\n     */\n    setTargetValue(value) {\n      switch (value) {\n      case LINK_TARGET_SELF:\n      case LINK_TARGET_BLANK:\n        this.$set(this.value.spec, 'target', value);\n        break;\n      default:\n        this.$set(this.value.spec, 'target', this.targetName);\n        break;\n      }\n    },\n    /**\n     * Identify target option based on value and update UI accordingly\n     * Note: Custom target name is not directly bound to the resource\n     */\n    setTargetOption() {\n      const value = this.value.spec.target;\n\n      switch (value) {\n      case LINK_TARGET_SELF:\n      case LINK_TARGET_BLANK:\n        this.currentTarget = value;\n        break;\n      default:\n        this.currentTarget = LINK_TARGET_NAMED;\n        this.targetName = value;\n        break;\n      }\n    },\n    /**\n     * Set URL type based on existing data\n     */\n    setUrlType() {\n      if (this.isURL) {\n        this.currentLinkType = LINK_TYPE_URL;\n      }\n      if (this.isService) {\n        this.currentLinkType = LINK_TYPE_SERVICE;\n      }\n    },\n    /**\n     * Initialize resource on creation\n     */\n    setDefaultValues() {\n      if (!this.value.spec) {\n        // Link to URL is set as default option from the data\n        this.$set(this.value, 'spec', { toURL: '' });\n      }\n      if (!this.value.metadata) {\n        this.$set(this.value, 'metadata', {});\n      }\n      if (!this.value.spec.target) {\n        this.$set(this.value.spec, 'target', LINK_TARGET_BLANK);\n      }\n    },\n    /**\n     * Set namespace and name from the selected service\n     * @param {label: string, id: string, name: string, namespace: string} service\n     */\n    setService(service) {\n      if (service) {\n        const { name, namespace } = service;\n\n        this.$set(this.value.spec.toService, 'name', name);\n        this.$set(this.value.spec.toService, 'namespace', namespace);\n      }\n    },\n    /**\n     * Set paired values of namespace and name for the service\n     */\n    setCurrentService() {\n      const name = this.value.spec.toService?.name;\n      const namespace = this.value.spec.toService?.namespace;\n\n      if (name && namespace) {\n        this.currentService = `${ namespace }/${ name }`;\n      }\n    },\n    /**\n     * Generate automatically kebab case for the displayed label\n     */\n    setName() {\n      this.$set(this.value.metadata, 'name', normalizeName(this.value.spec.label));\n    },\n    /**\n     * Get error chained validation based on existing label\n     * @param {string} label\n     */\n    getError(label) {\n      return this.$store.getters['i18n/t']('validation.required', { key: this.t(label) });\n    },\n\n    setImageError(e) {\n      this.imageErrorMessage = e;\n    },\n    setIcon(value) {\n      this.imageErrorMessage = '';\n      this.$emit('update:value.spec.iconSrc ', value);\n    }\n  },\n  created() {\n    this.setDefaultValues();\n    this.setUrlType();\n    this.setTargetOption();\n    this.setCurrentService();\n  }\n};\n</script>\n\n<template>\n  <CruResource\n    :can-yaml=\"!isCreate\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :errors=\"fvUnreportedValidationErrors\"\n    :cancel-event=\"true\"\n    :validation-passed=\"fvFormIsValid\"\n    data-testid=\"Navlink-CRU\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done()\"\n  >\n    <NameNsDescription\n      v-model=\"value\"\n      :namespaced=\"false\"\n      :namespace-disabled=\"true\"\n      :mode=\"mode\"\n      name-key=\"metadata.name\"\n      description-key=\"spec.label\"\n      name-label=\"navLink.name.label\"\n      name-placeholder=\"navLink.name.placeholder\"\n      description-label=\"navLink.label.label\"\n      description-placeholder=\"navLink.label.placeholder\"\n      data-testid=\"Navlink-name-field\"\n      :rules=\"{ name: fvGetAndReportPathRules('metadata.name'), namespace: [], description: [] }\"\n    />\n\n    <div class=\"spacer\" />\n    <h2 v-t=\"'navLink.tabs.link.label'\" />\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <RadioGroup\n          v-model=\"linkType\"\n          name=\"type\"\n          :mode=\"mode\"\n          :options=\"urlTypeOptions\"\n          data-testid=\"Navlink-link-radiogroup\"\n        />\n      </div>\n    </div>\n\n    <template v-if=\"isURL\">\n      <div class=\"row mb-20\">\n        <LabeledInput\n          v-model=\"value.spec.toURL\"\n          :mode=\"mode\"\n          :label=\"t('navLink.tabs.link.toURL.label')\"\n          :required=\"isURL\"\n          :placeholder=\"t('navLink.tabs.link.toURL.placeholder')\"\n          :rules=\"fvGetAndReportPathRules('spec.toURL')\"\n          data-testid=\"Navlink-url-field\"\n        />\n      </div>\n    </template>\n    <template v-if=\"isService\">\n      <div class=\"row mb-20\">\n        <div class=\"col span-2\">\n          <LabeledSelect\n            v-model=\"value.spec.toService.scheme\"\n            :mode=\"mode\"\n            :label=\"t('navLink.tabs.link.toService.scheme.label')\"\n            :required=\"isService\"\n            :options=\"protocolsOptions\"\n            :placeholder=\"t('navLink.tabs.link.toService.scheme.placeholder')\"\n            :rules=\"fvGetAndReportPathRules('spec.toService.scheme')\"\n            data-testid=\"Navlink-scheme-field\"\n          />\n        </div>\n        <div class=\"col span-5\">\n          <LabeledSelect\n            v-model=\"currentService\"\n            :mode=\"mode\"\n            :label=\"t('navLink.tabs.link.toService.service.label')\"\n            :options=\"mappedServices\"\n            :required=\"isService\"\n            :placeholder=\"t('navLink.tabs.link.toService.service.placeholder')\"\n            :rules=\"fvGetAndReportPathRules('spec.toService.namespace')\"\n            data-testid=\"Navlink-currentService-field\"\n            @input=\"setService\"\n          />\n        </div>\n        <div class=\"col span-2\">\n          <LabeledInput\n            v-model=\"value.spec.toService.port\"\n            :mode=\"mode\"\n            :label=\"t('navLink.tabs.link.toService.port.label')\"\n            type=\"number\"\n            :placeholder=\"t('navLink.tabs.link.toService.port.placeholder')\"\n          />\n        </div>\n        <div class=\"col span-3\">\n          <LabeledInput\n            v-model=\"value.spec.toService.path\"\n            :mode=\"mode\"\n            :label=\"t('navLink.tabs.link.toService.path.label')\"\n            :placeholder=\"t('navLink.tabs.link.toService.path.placeholder')\"\n          />\n        </div>\n      </div>\n    </template>\n    <div class=\"spacer\" />\n    <h2 v-t=\"'navLink.tabs.target.label'\" />\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <RadioGroup\n          v-model=\"currentTarget\"\n          name=\"type\"\n          :mode=\"mode\"\n          :options=\"targetOptions\"\n          @input=\"setTargetValue($event)\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-if=\"isNamedWindow\"\n          v-model=\"targetName\"\n          :mode=\"mode\"\n          :label=\"t('navLink.tabs.target.namedValue.label')\"\n          @input=\"setTargetValue($event);\"\n        />\n      </div>\n    </div>\n    <div class=\"spacer\" />\n    <h2 v-t=\"'navLink.tabs.group.label'\" />\n\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"value.spec.group\"\n          :mode=\"mode\"\n          :tooltip=\"t('navLink.tabs.group.group.tooltip')\"\n          :label=\"t('navLink.tabs.group.group.label')\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"value.spec.sideLabel\"\n          :mode=\"mode\"\n          :label=\"t('navLink.tabs.group.sideLabel.label')\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row mb-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"value.spec.description\"\n          :mode=\"mode\"\n          :label=\"t('navLink.tabs.group.description.label')\"\n        />\n      </div>\n    </div>\n\n    <h4 v-t=\"'navLink.tabs.groupImage.label'\" />\n    <div class=\"row\">\n      <label class=\"text-label\">\n        {{ t('navLink.tabs.groupImage.iconSrc.tip', {}, true) }}\n      </label>\n    </div>\n    <div class=\"row\">\n      <FileImageSelector\n        v-model=\"value.spec.iconSrc\"\n        :read-as-data-url=\"true\"\n        :mode=\"mode\"\n        :label=\"t('navLink.tabs.groupImage.iconSrc.label')\"\n        accept=\"image/jpeg,image/png,image/svg+xml\"\n        @error=\"setImageError\"\n        @input=\"setIcon\"\n      />\n    </div>\n    <Banner\n      v-if=\"imageError\"\n      color=\"error\"\n    >\n      {{ imageErrorMessage }}\n    </Banner>\n  </CruResource>\n</template>\n"]}]}