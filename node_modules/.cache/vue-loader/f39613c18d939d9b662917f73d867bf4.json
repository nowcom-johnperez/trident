{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDcnVSZXNvdXJjZSBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9DcnVSZXNvdXJjZSc7CgppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IFRhYmJlZCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9UYWJiZWQnOwppbXBvcnQgVGFiIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZC9UYWInOwppbXBvcnQgeyBNT05JVE9SSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgTmFtZU5zRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9OYW1lTnNEZXNjcmlwdGlvbic7CmltcG9ydCB7IEVESVRPUl9NT0RFUyB9IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1lhbWxFZGl0b3InOwppbXBvcnQgeyBSRUNFSVZFUlNfVFlQRVMgfSBmcm9tICdAc2hlbGwvbW9kZWxzL21vbml0b3JpbmcuY29yZW9zLmNvbS5yZWNlaXZlcic7CmltcG9ydCBSb3V0ZUNvbmZpZyBmcm9tICcuL3JvdXRlQ29uZmlnJzsKaW1wb3J0IFJlc291cmNlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VUYWJsZSc7CmltcG9ydCBBY3Rpb25NZW51IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0FjdGlvbk1lbnUnOwppbXBvcnQgeyBfQ1JFQVRFLCBfRURJVCwgX1ZJRVcsIF9DT05GSUcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQWN0aW9uTWVudSwKICAgIENydVJlc291cmNlLAogICAgTG9hZGluZywKICAgIE5hbWVOc0Rlc2NyaXB0aW9uLAogICAgUmVzb3VyY2VUYWJsZSwKICAgIFJvdXRlQ29uZmlnLAogICAgVGFiLAogICAgVGFiYmVkLAogIH0sCgogIG1peGluczogW0NyZWF0ZUVkaXRWaWV3XSwKCiAgYXN5bmMgZmV0Y2goKSB7CiAgICBjb25zdCBpblN0b3JlID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY3VycmVudFByb2R1Y3QnXS5pblN0b3JlOwogICAgY29uc3QgYWxlcnRtYW5hZ2VyQ29uZmlnSWQgPSB0aGlzLnZhbHVlLmlkOwoKICAgIGNvbnN0IGFsZXJ0bWFuYWdlckNvbmZpZ1Jlc291cmNlID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goYCR7IGluU3RvcmUgfS9maW5kYCwgeyB0eXBlOiBNT05JVE9SSU5HLkFMRVJUTUFOQUdFUkNPTkZJRywgaWQ6IGFsZXJ0bWFuYWdlckNvbmZpZ0lkIH0pOwoKICAgIHRoaXMuYWxlcnRtYW5hZ2VyQ29uZmlnSWQgPSBhbGVydG1hbmFnZXJDb25maWdJZDsKICAgIHRoaXMuYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2UgPSBhbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZTsKICAgIHRoaXMuYWxlcnRtYW5hZ2VyQ29uZmlnRGV0YWlsUm91dGUgPSBhbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZS5fZGV0YWlsTG9jYXRpb247CgogICAgY29uc3QgYWxlcnRtYW5hZ2VyQ29uZmlnQWN0aW9ucyA9IGFsZXJ0bWFuYWdlckNvbmZpZ1Jlc291cmNlLmF2YWlsYWJsZUFjdGlvbnM7CiAgICBjb25zdCByZWNlaXZlckFjdGlvbnMgPSBhbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZS5nZXRSZWNlaXZlckFjdGlvbnMoYWxlcnRtYW5hZ2VyQ29uZmlnQWN0aW9ucyk7CgogICAgdGhpcy5yZWNlaXZlckFjdGlvbnMgPSByZWNlaXZlckFjdGlvbnM7CiAgfSwKCiAgZGF0YSgpIHsKICAgIHRoaXMudmFsdWUuYXBwbHlEZWZhdWx0cygpOwoKICAgIGNvbnN0IGRlZmF1bHRSZWNlaXZlclZhbHVlcyA9IHt9OwogICAgY29uc3QgcmVjZWl2ZXJTY2hlbWEgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL3NjaGVtYUZvciddKE1PTklUT1JJTkcuU1BPT0ZFRC5BTEVSVE1BTkFHRVJDT05GSUdfUkVDRUlWRVJfU1BFQyk7CiAgICBjb25zdCByb3V0ZVNjaGVtYSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvc2NoZW1hRm9yJ10oTU9OSVRPUklORy5TUE9PRkVELkFMRVJUTUFOQUdFUkNPTkZJR19ST1VURV9TUEVDKTsKICAgIGNvbnN0IHJlY2VpdmVyT3B0aW9ucyA9ICh0aGlzLnZhbHVlPy5zcGVjPy5yZWNlaXZlcnMgfHwgW10pLm1hcCgocmVjZWl2ZXIpID0+IHJlY2VpdmVyLm5hbWUpOwoKICAgIHJldHVybiB7CiAgICAgIGFjdGlvbk1lbnVUYXJnZXRFbGVtZW50OiAgbnVsbCwKICAgICAgYWN0aW9uTWVudVRhcmdldEV2ZW50OiAgICBudWxsLAogICAgICBjb25maWc6ICAgICAgICAgICAgICAgICAgIF9DT05GSUcsCiAgICAgIGNyZWF0ZTogICAgICAgICAgICAgICAgICAgX0NSRUFURSwKICAgICAgY3JlYXRlUmVjZWl2ZXJMaW5rOiAgICAgICB0aGlzLnZhbHVlLmdldENyZWF0ZVJlY2VpdmVyUm91dGUoKSwKICAgICAgZGVmYXVsdFJlY2VpdmVyVmFsdWVzLAogICAgICByZWNlaXZlckFjdGlvbk1lbnVJc09wZW46IGZhbHNlLAogICAgICByZWNlaXZlclRhYmxlSGVhZGVyczogICAgIFsKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAgICAgICAgICAnbmFtZScsCiAgICAgICAgICBsYWJlbEtleTogICAgICAndGFibGVIZWFkZXJzLm5hbWUnLAogICAgICAgICAgdmFsdWU6ICAgICAgICAgJ25hbWUnLAogICAgICAgICAgc29ydDogICAgICAgICAgWyduYW1lU29ydCddLAogICAgICAgICAgZm9ybWF0dGVyOiAgICAgJ0xpbmtEZXRhaWwnLAogICAgICAgICAgY2FuQmVWYXJpYWJsZTogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICAgICAgICAgICd0eXBlJywKICAgICAgICAgIGxhYmVsS2V5OiAgICAgICd0YWJsZUhlYWRlcnMudHlwZScsCiAgICAgICAgICB2YWx1ZTogICAgICAgICAnbmFtZScsCiAgICAgICAgICBmb3JtYXR0ZXI6ICAgICAnUmVjZWl2ZXJJY29ucycsCiAgICAgICAgICBjYW5CZVZhcmlhYmxlOiB0cnVlLAogICAgICAgIH0KICAgICAgICAvLyBBZGQgbW9yZSBjb2x1bW5zCiAgICAgIF0sCiAgICAgIG5ld1JlY2VpdmVyVHlwZTogICAgICBudWxsLAogICAgICByZWNlaXZlckFjdGlvbnM6ICAgICAgW10sCiAgICAgIHJlY2VpdmVyT3B0aW9ucywKICAgICAgcmVjZWl2ZXJUeXBlczogICAgICAgIFJFQ0VJVkVSU19UWVBFUywKICAgICAgcm91dGVTY2hlbWEsCiAgICAgIHJlY2VpdmVyU2NoZW1hLAogICAgICBzZWxlY3RlZFJlY2VpdmVyTmFtZTogJycsCiAgICAgIHNlbGVjdGVkUm93VmFsdWU6ICAgICBudWxsLAogICAgICB2aWV3OiAgICAgICAgICAgICAgICAgX1ZJRVcsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CgogICAgZWRpdG9yTW9kZSgpIHsKICAgICAgaWYgKCB0aGlzLm1vZGUgPT09IF9WSUVXICkgewogICAgICAgIHJldHVybiBFRElUT1JfTU9ERVMuVklFV19DT0RFOwogICAgICB9CgogICAgICByZXR1cm4gRURJVE9SX01PREVTLkVESVRfQ09ERTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CgogICAgdHJhbnNsYXRlUmVjZWl2ZXJUeXBlcygpIHsKICAgICAgcmV0dXJuIHRoaXMucmVjZWl2ZXJUeXBlcy5tYXAoKHJlY2VpdmVyVHlwZSkgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAuLi5yZWNlaXZlclR5cGUsCiAgICAgICAgICBsYWJlbDogdGhpcy50KHJlY2VpdmVyVHlwZS5sYWJlbCkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBnZXRSZWNlaXZlckRldGFpbExpbmsocmVjZWl2ZXJEYXRhKSB7CiAgICAgIGlmIChyZWNlaXZlckRhdGEgJiYgcmVjZWl2ZXJEYXRhLm5hbWUpIHsKICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5nZXRSZWNlaXZlckRldGFpbExpbmsocmVjZWl2ZXJEYXRhLm5hbWUpOwogICAgICB9CiAgICB9LAoKICAgIHRvZ2dsZVJlY2VpdmVyQWN0aW9uTWVudSgpIHsKICAgICAgdGhpcy5yZWNlaXZlckFjdGlvbk1lbnVJc09wZW4gPSB0cnVlOwogICAgfSwKICAgIHNldEFjdGlvbk1lbnVTdGF0ZShldmVudERhdGEpIHsKICAgICAgLy8gVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIGEgY29udGV4dCBtZW51CiAgICAgIC8vIGZvciBhIHJlY2VpdmVyIGluIHRoZSByZWNlaXZlciBpbiB0aGUgcmVjZWl2ZXIgbGlzdCB2aWV3LgogICAgICAvLyBJdCBzZXRzIHRoZSB0YXJnZXQgZWxlbWVudCBzbyB0aGUgbWVudSBjYW4gb3BlbiB3aGVyZSB0aGUKICAgICAgLy8gdXNlciBjbGlja2VkLgogICAgICBjb25zdCB7IGV2ZW50LCB0YXJnZXRFbGVtZW50IH0gPSBldmVudERhdGE7CgogICAgICAvLyBUYXJnZXRFbGVtZW50IGNvdWxkIGJlIGFuIGFycmF5IG9mIG1vcmUgdGhhbgogICAgICAvLyBvbmUgaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSByZWYgb2YgdGhlIHNhbWUgbmFtZS4KICAgICAgaWYgKGV2ZW50ICYmIHRhcmdldEVsZW1lbnQpIHsKICAgICAgICB0aGlzLmFjdGlvbk1lbnVUYXJnZXRFbGVtZW50ID0gdGFyZ2V0RWxlbWVudDsKICAgICAgICB0aGlzLmFjdGlvbk1lbnVUYXJnZXRFdmVudCA9IGV2ZW50OwoKICAgICAgICAvLyBXZSB0YWtlIHRoZSBzZWxlY3RlZCByZWNlaXZlciBuYW1lIG91dCBvZiB0aGUgdGFyZ2V0CiAgICAgICAgLy8gZWxlbWVudCdzIElEIHRvIGhlbHAgdXMgYnVpbGQgdGhlIFVSTCB0byBsaW5rIHRvCiAgICAgICAgLy8gdGhlIGRldGFpbCBwYWdlIG9mIHRoYXQgcmVjZWl2ZXIuCiAgICAgICAgLy8gV2UgdXNlIGEgcGx1cyBzaWduIGFzIHRoZSBkZWxpbWl0ZXIgdG8gc2VwYXJhdGUgdGhlCiAgICAgICAgLy8gbmFtZSBiZWNhdXNlIHRoZSBwbHVzIGlzIG5vdCBhbiBhbGxvd2VkIGNoYXJhY3RlciBpbgogICAgICAgIC8vIEt1YmVybmV0ZXMgbmFtZXMuCiAgICAgICAgdGhpcy5zZWxlY3RlZFJlY2VpdmVyTmFtZSA9IHRhcmdldEVsZW1lbnQuaWQuc3BsaXQoJysnKS5zbGljZSgyKS5qb2luKCcnKTsKCiAgICAgICAgdGhpcy50b2dnbGVSZWNlaXZlckFjdGlvbk1lbnUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGFjdGlvbiBtZW51IHRhcmdldCBlbGVtZW50LicpOwogICAgICB9CiAgICB9LAogICAgZ29Ub0VkaXQoKSB7CiAgICAgIC8vICdnb1RvRWRpdCcgaXMgdGhlIGV4YWN0IG5hbWUgb2YgYW4gYWN0aW9uIGZvciBBbGVydG1hbmFnZXJDb25maWcKICAgICAgLy8gYW5kIHRoaXMgbWV0aG9kIGV4ZWN1dGVzIHRoZSBhY3Rpb24uCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2UuZ2V0RWRpdFJlY2VpdmVyQ29uZmlnUm91dGUodGhpcy5zZWxlY3RlZFJlY2VpdmVyTmFtZSwgX0VESVQpKTsKICAgIH0sCgogICAgZ29Ub0VkaXRZYW1sKCkgewogICAgICAvLyAnZ29Ub0VkaXRZYW1sJyBpcyB0aGUgZXhhY3QgbmFtZSBvZiBhbiBhY3Rpb24gZm9yIEFsZXJ0bWFuYWdlckNvbmZpZwogICAgICAvLyBhbmQgdGhpcyBtZXRob2QgZXhlY3V0ZXMgdGhlIGFjdGlvbi4KICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy5hbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZS5nZXRFZGl0UmVjZWl2ZXJZYW1sUm91dGUodGhpcy5zZWxlY3RlZFJlY2VpdmVyTmFtZSwgX0VESVQpKTsKICAgIH0sCiAgICBwcm9tcHRSZW1vdmUoKSB7CiAgICAgIC8vICdwcm9tcHRSZW1vdmUnIGlzIHRoZSBleGFjdCBuYW1lIG9mIGFuIGFjdGlvbiBmb3IgQWxlcnRtYW5hZ2VyQ29uZmlnCiAgICAgIC8vIGFuZCB0aGlzIG1ldGhvZCBleGVjdXRlcyB0aGUgYWN0aW9uLgogICAgICAvLyBHZXQgdGhlIG5hbWUgb2YgdGhlIHJlY2VpdmVyIHRvIGRlbGV0ZSBmcm9tIHRoZSBhY3Rpb24gaW5mby4KICAgICAgY29uc3QgbmFtZU9mUmVjZWl2ZXJUb0RlbGV0ZSA9IHRoaXMuc2VsZWN0ZWRSZWNlaXZlck5hbWU7CiAgICAgIC8vIFJlbW92ZSBpdCBmcm9tIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBwYXJlbnQgQWxlcnRtYW5hZ2VyQ29uZmlnCiAgICAgIC8vIHJlc291cmNlLgogICAgICBjb25zdCBleGlzdGluZ1JlY2VpdmVycyA9IHRoaXMuYWxlcnRtYW5hZ2VyQ29uZmlnUmVzb3VyY2Uuc3BlYy5yZWNlaXZlcnMgfHwgW107CiAgICAgIGNvbnN0IHJlY2VpdmVyc01pbnVzRGVsZXRlZEl0ZW0gPSBleGlzdGluZ1JlY2VpdmVycy5maWx0ZXIoKHJlY2VpdmVyKSA9PiB7CiAgICAgICAgcmV0dXJuIHJlY2VpdmVyLm5hbWUgIT09IG5hbWVPZlJlY2VpdmVyVG9EZWxldGU7CiAgICAgIH0pOwoKICAgICAgdGhpcy5hbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZS5zcGVjLnJlY2VpdmVycyA9IHJlY2VpdmVyc01pbnVzRGVsZXRlZEl0ZW07CiAgICAgIC8vIEFmdGVyIHNhdmluZyB0aGUgQWxlcnRtYW5hZ2VyQ29uZmlnLCB0aGUgcmVzb3VyY2UgaGFzIGJlZW4gZGVsZXRlZC4KICAgICAgdGhpcy5hbGVydG1hbmFnZXJDb25maWdSZXNvdXJjZS5zYXZlKC4uLmFyZ3VtZW50cyk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/edit/monitoring.coreos.com.alertmanagerconfig","sourcesContent":["<script>\nimport CruResource from '@shell/components/CruResource';\n\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { MONITORING } from '@shell/config/types';\nimport Loading from '@shell/components/Loading';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { EDITOR_MODES } from '@shell/components/YamlEditor';\nimport { RECEIVERS_TYPES } from '@shell/models/monitoring.coreos.com.receiver';\nimport RouteConfig from './routeConfig';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport ActionMenu from '@shell/components/ActionMenu';\nimport { _CREATE, _EDIT, _VIEW, _CONFIG } from '@shell/config/query-params';\n\nexport default {\n  components: {\n    ActionMenu,\n    CruResource,\n    Loading,\n    NameNsDescription,\n    ResourceTable,\n    RouteConfig,\n    Tab,\n    Tabbed,\n  },\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    const inStore = this.$store.getters['currentProduct'].inStore;\n    const alertmanagerConfigId = this.value.id;\n\n    const alertmanagerConfigResource = await this.$store.dispatch(`${ inStore }/find`, { type: MONITORING.ALERTMANAGERCONFIG, id: alertmanagerConfigId });\n\n    this.alertmanagerConfigId = alertmanagerConfigId;\n    this.alertmanagerConfigResource = alertmanagerConfigResource;\n    this.alertmanagerConfigDetailRoute = alertmanagerConfigResource._detailLocation;\n\n    const alertmanagerConfigActions = alertmanagerConfigResource.availableActions;\n    const receiverActions = alertmanagerConfigResource.getReceiverActions(alertmanagerConfigActions);\n\n    this.receiverActions = receiverActions;\n  },\n\n  data() {\n    this.value.applyDefaults();\n\n    const defaultReceiverValues = {};\n    const receiverSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SPOOFED.ALERTMANAGERCONFIG_RECEIVER_SPEC);\n    const routeSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SPOOFED.ALERTMANAGERCONFIG_ROUTE_SPEC);\n    const receiverOptions = (this.value?.spec?.receivers || []).map((receiver) => receiver.name);\n\n    return {\n      actionMenuTargetElement:  null,\n      actionMenuTargetEvent:    null,\n      config:                   _CONFIG,\n      create:                   _CREATE,\n      createReceiverLink:       this.value.getCreateReceiverRoute(),\n      defaultReceiverValues,\n      receiverActionMenuIsOpen: false,\n      receiverTableHeaders:     [\n        {\n          name:          'name',\n          labelKey:      'tableHeaders.name',\n          value:         'name',\n          sort:          ['nameSort'],\n          formatter:     'LinkDetail',\n          canBeVariable: true,\n        },\n        {\n          name:          'type',\n          labelKey:      'tableHeaders.type',\n          value:         'name',\n          formatter:     'ReceiverIcons',\n          canBeVariable: true,\n        }\n        // Add more columns\n      ],\n      newReceiverType:      null,\n      receiverActions:      [],\n      receiverOptions,\n      receiverTypes:        RECEIVERS_TYPES,\n      routeSchema,\n      receiverSchema,\n      selectedReceiverName: '',\n      selectedRowValue:     null,\n      view:                 _VIEW,\n    };\n  },\n\n  computed: {\n\n    editorMode() {\n      if ( this.mode === _VIEW ) {\n        return EDITOR_MODES.VIEW_CODE;\n      }\n\n      return EDITOR_MODES.EDIT_CODE;\n    },\n  },\n  methods: {\n\n    translateReceiverTypes() {\n      return this.receiverTypes.map((receiverType) => {\n        return {\n          ...receiverType,\n          label: this.t(receiverType.label)\n        };\n      });\n    },\n    getReceiverDetailLink(receiverData) {\n      if (receiverData && receiverData.name) {\n        return this.value.getReceiverDetailLink(receiverData.name);\n      }\n    },\n\n    toggleReceiverActionMenu() {\n      this.receiverActionMenuIsOpen = true;\n    },\n    setActionMenuState(eventData) {\n      // This method is called when the user clicks a context menu\n      // for a receiver in the receiver in the receiver list view.\n      // It sets the target element so the menu can open where the\n      // user clicked.\n      const { event, targetElement } = eventData;\n\n      // TargetElement could be an array of more than\n      // one if there is more than one ref of the same name.\n      if (event && targetElement) {\n        this.actionMenuTargetElement = targetElement;\n        this.actionMenuTargetEvent = event;\n\n        // We take the selected receiver name out of the target\n        // element's ID to help us build the URL to link to\n        // the detail page of that receiver.\n        // We use a plus sign as the delimiter to separate the\n        // name because the plus is not an allowed character in\n        // Kubernetes names.\n        this.selectedReceiverName = targetElement.id.split('+').slice(2).join('');\n\n        this.toggleReceiverActionMenu();\n      } else {\n        throw new Error('Could not find action menu target element.');\n      }\n    },\n    goToEdit() {\n      // 'goToEdit' is the exact name of an action for AlertmanagerConfig\n      // and this method executes the action.\n      this.$router.push(this.alertmanagerConfigResource.getEditReceiverConfigRoute(this.selectedReceiverName, _EDIT));\n    },\n\n    goToEditYaml() {\n      // 'goToEditYaml' is the exact name of an action for AlertmanagerConfig\n      // and this method executes the action.\n      this.$router.push(this.alertmanagerConfigResource.getEditReceiverYamlRoute(this.selectedReceiverName, _EDIT));\n    },\n    promptRemove() {\n      // 'promptRemove' is the exact name of an action for AlertmanagerConfig\n      // and this method executes the action.\n      // Get the name of the receiver to delete from the action info.\n      const nameOfReceiverToDelete = this.selectedReceiverName;\n      // Remove it from the configuration of the parent AlertmanagerConfig\n      // resource.\n      const existingReceivers = this.alertmanagerConfigResource.spec.receivers || [];\n      const receiversMinusDeletedItem = existingReceivers.filter((receiver) => {\n        return receiver.name !== nameOfReceiverToDelete;\n      });\n\n      this.alertmanagerConfigResource.spec.receivers = receiversMinusDeletedItem;\n      // After saving the AlertmanagerConfig, the resource has been deleted.\n      this.alertmanagerConfigResource.save(...arguments);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <CruResource\n    v-else\n    class=\"route\"\n    :done-route=\"doneRoute\"\n    :errors=\"errors\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :cancel-event=\"true\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      v-model=\"value\"\n      :mode=\"mode\"\n      :namespaced=\"isNamespaced\"\n    />\n\n    <Tabbed>\n      <Tab\n        :label=\"t('monitoring.route.label')\"\n        :weight=\"1\"\n        name=\"route\"\n      >\n        <RouteConfig\n          :value=\"value.spec.route\"\n          :mode=\"mode\"\n          :receiver-options=\"receiverOptions\"\n        />\n      </Tab>\n      <Tab\n        :label=\"t('alertmanagerConfigReceiver.receivers')\"\n        :weight=\"2\"\n        name=\"receivers\"\n      >\n        <ResourceTable\n          :headers=\"receiverTableHeaders\"\n          :schema=\"receiverSchema\"\n          :rows=\"value.spec.receivers || []\"\n          :get-custom-detail-link=\"getReceiverDetailLink\"\n          :table-actions=\"false\"\n          :custom-actions=\"value.receiverActions\"\n          @clickedActionButton=\"setActionMenuState\"\n        >\n          <template #header-button>\n            <nuxt-link\n              v-if=\"createReceiverLink && createReceiverLink.name\"\n              :to=\"mode !== create ? createReceiverLink : {}\"\n            >\n              <button\n                class=\"btn role-primary\"\n                :disabled=\"mode === create\"\n                :tooltip=\"t('monitoring.alertmanagerConfig.disabledReceiverButton')\"\n              >\n                {{ t('monitoring.receiver.addReceiver') }}\n                <i\n                  v-if=\"mode === create\"\n                  v-clean-tooltip=\"t('monitoring.alertmanagerConfig.disabledReceiverButton')\"\n                  class=\"icon icon-info\"\n                />\n              </button>\n            </nuxt-link>\n          </template>\n        </ResourceTable>\n      </Tab>\n    </Tabbed>\n    <ActionMenu\n      :custom-actions=\"receiverActions\"\n      :open=\"receiverActionMenuIsOpen\"\n      :use-custom-target-element=\"true\"\n      :custom-target-element=\"actionMenuTargetElement\"\n      :custom-target-event=\"actionMenuTargetEvent\"\n      @close=\"receiverActionMenuIsOpen = false\"\n      @goToEdit=\"goToEdit\"\n      @goToEditYaml=\"goToEditYaml\"\n      @promptRemove=\"promptRemove\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n  h3 {\n    margin-top: 2em;\n  }\n  input {\n    margin-top: 1em;\n  }\n  .route {\n    &[real-mode=view] .label {\n      color: var(--input-label);\n    }\n  }\n  button {\n    margin-left: 0.5em;\n  }\n  a:hover {\n      text-decoration: none;\n  }\n</style>\n"]}]}