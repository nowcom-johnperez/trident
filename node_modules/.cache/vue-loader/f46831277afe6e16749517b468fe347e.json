{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgVGFiYmVkIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1RhYmJlZCc7CmltcG9ydCBUYWIgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkL1RhYic7CmltcG9ydCBUeXBlRGVzY3JpcHRpb24gZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVHlwZURlc2NyaXB0aW9uJzsKCmltcG9ydCBSZXNvdXJjZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1Jlc291cmNlVGFibGUnOwppbXBvcnQgeyBNT05JVE9SSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nLCBUYWJiZWQsIFRhYiwgUmVzb3VyY2VUYWJsZSwgVHlwZURlc2NyaXB0aW9uCiAgfSwKCiAgYXN5bmMgZmV0Y2goKSB7CiAgICB0aGlzLnBvZE1vbml0b3JTY2hlbWEgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjbHVzdGVyL3NjaGVtYUZvciddKE1PTklUT1JJTkcuUE9ETU9OSVRPUik7CiAgICB0aGlzLnNlcnZpY2VNb25pdG9yU2NoZW1hID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXShNT05JVE9SSU5HLlNFUlZJQ0VNT05JVE9SKTsKCiAgICBjb25zdCBoYXNoID0gYXdhaXQgYWxsSGFzaCggewogICAgICBwb2RNb25pdG9yczogICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7IHR5cGU6IE1PTklUT1JJTkcuUE9ETU9OSVRPUiB9ICksCiAgICAgIHNlcnZpY2VNb25pdG9yczogdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZEFsbCcsIHsgdHlwZTogTU9OSVRPUklORy5TRVJWSUNFTU9OSVRPUiB9ICkKICAgIH0pOwoKICAgIHRoaXMucG9kTW9uaXRvcnMgPSBoYXNoLnBvZE1vbml0b3JzOwogICAgdGhpcy5zZXJ2aWNlTW9uaXRvcnMgPSBoYXNoLnNlcnZpY2VNb25pdG9yczsKICB9LAoKICBkYXRhKCkgewogICAgY29uc3QgaW5pdFRhYiA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnJlc291cmNlIHx8IE1PTklUT1JJTkcuU1BPT0ZFRC5QT0RNT05JVE9SOwoKICAgIHJldHVybiB7CiAgICAgIHBvZE1vbml0b3JzOiBbXSwgc2VydmljZU1vbml0b3JzOiBbXSwgcG9kTW9uaXRvclNjaGVtYTogbnVsbCwgc2VydmljZU1vbml0b3JTY2hlbWE6IG51bGwsIGluaXRUYWIKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGNyZWF0ZVJvdXRlKCkgewogICAgICBjb25zdCBhY3RpdmVSZXNvdXJjZSA9IHRoaXMuJHJlZnM/LnRhYnM/LmFjdGl2ZVRhYk5hbWUgfHwgdGhpcy5yb3V0ZVNjaGVtYS5pZDsKCiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogICAnYy1jbHVzdGVyLW1vbml0b3JpbmctbW9uaXRvci1jcmVhdGUnLAogICAgICAgIHBhcmFtczogeyBjbHVzdGVyOiB0aGlzLiRyb3V0ZS5wYXJhbXMuY2x1c3RlciB9LAogICAgICAgIHF1ZXJ5OiAgeyByZXNvdXJjZTogYWN0aXZlUmVzb3VyY2UgfQogICAgICB9OwogICAgfSwKICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/pages/c/_cluster/monitoring/monitor","sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport TypeDescription from '@shell/components/TypeDescription';\n\nimport ResourceTable from '@shell/components/ResourceTable';\nimport { MONITORING } from '@shell/config/types';\nimport { allHash } from '@shell/utils/promise';\nexport default {\n  components: {\n    Loading, Tabbed, Tab, ResourceTable, TypeDescription\n  },\n\n  async fetch() {\n    this.podMonitorSchema = this.$store.getters['cluster/schemaFor'](MONITORING.PODMONITOR);\n    this.serviceMonitorSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SERVICEMONITOR);\n\n    const hash = await allHash( {\n      podMonitors:     this.$store.dispatch('cluster/findAll', { type: MONITORING.PODMONITOR } ),\n      serviceMonitors: this.$store.dispatch('cluster/findAll', { type: MONITORING.SERVICEMONITOR } )\n    });\n\n    this.podMonitors = hash.podMonitors;\n    this.serviceMonitors = hash.serviceMonitors;\n  },\n\n  data() {\n    const initTab = this.$route.query.resource || MONITORING.SPOOFED.PODMONITOR;\n\n    return {\n      podMonitors: [], serviceMonitors: [], podMonitorSchema: null, serviceMonitorSchema: null, initTab\n    };\n  },\n\n  computed: {\n    createRoute() {\n      const activeResource = this.$refs?.tabs?.activeTabName || this.routeSchema.id;\n\n      return {\n        name:   'c-cluster-monitoring-monitor-create',\n        params: { cluster: this.$route.params.cluster },\n        query:  { resource: activeResource }\n      };\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"row header mb-40\">\n      <h1>  {{ t('monitoring.monitors') }}</h1>\n      <div>\n        <button\n          class=\"btn btn-lg role-primary float right\"\n          @click=\"$router.push(createRoute)\"\n        >\n          {{ t('resourceList.head.createFromYaml') }}\n        </button>\n      </div>\n    </div>\n    <Tabbed\n      ref=\"tabs\"\n      :default-tab=\"initTab\"\n    >\n      <Tab\n        :name=\"podMonitorSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](podMonitorSchema, 2)\"\n      >\n        <TypeDescription :resource=\"podMonitorSchema.id\" />\n        <ResourceTable\n          :schema=\"podMonitorSchema\"\n          :rows=\"podMonitors\"\n        />\n      </Tab>\n      <Tab\n        :name=\"serviceMonitorSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](serviceMonitorSchema, 2)\"\n      >\n        <TypeDescription :resource=\"serviceMonitorSchema.id\" />\n        <ResourceTable\n          :schema=\"serviceMonitorSchema\"\n          :rows=\"serviceMonitors\"\n        />\n      </Tab>\n    </Tabbed>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.header{\n  display: flex;\n  H1{\n    flex: 1;\n  }\n}\n</style>\n"]}]}