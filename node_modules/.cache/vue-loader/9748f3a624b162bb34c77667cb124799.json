{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/rancher-components/Form/TextArea/TextAreaAutoGrow.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/rancher-components/Form/TextArea/TextAreaAutoGrow.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/ts-loader/index.js","mtime":1716430466133},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7CmltcG9ydCB7IF9FRElULCBfVklFVyB9IGZyb20gJ0BzaGVsbC9jb25maWcvcXVlcnktcGFyYW1zJzsKCmRlY2xhcmUgbW9kdWxlICd2dWUvdHlwZXMvdnVlJyB7CiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi8KICBpbnRlcmZhY2UgVnVlIHsKICAgIHF1ZXVlUmVzaXplKCk6IHZvaWQ7CiAgfQp9CgpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBpbmhlcml0QXR0cnM6IGZhbHNlLAoKICBwcm9wczogewogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBlZGl0IG1vZGUgZm9yIFRleHQgQXJlYS4KICAgICAqIEB2YWx1ZXMgX0VESVQsIF9WSUVXCiAgICAgKi8KICAgIG1vZGU6IHsKICAgICAgdHlwZTogICAgU3RyaW5nLAogICAgICBkZWZhdWx0OiBfRURJVAogICAgfSwKCiAgICAvKioKICAgICAqIFNldHMgdGhlIE1pbmltdW0gaGVpZ2h0IGZvciBUZXh0IEFyZWEuIFByZXZlbnRzIHRoZSBoZWlnaHQgZnJvbSBiZWNvbWluZwogICAgICogc21hbGxlciB0aGFuIHRoZSB2YWx1ZSBzcGVjaWZpZWQgaW4gbWluSGVpZ2h0LgogICAgICovCiAgICBtaW5IZWlnaHQ6IHsKICAgICAgdHlwZTogICAgTnVtYmVyLAogICAgICBkZWZhdWx0OiAyNQogICAgfSwKCiAgICAvKioKICAgICAqIFNldHMgdGhlIG1heGltdW0gaGVpZ2h0IGZvciBUZXh0IEFyZWEuIFByZXZlbnRzIHRoZSBoZWlnaHQgZnJvbSBiZWNvbWluZwogICAgICogbGFyZ2VyIHRoYW4gdGhlIHZhbHVlIHNwZWNpZmllZCBpbiBtYXhIZWlnaHQuCiAgICAgKi8KICAgIG1heEhlaWdodDogewogICAgICB0eXBlOiAgICBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwMAogICAgfSwKCiAgICAvKioKICAgICAqIFRleHQgdGhhdCBhcHBlYXJzIGluIHRoZSBUZXh0IEFyZWEgd2hlbiBpdCBoYXMgbm8gdmFsdWUgc2V0LgogICAgICovCiAgICBwbGFjZWhvbGRlcjogewogICAgICB0eXBlOiAgICBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAoKICAgIC8qKgogICAgICogU3BlY2lmaWVzIHdoZXRoZXIgVGV4dCBBcmVhIGlzIHN1YmplY3QgdG8gc3BlbGwgY2hlY2tpbmcgYnkgdGhlCiAgICAgKiB1bmRlcmx5aW5nIGJyb3dzZXIvT1MuCiAgICAgKi8KICAgIHNwZWxsY2hlY2s6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKCiAgICAvKioKICAgICAqIERpc2FibGVzIHRoZSBUZXh0IEFyZWEuCiAgICAgKi8KICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6ICAgIEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1ckhlaWdodDogdGhpcy5taW5IZWlnaHQsCiAgICAgIG92ZXJmbG93OiAgJ2hpZGRlbicKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC8qKgogICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgVGV4dCBBcmVhIHNob3VsZCBiZSBkaXNhYmxlZC4KICAgICAqLwogICAgaXNEaXNhYmxlZCgpOiBib29sZWFuIHsKICAgICAgcmV0dXJuIHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5tb2RlID09PSBfVklFVzsKICAgIH0sCgogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBoZWlnaHQgdG8gb25lLWxpbmUgZm9yIFNTUiBwYWdlbG9hZCBzbyB0aGF0IGl0J3MgYWxyZWFkeSByaWdodAogICAgICogKHVubGVzcyB0aGUgaW5wdXQgaXMgbG9uZykKICAgICAqLwogICAgc3R5bGUoKTogc3RyaW5nIHsKICAgICAgcmV0dXJuIGBoZWlnaHQ6ICR7IHRoaXMuY3VySGVpZ2h0IH1weDsgb3ZlcmZsb3c6ICR7IHRoaXMub3ZlcmZsb3cgfTtgOwogICAgfQogIH0sCgogIHdhdGNoOiB7CiAgICAkYXR0cnM6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcigpIHsKICAgICAgICB0aGlzLnF1ZXVlUmVzaXplKCk7CiAgICAgIH0KICAgIH0KICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IGRlYm91bmNlKHRoaXMuYXV0b1NpemUsIDEwMCk7CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgICh0aGlzLiRyZWZzLnRhIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5oZWlnaHQgPSBgJHsgdGhpcy5jdXJIZWlnaHQgfXB4YDsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgdGhpcy5hdXRvU2l6ZSgpOwogICAgfSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiBFbWl0cyB0aGUgaW5wdXQgZXZlbnQgYW5kIHJlc2l6ZXMgdGhlIFRleHQgQXJlYS4KICAgICovCiAgICBvbklucHV0KHZhbDogc3RyaW5nKTogdm9pZCB7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsKTsKICAgICAgdGhpcy5xdWV1ZVJlc2l6ZSgpOwogICAgfSwKCiAgICAvKioKICAgICAqIEdpdmVzIGZvY3VzIHRvIHRoZSBUZXh0IEFyZWEuCiAgICAgKi8KICAgIGZvY3VzKCk6IHZvaWQgewogICAgICAodGhpcy4kcmVmcz8udGEgYXMgSFRNTEVsZW1lbnQpLmZvY3VzKCk7CiAgICB9LAoKICAgIC8qKgogICAgICogU2V0cyB0aGUgb3ZlcmZsb3dZIGFuZCBoZWlnaHQgb2YgdGhlIFRleHQgQXJlYSBiYXNlZCBvbiB0aGUgY29udGVudAogICAgICogZW50ZXJlZCAoY2FsY3VsYXRlZCB2aWEgc2Nyb2xsIGhlaWdodCkuCiAgICAgKi8KICAgIGF1dG9TaXplKCk6IHZvaWQgewogICAgICBjb25zdCBlbCA9IHRoaXMuJHJlZnMudGEgYXMgSFRNTEVsZW1lbnQ7CgogICAgICBpZiAoIWVsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBlbC5zdHlsZS5oZWlnaHQgPSAnMXB4JzsKCiAgICAgIGNvbnN0IGJvcmRlciA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlclRvcFdpZHRoJyksIDEwKSB8fCAwICsgcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyQm90dG9tV2lkdGgnKSwgMTApIHx8IDA7CiAgICAgIGNvbnN0IG5ldSA9IE1hdGgubWF4KHRoaXMubWluSGVpZ2h0LCBNYXRoLm1pbihlbC5zY3JvbGxIZWlnaHQgKyBib3JkZXIsIHRoaXMubWF4SGVpZ2h0KSk7CgogICAgICBlbC5zdHlsZS5vdmVyZmxvd1kgPSBlbC5zY3JvbGxIZWlnaHQgPiBuZXUgPyAnYXV0bycgOiAnaGlkZGVuJzsKICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gYCR7IG5ldSB9cHhgOwoKICAgICAgdGhpcy5jdXJIZWlnaHQgPSBuZXU7CiAgICB9CiAgfQp9KTsK"},{"version":3,"sources":["TextAreaAutoGrow.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"TextAreaAutoGrow.vue","sourceRoot":"node_modules/@rancher/shell/rancher-components/Form/TextArea","sourcesContent":["<script lang=\"ts\">\nimport Vue from 'vue';\nimport debounce from 'lodash/debounce';\nimport { _EDIT, _VIEW } from '@shell/config/query-params';\n\ndeclare module 'vue/types/vue' {\n  /* eslint-disable no-unused-vars */\n  interface Vue {\n    queueResize(): void;\n  }\n}\n\nexport default Vue.extend({\n  inheritAttrs: false,\n\n  props: {\n    /**\n     * Sets the edit mode for Text Area.\n     * @values _EDIT, _VIEW\n     */\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    /**\n     * Sets the Minimum height for Text Area. Prevents the height from becoming\n     * smaller than the value specified in minHeight.\n     */\n    minHeight: {\n      type:    Number,\n      default: 25\n    },\n\n    /**\n     * Sets the maximum height for Text Area. Prevents the height from becoming\n     * larger than the value specified in maxHeight.\n     */\n    maxHeight: {\n      type:    Number,\n      default: 200\n    },\n\n    /**\n     * Text that appears in the Text Area when it has no value set.\n     */\n    placeholder: {\n      type:    String,\n      default: ''\n    },\n\n    /**\n     * Specifies whether Text Area is subject to spell checking by the\n     * underlying browser/OS.\n     */\n    spellcheck: {\n      type:    Boolean,\n      default: true\n    },\n\n    /**\n     * Disables the Text Area.\n     */\n    disabled: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      curHeight: this.minHeight,\n      overflow:  'hidden'\n    };\n  },\n\n  computed: {\n    /**\n     * Determines if the Text Area should be disabled.\n     */\n    isDisabled(): boolean {\n      return this.disabled || this.mode === _VIEW;\n    },\n\n    /**\n     * Sets the height to one-line for SSR pageload so that it's already right\n     * (unless the input is long)\n     */\n    style(): string {\n      return `height: ${ this.curHeight }px; overflow: ${ this.overflow };`;\n    }\n  },\n\n  watch: {\n    $attrs: {\n      deep: true,\n      handler() {\n        this.queueResize();\n      }\n    }\n  },\n\n  created() {\n    this.queueResize = debounce(this.autoSize, 100);\n  },\n\n  mounted() {\n    (this.$refs.ta as HTMLElement).style.height = `${ this.curHeight }px`;\n    this.$nextTick(() => {\n      this.autoSize();\n    });\n  },\n\n  methods: {\n    /**\n     * Emits the input event and resizes the Text Area.\n    */\n    onInput(val: string): void {\n      this.$emit('input', val);\n      this.queueResize();\n    },\n\n    /**\n     * Gives focus to the Text Area.\n     */\n    focus(): void {\n      (this.$refs?.ta as HTMLElement).focus();\n    },\n\n    /**\n     * Sets the overflowY and height of the Text Area based on the content\n     * entered (calculated via scroll height).\n     */\n    autoSize(): void {\n      const el = this.$refs.ta as HTMLElement;\n\n      if (!el) {\n        return;\n      }\n\n      el.style.height = '1px';\n\n      const border = parseInt(getComputedStyle(el).getPropertyValue('borderTopWidth'), 10) || 0 + parseInt(getComputedStyle(el).getPropertyValue('borderBottomWidth'), 10) || 0;\n      const neu = Math.max(this.minHeight, Math.min(el.scrollHeight + border, this.maxHeight));\n\n      el.style.overflowY = el.scrollHeight > neu ? 'auto' : 'hidden';\n      el.style.height = `${ neu }px`;\n\n      this.curHeight = neu;\n    }\n  }\n});\n</script>\n\n<template>\n  <textarea\n    ref=\"ta\"\n    data-testid=\"text-area-auto-grow\"\n    :disabled=\"isDisabled\"\n    :style=\"style\"\n    :placeholder=\"placeholder\"\n    class=\"no-resize no-ease\"\n    v-bind=\"$attrs\"\n    :spellcheck=\"spellcheck\"\n    @paste=\"$emit('paste', $event)\"\n    @input=\"onInput($event.target.value)\"\n    @focus=\"$emit('focus', $event)\"\n    @blur=\"$emit('blur', $event)\"\n  />\n</template>\n"]}]}