{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/fleet.cattle.io.cluster.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/fleet.cattle.io.cluster.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgQ3J1UmVzb3VyY2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ3J1UmVzb3VyY2UnOwppbXBvcnQgTGFiZWxzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxzJzsKaW1wb3J0IExvYWRpbmcgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvTG9hZGluZyc7CmltcG9ydCBOYW1lTnNEZXNjcmlwdGlvbiBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL05hbWVOc0Rlc2NyaXB0aW9uJzsKaW1wb3J0IHsgX1ZJRVcgfSBmcm9tICdAc2hlbGwvY29uZmlnL3F1ZXJ5LXBhcmFtcyc7CmltcG9ydCB7IE5PUk1BTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwppbXBvcnQgeyBGTEVFVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ3J1RmxlZXRDbHVzdGVyJywKCiAgY29tcG9uZW50czogewogICAgQ3J1UmVzb3VyY2UsCiAgICBMYWJlbHMsCiAgICBMb2FkaW5nLAogICAgTmFtZU5zRGVzY3JpcHRpb24sCiAgfSwKCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAoKICBwcm9wczogewogICAgbW9kZTogewogICAgICB0eXBlOiAgICAgU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgfSwKCiAgYXN5bmMgZmV0Y2goKSB7CiAgICBjb25zdCBub3JtYW4gPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgncmFuY2hlci9maW5kJywgeyB0eXBlOiBOT1JNQU4uQ0xVU1RFUiwgaWQ6IHRoaXMudmFsdWUubWV0YWRhdGEubGFiZWxzW0ZMRUVULkNMVVNURVJfTkFNRV0gfSk7CiAgICBjb25zdCBuYyA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKGByYW5jaGVyL2Nsb25lYCwgeyByZXNvdXJjZTogbm9ybWFuIH0pOwoKICAgIGlmICggIW5jLm1ldGFkYXRhICkgewogICAgICBuYy5tZXRhZGF0YSA9IHt9OwogICAgfQoKICAgIHRoaXMubm9ybWFuQ2x1c3RlciA9IG5jOwogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4geyBub3JtYW5DbHVzdGVyOiBudWxsIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGlzVmlldygpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gX1ZJRVc7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgc2F2ZShidXR0b25Eb25lKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgdGhpcy52YWx1ZS5zYXZlKCk7CgogICAgICAgIGF3YWl0IHRoaXMubm9ybWFuQ2x1c3Rlci5zYXZlKCk7CgogICAgICAgIHRoaXMuZG9uZSgpOwogICAgICAgIGJ1dHRvbkRvbmUodHJ1ZSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBidXR0b25Eb25lKGZhbHNlKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["fleet.cattle.io.cluster.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"fleet.cattle.io.cluster.vue","sourceRoot":"node_modules/@rancher/shell/edit","sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource';\nimport Labels from '@shell/components/form/Labels';\nimport Loading from '@shell/components/Loading';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { _VIEW } from '@shell/config/query-params';\nimport { NORMAN } from '@shell/config/types';\nimport { FLEET } from '@shell/config/labels-annotations';\n\nexport default {\n  name: 'CruFleetCluster',\n\n  components: {\n    CruResource,\n    Labels,\n    Loading,\n    NameNsDescription,\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n  },\n\n  async fetch() {\n    const norman = await this.$store.dispatch('rancher/find', { type: NORMAN.CLUSTER, id: this.value.metadata.labels[FLEET.CLUSTER_NAME] });\n    const nc = await this.$store.dispatch(`rancher/clone`, { resource: norman });\n\n    if ( !nc.metadata ) {\n      nc.metadata = {};\n    }\n\n    this.normanCluster = nc;\n  },\n\n  data() {\n    return { normanCluster: null };\n  },\n\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    }\n  },\n\n  methods: {\n    async save(buttonDone) {\n      try {\n        await this.value.save();\n\n        await this.normanCluster.save();\n\n        this.done();\n        buttonDone(true);\n      } catch (e) {\n        buttonDone(false);\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <CruResource\n    v-else\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :validation-passed=\"true\"\n    :errors=\"errors\"\n    @error=\"e=>errors = e\"\n    @finish=\"save\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      v-model=\"value\"\n      :mode=\"mode\"\n      :namespaced=\"isNamespaced\"\n    />\n\n    <hr class=\"mt-20 mb-20\">\n\n    <Labels\n      default-section-class=\"mt-20\"\n      :value=\"normanCluster\"\n      :mode=\"mode\"\n      :display-side-by-side=\"false\"\n      :label-title-tooltip=\"t('labels.labels.fleetClusterTooltip')\"\n    />\n  </CruResource>\n</template>\n"]}]}