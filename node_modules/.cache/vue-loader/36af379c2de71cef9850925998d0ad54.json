{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/LifecycleHooks.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/components/form/LifecycleHooks.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKCmltcG9ydCBIb29rT3B0aW9uIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vSG9va09wdGlvbic7CmltcG9ydCB7IF9WSUVXIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy9xdWVyeS1wYXJhbXMnOwppbXBvcnQgeyBpc0VtcHR5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL29iamVjdCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBIb29rT3B0aW9uIH0sCgogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICAvLyBjb250YWluZXIgc3BlYwogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogIH0sCgogIGRhdGEoKSB7CiAgICBjb25zdCB7IHBvc3RTdGFydCwgcHJlU3RvcCB9ID0gdGhpcy52YWx1ZTsKCiAgICByZXR1cm4gewogICAgICBwb3N0U3RhcnQsIHByZVN0b3AsIGhvb2tPcHRpb25zOiBbJ3Bvc3RTdGFydCcsICdwcmVTdG9wJ10KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGlzVmlldygpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gX1ZJRVc7CiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZSgpIHsKICAgICAgY29uc3Qgb3V0ID0gewogICAgICAgIHBvc3RTdGFydDogdGhpcy5wb3N0U3RhcnQsCiAgICAgICAgcHJlU3RvcDogICB0aGlzLnByZVN0b3AKICAgICAgfTsKCiAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBvdXQpIHsKICAgICAgICBjb25zdCB2YWwgPSBvdXRbcHJvcF07CgogICAgICAgIGlmICh2YWwgPT09ICcnIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnIHx8IHZhbCA9PT0gbnVsbCB8fCBpc0VtcHR5KHZhbCkpIHsKICAgICAgICAgIFZ1ZS5kZWxldGUodGhpcy52YWx1ZSwgcHJvcCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFZ1ZS5zZXQodGhpcy52YWx1ZSwgcHJvcCwgdmFsKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy52YWx1ZSk7CiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["LifecycleHooks.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"LifecycleHooks.vue","sourceRoot":"node_modules/@rancher/shell/components/form","sourcesContent":["<script>\nimport Vue from 'vue';\n\nimport HookOption from '@shell/components/form/HookOption';\nimport { _VIEW } from '@shell/config/query-params';\nimport { isEmpty } from '@shell/utils/object';\n\nexport default {\n  components: { HookOption },\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    // container spec\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n  },\n\n  data() {\n    const { postStart, preStop } = this.value;\n\n    return {\n      postStart, preStop, hookOptions: ['postStart', 'preStop']\n    };\n  },\n\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    },\n  },\n\n  methods: {\n    update() {\n      const out = {\n        postStart: this.postStart,\n        preStop:   this.preStop\n      };\n\n      for (const prop in out) {\n        const val = out[prop];\n\n        if (val === '' || typeof val === 'undefined' || val === null || isEmpty(val)) {\n          Vue.delete(this.value, prop);\n        } else {\n          Vue.set(this.value, prop, val);\n        }\n      }\n\n      this.$emit('input', this.value);\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"mb-20\">\n      <h3 class=\"clearfix\">\n        {{ t('workload.container.lifecycleHook.postStart.label') }}\n      </h3>\n      <HookOption\n        v-model=\"postStart\"\n        :mode=\"mode\"\n        @input=\"update\"\n      />\n    </div>\n\n    <div>\n      <h3 class=\"clearfix\">\n        {{ t('workload.container.lifecycleHook.preStop.label') }}\n      </h3>\n      <HookOption\n        v-model=\"preStop\"\n        :mode=\"mode\"\n        @input=\"update\"\n      />\n    </div>\n  </div>\n</template>\n"]}]}