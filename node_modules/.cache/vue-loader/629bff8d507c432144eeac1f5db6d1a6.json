{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/S3Config.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster/S3Config.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9DaGVja2JveCc7CmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsKaW1wb3J0IFNlbGVjdE9yQ3JlYXRlQXV0aFNlY3JldCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL1NlbGVjdE9yQ3JlYXRlQXV0aFNlY3JldCc7CmltcG9ydCB7IE5PUk1BTiB9IGZyb20gJ0BzaGVsbC9jb25maWcvdHlwZXMnOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExhYmVsZWRJbnB1dCwKICAgIENoZWNrYm94LAogICAgU2VsZWN0T3JDcmVhdGVBdXRoU2VjcmV0LAogIH0sCgogIHByb3BzOiB7CiAgICBtb2RlOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICBuYW1lc3BhY2U6IHsKICAgICAgdHlwZTogICAgIFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9LAoKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6ICAgIE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgIH0sCgogICAgcmVnaXN0ZXJCZWZvcmVIb29rOiB7CiAgICAgIHR5cGU6ICAgICBGdW5jdGlvbiwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICB9LAogIH0sCgogIGRhdGEoKSB7CiAgICBjb25zdCBjb25maWcgPSB7CiAgICAgIGJ1Y2tldDogICAgICAgICAgICAgICcnLAogICAgICBjbG91ZENyZWRlbnRpYWxOYW1lOiBudWxsLAogICAgICBlbmRwb2ludDogICAgICAgICAgICAnJywKICAgICAgZW5kcG9pbnRDQTogICAgICAgICAgJycsCiAgICAgIGZvbGRlcjogICAgICAgICAgICAgICcnLAogICAgICByZWdpb246ICAgICAgICAgICAgICAnJywKICAgICAgc2tpcFNTTFZlcmlmeTogICAgICAgZmFsc2UsCgogICAgICAuLi4odGhpcy52YWx1ZSB8fCB7fSksCiAgICB9OwoKICAgIHJldHVybiB7IGNvbmZpZyB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBjY0RhdGEoKSB7CiAgICAgIGlmICggdGhpcy5jb25maWcuY2xvdWRDcmVkZW50aWFsTmFtZSApIHsKICAgICAgICBjb25zdCBjcmVkID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncmFuY2hlci9ieUlkJ10oTk9STUFOLkNMT1VEX0NSRURFTlRJQUwsIHRoaXMuY29uZmlnLmNsb3VkQ3JlZGVudGlhbE5hbWUpOwoKICAgICAgICBpZiAoIGNyZWQgKSB7CiAgICAgICAgICByZXR1cm4gY3JlZC5kZWNvZGVkRGF0YTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB7fTsKICAgIH0sCiAgfSwKCiAgbWV0aG9kczogewogICAgdXBkYXRlKCkgewogICAgICBjb25zdCBvdXQgPSB7IC4uLnRoaXMuY29uZmlnIH07CgogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIG91dCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["S3Config.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"S3Config.vue","sourceRoot":"node_modules/@rancher/shell/edit/provisioning.cattle.io.cluster","sourcesContent":["<script>\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport SelectOrCreateAuthSecret from '@shell/components/form/SelectOrCreateAuthSecret';\nimport { NORMAN } from '@shell/config/types';\n\nexport default {\n  components: {\n    LabeledInput,\n    Checkbox,\n    SelectOrCreateAuthSecret,\n  },\n\n  props: {\n    mode: {\n      type:     String,\n      required: true,\n    },\n\n    namespace: {\n      type:     String,\n      required: true,\n    },\n\n    value: {\n      type:    Object,\n      default: null,\n    },\n\n    registerBeforeHook: {\n      type:     Function,\n      required: true,\n    },\n  },\n\n  data() {\n    const config = {\n      bucket:              '',\n      cloudCredentialName: null,\n      endpoint:            '',\n      endpointCA:          '',\n      folder:              '',\n      region:              '',\n      skipSSLVerify:       false,\n\n      ...(this.value || {}),\n    };\n\n    return { config };\n  },\n\n  computed: {\n    ccData() {\n      if ( this.config.cloudCredentialName ) {\n        const cred = this.$store.getters['rancher/byId'](NORMAN.CLOUD_CREDENTIAL, this.config.cloudCredentialName);\n\n        if ( cred ) {\n          return cred.decodedData;\n        }\n      }\n\n      return {};\n    },\n  },\n\n  methods: {\n    update() {\n      const out = { ...this.config };\n\n      this.$emit('input', out);\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <SelectOrCreateAuthSecret\n      v-model=\"config.cloudCredentialName\"\n      :register-before-hook=\"registerBeforeHook\"\n      in-store=\"management\"\n      :allow-ssh=\"false\"\n      :allow-basic=\"false\"\n      :allow-s3=\"true\"\n      :namespace=\"namespace\"\n      generate-name=\"etcd-backup-s3-\"\n      @input=\"update\"\n    />\n\n    <div class=\"row mt-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"config.bucket\"\n          label=\"Bucket\"\n          :placeholder=\"ccData.defaultBucket\"\n          :required=\"!ccData.defaultBucket\"\n          @input=\"update\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"config.folder\"\n          label=\"Folder\"\n          :placeholder=\"ccData.defaultFolder\"\n          @input=\"update\"\n        />\n      </div>\n    </div>\n\n    <div class=\"row mt-20\">\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"config.region\"\n          label=\"Region\"\n          :placeholder=\"ccData.defaultRegion\"\n          @input=\"update\"\n        />\n      </div>\n      <div class=\"col span-6\">\n        <LabeledInput\n          v-model=\"config.endpoint\"\n          label=\"Endpoint\"\n          :placeholder=\"ccData.defaultEndpoint\"\n          @input=\"update\"\n        />\n      </div>\n    </div>\n\n    <div\n      v-if=\"!ccData.defaultSkipSSLVerify\"\n      class=\"mt-20\"\n    >\n      <Checkbox\n        v-model=\"config.skipSSLVerify\"\n        :mode=\"mode\"\n        label=\"Accept any certificate (insecure)\"\n        @input=\"update\"\n      />\n\n      <LabeledInput\n        v-if=\"!config.skipSSLVerify\"\n        v-model=\"config.endpointCA\"\n        type=\"multiline\"\n        label=\"Endpoint CA Cert\"\n        :placeholder=\"ccData.defaultEndpointCA\"\n        @input=\"update\"\n      />\n    </div>\n  </div>\n</template>\n"]}]}