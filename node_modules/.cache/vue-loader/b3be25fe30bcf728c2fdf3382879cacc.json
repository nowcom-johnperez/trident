{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/monitoring.coreos.com.receiver/auth.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/edit/monitoring.coreos.com.receiver/auth.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQovKioNCiAqIFRoZSBSb3V0ZSBhbmQgUmVjZWl2ZXIgcmVzb3VyY2VzIGFyZSBkZXByZWNhdGVkLiBHb2luZyBmb3J3YXJkLA0KICogcm91dGVzIGFuZCByZWNlaXZlcnMgc2hvdWxkIGJlIGNvbmZpZ3VyZWQgd2l0aGluIEFsZXJ0bWFuYWdlckNvbmZpZ3MuDQogKiBBbnkgdXBkYXRlcyB0byByZWNlaXZlciBjb25maWd1cmF0aW9uIGZvcm1zLCBzdWNoIGFzIFNsYWNrL2VtYWlsL1BhZ2VyRHV0eQ0KICogZXRjLCBzaG91bGQgYmUgbWFkZSB0byB0aGUgcmVjZWl2ZXIgZm9ybXMgdGhhdCBhcmUgYmFzZWQgb24gdGhlDQogKiBBbGVydG1hbmFnZXJDb25maWcgcmVzb3VyY2UsIHdoaWNoIGhhcyBhIGRpZmZlcmVudCBBUEkuIFRoZSBuZXcgZm9ybXMgYXJlDQogKiBsb2NhdGVkIGluIEBzaGVsbC9lZGl0L21vbml0b3JpbmcuY29yZW9zLmNvbS5hbGVydG1hbmFnZXJjb25maWcvdHlwZXMuDQogKi8NCmltcG9ydCB7IExhYmVsZWRJbnB1dCB9IGZyb20gJ0Bjb21wb25lbnRzL0Zvcm0vTGFiZWxlZElucHV0JzsNCmltcG9ydCBMYWJlbGVkU2VsZWN0IGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vTGFiZWxlZFNlbGVjdCc7DQppbXBvcnQgaXNFbXB0eSBmcm9tICdsb2Rhc2gvaXNFbXB0eSc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogeyBMYWJlbGVkSW5wdXQsIExhYmVsZWRTZWxlY3QgfSwNCiAgcHJvcHM6ICAgICAgew0KICAgIG1vZGU6IHsNCiAgICAgIHR5cGU6ICAgICBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICAgIHZhbHVlOiB7DQogICAgICB0eXBlOiAgICAgT2JqZWN0LA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsICdiYXNpY19hdXRoJywgdGhpcy52YWx1ZS5iYXNpY19hdXRoIHx8IHt9KTsNCg0KICAgIGNvbnN0IGF1dGhPcHRpb25zID0gWw0KICAgICAgew0KICAgICAgICB2YWx1ZTogJ25vbmUnLA0KICAgICAgICBsYWJlbDogdGhpcy50KCdtb25pdG9yaW5nUmVjZWl2ZXIuYXV0aC5ub25lLmxhYmVsJykNCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIHZhbHVlOiAgICdiYXNpY19hdXRoJywNCiAgICAgICAgbGFiZWw6ICAgdGhpcy50KCdtb25pdG9yaW5nUmVjZWl2ZXIuYXV0aC5iYXNpY0F1dGgubGFiZWwnKSwNCiAgICAgICAgZGVmYXVsdDoge30NCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIHZhbHVlOiAgICdiZWFyZXJfdG9rZW4nLA0KICAgICAgICBsYWJlbDogICB0aGlzLnQoJ21vbml0b3JpbmdSZWNlaXZlci5hdXRoLmJlYXJlclRva2VuLmxhYmVsJyksDQogICAgICAgIGRlZmF1bHQ6ICcnDQogICAgICB9LA0KICAgICAgew0KICAgICAgICB2YWx1ZTogICAnYmVhcmVyX3Rva2VuX2ZpbGUnLA0KICAgICAgICBsYWJlbDogICB0aGlzLnQoJ21vbml0b3JpbmdSZWNlaXZlci5hdXRoLmJlYXJlclRva2VuRmlsZS5sYWJlbCcpLA0KICAgICAgICBkZWZhdWx0OiAnJw0KICAgICAgfQ0KICAgIF07DQogICAgY29uc3QgYXV0aFR5cGVzID0gYXV0aE9wdGlvbnMubWFwKChvcHRpb24pID0+IG9wdGlvbi52YWx1ZSk7DQogICAgY29uc3QgYXV0aFR5cGUgPSBhdXRoVHlwZXMuZmluZCgoYXV0aFR5cGUpID0+ICFpc0VtcHR5KHRoaXMudmFsdWVbYXV0aFR5cGVdKSkgfHwgYXV0aFR5cGVzWzBdOw0KDQogICAgdGhpcy5pbml0aWFsaXplVHlwZShhdXRoT3B0aW9ucywgYXV0aFR5cGUpOw0KDQogICAgcmV0dXJuIHsNCiAgICAgIGF1dGhPcHRpb25zLA0KICAgICAgYXV0aFR5cGVzLA0KICAgICAgYXV0aFR5cGUNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdGlhbGl6ZVR5cGUoYXV0aE9wdGlvbnMsIHR5cGUpIHsNCiAgICAgIGF1dGhPcHRpb25zLmZvckVhY2goKGF1dGhPcHRpb24pID0+IHsNCiAgICAgICAgaWYgKGF1dGhPcHRpb24udmFsdWUgPT09IHR5cGUgJiYgdHlwZSAhPT0gJ25vbmUnKSB7DQogICAgICAgICAgdGhpcy4kc2V0KHRoaXMudmFsdWUsIGF1dGhPcHRpb24udmFsdWUsIHRoaXMudmFsdWVbYXV0aE9wdGlvbi52YWx1ZV0gfHwgYXV0aE9wdGlvbi5kZWZhdWx0KTsNCiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy52YWx1ZVthdXRoT3B0aW9uLnZhbHVlXSAhPT0gJ3VuZGVmaW5lZCcpIHsNCiAgICAgICAgICB0aGlzLiRkZWxldGUodGhpcy52YWx1ZSwgYXV0aE9wdGlvbi52YWx1ZSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogIH0NCn07DQo="},{"version":3,"sources":["auth.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"auth.vue","sourceRoot":"node_modules/@rancher/shell/edit/monitoring.coreos.com.receiver","sourcesContent":["<script>\r\n/**\r\n * The Route and Receiver resources are deprecated. Going forward,\r\n * routes and receivers should be configured within AlertmanagerConfigs.\r\n * Any updates to receiver configuration forms, such as Slack/email/PagerDuty\r\n * etc, should be made to the receiver forms that are based on the\r\n * AlertmanagerConfig resource, which has a different API. The new forms are\r\n * located in @shell/edit/monitoring.coreos.com.alertmanagerconfig/types.\r\n */\r\nimport { LabeledInput } from '@components/Form/LabeledInput';\r\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\r\nimport isEmpty from 'lodash/isEmpty';\r\n\r\nexport default {\r\n  components: { LabeledInput, LabeledSelect },\r\n  props:      {\r\n    mode: {\r\n      type:     String,\r\n      required: true,\r\n    },\r\n    value: {\r\n      type:     Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    this.$set(this.value, 'basic_auth', this.value.basic_auth || {});\r\n\r\n    const authOptions = [\r\n      {\r\n        value: 'none',\r\n        label: this.t('monitoringReceiver.auth.none.label')\r\n      },\r\n      {\r\n        value:   'basic_auth',\r\n        label:   this.t('monitoringReceiver.auth.basicAuth.label'),\r\n        default: {}\r\n      },\r\n      {\r\n        value:   'bearer_token',\r\n        label:   this.t('monitoringReceiver.auth.bearerToken.label'),\r\n        default: ''\r\n      },\r\n      {\r\n        value:   'bearer_token_file',\r\n        label:   this.t('monitoringReceiver.auth.bearerTokenFile.label'),\r\n        default: ''\r\n      }\r\n    ];\r\n    const authTypes = authOptions.map((option) => option.value);\r\n    const authType = authTypes.find((authType) => !isEmpty(this.value[authType])) || authTypes[0];\r\n\r\n    this.initializeType(authOptions, authType);\r\n\r\n    return {\r\n      authOptions,\r\n      authTypes,\r\n      authType\r\n    };\r\n  },\r\n  methods: {\r\n    initializeType(authOptions, type) {\r\n      authOptions.forEach((authOption) => {\r\n        if (authOption.value === type && type !== 'none') {\r\n          this.$set(this.value, authOption.value, this.value[authOption.value] || authOption.default);\r\n        } else if (typeof this.value[authOption.value] !== 'undefined') {\r\n          this.$delete(this.value, authOption.value);\r\n        }\r\n      });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"row\">\r\n      <div class=\"col span-6\">\r\n        <h3>{{ t('monitoringReceiver.auth.label') }}</h3>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mb-20\">\r\n      <div class=\"col span-12\">\r\n        <LabeledSelect\n          v-model=\"authType\"\n          :options=\"authOptions\"\n          label=\"Auth Type\"\n          @input=\"initializeType(authOptions, authType)\"\n        />\r\n      </div>\r\n    </div>\r\n    <div\n      v-if=\"authType === 'basic_auth'\"\n      class=\"row mb-20\"\n    >\r\n      <div class=\"col span-6\">\r\n        <LabeledInput\n          v-model=\"value.basic_auth.username\"\n          :mode=\"mode\"\n          :label=\"t('monitoringReceiver.auth.username')\"\n        />\r\n      </div>\r\n      <div class=\"col span-6\">\r\n        <LabeledInput\n          v-model=\"value.basic_auth.password\"\n          :mode=\"mode\"\n          :label=\"t('monitoringReceiver.auth.password')\"\n          type=\"password\"\n          autocomplete=\"password\"\n        />\r\n      </div>\r\n    </div>\r\n    <div\n      v-else-if=\"authType === 'bearer_token'\"\n      class=\"row mb-20\"\n    >\r\n      <div class=\"col span-6\">\r\n        <LabeledInput\r\n          v-model=\"value.bearer_token\"\r\n          :mode=\"mode\"\r\n          :label=\"t('monitoringReceiver.auth.bearerToken.label')\"\r\n          :placeholder=\"t('monitoringReceiver.auth.bearerToken.placeholder')\"\r\n          type=\"password\"\r\n          autocomplete=\"password\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div\n      v-else-if=\"authType === 'bearer_token_file'\"\n      class=\"row mb-20\"\n    >\r\n      <div class=\"col span-6\">\r\n        <LabeledInput\n          v-model=\"value.bearer_token_file\"\n          :mode=\"mode\"\n          :label=\"t('monitoringReceiver.auth.bearerTokenFile.label')\"\n          :placeholder=\"t('monitoringReceiver.auth.bearerTokenFile.placeholder')\"\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n"]}]}