{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/istio/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/istio/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgTkFNRSwgQ0hBUlRfTkFNRSB9IGZyb20gJ0BzaGVsbC9jb25maWcvcHJvZHVjdC9pc3Rpbyc7CmltcG9ydCBJbnN0YWxsUmVkaXJlY3QgZnJvbSAnQHNoZWxsL3V0aWxzL2luc3RhbGwtcmVkaXJlY3QnOwppbXBvcnQgeyBTRVJWSUNFIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKCiAgbWlkZGxld2FyZTogSW5zdGFsbFJlZGlyZWN0KE5BTUUsIENIQVJUX05BTUUpLAoKICBhc3luYyBmZXRjaCgpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMua2lhbGlTZXJ2aWNlID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZCcsIHsgdHlwZTogU0VSVklDRSwgaWQ6ICdpc3Rpby1zeXN0ZW0va2lhbGknIH0pOwogICAgfSBjYXRjaCB7fQogICAgdHJ5IHsKICAgICAgdGhpcy5qYWVnZXJTZXJ2aWNlID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZCcsIHsgdHlwZTogU0VSVklDRSwgaWQ6ICdpc3Rpby1zeXN0ZW0vdHJhY2luZycgfSk7CiAgICB9IGNhdGNoIHt9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7IGtpYWxpU2VydmljZTogbnVsbCwgamFlZ2VyU2VydmljZTogbnVsbCB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsgdGhlbWU6ICdwcmVmcy90aGVtZScsIHQ6ICdpMThuL3QnIH0pLAoKICAgIGtpYWxpTG9nbygpIHsKICAgICAgLy8gQFRPRE8gbW92ZSB0byB0aGVtZSBjc3MKICAgICAgcmV0dXJuIHJlcXVpcmUoYH5zaGVsbC9hc3NldHMvaW1hZ2VzL3ZlbmRvci9raWFsaS5zdmdgKTsKICAgIH0sCgogICAga2lhbGlVcmwoKSB7CiAgICAgIHJldHVybiB0aGlzLmtpYWxpU2VydmljZSA/IHRoaXMua2lhbGlTZXJ2aWNlLnByb3h5VXJsKCdodHRwJywgJzIwMDAxJykgOiBudWxsOwogICAgfSwKCiAgICBqYWVnZXJMb2dvKCkgewogICAgICByZXR1cm4gcmVxdWlyZShgfnNoZWxsL2Fzc2V0cy9pbWFnZXMvdmVuZG9yL2phZWdlci5zdmdgKTsKICAgIH0sCgogICAgamFlZ2VyVXJsKCkgewogICAgICByZXR1cm4gdGhpcy5qYWVnZXJTZXJ2aWNlID8gYCR7IHRoaXMuamFlZ2VyU2VydmljZS5wcm94eVVybCgnaHR0cCcsICcxNjY4NicpIH0vamFlZ2VyL3NlYXJjaGAgOiBudWxsOwogICAgfSwKCiAgICBtb25pdG9yaW5nVXJsKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGVyLnJlc29sdmUoewogICAgICAgIG5hbWU6ICAgJ2MtY2x1c3Rlci1tb25pdG9yaW5nJywKICAgICAgICBwYXJhbXM6IHsgY2x1c3RlcjogdGhpcy4kcm91dGUucGFyYW1zLmNsdXN0ZXIgfQogICAgICB9KS5ocmVmOwogICAgfSwKCiAgICB0YXJnZXQoKSB7CiAgICAgIHJldHVybiAnX2JsYW5rJzsKICAgIH0sCgogICAgcmVsKCkgewogICAgICByZXR1cm4gJ25vb3BlbmVyIG5vcmVmZXJyZXIgbm9mb2xsb3cnOwogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICBsYXVuY2hLaWFsaShlKSB7CiAgICAgIC8vIHJhbmNoZXItbW9uaXRvcmluZyBsaW5rIGluIEtpYWxpIGRlc2NyaXB0aW9uIHdhcyBjbGlja2VkCiAgICAgIGlmIChlLnNyY0VsZW1lbnQ/LnRhZ05hbWUgPT09ICdBJykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLiRyZWZzLmtpYWxpLmNsaWNrKCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/pages/c/_cluster/istio","sourcesContent":["<script>\nimport { mapGetters } from 'vuex';\nimport { NAME, CHART_NAME } from '@shell/config/product/istio';\nimport InstallRedirect from '@shell/utils/install-redirect';\nimport { SERVICE } from '@shell/config/types';\nexport default {\n  components: {},\n\n  middleware: InstallRedirect(NAME, CHART_NAME),\n\n  async fetch() {\n    try {\n      this.kialiService = await this.$store.dispatch('cluster/find', { type: SERVICE, id: 'istio-system/kiali' });\n    } catch {}\n    try {\n      this.jaegerService = await this.$store.dispatch('cluster/find', { type: SERVICE, id: 'istio-system/tracing' });\n    } catch {}\n  },\n\n  data() {\n    return { kialiService: null, jaegerService: null };\n  },\n\n  computed: {\n    ...mapGetters({ theme: 'prefs/theme', t: 'i18n/t' }),\n\n    kialiLogo() {\n      // @TODO move to theme css\n      return require(`~shell/assets/images/vendor/kiali.svg`);\n    },\n\n    kialiUrl() {\n      return this.kialiService ? this.kialiService.proxyUrl('http', '20001') : null;\n    },\n\n    jaegerLogo() {\n      return require(`~shell/assets/images/vendor/jaeger.svg`);\n    },\n\n    jaegerUrl() {\n      return this.jaegerService ? `${ this.jaegerService.proxyUrl('http', '16686') }/jaeger/search` : null;\n    },\n\n    monitoringUrl() {\n      return this.$router.resolve({\n        name:   'c-cluster-monitoring',\n        params: { cluster: this.$route.params.cluster }\n      }).href;\n    },\n\n    target() {\n      return '_blank';\n    },\n\n    rel() {\n      return 'noopener noreferrer nofollow';\n    },\n  },\n\n  methods: {\n    launchKiali(e) {\n      // rancher-monitoring link in Kiali description was clicked\n      if (e.srcElement?.tagName === 'A') {\n        return;\n      }\n      this.$refs.kiali.click();\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <h1>Overview</h1>\n    <h4 v-clean-html=\"t('istio.poweredBy', {}, true)\" />\n    <div class=\"links\">\n      <div\n        :class=\"{'disabled':!kialiUrl}\"\n        class=\"box link-container\"\n      >\n        <span\n          class=\"link-content pull-right\"\n          @click=\"launchKiali\"\n        >\n          <div class=\"link-logo\">\n            <img :src=\"kialiLogo\">\n          </div>\n          <div class=\"link-content\">\n            <a\n              ref=\"kiali\"\n              :disabled=\"!kialiUrl\"\n              :href=\"kialiUrl\"\n              :target=\"target\"\n              :rel=\"rel\"\n              @click.stop\n            >\n              <t k=\"istio.links.kiali.label\" />\n              <i class=\"icon icon-external-link pull-right\" />\n            </a>\n            <hr>\n            <div class=\"description\">\n              <span v-clean-html=\"t('istio.links.kiali.description', {link: monitoringUrl}, true)\" />\n            </div>\n          </div>\n        </span>\n        <div\n          v-if=\"!kialiUrl\"\n          class=\"disabled-msg\"\n        >\n          <span v-clean-html=\"t('istio.links.disabled', {app: 'Kiali'})\" />\n        </div>\n      </div>\n      <div\n        :class=\"{'disabled':!jaegerUrl}\"\n        class=\"box link-container\"\n      >\n        <span\n          class=\"link-content pull-right\"\n          @click=\"$refs.jaeger.click()\"\n        >\n          <div class=\"link-logo\">\n            <img :src=\"jaegerLogo\">\n          </div>\n          <div class=\"link-content\">\n            <a\n              ref=\"jaeger\"\n              :disabled=\"!jaegerUrl\"\n              :href=\"jaegerUrl\"\n              :target=\"target\"\n              :rel=\"rel\"\n              @click.stop\n            >\n              <t k=\"istio.links.jaeger.label\" />\n              <i class=\"icon icon-external-link pull-right\" />\n            </a>\n            <hr>\n            <div class=\"description\">\n              <span v-clean-html=\"t('istio.links.jaeger.description', true)\" />\n            </div>\n          </div>\n        </span>\n        <div\n          v-if=\"!jaegerUrl\"\n          class=\"disabled-msg\"\n        >\n          <span v-clean-html=\"t('istio.links.disabled', {app: 'Jaeger'})\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n"]}]}