{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/machine-config/generic.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/machine-config/generic.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgeyBCYW5uZXIgfSBmcm9tICdAY29tcG9uZW50cy9CYW5uZXInOwppbXBvcnQgQ3JlYXRlRWRpdFZpZXcgZnJvbSAnQHNoZWxsL21peGlucy9jcmVhdGUtZWRpdC12aWV3JzsKaW1wb3J0IHsgZXhjZXB0aW9uVG9FcnJvcnNBcnJheSwgc3RyaW5naWZ5IH0gZnJvbSAnQHNoZWxsL3V0aWxzL2Vycm9yJzsKaW1wb3J0IFF1ZXN0aW9ucyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9RdWVzdGlvbnMnOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmcsIEJhbm5lciwgUXVlc3Rpb25zCiAgfSwKCiAgbWl4aW5zOiBbQ3JlYXRlRWRpdFZpZXddLAoKICBwcm9wczogewogICAgY3JlZGVudGlhbElkOiB7CiAgICAgIHR5cGU6ICAgICBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICBwcm92aWRlcjogewogICAgICB0eXBlOiAgICAgU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCgogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogICAgQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgfSwKCiAgZmV0Y2goKSB7CiAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgIHRyeSB7CiAgICAgIHRoaXMuZmllbGRzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncGx1Z2lucy9maWVsZHNGb3JEcml2ZXInXSh0aGlzLnByb3ZpZGVyKTsKICAgICAgY29uc3QgbmFtZSA9IGBya2UtbWFjaGluZS1jb25maWcuY2F0dGxlLmlvLiR7IHRoaXMucHJvdmlkZXIgfWNvbmZpZ2A7CgogICAgICBpZiAoICF0aGlzLmZpZWxkcyApIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hY2hpbmUgRHJpdmVyIGNvbmZpZyBzY2hlbWEgbm90IGZvdW5kIGZvciAkeyBuYW1lIH1gKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLmVycm9ycyA9IGV4Y2VwdGlvblRvRXJyb3JzQXJyYXkoZSk7CiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yczogbnVsbCwKICAgICAgZmllbGRzOiBudWxsLAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgY2xvdWRDcmVkZW50aWFsS2V5cygpIHsKICAgICAgY29uc3Qgbm9ybWFuVHlwZSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3BsdWdpbnMvY3JlZGVudGlhbEZpZWxkRm9yRHJpdmVyJ10odGhpcy5wcm92aWRlcik7CiAgICAgIGNvbnN0IG5vcm1hblNjaGVtYSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3JhbmNoZXIvc2NoZW1hRm9yJ10oYCR7IG5vcm1hblR5cGUgfWNyZWRlbnRpYWxjb25maWdgKTsKCiAgICAgIGlmICggbm9ybWFuU2NoZW1hICkgewogICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhub3JtYW5TY2hlbWEucmVzb3VyY2VGaWVsZHMgfHwge30pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydwbHVnaW5zL2ZpZWxkTmFtZXNGb3JEcml2ZXInXSh0aGlzLnByb3ZpZGVyKTsKICAgICAgfQogICAgfQogIH0sCgogIHdhdGNoOiB7CiAgICAnY3JlZGVudGlhbElkJygpIHsKICAgICAgdGhpcy4kZmV0Y2goKTsKICAgIH0sCiAgfSwKCiAgbWV0aG9kczogeyBzdHJpbmdpZnkgfSwKfTsK"},{"version":3,"sources":["generic.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"generic.vue","sourceRoot":"node_modules/@rancher/shell/machine-config","sourcesContent":["<script>\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { exceptionToErrorsArray, stringify } from '@shell/utils/error';\nimport Questions from '@shell/components/Questions';\n\nexport default {\n  components: {\n    Loading, Banner, Questions\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    credentialId: {\n      type:     String,\n      required: true,\n    },\n\n    provider: {\n      type:     String,\n      required: true,\n    },\n\n    disabled: {\n      type:    Boolean,\n      default: false\n    },\n  },\n\n  fetch() {\n    this.errors = [];\n\n    try {\n      this.fields = this.$store.getters['plugins/fieldsForDriver'](this.provider);\n      const name = `rke-machine-config.cattle.io.${ this.provider }config`;\n\n      if ( !this.fields ) {\n        throw new Error(`Machine Driver config schema not found for ${ name }`);\n      }\n    } catch (e) {\n      this.errors = exceptionToErrorsArray(e);\n    }\n  },\n\n  data() {\n    return {\n      errors: null,\n      fields: null,\n    };\n  },\n\n  computed: {\n    cloudCredentialKeys() {\n      const normanType = this.$store.getters['plugins/credentialFieldForDriver'](this.provider);\n      const normanSchema = this.$store.getters['rancher/schemaFor'](`${ normanType }credentialconfig`);\n\n      if ( normanSchema ) {\n        return Object.keys(normanSchema.resourceFields || {});\n      } else {\n        return this.$store.getters['plugins/fieldNamesForDriver'](this.provider);\n      }\n    }\n  },\n\n  watch: {\n    'credentialId'() {\n      this.$fetch();\n    },\n  },\n\n  methods: { stringify },\n};\n</script>\n\n<template>\n  <Loading\n    v-if=\"$fetchState.pending\"\n    :delayed=\"true\"\n  />\n  <div v-else-if=\"errors.length\">\n    <div\n      v-for=\"(err, idx) in errors\"\n      :key=\"idx\"\n    >\n      <Banner\n        color=\"error\"\n        :label=\"stringify(err)\"\n      />\n    </div>\n  </div>\n  <div v-else>\n    <Questions\n      v-model=\"value\"\n      :mode=\"mode\"\n      :tabbed=\"false\"\n      :source=\"fields\"\n      :ignore-variables=\"cloudCredentialKeys\"\n      :target-namespace=\"value.metadata.namespace\"\n      :disabled=\"disabled\"\n    />\n  </div>\n</template>\n"]}]}