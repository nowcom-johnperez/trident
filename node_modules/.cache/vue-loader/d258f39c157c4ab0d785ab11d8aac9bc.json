{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/detail/workload/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/detail/workload/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDcmVhdGVFZGl0VmlldyBmcm9tICdAc2hlbGwvbWl4aW5zL2NyZWF0ZS1lZGl0LXZpZXcnOwppbXBvcnQgeyBOQU1FU1BBQ0UgYXMgTkFNRVNQQUNFX0NPTCB9IGZyb20gJ0BzaGVsbC9jb25maWcvdGFibGUtaGVhZGVycyc7CmltcG9ydCB7CiAgUE9ELCBXT1JLTE9BRF9UWVBFUywgU0NBTEFCTEVfV09SS0xPQURfVFlQRVMsIFNFUlZJQ0UsIElOR1JFU1MsIE5PREUsIE5BTUVTUEFDRSwKfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKaW1wb3J0IFJlc291cmNlVGFibGUgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvUmVzb3VyY2VUYWJsZSc7CmltcG9ydCBUYWIgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvVGFiYmVkL1RhYic7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0xvYWRpbmcnOwppbXBvcnQgUmVzb3VyY2VUYWJzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL2Zvcm0vUmVzb3VyY2VUYWJzJzsKaW1wb3J0IENvdW50R2F1Z2UgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvQ291bnRHYXVnZSc7CmltcG9ydCB7IGFsbEhhc2ggfSBmcm9tICdAc2hlbGwvdXRpbHMvcHJvbWlzZSc7CmltcG9ydCBEYXNoYm9hcmRNZXRyaWNzIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0Rhc2hib2FyZE1ldHJpY3MnOwppbXBvcnQgVjFXb3JrbG9hZE1ldHJpY3MgZnJvbSAnQHNoZWxsL21peGlucy92MS13b3JrbG9hZC1tZXRyaWNzJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBhbGxEYXNoYm9hcmRzRXhpc3QgfSBmcm9tICdAc2hlbGwvdXRpbHMvZ3JhZmFuYSc7CmltcG9ydCBQbHVzTWludXMgZnJvbSAnQHNoZWxsL2NvbXBvbmVudHMvZm9ybS9QbHVzTWludXMnOwppbXBvcnQgeyBtYXRjaGVzIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3NlbGVjdG9yJzsKaW1wb3J0IHsgUFJPSkVDVCB9IGZyb20gJ0BzaGVsbC9jb25maWcvbGFiZWxzLWFubm90YXRpb25zJzsKCmNvbnN0IFNDQUxBQkxFX1RZUEVTID0gT2JqZWN0LnZhbHVlcyhTQ0FMQUJMRV9XT1JLTE9BRF9UWVBFUyk7CmNvbnN0IFdPUktMT0FEX01FVFJJQ1NfREVUQUlMX1VSTCA9ICcvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLW1vbml0b3Jpbmctc3lzdGVtL3NlcnZpY2VzL2h0dHA6cmFuY2hlci1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLXdvcmtsb2FkLXBvZHMtMS9yYW5jaGVyLXdvcmtsb2FkLXBvZHM/b3JnSWQ9MSc7CmNvbnN0IFdPUktMT0FEX01FVFJJQ1NfU1VNTUFSWV9VUkwgPSAnL2FwaS92MS9uYW1lc3BhY2VzL2NhdHRsZS1tb25pdG9yaW5nLXN5c3RlbS9zZXJ2aWNlcy9odHRwOnJhbmNoZXItbW9uaXRvcmluZy1ncmFmYW5hOjgwL3Byb3h5L2QvcmFuY2hlci13b3JrbG9hZC0xL3JhbmNoZXItd29ya2xvYWQ/b3JnSWQ9MSc7CgpleHBvcnQgY29uc3QgV09SS0xPQURfVFlQRV9UT19LSU5EX01BUFBJTkcgPSB7CiAgLy8gRWFjaCBkZXBsb3ltZW50IGNyZWF0ZXMgYSByZXBsaWNhc2V0IGFuZCB0aGUgbWV0cmljcyBhcmUgcHVibGlzaGVkIGZvciBhIHJlcGxpY2FzZXQuCiAgW1dPUktMT0FEX1RZUEVTLkRFUExPWU1FTlRdOiAgICAgICAgICAgICAnUmVwbGljYVNldCcsCiAgW1dPUktMT0FEX1RZUEVTLkNST05fSk9CXTogICAgICAgICAgICAgICAnQ3JvbkpvYicsCiAgW1dPUktMT0FEX1RZUEVTLkRBRU1PTl9TRVRdOiAgICAgICAgICAgICAnRGFlbW9uU2V0JywKICBbV09SS0xPQURfVFlQRVMuSk9CXTogICAgICAgICAgICAgICAgICAgICdKb2InLAogIFtXT1JLTE9BRF9UWVBFUy5TVEFURUZVTF9TRVRdOiAgICAgICAgICAgJ1N0YXRlZnVsU2V0JywKICBbV09SS0xPQURfVFlQRVMuUkVQTElDQV9TRVRdOiAgICAgICAgICAgICdSZXBsaWNhU2V0JywKICBbV09SS0xPQURfVFlQRVMuUkVQTElDQVRJT05fQ09OVFJPTExFUl06ICdSZXBsaWNhdGlvbkNvbnRyb2xsZXInLAp9OwoKY29uc3QgTUVUUklDU19TVVBQT1JURURfS0lORFMgPSBbCiAgV09SS0xPQURfVFlQRVMuREFFTU9OX1NFVCwKICBXT1JLTE9BRF9UWVBFUy5SRVBMSUNBX1NFVCwKICBXT1JLTE9BRF9UWVBFUy5TVEFURUZVTF9TRVQsCiAgV09SS0xPQURfVFlQRVMuREVQTE9ZTUVOVApdOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERhc2hib2FyZE1ldHJpY3MsCiAgICBUYWIsCiAgICBMb2FkaW5nLAogICAgUmVzb3VyY2VUYWJzLAogICAgQ291bnRHYXVnZSwKICAgIFJlc291cmNlVGFibGUsCiAgICBQbHVzTWludXMKICB9LAoKICBtaXhpbnM6IFtDcmVhdGVFZGl0VmlldywgVjFXb3JrbG9hZE1ldHJpY3NdLAoKICBhc3luYyBmZXRjaCgpIHsKICAgIGxldCBoYXNOb2RlcyA9IGZhbHNlOwoKICAgIHRyeSB7CiAgICAgIGNvbnN0IGluU3RvcmUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjdXJyZW50U3RvcmUnXSgpOwogICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzW2AkeyBpblN0b3JlIH0vc2NoZW1hRm9yYF0oTk9ERSk7CgogICAgICBpZiAoc2NoZW1hKSB7CiAgICAgICAgaGFzTm9kZXMgPSB0cnVlOwogICAgICB9CiAgICB9IGNhdGNoIHt9CgogICAgY29uc3QgaGFzaCA9IHsKICAgICAgYWxsUG9kczogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgeyB0eXBlOiBQT0QgfSksCiAgICAgIGFsbFNlcnZpY2VzOiAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NsdXN0ZXIvZmluZEFsbCcsIHsgdHlwZTogU0VSVklDRSB9KSwKICAgICAgYWxsSW5ncmVzc2VzOiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgeyB0eXBlOiBJTkdSRVNTIH0pLAogICAgICAvLyBOb2RlcyBzaG91bGQgYmUgZmV0Y2hlZCBiZWNhdXNlIHRoZXkgbWF5IGJlIHJlZmVyZW5jZWQgaW4gdGhlIHRhcmdldAogICAgICAvLyBjb2x1bW4gb2YgYSBzZXJ2aWNlIGxpc3QgaXRlbS4KICAgICAgYWxsTm9kZXM6ICAgICBoYXNOb2RlcyA/IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7IHR5cGU6IE5PREUgfSkgOiBbXQogICAgfTsKCiAgICBpZiAodGhpcy52YWx1ZS50eXBlID09PSBXT1JLTE9BRF9UWVBFUy5DUk9OX0pPQikgewogICAgICBoYXNoLmFsbEpvYnMgPSB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2x1c3Rlci9maW5kQWxsJywgeyB0eXBlOiBXT1JLTE9BRF9UWVBFUy5KT0IgfSk7CiAgICB9CiAgICBjb25zdCByZXMgPSBhd2FpdCBhbGxIYXNoKGhhc2gpOwoKICAgIGZvciAoIGNvbnN0IGsgaW4gcmVzICkgewogICAgICB0aGlzW2tdID0gcmVzW2tdOwogICAgfQoKICAgIGNvbnN0IGlzTWV0cmljc1N1cHBvcnRlZEtpbmQgPSBNRVRSSUNTX1NVUFBPUlRFRF9LSU5EUy5pbmNsdWRlcyh0aGlzLnZhbHVlLnR5cGUpOwoKICAgIHRoaXMuc2hvd01ldHJpY3MgPSBpc01ldHJpY3NTdXBwb3J0ZWRLaW5kICYmIGF3YWl0IGFsbERhc2hib2FyZHNFeGlzdCh0aGlzLiRzdG9yZSwgdGhpcy5jdXJyZW50Q2x1c3Rlci5pZCwgW1dPUktMT0FEX01FVFJJQ1NfREVUQUlMX1VSTCwgV09SS0xPQURfTUVUUklDU19TVU1NQVJZX1VSTF0pOwogICAgaWYgKCF0aGlzLnNob3dNZXRyaWNzKSB7CiAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmQnLCB7IHR5cGU6IE5BTUVTUEFDRSwgaWQ6IHRoaXMudmFsdWUubWV0YWRhdGEubmFtZXNwYWNlIH0pOwoKICAgICAgY29uc3QgcHJvamVjdElkID0gbmFtZXNwYWNlPy5tZXRhZGF0YT8ubGFiZWxzW1BST0pFQ1RdOwoKICAgICAgaWYgKHByb2plY3RJZCkgewogICAgICAgIHRoaXMuV09SS0xPQURfUFJPSkVDVF9NRVRSSUNTX0RFVEFJTF9VUkwgPSBgL2FwaS92MS9uYW1lc3BhY2VzL2NhdHRsZS1wcm9qZWN0LSR7IHByb2plY3RJZCB9LW1vbml0b3Jpbmcvc2VydmljZXMvaHR0cDpjYXR0bGUtcHJvamVjdC0keyBwcm9qZWN0SWQgfS1tb25pdG9yaW5nLWdyYWZhbmE6ODAvcHJveHkvZC9yYW5jaGVyLXBvZC1jb250YWluZXJzLTEvcmFuY2hlci13b3JrbG9hZC1wb2RzP29yZ0lkPTEnYDsKICAgICAgICB0aGlzLldPUktMT0FEX1BST0pFQ1RfTUVUUklDU19TVU1NQVJZX1VSTCA9IGAvYXBpL3YxL25hbWVzcGFjZXMvY2F0dGxlLXByb2plY3QtJHsgcHJvamVjdElkIH0tbW9uaXRvcmluZy9zZXJ2aWNlcy9odHRwOmNhdHRsZS1wcm9qZWN0LSR7IHByb2plY3RJZCB9LW1vbml0b3JpbmctZ3JhZmFuYTo4MC9wcm94eS9kL3JhbmNoZXItcG9kLTEvcmFuY2hlci13b3JrbG9hZD9vcmdJZD0xYDsKCiAgICAgICAgdGhpcy5zaG93UHJvamVjdE1ldHJpY3MgPSBhd2FpdCBhbGxEYXNoYm9hcmRzRXhpc3QodGhpcy4kc3RvcmUsIHRoaXMuY3VycmVudENsdXN0ZXIuaWQsIFt0aGlzLldPUktMT0FEX1BST0pFQ1RfTUVUUklDU19ERVRBSUxfVVJMLCB0aGlzLldPUktMT0FEX1BST0pFQ1RfTUVUUklDU19TVU1NQVJZX1VSTF0sICdjbHVzdGVyJywgcHJvamVjdElkKTsKICAgICAgfQogICAgfQogICAgdGhpcy5maW5kTWF0Y2hpbmdTZXJ2aWNlcygpOwogICAgdGhpcy5maW5kTWF0Y2hpbmdJbmdyZXNzZXMoKTsKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxsUG9kczogICAgICAgICAgICAgICAgICAgICAgICAgW10sCiAgICAgIGFsbFNlcnZpY2VzOiAgICAgICAgICAgICAgICAgICAgIFtdLAogICAgICBhbGxJbmdyZXNzZXM6ICAgICAgICAgICAgICAgICAgICBbXSwKICAgICAgbWF0Y2hpbmdTZXJ2aWNlczogICAgICAgICAgICAgICAgW10sCiAgICAgIG1hdGNoaW5nSW5ncmVzc2VzOiAgICAgICAgICAgICAgIFtdLAogICAgICBhbGxKb2JzOiAgICAgICAgICAgICAgICAgICAgICAgICBbXSwKICAgICAgYWxsTm9kZXM6ICAgICAgICAgICAgICAgICAgICAgICAgW10sCiAgICAgIFdPUktMT0FEX01FVFJJQ1NfREVUQUlMX1VSTCwKICAgICAgV09SS0xPQURfTUVUUklDU19TVU1NQVJZX1VSTCwKICAgICAgUE9EX1BST0pFQ1RfTUVUUklDU19ERVRBSUxfVVJMOiAgJycsCiAgICAgIFBPRF9QUk9KRUNUX01FVFJJQ1NfU1VNTUFSWV9VUkw6ICcnLAogICAgICBzaG93TWV0cmljczogICAgICAgICAgICAgICAgICAgICBmYWxzZSwKICAgICAgc2hvd1Byb2plY3RNZXRyaWNzOiAgICAgICAgICAgICAgZmFsc2UsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnY3VycmVudENsdXN0ZXInXSksCgogICAgaXNTY2FsYWJsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWU/LmNhblVwZGF0ZTsKICAgIH0sCgogICAgaXNKb2IoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLnR5cGUgPT09IFdPUktMT0FEX1RZUEVTLkpPQjsKICAgIH0sCgogICAgaXNDcm9uSm9iKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS50eXBlID09PSBXT1JLTE9BRF9UWVBFUy5DUk9OX0pPQjsKICAgIH0sCgogICAgaXNQb2QoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLnR5cGUgPT09IFBPRDsKICAgIH0sCgogICAgcG9kU2NoZW1hKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXShQT0QpOwogICAgfSwKCiAgICBpbmdyZXNzU2NoZW1hKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXShJTkdSRVNTKTsKICAgIH0sCgogICAgc2VydmljZVNjaGVtYSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NsdXN0ZXIvc2NoZW1hRm9yJ10oU0VSVklDRSk7CiAgICB9LAoKICAgIHBvZFRlbXBsYXRlU3BlYygpIHsKICAgICAgaWYgKCB0aGlzLnZhbHVlLnR5cGUgPT09IFdPUktMT0FEX1RZUEVTLkNST05fSk9CICkgewogICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnNwZWMuam9iVGVtcGxhdGUuc3BlYy50ZW1wbGF0ZS5zcGVjOwogICAgICB9CgogICAgICAvLyBUaGlzIGlzIGZvciB2aWV3aW5nCiAgICAgIGlmICggdGhpcy52YWx1ZS50eXBlID09PSBQT0QgKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnZhbHVlLnNwZWM/LnRlbXBsYXRlPy5zcGVjOwogICAgfSwKCiAgICBjb250YWluZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLnBvZFRlbXBsYXRlU3BlYz8uY29udGFpbmVyc1swXTsKICAgIH0sCgogICAgam9iU2NoZW1hKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY2x1c3Rlci9zY2hlbWFGb3InXShXT1JLTE9BRF9UWVBFUy5KT0IpOwogICAgfSwKCiAgICBqb2JIZWFkZXJzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaGVhZGVyc0ZvciddKHRoaXMuam9iU2NoZW1hKTsKICAgIH0sCiAgICBpbmdyZXNzSGVhZGVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3R5cGUtbWFwL2hlYWRlcnNGb3InXSh0aGlzLmluZ3Jlc3NTY2hlbWEpOwogICAgfSwKICAgIHNlcnZpY2VIZWFkZXJzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndHlwZS1tYXAvaGVhZGVyc0ZvciddKHRoaXMuc2VydmljZVNjaGVtYSk7CiAgICB9LAoKICAgIHRvdGFsUnVucygpIHsKICAgICAgaWYgKCF0aGlzLnZhbHVlLmpvYnMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnZhbHVlLmpvYnMucmVkdWNlKCh0b3RhbCwgam9iKSA9PiB7CiAgICAgICAgY29uc3QgeyBzdGF0dXMgPSB7fSB9ID0gam9iOwoKICAgICAgICB0b3RhbCArPSAoc3RhdHVzLmFjdGl2ZSB8fCAwKTsKICAgICAgICB0b3RhbCArPSAoc3RhdHVzLnN1Y2NlZWRlZCB8fCAwKTsKICAgICAgICB0b3RhbCArPSAoc3RhdHVzLmZhaWxlZCB8fCAwKTsKCiAgICAgICAgcmV0dXJuIHRvdGFsOwogICAgICB9LCAwKTsKICAgIH0sCgogICAgcG9kUmVzdGFydHMoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlLnBvZHMucmVkdWNlKCh0b3RhbCwgcG9kKSA9PiB7CiAgICAgICAgY29uc3QgeyBzdGF0dXM6eyBjb250YWluZXJTdGF0dXNlcyA9IFtdIH0gfSA9IHBvZDsKCiAgICAgICAgaWYgKGNvbnRhaW5lclN0YXR1c2VzLmxlbmd0aCkgewogICAgICAgICAgdG90YWwgKz0gY29udGFpbmVyU3RhdHVzZXMucmVkdWNlKCh0b3QsIGNvbnRhaW5lcikgPT4gewogICAgICAgICAgICB0b3QgKz0gY29udGFpbmVyLnJlc3RhcnRDb3VudDsKCiAgICAgICAgICAgIHJldHVybiB0b3Q7CiAgICAgICAgICB9LCAwKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgfSwgMCk7CiAgICB9LAoKICAgIHBvZEhlYWRlcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd0eXBlLW1hcC9oZWFkZXJzRm9yJ10odGhpcy5wb2RTY2hlbWEpLmZpbHRlcigoaCkgPT4gaCAhPT0gTkFNRVNQQUNFX0NPTCk7CiAgICB9LAoKICAgIGdyYXBoVmFyc1dvcmtsb2FkKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS50eXBlID09PSBXT1JLTE9BRF9UWVBFUy5ERVBMT1lNRU5UID8gdGhpcy52YWx1ZS5yZXBsaWNhU2V0SWQgOiB0aGlzLnZhbHVlLnNob3J0SWQ7CiAgICB9LAoKICAgIGdyYXBoVmFycygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lc3BhY2U6IHRoaXMudmFsdWUubmFtZXNwYWNlLAogICAgICAgIGtpbmQ6ICAgICAgV09SS0xPQURfVFlQRV9UT19LSU5EX01BUFBJTkdbdGhpcy52YWx1ZS50eXBlXSwKICAgICAgICB3b3JrbG9hZDogIHRoaXMuZ3JhcGhWYXJzV29ya2xvYWQKICAgICAgfTsKICAgIH0sCgogICAgc2hvd1BvZEdhdWdlQ2lyY2xlcygpIHsKICAgICAgY29uc3QgcG9kR2F1Z2VzID0gT2JqZWN0LnZhbHVlcyh0aGlzLnZhbHVlLnBvZEdhdWdlcyk7CiAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy52YWx1ZS5wb2RzLmxlbmd0aDsKCiAgICAgIHJldHVybiAhcG9kR2F1Z2VzLmZpbmQoKHBnKSA9PiBwZy5jb3VudCA9PT0gdG90YWwpOwogICAgfSwKCiAgICBzaG93Sm9iR2F1Z2VDaXJjbGVzKCkgewogICAgICBjb25zdCBqb2JHYXVnZXMgPSBPYmplY3QudmFsdWVzKHRoaXMudmFsdWUuam9iR2F1Z2VzKTsKICAgICAgY29uc3QgdG90YWwgPSB0aGlzLmlzQ3JvbkpvYiA/IHRoaXMudG90YWxSdW5zIDogdGhpcy52YWx1ZS5wb2RzLmxlbmd0aDsKCiAgICAgIHJldHVybiAham9iR2F1Z2VzLmZpbmQoKGpnKSA9PiBqZy5jb3VudCA9PT0gdG90YWwpOwogICAgfSwKCiAgICBjYW5TY2FsZSgpIHsKICAgICAgcmV0dXJuICEhU0NBTEFCTEVfVFlQRVMuaW5jbHVkZXModGhpcy52YWx1ZS50eXBlKSAmJiB0aGlzLnZhbHVlLmNhblVwZGF0ZTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzY2FsZShpc1VwKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKGlzVXApIHsKICAgICAgICAgIGF3YWl0IHRoaXMudmFsdWUuc2NhbGVVcCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhd2FpdCB0aGlzLnZhbHVlLnNjYWxlRG93bigpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dyb3dsL2Zyb21FcnJvcicsIHsKICAgICAgICAgIHRpdGxlOiB0aGlzLnQoJ3dvcmtsb2FkLmxpc3QuZXJyb3JDYW5ub3RTY2FsZScsIHsgZGlyZWN0aW9uOiBpc1VwID8gJ3VwJyA6ICdkb3duJywgd29ya2xvYWROYW1lOiB0aGlzLnZhbHVlLm5hbWUgfSksCiAgICAgICAgICBlcnIKICAgICAgICB9LAogICAgICAgIHsgcm9vdDogdHJ1ZSB9KTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHNjYWxlRG93bigpIHsKICAgICAgYXdhaXQgdGhpcy5zY2FsZShmYWxzZSk7CiAgICB9LAogICAgYXN5bmMgc2NhbGVVcCgpIHsKICAgICAgYXdhaXQgdGhpcy5zY2FsZSh0cnVlKTsKICAgIH0sCiAgICBmaW5kTWF0Y2hpbmdTZXJ2aWNlcygpIHsKICAgICAgaWYgKCF0aGlzLnNlcnZpY2VTY2hlbWEpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgICAgY29uc3QgbWF0Y2hpbmdQb2RzID0gdGhpcy52YWx1ZS5wb2RzOwoKICAgICAgLy8gRmluZCBTZXJ2aWNlcyB0aGF0IGhhdmUgc2VsZWN0b3JzIHRoYXQgbWF0Y2ggdGhpcwogICAgICAvLyB3b3JrbG9hZCdzIFBvZChzKS4KICAgICAgY29uc3QgbWF0Y2hpbmdTZXJ2aWNlcyA9IHRoaXMuYWxsU2VydmljZXMuZmlsdGVyKChzZXJ2aWNlKSA9PiB7CiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSBzZXJ2aWNlLnNwZWMuc2VsZWN0b3I7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hpbmdQb2RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBwb2QgPSBtYXRjaGluZ1BvZHNbaV07CgogICAgICAgICAgaWYgKHNlcnZpY2UubWV0YWRhdGE/Lm5hbWVzcGFjZSA9PT0gdGhpcy52YWx1ZS5tZXRhZGF0YT8ubmFtZXNwYWNlICYmIG1hdGNoZXMocG9kLCBzZWxlY3RvcikpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwoKICAgICAgdGhpcy5tYXRjaGluZ1NlcnZpY2VzID0gbWF0Y2hpbmdTZXJ2aWNlczsKICAgIH0sCiAgICBmaW5kTWF0Y2hpbmdJbmdyZXNzZXMoKSB7CiAgICAgIGlmICghdGhpcy5pbmdyZXNzU2NoZW1hKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CgogICAgICAvLyBGaW5kIEluZ3Jlc3NlcyB0aGF0IGZvcndhcmQgdHJhZmZpYyB0byBTZXJ2aWNlcwogICAgICAvLyB0aGF0IHNlbGVjdCB0aGlzIHdvcmtsb2FkLgogICAgICBjb25zdCBtYXRjaGluZ0luZ3Jlc3NlcyA9IHRoaXMuYWxsSW5ncmVzc2VzLmZpbHRlcigoaW5ncmVzcykgPT4gewogICAgICAgIGNvbnN0IHJ1bGVzID0gaW5ncmVzcy5zcGVjLnJ1bGVzOwoKICAgICAgICBpZiAocnVsZXMpIHsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgcnVsZSA9IHJ1bGVzW2ldOwoKICAgICAgICAgICAgY29uc3QgcGF0aHMgPSBydWxlLmh0dHAucGF0aHM7CgogICAgICAgICAgICBpZiAocGF0aHMpIHsKICAgICAgICAgICAgICAvLyBGb3IgZWFjaCBJbmdyZXNzLCBjaGVjayBpZiBhbnkgU2VydmljZXMgdGhhdCBtYXRjaAogICAgICAgICAgICAgIC8vIHRoaXMgd29ya2xvYWQgYXJlIGFsc28gdGFyZ2V0IGJhY2tlbmRzIGZvciB0aGUgSW5ncmVzcy4KICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhdGhzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwYXRoRGF0YSA9IHBhdGhzW2pdOwogICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0U2VydmljZU5hbWUgPSBwYXRoRGF0YS5iYWNrZW5kLnNlcnZpY2UubmFtZTsKCiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHRoaXMubWF0Y2hpbmdTZXJ2aWNlcy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5tYXRjaGluZ1NlcnZpY2VzW2tdOwogICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGluZ1NlcnZpY2VOYW1lID0gc2VydmljZS5tZXRhZGF0YT8ubmFtZTsKCiAgICAgICAgICAgICAgICAgIGlmIChpbmdyZXNzLm1ldGFkYXRhPy5uYW1lc3BhY2UgPT09IHRoaXMudmFsdWUubWV0YWRhdGE/Lm5hbWVzcGFjZSAmJiBtYXRjaGluZ1NlcnZpY2VOYW1lID09PSB0YXJnZXRTZXJ2aWNlTmFtZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwoKICAgICAgdGhpcy5tYXRjaGluZ0luZ3Jlc3NlcyA9IG1hdGNoaW5nSW5ncmVzc2VzOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/detail/workload","sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { NAMESPACE as NAMESPACE_COL } from '@shell/config/table-headers';\nimport {\n  POD, WORKLOAD_TYPES, SCALABLE_WORKLOAD_TYPES, SERVICE, INGRESS, NODE, NAMESPACE,\n} from '@shell/config/types';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport Loading from '@shell/components/Loading';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport CountGauge from '@shell/components/CountGauge';\nimport { allHash } from '@shell/utils/promise';\nimport DashboardMetrics from '@shell/components/DashboardMetrics';\nimport V1WorkloadMetrics from '@shell/mixins/v1-workload-metrics';\nimport { mapGetters } from 'vuex';\nimport { allDashboardsExist } from '@shell/utils/grafana';\nimport PlusMinus from '@shell/components/form/PlusMinus';\nimport { matches } from '@shell/utils/selector';\nimport { PROJECT } from '@shell/config/labels-annotations';\n\nconst SCALABLE_TYPES = Object.values(SCALABLE_WORKLOAD_TYPES);\nconst WORKLOAD_METRICS_DETAIL_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-workload-pods-1/rancher-workload-pods?orgId=1';\nconst WORKLOAD_METRICS_SUMMARY_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-workload-1/rancher-workload?orgId=1';\n\nexport const WORKLOAD_TYPE_TO_KIND_MAPPING = {\n  // Each deployment creates a replicaset and the metrics are published for a replicaset.\n  [WORKLOAD_TYPES.DEPLOYMENT]:             'ReplicaSet',\n  [WORKLOAD_TYPES.CRON_JOB]:               'CronJob',\n  [WORKLOAD_TYPES.DAEMON_SET]:             'DaemonSet',\n  [WORKLOAD_TYPES.JOB]:                    'Job',\n  [WORKLOAD_TYPES.STATEFUL_SET]:           'StatefulSet',\n  [WORKLOAD_TYPES.REPLICA_SET]:            'ReplicaSet',\n  [WORKLOAD_TYPES.REPLICATION_CONTROLLER]: 'ReplicationController',\n};\n\nconst METRICS_SUPPORTED_KINDS = [\n  WORKLOAD_TYPES.DAEMON_SET,\n  WORKLOAD_TYPES.REPLICA_SET,\n  WORKLOAD_TYPES.STATEFUL_SET,\n  WORKLOAD_TYPES.DEPLOYMENT\n];\n\nexport default {\n  components: {\n    DashboardMetrics,\n    Tab,\n    Loading,\n    ResourceTabs,\n    CountGauge,\n    ResourceTable,\n    PlusMinus\n  },\n\n  mixins: [CreateEditView, V1WorkloadMetrics],\n\n  async fetch() {\n    let hasNodes = false;\n\n    try {\n      const inStore = this.$store.getters['currentStore']();\n      const schema = this.$store.getters[`${ inStore }/schemaFor`](NODE);\n\n      if (schema) {\n        hasNodes = true;\n      }\n    } catch {}\n\n    const hash = {\n      allPods:      this.$store.dispatch('cluster/findAll', { type: POD }),\n      allServices:  this.$store.dispatch('cluster/findAll', { type: SERVICE }),\n      allIngresses: this.$store.dispatch('cluster/findAll', { type: INGRESS }),\n      // Nodes should be fetched because they may be referenced in the target\n      // column of a service list item.\n      allNodes:     hasNodes ? this.$store.dispatch('cluster/findAll', { type: NODE }) : []\n    };\n\n    if (this.value.type === WORKLOAD_TYPES.CRON_JOB) {\n      hash.allJobs = this.$store.dispatch('cluster/findAll', { type: WORKLOAD_TYPES.JOB });\n    }\n    const res = await allHash(hash);\n\n    for ( const k in res ) {\n      this[k] = res[k];\n    }\n\n    const isMetricsSupportedKind = METRICS_SUPPORTED_KINDS.includes(this.value.type);\n\n    this.showMetrics = isMetricsSupportedKind && await allDashboardsExist(this.$store, this.currentCluster.id, [WORKLOAD_METRICS_DETAIL_URL, WORKLOAD_METRICS_SUMMARY_URL]);\n    if (!this.showMetrics) {\n      const namespace = await this.$store.dispatch('cluster/find', { type: NAMESPACE, id: this.value.metadata.namespace });\n\n      const projectId = namespace?.metadata?.labels[PROJECT];\n\n      if (projectId) {\n        this.WORKLOAD_PROJECT_METRICS_DETAIL_URL = `/api/v1/namespaces/cattle-project-${ projectId }-monitoring/services/http:cattle-project-${ projectId }-monitoring-grafana:80/proxy/d/rancher-pod-containers-1/rancher-workload-pods?orgId=1'`;\n        this.WORKLOAD_PROJECT_METRICS_SUMMARY_URL = `/api/v1/namespaces/cattle-project-${ projectId }-monitoring/services/http:cattle-project-${ projectId }-monitoring-grafana:80/proxy/d/rancher-pod-1/rancher-workload?orgId=1`;\n\n        this.showProjectMetrics = await allDashboardsExist(this.$store, this.currentCluster.id, [this.WORKLOAD_PROJECT_METRICS_DETAIL_URL, this.WORKLOAD_PROJECT_METRICS_SUMMARY_URL], 'cluster', projectId);\n      }\n    }\n    this.findMatchingServices();\n    this.findMatchingIngresses();\n  },\n\n  data() {\n    return {\n      allPods:                         [],\n      allServices:                     [],\n      allIngresses:                    [],\n      matchingServices:                [],\n      matchingIngresses:               [],\n      allJobs:                         [],\n      allNodes:                        [],\n      WORKLOAD_METRICS_DETAIL_URL,\n      WORKLOAD_METRICS_SUMMARY_URL,\n      POD_PROJECT_METRICS_DETAIL_URL:  '',\n      POD_PROJECT_METRICS_SUMMARY_URL: '',\n      showMetrics:                     false,\n      showProjectMetrics:              false,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    isScalable() {\n      return this.value?.canUpdate;\n    },\n\n    isJob() {\n      return this.value.type === WORKLOAD_TYPES.JOB;\n    },\n\n    isCronJob() {\n      return this.value.type === WORKLOAD_TYPES.CRON_JOB;\n    },\n\n    isPod() {\n      return this.value.type === POD;\n    },\n\n    podSchema() {\n      return this.$store.getters['cluster/schemaFor'](POD);\n    },\n\n    ingressSchema() {\n      return this.$store.getters['cluster/schemaFor'](INGRESS);\n    },\n\n    serviceSchema() {\n      return this.$store.getters['cluster/schemaFor'](SERVICE);\n    },\n\n    podTemplateSpec() {\n      if ( this.value.type === WORKLOAD_TYPES.CRON_JOB ) {\n        return this.value.spec.jobTemplate.spec.template.spec;\n      }\n\n      // This is for viewing\n      if ( this.value.type === POD ) {\n        return this.value;\n      }\n\n      return this.value.spec?.template?.spec;\n    },\n\n    container() {\n      return this.podTemplateSpec?.containers[0];\n    },\n\n    jobSchema() {\n      return this.$store.getters['cluster/schemaFor'](WORKLOAD_TYPES.JOB);\n    },\n\n    jobHeaders() {\n      return this.$store.getters['type-map/headersFor'](this.jobSchema);\n    },\n    ingressHeaders() {\n      return this.$store.getters['type-map/headersFor'](this.ingressSchema);\n    },\n    serviceHeaders() {\n      return this.$store.getters['type-map/headersFor'](this.serviceSchema);\n    },\n\n    totalRuns() {\n      if (!this.value.jobs) {\n        return;\n      }\n\n      return this.value.jobs.reduce((total, job) => {\n        const { status = {} } = job;\n\n        total += (status.active || 0);\n        total += (status.succeeded || 0);\n        total += (status.failed || 0);\n\n        return total;\n      }, 0);\n    },\n\n    podRestarts() {\n      return this.value.pods.reduce((total, pod) => {\n        const { status:{ containerStatuses = [] } } = pod;\n\n        if (containerStatuses.length) {\n          total += containerStatuses.reduce((tot, container) => {\n            tot += container.restartCount;\n\n            return tot;\n          }, 0);\n        }\n\n        return total;\n      }, 0);\n    },\n\n    podHeaders() {\n      return this.$store.getters['type-map/headersFor'](this.podSchema).filter((h) => h !== NAMESPACE_COL);\n    },\n\n    graphVarsWorkload() {\n      return this.value.type === WORKLOAD_TYPES.DEPLOYMENT ? this.value.replicaSetId : this.value.shortId;\n    },\n\n    graphVars() {\n      return {\n        namespace: this.value.namespace,\n        kind:      WORKLOAD_TYPE_TO_KIND_MAPPING[this.value.type],\n        workload:  this.graphVarsWorkload\n      };\n    },\n\n    showPodGaugeCircles() {\n      const podGauges = Object.values(this.value.podGauges);\n      const total = this.value.pods.length;\n\n      return !podGauges.find((pg) => pg.count === total);\n    },\n\n    showJobGaugeCircles() {\n      const jobGauges = Object.values(this.value.jobGauges);\n      const total = this.isCronJob ? this.totalRuns : this.value.pods.length;\n\n      return !jobGauges.find((jg) => jg.count === total);\n    },\n\n    canScale() {\n      return !!SCALABLE_TYPES.includes(this.value.type) && this.value.canUpdate;\n    },\n  },\n  methods: {\n    async scale(isUp) {\n      try {\n        if (isUp) {\n          await this.value.scaleUp();\n        } else {\n          await this.value.scaleDown();\n        }\n      } catch (err) {\n        this.$store.dispatch('growl/fromError', {\n          title: this.t('workload.list.errorCannotScale', { direction: isUp ? 'up' : 'down', workloadName: this.value.name }),\n          err\n        },\n        { root: true });\n      }\n    },\n    async scaleDown() {\n      await this.scale(false);\n    },\n    async scaleUp() {\n      await this.scale(true);\n    },\n    findMatchingServices() {\n      if (!this.serviceSchema) {\n        return [];\n      }\n      const matchingPods = this.value.pods;\n\n      // Find Services that have selectors that match this\n      // workload's Pod(s).\n      const matchingServices = this.allServices.filter((service) => {\n        const selector = service.spec.selector;\n\n        for (let i = 0; i < matchingPods.length; i++) {\n          const pod = matchingPods[i];\n\n          if (service.metadata?.namespace === this.value.metadata?.namespace && matches(pod, selector)) {\n            return true;\n          }\n        }\n\n        return false;\n      });\n\n      this.matchingServices = matchingServices;\n    },\n    findMatchingIngresses() {\n      if (!this.ingressSchema) {\n        return [];\n      }\n\n      // Find Ingresses that forward traffic to Services\n      // that select this workload.\n      const matchingIngresses = this.allIngresses.filter((ingress) => {\n        const rules = ingress.spec.rules;\n\n        if (rules) {\n          for (let i = 0; i < rules.length; i++) {\n            const rule = rules[i];\n\n            const paths = rule.http.paths;\n\n            if (paths) {\n              // For each Ingress, check if any Services that match\n              // this workload are also target backends for the Ingress.\n              for (let j = 0; j < paths.length; j++) {\n                const pathData = paths[j];\n                const targetServiceName = pathData.backend.service.name;\n\n                for (let k = 0; k < this.matchingServices.length; k++) {\n                  const service = this.matchingServices[k];\n                  const matchingServiceName = service.metadata?.name;\n\n                  if (ingress.metadata?.namespace === this.value.metadata?.namespace && matchingServiceName === targetServiceName) {\n                    return true;\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        return false;\n      });\n\n      this.matchingIngresses = matchingIngresses;\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div\n      v-if=\"canScale\"\n      class=\"right-align flex\"\n    >\n      <PlusMinus\n        class=\"text-right\"\n        :label=\"t('tableHeaders.scale')\"\n        :value=\"value.spec.replicas\"\n        :disabled=\"!isScalable\"\n        @minus=\"scaleDown\"\n        @plus=\"scaleUp\"\n      />\n    </div>\n    <h3>\n      {{ isJob || isCronJob ? t('workload.detailTop.runs') :t('workload.detailTop.pods') }}\n    </h3>\n    <div\n      v-if=\"value.pods || value.jobGauges\"\n      class=\"gauges mb-20\"\n      :class=\"{'gauges__pods': !!value.pods}\"\n    >\n      <template v-if=\"value.jobGauges\">\n        <CountGauge\n          v-for=\"(group, key) in value.jobGauges\"\n          :key=\"key\"\n          :total=\"isCronJob? totalRuns : value.pods.length\"\n          :useful=\"group.count || 0\"\n          :graphical=\"showJobGaugeCircles\"\n          :primary-color-var=\"`--sizzle-${group.color}`\"\n          :name=\"t(`workload.gaugeStates.${key}`)\"\n        />\n      </template>\n      <template v-else>\n        <CountGauge\n          v-for=\"(group, key) in value.podGauges\"\n          :key=\"key\"\n          :total=\"value.pods.length\"\n          :useful=\"group.count || 0\"\n          :graphical=\"showPodGaugeCircles\"\n          :primary-color-var=\"`--sizzle-${group.color}`\"\n          :name=\"key\"\n        />\n      </template>\n    </div>\n    <ResourceTabs\n      :value=\"value\"\n    >\n      <Tab\n        v-if=\"isCronJob\"\n        name=\"jobs\"\n        :label=\"t('tableHeaders.jobs')\"\n        :weight=\"4\"\n      >\n        <ResourceTable\n          :rows=\"value.jobs\"\n          :headers=\"jobHeaders\"\n          key-field=\"id\"\n          :schema=\"jobSchema\"\n          :groupable=\"false\"\n          :search=\"false\"\n        />\n      </Tab>\n      <Tab\n        v-else\n        name=\"pods\"\n        :label=\"t('tableHeaders.pods')\"\n        :weight=\"4\"\n      >\n        <ResourceTable\n          v-if=\"value.pods\"\n          :rows=\"value.pods\"\n          :headers=\"podHeaders\"\n          key-field=\"id\"\n          :schema=\"podSchema\"\n          :groupable=\"false\"\n          :search=\"false\"\n        />\n      </Tab>\n      <Tab\n        v-if=\"showMetrics\"\n        :label=\"t('workload.container.titles.metrics')\"\n        name=\"workload-metrics\"\n        :weight=\"3\"\n      >\n        <template #default=\"props\">\n          <DashboardMetrics\n            v-if=\"props.active\"\n            :detail-url=\"WORKLOAD_METRICS_DETAIL_URL\"\n            :summary-url=\"WORKLOAD_METRICS_SUMMARY_URL\"\n            :vars=\"graphVars\"\n            graph-height=\"550px\"\n          />\n        </template>\n      </Tab>\n      <Tab\n        v-if=\"showProjectMetrics\"\n        :label=\"t('workload.container.titles.metrics')\"\n        name=\"workload-metrics\"\n        :weight=\"3\"\n      >\n        <template #default=\"props\">\n          <DashboardMetrics\n            v-if=\"props.active\"\n            :detail-url=\"WORKLOAD_PROJECT_METRICS_DETAIL_URL\"\n            :summary-url=\"WORKLOAD_PROJECT_METRICS_SUMMARY_URL\"\n            :vars=\"graphVars\"\n            graph-height=\"550px\"\n          />\n        </template>\n      </Tab>\n      <Tab\n        v-if=\"v1MonitoringUrl\"\n        name=\"v1Metrics\"\n        :label=\"t('node.detail.tab.metrics')\"\n        :weight=\"10\"\n      >\n        <div id=\"ember-anchor\">\n          <EmberPage\n            inline=\"ember-anchor\"\n            :src=\"v1MonitoringUrl\"\n          />\n        </div>\n      </Tab>\n      <Tab\n        v-if=\"!isJob && !isCronJob\"\n        name=\"services\"\n        :label=\"t('workload.detail.services')\"\n        :weight=\"3\"\n      >\n        <p\n          v-if=\"!serviceSchema\"\n          class=\"caption\"\n        >\n          {{ t('workload.detail.cannotViewServices') }}\n        </p>\n        <p\n          v-else-if=\"matchingServices.length === 0\"\n          class=\"caption\"\n        >\n          {{ t('workload.detail.cannotFindServices') }}\n        </p>\n        <p\n          v-else\n          class=\"caption\"\n        >\n          {{ t('workload.detail.serviceListCaption') }}\n        </p>\n        <ResourceTable\n          v-if=\"serviceSchema && matchingServices.length > 0\"\n          :rows=\"matchingServices\"\n          :headers=\"serviceHeaders\"\n          key-field=\"id\"\n          :schema=\"serviceSchema\"\n          :groupable=\"false\"\n          :search=\"false\"\n          :table-actions=\"false\"\n        />\n      </Tab>\n      <Tab\n        v-if=\"!isJob && !isCronJob\"\n        name=\"ingresses\"\n        :label=\"t('workload.detail.ingresses')\"\n        :weight=\"2\"\n      >\n        <p\n          v-if=\"!serviceSchema\"\n          class=\"caption\"\n        >\n          {{ t('workload.detail.cannotViewIngressesBecauseCannotViewServices') }}\n        </p>\n        <p\n          v-else-if=\"!ingressSchema\"\n          class=\"caption\"\n        >\n          {{ t('workload.detail.cannotViewIngresses') }}\n        </p>\n        <p\n          v-else-if=\"matchingIngresses.length === 0\"\n          class=\"caption\"\n        >\n          {{ t('workload.detail.cannotFindIngresses') }}\n        </p>\n        <p\n          v-else\n          class=\"caption\"\n        >\n          {{ t('workload.detail.ingressListCaption') }}\n        </p>\n        <ResourceTable\n          v-if=\"ingressSchema && matchingIngresses.length > 0\"\n          :rows=\"matchingIngresses\"\n          :headers=\"ingressHeaders\"\n          key-field=\"id\"\n          :schema=\"ingressSchema\"\n          :groupable=\"false\"\n          :search=\"false\"\n          :table-actions=\"false\"\n        />\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.right-align {\n  float: right;\n}\n.gauges {\n  display: flex;\n  justify-content: space-around;\n  &>*{\n    flex: 1;\n    margin-right: $column-gutter;\n  }\n  &__pods {\n    flex-wrap: wrap;\n    justify-content: left;\n    .count-gauge {\n      width: 23%;\n      margin-bottom: 10px;\n      flex: initial;\n    }\n  }\n}\n.caption {\n  margin-bottom: .5em;\n}\n</style>\n"]}]}