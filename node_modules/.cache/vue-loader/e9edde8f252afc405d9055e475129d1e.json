{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/chart/monitoring/prometheus/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/chart/monitoring/prometheus/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBpc0VtcHR5IGZyb20gJ2xvZGFzaC9pc0VtcHR5JzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwoKaW1wb3J0IHsgQmFubmVyIH0gZnJvbSAnQGNvbXBvbmVudHMvQmFubmVyJzsKaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAY29tcG9uZW50cy9Gb3JtL0NoZWNrYm94JzsKaW1wb3J0IHsgTGFiZWxlZElucHV0IH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9MYWJlbGVkSW5wdXQnOwppbXBvcnQgTGFiZWxlZFNlbGVjdCBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL0xhYmVsZWRTZWxlY3QnOwppbXBvcnQgTWF0Y2hFeHByZXNzaW9ucyBmcm9tICdAc2hlbGwvY29tcG9uZW50cy9mb3JtL01hdGNoRXhwcmVzc2lvbnMnOwppbXBvcnQgU3RvcmFnZUNsYXNzU2VsZWN0b3IgZnJvbSAnQHNoZWxsL2NoYXJ0L21vbml0b3JpbmcvU3RvcmFnZUNsYXNzU2VsZWN0b3InOwppbXBvcnQgeyBSYWRpb0dyb3VwIH0gZnJvbSAnQGNvbXBvbmVudHMvRm9ybS9SYWRpbyc7CgppbXBvcnQgeyBzZXQgfSBmcm9tICdAc2hlbGwvdXRpbHMvb2JqZWN0JzsKaW1wb3J0IHsgc2ltcGxpZnksIGNvbnZlcnQgfSBmcm9tICdAc2hlbGwvdXRpbHMvc2VsZWN0b3InOwppbXBvcnQgeyBQT0QgfSBmcm9tICdAc2hlbGwvY29uZmlnL3R5cGVzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYW5uZXIsCiAgICBDaGVja2JveCwKICAgIExhYmVsZWRJbnB1dCwKICAgIExhYmVsZWRTZWxlY3QsCiAgICBNYXRjaEV4cHJlc3Npb25zLAogICAgUmFkaW9Hcm91cCwKICAgIFN0b3JhZ2VDbGFzc1NlbGVjdG9yLAogIH0sCgogIHByb3BzOiB7CiAgICBhY2Nlc3NNb2RlczogewogICAgICB0eXBlOiAgICAgQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6ICAgIFN0cmluZywKICAgICAgZGVmYXVsdDogJ2NyZWF0ZScsCiAgICB9LAoKICAgIHByb21ldGhldXNQb2RzOiB7CiAgICAgIHR5cGU6ICAgIEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiAoW10pLAogICAgfSwKCiAgICBzdG9yYWdlQ2xhc3NlczogewogICAgICB0eXBlOiAgICBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gKFtdKSwKICAgIH0sCgogICAgdmFsdWU6IHsKICAgICAgdHlwZTogICAgT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiAoe30pLAogICAgfSwKCiAgICB3b3JrbG9hZHM6IHsKICAgICAgdHlwZTogICAgQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IChbXSksCiAgICB9LAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbmFibGVQZXJzaXN0ZW50U3RvcmFnZTogISF0aGlzLnZhbHVlPy5wcm9tZXRoZXVzPy5wcm9tZXRoZXVzU3BlYz8uc3RvcmFnZVNwZWM/LnZvbHVtZUNsYWltVGVtcGxhdGU/LnNwZWMsCiAgICAgIHdhcm5Vc2VyOiAgICAgICAgICAgICAgICBmYWxzZSwKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWydjdXJyZW50Q2x1c3RlciddKSwKICAgIG1hdGNoRXhwcmVzc2lvbnM6IHsKICAgICAgZ2V0KCkgewogICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy52YWx1ZT8ucHJvbWV0aGV1cz8ucHJvbWV0aGV1c1NwZWM/LnN0b3JhZ2VTcGVjPy52b2x1bWVDbGFpbVRlbXBsYXRlPy5zcGVjPy5zZWxlY3RvcjsKICAgICAgICBsZXQgbWF0Y2hFeHByZXNzaW9uczsKCiAgICAgICAgaWYgKHNlbGVjdG9yICYmIHNlbGVjdG9yPy5tYXRjaEV4cHJlc3Npb25zKSB7CiAgICAgICAgICBtYXRjaEV4cHJlc3Npb25zID0gY29udmVydCgoc2VsZWN0b3I/Lm1hdGNoTGFiZWxzIHx8IHt9KSwgc2VsZWN0b3I/Lm1hdGNoRXhwcmVzc2lvbnMpOwoKICAgICAgICAgIHJldHVybiBtYXRjaEV4cHJlc3Npb25zOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZmlsdGVyZWRXb3JrbG9hZHMoKSB7CiAgICAgIGxldCB7IHdvcmtsb2FkcyB9ID0gdGhpczsKICAgICAgY29uc3QgeyBleGlzdGluZyA9IGZhbHNlIH0gPSB0aGlzLiRhdHRyczsKCiAgICAgIGlmICghZXhpc3RpbmcpIHsKICAgICAgICB3b3JrbG9hZHMgPSB3b3JrbG9hZHMuZmlsdGVyKCh3b3JrbG9hZCkgPT4gewogICAgICAgICAgaWYgKAogICAgICAgICAgICAhaXNFbXB0eSh3b3JrbG9hZD8uc3BlYz8udGVtcGxhdGU/LnNwZWM/LmNvbnRhaW5lcnMpICYmCiAgICAgICAgICAgICh3b3JrbG9hZC5zcGVjLnRlbXBsYXRlLnNwZWMuY29udGFpbmVycy5maW5kKChjKSA9PiBjLmltYWdlLmluY2x1ZGVzKCdxdWF5LmlvL2NvcmVvcy9wcm9tZXRoZXVzLW9wZXJhdG9yJykgfHwKICAgICAgICAgICAgICBjLmltYWdlLmluY2x1ZGVzKCdyYW5jaGVyL2NvcmVvcy1wcm9tZXRoZXVzLW9wZXJhdG9yJykpCiAgICAgICAgICAgICkKICAgICAgICAgICkgewogICAgICAgICAgICBpZiAoIXRoaXMud2FyblVzZXIpIHsKICAgICAgICAgICAgICB0aGlzLndhcm5Vc2VyID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHdvcmtsb2FkOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gd29ya2xvYWRzLm1hcCgod2wpID0+IHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGFiZWw6IHdsLmlkLAogICAgICAgICAgbGluazogIHsKICAgICAgICAgICAgbmFtZTogICAnYy1jbHVzdGVyLXByb2R1Y3QtcmVzb3VyY2UtbmFtZXNwYWNlLWlkJywKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgY2x1c3RlcjogICB0aGlzLmN1cnJlbnRDbHVzdGVyLmlkLAogICAgICAgICAgICAgIHByb2R1Y3Q6ICAgJ2V4cGxvcmVyJywKICAgICAgICAgICAgICByZXNvdXJjZTogIHdsLnR5cGUsCiAgICAgICAgICAgICAgbmFtZXNwYWNlOiB3bC5tZXRhZGF0YS5uYW1lc3BhY2UsCiAgICAgICAgICAgICAgaWQ6ICAgICAgICB3bC5tZXRhZGF0YS5uYW1lCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAoKICAgIHBvZHNBbmROYW1lc3BhY2VzKCkgewogICAgICBjb25zdCB7IHByb21ldGhldXNQb2RzIH0gPSB0aGlzOwogICAgICBjb25zdCBwb2RzID0gW107CgogICAgICBwcm9tZXRoZXVzUG9kcy5mb3JFYWNoKChwb2QpID0+IHsKICAgICAgICBwb2RzLnB1c2goewogICAgICAgICAgbGFiZWw6IHBvZC5pZCwKICAgICAgICAgIGxpbms6ICB7CiAgICAgICAgICAgIG5hbWU6ICAgJ2MtY2x1c3Rlci1wcm9kdWN0LXJlc291cmNlLW5hbWVzcGFjZS1pZCcsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIGNsdXN0ZXI6IHRoaXMuY3VycmVudENsdXN0ZXIuaWQsIHByb2R1Y3Q6ICdleHBsb3JlcicsIHJlc291cmNlOiBQT0QsIG5hbWVzcGFjZTogcG9kLm1ldGFkYXRhLm5hbWVzcGFjZSwgaWQ6IHBvZC5tZXRhZGF0YS5uYW1lCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIHBvZHM7CiAgICB9LAoKICAgIHNob3dTdG9yYWdlQ2xhc3NlcygpIHsKICAgICAgY29uc3QgeyBzdG9yYWdlQ2xhc3NlcyB9ID0gdGhpczsKCiAgICAgIHJldHVybiAoc3RvcmFnZUNsYXNzZXMgfHwgW10pLmxlbmd0aCA+PSAxOwogICAgfSwKICB9LAoKICB3YXRjaDogewogICAgZW5hYmxlUGVyc2lzdGVudFN0b3JhZ2UoZW5hYmxlZCkgewogICAgICBpZiAoISFlbmFibGVkKSB7CiAgICAgICAgdGhpcy4kc2V0KAogICAgICAgICAgdGhpcy52YWx1ZS5wcm9tZXRoZXVzLnByb21ldGhldXNTcGVjLnN0b3JhZ2VTcGVjLAogICAgICAgICAgJ3ZvbHVtZUNsYWltVGVtcGxhdGUnLAogICAgICAgICAgewogICAgICAgICAgICBzcGVjOiB7CiAgICAgICAgICAgICAgYWNjZXNzTW9kZXM6IFsnUmVhZFdyaXRlT25jZSddLAogICAgICAgICAgICAgIHJlc291cmNlczogICB7IHJlcXVlc3RzOiB7IHN0b3JhZ2U6ICc1MEdpJyB9IH0sCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGRlbGV0ZSgKICAgICAgICAgIHRoaXMudmFsdWUucHJvbWV0aGV1cy5wcm9tZXRoZXVzU3BlYy5zdG9yYWdlU3BlYywKICAgICAgICAgICd2b2x1bWVDbGFpbVRlbXBsYXRlJwogICAgICAgICk7CiAgICAgIH0KICAgIH0sCiAgfSwKCiAgbWV0aG9kczogewogICAgc2V0LAoKICAgIG1hdGNoQ2hhbmdlZChleHByZXNzaW9ucykgewogICAgICBjb25zdCB7IG1hdGNoTGFiZWxzLCBtYXRjaEV4cHJlc3Npb25zIH0gPSBzaW1wbGlmeShleHByZXNzaW9ucyk7CiAgICAgIGNvbnN0IHN0b3JhZ2VTcGVjID0gdGhpcy52YWx1ZS5wcm9tZXRoZXVzLnByb21ldGhldXNTcGVjLnN0b3JhZ2VTcGVjLnZvbHVtZUNsYWltVGVtcGxhdGUuc3BlYzsKCiAgICAgIGlmICghc3RvcmFnZVNwZWM/LnNlbGVjdG9yKSB7CiAgICAgICAgc3RvcmFnZVNwZWNbJ3NlbGVjdG9yJ10gPSB7IG1hdGNoRXhwcmVzc2lvbnM6IFtdLCBtYXRjaExhYmVsczoge30gfTsKICAgICAgfQoKICAgICAgdGhpcy4kc2V0KHN0b3JhZ2VTcGVjLnNlbGVjdG9yLCAnbWF0Y2hMYWJlbHMnLCBtYXRjaExhYmVscyk7CiAgICAgIHRoaXMuJHNldChzdG9yYWdlU3BlYy5zZWxlY3RvciwgJ21hdGNoRXhwcmVzc2lvbnMnLCBtYXRjaEV4cHJlc3Npb25zKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/chart/monitoring/prometheus","sourcesContent":["<script>\nimport isEmpty from 'lodash/isEmpty';\nimport { mapGetters } from 'vuex';\n\nimport { Banner } from '@components/Banner';\nimport { Checkbox } from '@components/Form/Checkbox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport MatchExpressions from '@shell/components/form/MatchExpressions';\nimport StorageClassSelector from '@shell/chart/monitoring/StorageClassSelector';\nimport { RadioGroup } from '@components/Form/Radio';\n\nimport { set } from '@shell/utils/object';\nimport { simplify, convert } from '@shell/utils/selector';\nimport { POD } from '@shell/config/types';\n\nexport default {\n  components: {\n    Banner,\n    Checkbox,\n    LabeledInput,\n    LabeledSelect,\n    MatchExpressions,\n    RadioGroup,\n    StorageClassSelector,\n  },\n\n  props: {\n    accessModes: {\n      type:     Array,\n      required: true,\n    },\n\n    mode: {\n      type:    String,\n      default: 'create',\n    },\n\n    prometheusPods: {\n      type:    Array,\n      default: () => ([]),\n    },\n\n    storageClasses: {\n      type:    Array,\n      default: () => ([]),\n    },\n\n    value: {\n      type:    Object,\n      default: () => ({}),\n    },\n\n    workloads: {\n      type:    Array,\n      default: () => ([]),\n    },\n  },\n\n  data() {\n    return {\n      enablePersistentStorage: !!this.value?.prometheus?.prometheusSpec?.storageSpec?.volumeClaimTemplate?.spec,\n      warnUser:                false,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    matchExpressions: {\n      get() {\n        const selector = this.value?.prometheus?.prometheusSpec?.storageSpec?.volumeClaimTemplate?.spec?.selector;\n        let matchExpressions;\n\n        if (selector && selector?.matchExpressions) {\n          matchExpressions = convert((selector?.matchLabels || {}), selector?.matchExpressions);\n\n          return matchExpressions;\n        } else {\n          return [];\n        }\n      }\n    },\n    filteredWorkloads() {\n      let { workloads } = this;\n      const { existing = false } = this.$attrs;\n\n      if (!existing) {\n        workloads = workloads.filter((workload) => {\n          if (\n            !isEmpty(workload?.spec?.template?.spec?.containers) &&\n            (workload.spec.template.spec.containers.find((c) => c.image.includes('quay.io/coreos/prometheus-operator') ||\n              c.image.includes('rancher/coreos-prometheus-operator'))\n            )\n          ) {\n            if (!this.warnUser) {\n              this.warnUser = true;\n            }\n\n            return workload;\n          }\n        });\n      }\n\n      return workloads.map((wl) => {\n        return {\n          label: wl.id,\n          link:  {\n            name:   'c-cluster-product-resource-namespace-id',\n            params: {\n              cluster:   this.currentCluster.id,\n              product:   'explorer',\n              resource:  wl.type,\n              namespace: wl.metadata.namespace,\n              id:        wl.metadata.name\n            },\n          }\n        };\n      });\n    },\n\n    podsAndNamespaces() {\n      const { prometheusPods } = this;\n      const pods = [];\n\n      prometheusPods.forEach((pod) => {\n        pods.push({\n          label: pod.id,\n          link:  {\n            name:   'c-cluster-product-resource-namespace-id',\n            params: {\n              cluster: this.currentCluster.id, product: 'explorer', resource: POD, namespace: pod.metadata.namespace, id: pod.metadata.name\n            },\n          }\n        });\n      });\n\n      return pods;\n    },\n\n    showStorageClasses() {\n      const { storageClasses } = this;\n\n      return (storageClasses || []).length >= 1;\n    },\n  },\n\n  watch: {\n    enablePersistentStorage(enabled) {\n      if (!!enabled) {\n        this.$set(\n          this.value.prometheus.prometheusSpec.storageSpec,\n          'volumeClaimTemplate',\n          {\n            spec: {\n              accessModes: ['ReadWriteOnce'],\n              resources:   { requests: { storage: '50Gi' } },\n            }\n          }\n        );\n      } else {\n        this.$delete(\n          this.value.prometheus.prometheusSpec.storageSpec,\n          'volumeClaimTemplate'\n        );\n      }\n    },\n  },\n\n  methods: {\n    set,\n\n    matchChanged(expressions) {\n      const { matchLabels, matchExpressions } = simplify(expressions);\n      const storageSpec = this.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec;\n\n      if (!storageSpec?.selector) {\n        storageSpec['selector'] = { matchExpressions: [], matchLabels: {} };\n      }\n\n      this.$set(storageSpec.selector, 'matchLabels', matchLabels);\n      this.$set(storageSpec.selector, 'matchExpressions', matchExpressions);\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"title\">\n      <h3>{{ t('monitoring.prometheus.title') }}</h3>\n    </div>\n    <Banner\n      v-if=\"filteredWorkloads && warnUser\"\n      color=\"warning\"\n    >\n      <template #default>\n        <t\n          k=\"monitoring.prometheus.warningInstalled\"\n          :raw=\"true\"\n        />\n        <div\n          v-for=\"wl in filteredWorkloads\"\n          :key=\"wl.id\"\n          class=\"mt-10\"\n        >\n          <nuxt-link\n            :to=\"wl.link\"\n            class=\"btn role-tertiary\"\n          >\n            {{ wl.label }}\n          </nuxt-link>\n        </div>\n      </template>\n    </Banner>\n    <div class=\"prometheus-config\">\n      <div class=\"row\">\n        <div class=\"col span-6 col-full-height\">\n          <Checkbox\n            v-model=\"value.prometheus.prometheusSpec.enableAdminAPI\"\n            :label=\"t('monitoring.prometheus.config.adminApi')\"\n          />\n        </div>\n        <div class=\"col span-6 col-full-height\">\n          <RadioGroup\n            v-model=\"value.prometheus.prometheusSpec.ignoreNamespaceSelectors\"\n            :mode=\"mode\"\n            name=\"ignoreNamespaceSelectors\"\n            label-key=\"monitoring.prometheus.config.ignoreNamespaceSelectors.label\"\n            :tooltip=\"t('monitoring.prometheus.config.ignoreNamespaceSelectors.help', {}, true)\"\n            :labels=\"[t('monitoring.prometheus.config.ignoreNamespaceSelectors.radio.enforced'),t('monitoring.prometheus.config.ignoreNamespaceSelectors.radio.ignored')]\"\n            :options=\"[false, true]\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.scrapeInterval\"\n            :label=\"t('monitoring.prometheus.config.scrape')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.evaluationInterval\"\n            :label=\"t('monitoring.prometheus.config.evaluation')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.retention\"\n            :label=\"t('monitoring.prometheus.config.retention')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.retentionSize\"\n            :label=\"t('monitoring.prometheus.config.retentionSize')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-12 mt-5\">\n          <h4 class=\"mb-0\">\n            {{ t('monitoring.prometheus.config.resourceLimits') }}\n          </h4>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.requests.cpu\"\n            :label=\"t('monitoring.prometheus.config.requests.cpu')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.requests.memory\"\n            :label=\"t('monitoring.prometheus.config.requests.memory')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.limits.cpu\"\n            :label=\"t('monitoring.prometheus.config.limits.cpu')\"\n            :mode=\"mode\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"value.prometheus.prometheusSpec.resources.limits.memory\"\n            :label=\"t('monitoring.prometheus.config.limits.memory')\"\n            :mode=\"mode\"\n          />\n        </div>\n      </div>\n      <div\n        class=\"row row-full-height container-flex-center\"\n        style=\"min-height: 55px;\"\n      >\n        <div class=\"col span-6\">\n          <Checkbox\n            v-model=\"enablePersistentStorage\"\n            data-testid=\"checkbox-chart-enable-persistent-storage\"\n            :label=\"t('monitoring.prometheus.storage.label')\"\n          />\n        </div>\n      </div>\n      <template v-if=\"enablePersistentStorage\">\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledInput\n              v-model=\"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage\"\n              :label=\"t('monitoring.prometheus.storage.size')\"\n              :mode=\"mode\"\n            />\n          </div>\n          <div class=\"col span-6\">\n            <div\n              v-if=\"showStorageClasses\"\n              data-testid=\"select-chart-prometheus-storage-class\"\n            >\n              <StorageClassSelector\n                :mode=\"mode\"\n                :options=\"storageClasses\"\n                :value=\"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.storageClassName\"\n                :label=\"t('monitoring.prometheus.storage.className')\"\n                @updateName=\"(name) => $set(value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec, 'storageClassName', name)\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col span-6\">\n            <LabeledSelect\n              v-model=\"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.accessModes\"\n              :label=\"t('monitoring.prometheus.storage.mode')\"\n              :localized-label=\"true\"\n              :mode=\"mode\"\n              :multiple=\"true\"\n              :options=\"accessModes\"\n              :reduce=\"({id})=> id\"\n            />\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col span-12\">\n            <div class=\"mb-5 mt-5\">\n              <h4 class=\" mb-10\">\n                {{ t('monitoring.prometheus.storage.selector') }}\n              </h4>\n            </div>\n            <Banner\n              color=\"warning\"\n              :label=\"t('monitoring.prometheus.storage.selectorWarning', {}, true)\"\n            />\n            <MatchExpressions\n              :initial-empty-row=\"false\"\n              :mode=\"mode\"\n              :value=\"matchExpressions\"\n              :show-remove=\"false\"\n              @input=\"matchChanged($event)\"\n            />\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.prometheus-config {\n  & > * {\n    margin-top: 10px;\n  }\n}\n</style>\n"]}]}