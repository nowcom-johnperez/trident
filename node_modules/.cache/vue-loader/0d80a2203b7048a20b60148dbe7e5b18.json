{"remainingRequest":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/logging/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@rancher/shell/pages/c/_cluster/logging/index.vue","mtime":1716430447141},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/babel-loader/lib/index.js","mtime":1716430465839},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/cache-loader/dist/cjs.js","mtime":1716430465924},{"path":"/Users/nowcom/Documents/nowcom/trident-extension-package/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1716430467929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IE5BTUUsIENIQVJUX05BTUUgfSBmcm9tICdAc2hlbGwvY29uZmlnL3Byb2R1Y3QvbG9nZ2luZyc7CmltcG9ydCBJbnN0YWxsUmVkaXJlY3QgZnJvbSAnQHNoZWxsL3V0aWxzL2luc3RhbGwtcmVkaXJlY3QnOwppbXBvcnQgeyBMT0dHSU5HIH0gZnJvbSAnQHNoZWxsL2NvbmZpZy90eXBlcyc7CmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL1NvcnRhYmxlVGFibGUnOwppbXBvcnQgeyBhbGxIYXNoIH0gZnJvbSAnQHNoZWxsL3V0aWxzL3Byb21pc2UnOwppbXBvcnQgewogIENPTkZJR1VSRURfUFJPVklERVJTLCBDTFVTVEVSX09VVFBVVCwgT1VUUFVULCBOQU1FU1BBQ0UsIE5BTUUgYXMgTkFNRV9DT0wKfSBmcm9tICdAc2hlbGwvY29uZmlnL3RhYmxlLWhlYWRlcnMnOwppbXBvcnQgQ2hhcnRIZWFkaW5nIGZyb20gJ0BzaGVsbC9jb21wb25lbnRzL0NoYXJ0SGVhZGluZyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbWlkZGxld2FyZTogSW5zdGFsbFJlZGlyZWN0KE5BTUUsIENIQVJUX05BTUUpLAogIGNvbXBvbmVudHM6IHsgQ2hhcnRIZWFkaW5nLCBTb3J0YWJsZVRhYmxlIH0sCiAgYXN5bmMgZmV0Y2goKSB7CiAgICBjb25zdCBnZXRBbGxPckRlZmF1bHQgPSAodHlwZSkgPT4gewogICAgICBjb25zdCBoYXNBY2Nlc3MgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzW2BjbHVzdGVyL3NjaGVtYUZvcmBdKHR5cGUpOwoKICAgICAgcmV0dXJuIGhhc0FjY2VzcyA/IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjbHVzdGVyL2ZpbmRBbGwnLCB7IHR5cGUgfSkgOiBQcm9taXNlLnJlc29sdmUoW10pOwogICAgfTsKCiAgICBjb25zdCBoYXNoID0gYXdhaXQgYWxsSGFzaCh7CiAgICAgIGNsdXN0ZXJGbG93czogICBnZXRBbGxPckRlZmF1bHQoTE9HR0lORy5DTFVTVEVSX0ZMT1cpLAogICAgICBmbG93czogICAgICAgICAgZ2V0QWxsT3JEZWZhdWx0KExPR0dJTkcuRkxPVyksCiAgICAgIGNsdXN0ZXJPdXRwdXRzOiBnZXRBbGxPckRlZmF1bHQoTE9HR0lORy5DTFVTVEVSX09VVFBVVCksCiAgICAgIG91dHB1dHM6ICAgICAgICBnZXRBbGxPckRlZmF1bHQoTE9HR0lORy5PVVRQVVQpLAogICAgfSk7CgogICAgdGhpcy5jbHVzdGVyRmxvd3MgPSBoYXNoLmNsdXN0ZXJGbG93cyB8fCBbXTsKICAgIHRoaXMuZmxvd3MgPSBoYXNoLmZsb3dzIHx8IFtdOwogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjbHVzdGVyRmxvd3M6ICAgICAgICAgICAgICBbXSwKICAgICAgZmxvd3M6ICAgICAgICAgICAgICAgICAgICAgW10sCiAgICAgIG5hbWVzcGFjZUZsb3dUYWJsZUhlYWRlcnM6IFsKICAgICAgICBOQU1FU1BBQ0UsCiAgICAgICAgTkFNRV9DT0wsCiAgICAgICAgT1VUUFVULAogICAgICAgIENMVVNURVJfT1VUUFVULAogICAgICAgIENPTkZJR1VSRURfUFJPVklERVJTCiAgICAgIF0sCiAgICAgIGNsdXN0ZXJGbG93VGFibGVIZWFkZXJzOiBbCiAgICAgICAgTkFNRV9DT0wsIENMVVNURVJfT1VUUFVULCBDT05GSUdVUkVEX1BST1ZJREVSUwogICAgICBdCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBoYXNDbHVzdGVyRmxvd0FjY2VzcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbYGNsdXN0ZXIvc2NoZW1hRm9yYF0oTE9HR0lORy5DTFVTVEVSX0ZMT1cpOwogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/@rancher/shell/pages/c/_cluster/logging","sourcesContent":["<script>\nimport { NAME, CHART_NAME } from '@shell/config/product/logging';\nimport InstallRedirect from '@shell/utils/install-redirect';\nimport { LOGGING } from '@shell/config/types';\nimport SortableTable from '@shell/components/SortableTable';\nimport { allHash } from '@shell/utils/promise';\nimport {\n  CONFIGURED_PROVIDERS, CLUSTER_OUTPUT, OUTPUT, NAMESPACE, NAME as NAME_COL\n} from '@shell/config/table-headers';\nimport ChartHeading from '@shell/components/ChartHeading';\n\nexport default {\n  middleware: InstallRedirect(NAME, CHART_NAME),\n  components: { ChartHeading, SortableTable },\n  async fetch() {\n    const getAllOrDefault = (type) => {\n      const hasAccess = this.$store.getters[`cluster/schemaFor`](type);\n\n      return hasAccess ? this.$store.dispatch('cluster/findAll', { type }) : Promise.resolve([]);\n    };\n\n    const hash = await allHash({\n      clusterFlows:   getAllOrDefault(LOGGING.CLUSTER_FLOW),\n      flows:          getAllOrDefault(LOGGING.FLOW),\n      clusterOutputs: getAllOrDefault(LOGGING.CLUSTER_OUTPUT),\n      outputs:        getAllOrDefault(LOGGING.OUTPUT),\n    });\n\n    this.clusterFlows = hash.clusterFlows || [];\n    this.flows = hash.flows || [];\n  },\n\n  data() {\n    return {\n      clusterFlows:              [],\n      flows:                     [],\n      namespaceFlowTableHeaders: [\n        NAMESPACE,\n        NAME_COL,\n        OUTPUT,\n        CLUSTER_OUTPUT,\n        CONFIGURED_PROVIDERS\n      ],\n      clusterFlowTableHeaders: [\n        NAME_COL, CLUSTER_OUTPUT, CONFIGURED_PROVIDERS\n      ]\n    };\n  },\n\n  computed: {\n    hasClusterFlowAccess() {\n      return this.$store.getters[`cluster/schemaFor`](LOGGING.CLUSTER_FLOW);\n    }\n  },\n};\n</script>\n\n<template>\n  <div class=\"logging\">\n    <ChartHeading\n      :label=\"t('logging.overview.poweredBy')\"\n      url=\"https://github.com/banzaicloud/logging-operator\"\n    />\n    <div class=\"spacer\" />\n    <div v-if=\"hasClusterFlowAccess\">\n      <h2>{{ t('logging.overview.clusterLevel') }}</h2>\n      <SortableTable\n        class=\"sortable-table\"\n        :headers=\"clusterFlowTableHeaders\"\n        :rows=\"clusterFlows\"\n        :row-actions=\"false\"\n        :search=\"false\"\n        :table-actions=\"false\"\n        key-field=\"id\"\n      />\n    </div>\n    <h2 :class=\"{ 'mt-20': hasClusterFlowAccess }\">\n      {{ t('logging.overview.namespaceLevel') }}\n    </h2>\n    <SortableTable\n      class=\"sortable-table\"\n      :headers=\"namespaceFlowTableHeaders\"\n      :rows=\"flows\"\n      :row-actions=\"false\"\n      :search=\"false\"\n      :table-actions=\"false\"\n      key-field=\"id\"\n    />\n  </div>\n</template>\n"]}]}